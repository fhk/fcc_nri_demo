var IW=Object.defineProperty;var MW=(e,t,n)=>t in e?IW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var AW=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var h6=(e,t,n)=>(MW(e,typeof t!="symbol"?t+"":t,n),n);var uve=AW((ySe,pS)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Yi(){}function gO(e){return e()}function Ux(){return Object.create(null)}function Xa(e){e.forEach(gO)}function yO(e){return typeof e=="function"}function cr(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function OW(e){return Object.keys(e).length===0}function Te(e,t){e.appendChild(t)}function rn(e,t,n){e.insertBefore(t,n||null)}function Qt(e){e.parentNode&&e.parentNode.removeChild(e)}function mO(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function je(e){return document.createElement(e)}function Vc(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ui(e){return document.createTextNode(e)}function Lt(){return ui(" ")}function wO(){return ui("")}function Bn(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Be(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function LO(e){return e===""?null:+e}function NW(e){return Array.from(e.childNodes)}function Pr(e,t){t=""+t,e.data!==t&&(e.data=t)}function gf(e,t){e.value=t??""}function $x(e,t,n){for(let i=0;i<e.options.length;i+=1){const s=e.options[i];if(s.__value===t){s.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function CW(e){const t=e.querySelector(":checked");return t&&t.__value}function Hx(e,t,n){e.classList.toggle(t,!!n)}function RW(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}let e2;function R1(e){e2=e}function M8(){if(!e2)throw new Error("Function called outside component initialization");return e2}function PW(e){M8().$$.on_mount.push(e)}function DW(e){M8().$$.on_destroy.push(e)}function ch(){const e=M8();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const l=RW(t,n,{cancelable:i});return s.slice().forEach(c=>{c.call(e,l)}),!l.defaultPrevented}return!0}}function wn(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Of=[],t2=[];let Qf=[];const iL=[],UW=Promise.resolve();let sL=!1;function $W(){sL||(sL=!0,UW.then(TO))}function Up(e){Qf.push(e)}function bO(e){iL.push(e)}const _6=new Set;let yf=0;function TO(){if(yf!==0)return;const e=e2;do{try{for(;yf<Of.length;){const t=Of[yf];yf++,R1(t),HW(t.$$)}}catch(t){throw Of.length=0,yf=0,t}for(R1(null),Of.length=0,yf=0;t2.length;)t2.pop()();for(let t=0;t<Qf.length;t+=1){const n=Qf[t];_6.has(n)||(_6.add(n),n())}Qf.length=0}while(Of.length);for(;iL.length;)iL.pop()();sL=!1,_6.clear(),R1(e)}function HW(e){if(e.fragment!==null){e.update(),Xa(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Up)}}function zW(e){const t=[],n=[];Qf.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Qf=t}const sp=new Set;let Qc;function Cc(){Qc={r:0,c:[],p:Qc}}function Rc(){Qc.r||Xa(Qc.c),Qc=Qc.p}function ht(e,t){e&&e.i&&(sp.delete(e),e.i(t))}function Ut(e,t,n,i){if(e&&e.o){if(sp.has(e))return;sp.add(e),Qc.c.push(()=>{sp.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Sa(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function rL(e,t){e.d(1),t.delete(e.key)}function aL(e,t,n,i,s,l,c,d,f,u,a,y){let w=e.length,m=l.length,o=w;const b={};for(;o--;)b[e[o].key]=o;const L=[],v=new Map,S=new Map,x=[];for(o=m;o--;){const M=y(s,l,o),C=n(M);let R=c.get(C);R?i&&x.push(()=>R.p(M,t)):(R=u(C,M),R.c()),v.set(C,L[o]=R),C in b&&S.set(C,Math.abs(o-b[C]))}const F=new Set,k=new Set;function A(M){ht(M,1),M.m(d,a),c.set(M.key,M),a=M.first,m--}for(;w&&m;){const M=L[m-1],C=e[w-1],R=M.key,D=C.key;M===C?(a=M.first,w--,m--):v.has(D)?!c.has(R)||F.has(R)?A(M):k.has(D)?w--:S.get(R)>S.get(D)?(k.add(R),A(M)):(F.add(D),w--):(f(C,c),w--)}for(;w--;){const M=e[w];v.has(M.key)||f(M,c)}for(;m;)A(L[m-1]);return Xa(x),L}function EO(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function pi(e){e&&e.c()}function ei(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),Up(()=>{const l=e.$$.on_mount.map(gO).filter(yO);e.$$.on_destroy?e.$$.on_destroy.push(...l):Xa(l),e.$$.on_mount=[]}),s.forEach(Up)}function ti(e,t){const n=e.$$;n.fragment!==null&&(zW(n.after_update),Xa(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function jW(e,t){e.$$.dirty[0]===-1&&(Of.push(e),$W(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function dr(e,t,n,i,s,l,c,d=[-1]){const f=e2;R1(e);const u=e.$$={fragment:null,ctx:[],props:l,update:Yi,not_equal:s,bound:Ux(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Ux(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};c&&c(u.root);let a=!1;if(u.ctx=n?n(e,t.props||{},(y,w,...m)=>{const o=m.length?m[0]:w;return u.ctx&&s(u.ctx[y],u.ctx[y]=o)&&(!u.skip_bound&&u.bound[y]&&u.bound[y](o),a&&jW(e,y)),w}):[],u.update(),a=!0,Xa(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const y=NW(t.target);u.fragment&&u.fragment.l(y),y.forEach(Qt)}else u.fragment&&u.fragment.c();t.intro&&ht(e.$$.fragment),ei(e,t.target,t.anchor),TO()}R1(f)}class fr{constructor(){h6(this,"$$");h6(this,"$$set")}$destroy(){ti(this,1),this.$destroy=Yi}$on(t,n){if(!yO(n))return Yi;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!OW(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qW="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qW);function VW(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function Ce(e,t,n,i){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(a){try{u(i.next(a))}catch(y){c(y)}}function f(a){try{u(i.throw(a))}catch(y){c(y)}}function u(a){a.done?l(a.value):s(a.value).then(d,f)}u((i=i.apply(e,t||[])).next())})}function zx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(e){return this instanceof tt?(this.v=e,this):new tt(e)}function Mr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(w){i[w]&&(s[w]=function(m){return new Promise(function(o,b){l.push([w,m,o,b])>1||d(w,m)})})}function d(w,m){try{f(i[w](m))}catch(o){y(l[0][3],o)}}function f(w){w.value instanceof tt?Promise.resolve(w.value.v).then(u,a):y(l[0][2],w)}function u(w){d("next",w)}function a(w){d("throw",w)}function y(w,m){w(m),l.shift(),l.length&&d(l[0][0],l[0][1])}}function rp(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,l){t[s]=e[s]?function(c){return(n=!n)?{value:tt(e[s](c)),done:!1}:l?l(c):c}:l}}function Il(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof zx=="function"?zx(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(c){return new Promise(function(d,f){c=e[l](c),s(d,f,c.done,c.value)})}}function s(l,c,d,f){Promise.resolve(f).then(function(u){l({value:u,done:d})},c)}}const GW=new TextDecoder("utf-8"),oL=e=>GW.decode(e),WW=new TextEncoder,Uy=e=>WW.encode(e),YW=e=>typeof e=="number",vO=e=>typeof e=="boolean",Cn=e=>typeof e=="function",_s=e=>e!=null&&Object(e)===e,Pl=e=>_s(e)&&Cn(e.then),dh=e=>_s(e)&&Cn(e[Symbol.iterator]),Wd=e=>_s(e)&&Cn(e[Symbol.asyncIterator]),lL=e=>_s(e)&&_s(e.schema),SO=e=>_s(e)&&"done"in e&&"value"in e,xO=e=>_s(e)&&Cn(e.stat)&&YW(e.fd),kO=e=>_s(e)&&A8(e.body),$y=e=>"_getDOMStream"in e&&"_getNodeStream"in e,XW=e=>_s(e)&&Cn(e.abort)&&Cn(e.getWriter)&&!$y(e),A8=e=>_s(e)&&Cn(e.cancel)&&Cn(e.getReader)&&!$y(e),KW=e=>_s(e)&&Cn(e.end)&&Cn(e.write)&&vO(e.writable)&&!$y(e),BO=e=>_s(e)&&Cn(e.read)&&Cn(e.pipe)&&vO(e.readable)&&!$y(e),ZW=e=>_s(e)&&Cn(e.clear)&&Cn(e.bytes)&&Cn(e.position)&&Cn(e.setPosition)&&Cn(e.capacity)&&Cn(e.getBufferIdentifier)&&Cn(e.createLong),O8=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function QW(e){const t=e[0]?[e[0]]:[];let n,i,s,l;for(let c,d,f=0,u=0,a=e.length;++f<a;){if(c=t[u],d=e[f],!c||!d||c.buffer!==d.buffer||d.byteOffset<c.byteOffset){d&&(t[++u]=d);continue}if({byteOffset:n,byteLength:s}=c,{byteOffset:i,byteLength:l}=d,n+s<i||i+l<n){d&&(t[++u]=d);continue}t[u]=new Uint8Array(c.buffer,n,i-n+l)}return t}function n2(e,t,n=0,i=t.byteLength){const s=e.byteLength,l=new Uint8Array(e.buffer,e.byteOffset,s),c=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,s));return l.set(c,n),e}function jr(e,t){const n=QW(e),i=n.reduce((a,y)=>a+y.byteLength,0);let s,l,c,d=0,f=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,i);for(const a=n.length;++f<a;){if(s=n[f],l=s.subarray(0,Math.min(s.length,u-d)),u<=d+l.length){l.length<s.length?n[f]=s.subarray(l.length):l.length===s.length&&f++,c?n2(c,l,d):c=l;break}n2(c||(c=new Uint8Array(u)),l,d),d+=l.length}return[c||new Uint8Array(0),n.slice(f),i-(c?c.byteLength:0)]}function Et(e,t){let n=SO(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Uy(n)),n instanceof ArrayBuffer?new e(n):n instanceof O8?new e(n):ZW(n)?Et(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const JW=e=>Et(Int8Array,e),eY=e=>Et(Int16Array,e),Nf=e=>Et(Int32Array,e),tY=e=>Et(BigInt64Array,e),xt=e=>Et(Uint8Array,e),nY=e=>Et(Uint16Array,e),iY=e=>Et(Uint32Array,e),sY=e=>Et(BigUint64Array,e),rY=e=>Et(Float32Array,e),aY=e=>Et(Float64Array,e),oY=e=>Et(Uint8ClampedArray,e),cL=e=>(e.next(),e);function*Ka(e,t){const n=function*(s){yield s},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof O8?n(t):dh(t)?t:n(t);return yield*cL(function*(s){let l=null;do l=s.next(yield Et(e,l));while(!l.done)}(i[Symbol.iterator]())),new e}const lY=e=>Ka(Int8Array,e),cY=e=>Ka(Int16Array,e),dY=e=>Ka(Int32Array,e),FO=e=>Ka(Uint8Array,e),fY=e=>Ka(Uint16Array,e),uY=e=>Ka(Uint32Array,e),hY=e=>Ka(Float32Array,e),_Y=e=>Ka(Float64Array,e),pY=e=>Ka(Uint8ClampedArray,e);function Kr(e,t){return Mr(this,arguments,function*(){if(Pl(t))return yield tt(yield tt(yield*rp(Il(Kr(e,yield tt(t))))));const i=function(c){return Mr(this,arguments,function*(){yield yield tt(yield tt(c))})},s=function(c){return Mr(this,arguments,function*(){yield tt(yield*rp(Il(cL(function*(d){let f=null;do f=d.next(yield f==null?void 0:f.value);while(!f.done)}(c[Symbol.iterator]())))))})},l=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof O8?i(t):dh(t)?s(t):Wd(t)?t:i(t);return yield tt(yield*rp(Il(cL(function(c){return Mr(this,arguments,function*(){let d=null;do d=yield tt(c.next(yield yield tt(Et(e,d))));while(!d.done)})}(l[Symbol.asyncIterator]()))))),yield tt(new e)})}const gY=e=>Kr(Int8Array,e),yY=e=>Kr(Int16Array,e),mY=e=>Kr(Int32Array,e),IO=e=>Kr(Uint8Array,e),wY=e=>Kr(Uint16Array,e),LY=e=>Kr(Uint32Array,e),bY=e=>Kr(Float32Array,e),TY=e=>Kr(Float64Array,e),EY=e=>Kr(Uint8ClampedArray,e);function Hy(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let i=-1;++i<=t;)n[i]+=e}return n}function MO(e,t){let n=0;const i=e.length;if(i!==t.length)return!1;if(i>0)do if(e[n]!==t[n])return!1;while(++n<i);return!0}const vY=Object.freeze(Object.defineProperty({__proto__:null,compareArrayLike:MO,joinUint8Arrays:jr,memcpy:n2,rebaseValueOffsets:Hy,toArrayBufferView:Et,toArrayBufferViewAsyncIterator:Kr,toArrayBufferViewIterator:Ka,toBigInt64Array:tY,toBigUint64Array:sY,toFloat32Array:rY,toFloat32ArrayAsyncIterator:bY,toFloat32ArrayIterator:hY,toFloat64Array:aY,toFloat64ArrayAsyncIterator:TY,toFloat64ArrayIterator:_Y,toInt16Array:eY,toInt16ArrayAsyncIterator:yY,toInt16ArrayIterator:cY,toInt32Array:Nf,toInt32ArrayAsyncIterator:mY,toInt32ArrayIterator:dY,toInt8Array:JW,toInt8ArrayAsyncIterator:gY,toInt8ArrayIterator:lY,toUint16Array:nY,toUint16ArrayAsyncIterator:wY,toUint16ArrayIterator:fY,toUint32Array:iY,toUint32ArrayAsyncIterator:LY,toUint32ArrayIterator:uY,toUint8Array:xt,toUint8ArrayAsyncIterator:IO,toUint8ArrayIterator:FO,toUint8ClampedArray:oY,toUint8ClampedArrayAsyncIterator:EY,toUint8ClampedArrayIterator:pY},Symbol.toStringTag,{value:"Module"})),Is={fromIterable(e){return u_(SY(e))},fromAsyncIterable(e){return u_(xY(e))},fromDOMStream(e){return u_(kY(e))},fromNodeStream(e){return u_(FY(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},u_=e=>(e.next(),e);function*SY(e){let t,n=!1,i=[],s,l,c,d=0;function f(){return l==="peek"?jr(i,c)[0]:([s,i,d]=jr(i,c),s)}({cmd:l,size:c}=yield null);const u=FO(e)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(c-d)?u.next():u.next(c-d),!t&&s.byteLength>0&&(i.push(s),d+=s.byteLength),t||c<=d)do({cmd:l,size:c}=yield f());while(c<d);while(!t)}catch(a){(n=!0)&&typeof u.throw=="function"&&u.throw(a)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function xY(e){return Mr(this,arguments,function*(){let n,i=!1,s=[],l,c,d,f=0;function u(){return c==="peek"?jr(s,d)[0]:([l,s,f]=jr(s,d),l)}({cmd:c,size:d}=yield yield tt(null));const a=IO(e)[Symbol.asyncIterator]();try{do if({done:n,value:l}=Number.isNaN(d-f)?yield tt(a.next()):yield tt(a.next(d-f)),!n&&l.byteLength>0&&(s.push(l),f+=l.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield tt(u()));while(d<f);while(!n)}catch(y){(i=!0)&&typeof a.throw=="function"&&(yield tt(a.throw(y)))}finally{i===!1&&typeof a.return=="function"&&(yield tt(a.return(new Uint8Array(0))))}return yield tt(null)})}function kY(e){return Mr(this,arguments,function*(){let n=!1,i=!1,s=[],l,c,d,f=0;function u(){return c==="peek"?jr(s,d)[0]:([l,s,f]=jr(s,d),l)}({cmd:c,size:d}=yield yield tt(null));const a=new BY(e);try{do if({done:n,value:l}=Number.isNaN(d-f)?yield tt(a.read()):yield tt(a.read(d-f)),!n&&l.byteLength>0&&(s.push(xt(l)),f+=l.byteLength),n||d<=f)do({cmd:c,size:d}=yield yield tt(u()));while(d<f);while(!n)}catch(y){(i=!0)&&(yield tt(a.cancel(y)))}finally{i===!1?yield tt(a.cancel()):e.locked&&a.releaseLock()}return yield tt(null)})}class BY{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Ce(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return Ce(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=xt(n)),n})}}const p6=(e,t)=>{const n=s=>i([t,s]);let i;return[t,n,new Promise(s=>(i=s)&&e.once(t,n))]};function FY(e){return Mr(this,arguments,function*(){const n=[];let i="error",s=!1,l=null,c,d,f=0,u=[],a;function y(){return c==="peek"?jr(u,d)[0]:([a,u,f]=jr(u,d),a)}if({cmd:c,size:d}=yield yield tt(null),e.isTTY)return yield yield tt(new Uint8Array(0)),yield tt(null);try{n[0]=p6(e,"end"),n[1]=p6(e,"error");do{if(n[2]=p6(e,"readable"),[i,l]=yield tt(Promise.race(n.map(m=>m[2]))),i==="error")break;if((s=i==="end")||(Number.isFinite(d-f)?(a=xt(e.read(d-f)),a.byteLength<d-f&&(a=xt(e.read()))):a=xt(e.read()),a.byteLength>0&&(u.push(a),f+=a.byteLength)),s||d<=f)do({cmd:c,size:d}=yield yield tt(y()));while(d<f)}while(!s)}finally{yield tt(w(n,i==="error"?l:null))}return yield tt(null);function w(m,o){return a=u=null,new Promise((b,L)=>{for(const[v,S]of m)e.off(v,S);try{const v=e.destroy;v&&v.call(e,o),o=void 0}catch(v){o=v||o}finally{o!=null?L(o):b()}})}})}var os;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(os||(os={}));var ni;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ni||(ni={}));var $n;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})($n||($n={}));var ps;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(ps||(ps={}));var at;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(at||(at={}));var tr;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(tr||(tr={}));var Vt;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Vt||(Vt={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(Q||(Q={}));var br;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(br||(br={}));const IY=void 0;function Ld(e){if(e===null)return"null";if(e===IY)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Ld(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const AO=Symbol.for("isArrowBigNum");function Zr(e,...t){return t.length===0?Object.setPrototypeOf(Et(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Zr.prototype[AO]=!0;Zr.prototype.toJSON=function(){return`"${gu(this)}"`};Zr.prototype.valueOf=function(){return OO(this)};Zr.prototype.toString=function(){return gu(this)};Zr.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return OO(this);case"string":return gu(this);case"default":return NO(this)}return gu(this)};function Jf(...e){return Zr.apply(this,e)}function eu(...e){return Zr.apply(this,e)}function i2(...e){return Zr.apply(this,e)}Object.setPrototypeOf(Jf.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(eu.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(i2.prototype,Object.create(Uint32Array.prototype));Object.assign(Jf.prototype,Zr.prototype,{constructor:Jf,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(eu.prototype,Zr.prototype,{constructor:eu,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(i2.prototype,Zr.prototype,{constructor:i2,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function OO(e){const{buffer:t,byteOffset:n,length:i,signed:s}=e,l=new BigUint64Array(t,n,i),c=s&&l.at(-1)&BigInt(1)<<BigInt(63);let d=BigInt(c?1:0),f=BigInt(0);if(c){for(const u of l)d+=~u*(BigInt(1)<<BigInt(32)*f++);d*=BigInt(-1)}else for(const u of l)d+=u*(BigInt(1)<<BigInt(32)*f++);return d}const gu=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return g6(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return g6(e);t=t.slice();let i=1;for(let l=0;l<t.length;l++){const c=t[l],d=~c+i;t[l]=d,i&=c===0?1:0}return`-${g6(t)}`},NO=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:gu(e);function g6(e){let t="";const n=new Uint32Array(2);let i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const s=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let l=-1;const c=i.length-1;do{for(n[0]=i[l=0];l<c;)i[l++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[l];i[l]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class W2{static new(t,n){switch(n){case!0:return new Jf(t);case!1:return new eu(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Jf(t)}return t.byteLength===16?new i2(t):new eu(t)}static signed(t){return new Jf(t)}static unsigned(t){return new eu(t)}static decimal(t){return new i2(t)}constructor(t,n){return W2.new(t,n)}}const MY=Object.freeze(Object.defineProperty({__proto__:null,BN:W2,bigNumToBigInt:NO,bigNumToString:gu,isArrowBigNumSymbol:AO},Symbol.toStringTag,{value:"Module"}));function qr(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var CO,RO,PO,DO,UO,$O,HO,zO,jO,qO,VO,GO,WO,YO,XO,KO,ZO,QO,JO;class Ye{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return Ye.isUnion(t)&&t.mode===ni.Dense}static isSparseUnion(t){return Ye.isUnion(t)&&t.mode===ni.Sparse}get typeId(){return Q.NONE}}CO=Symbol.toStringTag;Ye[CO]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Ye.prototype);let Na=class extends Ye{toString(){return"Null"}get typeId(){return Q.Null}};RO=Symbol.toStringTag;Na[RO]=(e=>e[Symbol.toStringTag]="Null")(Na.prototype);class Oi extends Ye{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}PO=Symbol.toStringTag;Oi[PO]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Oi.prototype);class N8 extends Oi{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class C8 extends Oi{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Dl extends Oi{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}let zy=class extends Oi{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};class R8 extends Oi{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class P8 extends Oi{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class D8 extends Oi{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}let U8=class extends Oi{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};Object.defineProperty(N8.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(C8.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Dl.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(zy.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(R8.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(P8.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(D8.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(U8.prototype,"ArrayType",{value:BigUint64Array});class Uo extends Ye{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case $n.HALF:return Uint16Array;case $n.SINGLE:return Float32Array;case $n.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}DO=Symbol.toStringTag;Uo[DO]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Uo.prototype);class eN extends Uo{constructor(){super($n.HALF)}}class $8 extends Uo{constructor(){super($n.SINGLE)}}class jy extends Uo{constructor(){super($n.DOUBLE)}}Object.defineProperty(eN.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty($8.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(jy.prototype,"ArrayType",{value:Float64Array});let s2=class extends Ye{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};UO=Symbol.toStringTag;s2[UO]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(s2.prototype);let yu=class extends Ye{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};$O=Symbol.toStringTag;yu[$O]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(yu.prototype);let mu=class extends Ye{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};HO=Symbol.toStringTag;mu[HO]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(mu.prototype);let r2=class extends Ye{constructor(t,n,i=128){super(),this.scale=t,this.precision=n,this.bitWidth=i}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};zO=Symbol.toStringTag;r2[zO]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(r2.prototype);class bd extends Ye{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${ps[this.unit]}>`}}jO=Symbol.toStringTag;bd[jO]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(bd.prototype);class AY extends bd{constructor(){super(ps.DAY)}}class tN extends bd{constructor(){super(ps.MILLISECOND)}}class Ca extends Ye{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${at[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}qO=Symbol.toStringTag;Ca[qO]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Ca.prototype);class OY extends Ca{constructor(){super(at.SECOND,32)}}class NY extends Ca{constructor(){super(at.MILLISECOND,32)}}class CY extends Ca{constructor(){super(at.MICROSECOND,64)}}class RY extends Ca{constructor(){super(at.NANOSECOND,64)}}class $o extends Ye{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${at[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}VO=Symbol.toStringTag;$o[VO]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))($o.prototype);class PY extends $o{constructor(t){super(at.SECOND,t)}}class DY extends $o{constructor(t){super(at.MILLISECOND,t)}}class UY extends $o{constructor(t){super(at.MICROSECOND,t)}}class $Y extends $o{constructor(t){super(at.NANOSECOND,t)}}class Td extends Ye{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${tr[this.unit]}>`}}GO=Symbol.toStringTag;Td[GO]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Td.prototype);class HY extends Td{constructor(){super(tr.DAY_TIME)}}class zY extends Td{constructor(){super(tr.YEAR_MONTH)}}let Ed=class extends Ye{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};WO=Symbol.toStringTag;Ed[WO]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Ed.prototype);class Gn extends Ye{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}YO=Symbol.toStringTag;Gn[YO]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Gn.prototype);class Ul extends Ye{constructor(t,n,i){super(),this.mode=t,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((s,l,c)=>(s[l]=c)&&s||s,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}XO=Symbol.toStringTag;Ul[XO]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Ul.prototype);class jY extends Ul{constructor(t,n){super(ni.Dense,t,n)}}class qY extends Ul{constructor(t,n){super(ni.Sparse,t,n)}}let a2=class extends Ye{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};KO=Symbol.toStringTag;a2[KO]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(a2.prototype);let wu=class extends Ye{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ZO=Symbol.toStringTag;wu[ZO]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(wu.prototype);class Lu extends Ye{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}QO=Symbol.toStringTag;Lu[QO]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Lu.prototype);const VY=(e=>()=>++e)(-1);class Ho extends Ye{constructor(t,n,i,s){super(),this.indices=n,this.dictionary=t,this.isOrdered=s||!1,this.id=i==null?VY():qr(i)}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}JO=Symbol.toStringTag;Ho[JO]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Ho.prototype);function ua(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class mt{visitMany(t,...n){return t.map((i,s)=>this.visit(i,...n.map(l=>l[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return GY(this,t,n)}getVisitFnByTypeId(t,n=!0){return Cf(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function GY(e,t,n=!0){return typeof t=="number"?Cf(e,t,n):typeof t=="string"&&t in Q?Cf(e,Q[t],n):t&&t instanceof Ye?Cf(e,jx(t),n):t!=null&&t.type&&t.type instanceof Ye?Cf(e,jx(t.type),n):Cf(e,Q.NONE,n)}function Cf(e,t,n=!0){let i=null;switch(t){case Q.Null:i=e.visitNull;break;case Q.Bool:i=e.visitBool;break;case Q.Int:i=e.visitInt;break;case Q.Int8:i=e.visitInt8||e.visitInt;break;case Q.Int16:i=e.visitInt16||e.visitInt;break;case Q.Int32:i=e.visitInt32||e.visitInt;break;case Q.Int64:i=e.visitInt64||e.visitInt;break;case Q.Uint8:i=e.visitUint8||e.visitInt;break;case Q.Uint16:i=e.visitUint16||e.visitInt;break;case Q.Uint32:i=e.visitUint32||e.visitInt;break;case Q.Uint64:i=e.visitUint64||e.visitInt;break;case Q.Float:i=e.visitFloat;break;case Q.Float16:i=e.visitFloat16||e.visitFloat;break;case Q.Float32:i=e.visitFloat32||e.visitFloat;break;case Q.Float64:i=e.visitFloat64||e.visitFloat;break;case Q.Utf8:i=e.visitUtf8;break;case Q.Binary:i=e.visitBinary;break;case Q.FixedSizeBinary:i=e.visitFixedSizeBinary;break;case Q.Date:i=e.visitDate;break;case Q.DateDay:i=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:i=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:i=e.visitTimestamp;break;case Q.TimestampSecond:i=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:i=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:i=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:i=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:i=e.visitTime;break;case Q.TimeSecond:i=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:i=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:i=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:i=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:i=e.visitDecimal;break;case Q.List:i=e.visitList;break;case Q.Struct:i=e.visitStruct;break;case Q.Union:i=e.visitUnion;break;case Q.DenseUnion:i=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:i=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:i=e.visitDictionary;break;case Q.Interval:i=e.visitInterval;break;case Q.IntervalDayTime:i=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:i=e.visitIntervalYearMonth||e.visitInterval;break;case Q.FixedSizeList:i=e.visitFixedSizeList;break;case Q.Map:i=e.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function jx(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case $n.HALF:return Q.Float16;case $n.SINGLE:return Q.Float32;case $n.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case at.SECOND:return Q.TimeSecond;case at.MILLISECOND:return Q.TimeMillisecond;case at.MICROSECOND:return Q.TimeMicrosecond;case at.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case at.SECOND:return Q.TimestampSecond;case at.MILLISECOND:return Q.TimestampMillisecond;case at.MICROSECOND:return Q.TimestampMicrosecond;case at.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case ps.DAY:return Q.DateDay;case ps.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case tr.DAY_TIME:return Q.IntervalDayTime;case tr.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case ni.Dense:return Q.DenseUnion;case ni.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}mt.prototype.visitInt8=null;mt.prototype.visitInt16=null;mt.prototype.visitInt32=null;mt.prototype.visitInt64=null;mt.prototype.visitUint8=null;mt.prototype.visitUint16=null;mt.prototype.visitUint32=null;mt.prototype.visitUint64=null;mt.prototype.visitFloat16=null;mt.prototype.visitFloat32=null;mt.prototype.visitFloat64=null;mt.prototype.visitDateDay=null;mt.prototype.visitDateMillisecond=null;mt.prototype.visitTimestampSecond=null;mt.prototype.visitTimestampMillisecond=null;mt.prototype.visitTimestampMicrosecond=null;mt.prototype.visitTimestampNanosecond=null;mt.prototype.visitTimeSecond=null;mt.prototype.visitTimeMillisecond=null;mt.prototype.visitTimeMicrosecond=null;mt.prototype.visitTimeNanosecond=null;mt.prototype.visitDenseUnion=null;mt.prototype.visitSparseUnion=null;mt.prototype.visitIntervalDayTime=null;mt.prototype.visitIntervalYearMonth=null;const nN=new Float64Array(1),mf=new Uint32Array(nN.buffer);function H8(e){const t=(e&31744)>>10,n=(e&1023)/1024,i=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,t-15)*(1+n)}function z8(e){if(e!==e)return 32256;nN[0]=e;const t=(mf[1]&2147483648)>>16&65535;let n=mf[1]&2146435072,i=0;return n>=1089470464?mf[0]>0?n=31744:(n=(n&2080374784)>>16,i=(mf[1]&1048575)>>10):n<=1056964608?(i=1048576+(mf[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(mf[1]&1048575)+512>>10),t|n|i&65535}const WY=Object.freeze(Object.defineProperty({__proto__:null,float64ToUint16:z8,uint16ToFloat64:H8},Symbol.toStringTag,{value:"Module"}));class ot extends mt{}function ut(e){return(t,n,i)=>{if(t.setValid(n,i!=null))return e(t,n,i)}}const YY=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},j8=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},XY=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},KY=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},iN=(e,t,n,i)=>{if(n+1<t.length){const{[n]:s,[n+1]:l}=t;e.set(i.subarray(0,l-s),s)}},ZY=({offset:e,values:t},n,i)=>{const s=e+n;i?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},Wo=({values:e},t,n)=>{e[t]=n},q8=({values:e},t,n)=>{e[t]=n},sN=({values:e},t,n)=>{e[t]=z8(n)},QY=(e,t,n)=>{switch(e.type.precision){case $n.HALF:return sN(e,t,n);case $n.SINGLE:case $n.DOUBLE:return q8(e,t,n)}},V8=({values:e},t,n)=>{YY(e,t,n.valueOf())},G8=({values:e},t,n)=>{j8(e,t*2,n.valueOf())},rN=({stride:e,values:t},n,i)=>{t.set(i.subarray(0,e),e*n)},JY=({values:e,valueOffsets:t},n,i)=>iN(e,t,n,i),eX=({values:e,valueOffsets:t},n,i)=>{iN(e,t,n,Uy(i))},aN=(e,t,n)=>{e.type.unit===ps.DAY?V8(e,t,n):G8(e,t,n)},W8=({values:e},t,n)=>j8(e,t*2,n/1e3),Y8=({values:e},t,n)=>j8(e,t*2,n),X8=({values:e},t,n)=>XY(e,t*2,n),K8=({values:e},t,n)=>KY(e,t*2,n),oN=(e,t,n)=>{switch(e.type.unit){case at.SECOND:return W8(e,t,n);case at.MILLISECOND:return Y8(e,t,n);case at.MICROSECOND:return X8(e,t,n);case at.NANOSECOND:return K8(e,t,n)}},Z8=({values:e},t,n)=>{e[t]=n},Q8=({values:e},t,n)=>{e[t]=n},J8=({values:e},t,n)=>{e[t]=n},e9=({values:e},t,n)=>{e[t]=n},lN=(e,t,n)=>{switch(e.type.unit){case at.SECOND:return Z8(e,t,n);case at.MILLISECOND:return Q8(e,t,n);case at.MICROSECOND:return J8(e,t,n);case at.NANOSECOND:return e9(e,t,n)}},cN=({values:e,stride:t},n,i)=>{e.set(i.subarray(0,t),t*n)},tX=(e,t,n)=>{const i=e.children[0],s=e.valueOffsets,l=nr.getVisitFn(i);if(Array.isArray(n))for(let c=-1,d=s[t],f=s[t+1];d<f;)l(i,d++,n[++c]);else for(let c=-1,d=s[t],f=s[t+1];d<f;)l(i,d++,n.get(++c))},nX=(e,t,n)=>{const i=e.children[0],{valueOffsets:s}=e,l=nr.getVisitFn(i);let{[t]:c,[t+1]:d}=s;const f=n instanceof Map?n.entries():Object.entries(n);for(const u of f)if(l(i,c,u),++c>=d)break},iX=(e,t)=>(n,i,s,l)=>i&&n(i,e,t[l]),sX=(e,t)=>(n,i,s,l)=>i&&n(i,e,t.get(l)),rX=(e,t)=>(n,i,s,l)=>i&&n(i,e,t.get(s.name)),aX=(e,t)=>(n,i,s,l)=>i&&n(i,e,t[s.name]),oX=(e,t,n)=>{const i=e.type.children.map(l=>nr.getVisitFn(l.type)),s=n instanceof Map?rX(t,n):n instanceof Ge?sX(t,n):Array.isArray(n)?iX(t,n):aX(t,n);e.type.children.forEach((l,c)=>s(i[c],e.children[c],l,c))},lX=(e,t,n)=>{e.type.mode===ni.Dense?dN(e,t,n):fN(e,t,n)},dN=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[i];nr.visit(s,e.valueOffsets[t],n)},fN=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[i];nr.visit(s,t,n)},cX=(e,t,n)=>{var i;(i=e.dictionary)===null||i===void 0||i.set(e.values[t],n)},uN=(e,t,n)=>{e.type.unit===tr.DAY_TIME?t9(e,t,n):n9(e,t,n)},t9=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},n9=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},dX=(e,t,n)=>{const{stride:i}=e,s=e.children[0],l=nr.getVisitFn(s);if(Array.isArray(n))for(let c=-1,d=t*i;++c<i;)l(s,d+c,n[c]);else for(let c=-1,d=t*i;++c<i;)l(s,d+c,n.get(c))};ot.prototype.visitBool=ut(ZY);ot.prototype.visitInt=ut(Wo);ot.prototype.visitInt8=ut(Wo);ot.prototype.visitInt16=ut(Wo);ot.prototype.visitInt32=ut(Wo);ot.prototype.visitInt64=ut(Wo);ot.prototype.visitUint8=ut(Wo);ot.prototype.visitUint16=ut(Wo);ot.prototype.visitUint32=ut(Wo);ot.prototype.visitUint64=ut(Wo);ot.prototype.visitFloat=ut(QY);ot.prototype.visitFloat16=ut(sN);ot.prototype.visitFloat32=ut(q8);ot.prototype.visitFloat64=ut(q8);ot.prototype.visitUtf8=ut(eX);ot.prototype.visitBinary=ut(JY);ot.prototype.visitFixedSizeBinary=ut(rN);ot.prototype.visitDate=ut(aN);ot.prototype.visitDateDay=ut(V8);ot.prototype.visitDateMillisecond=ut(G8);ot.prototype.visitTimestamp=ut(oN);ot.prototype.visitTimestampSecond=ut(W8);ot.prototype.visitTimestampMillisecond=ut(Y8);ot.prototype.visitTimestampMicrosecond=ut(X8);ot.prototype.visitTimestampNanosecond=ut(K8);ot.prototype.visitTime=ut(lN);ot.prototype.visitTimeSecond=ut(Z8);ot.prototype.visitTimeMillisecond=ut(Q8);ot.prototype.visitTimeMicrosecond=ut(J8);ot.prototype.visitTimeNanosecond=ut(e9);ot.prototype.visitDecimal=ut(cN);ot.prototype.visitList=ut(tX);ot.prototype.visitStruct=ut(oX);ot.prototype.visitUnion=ut(lX);ot.prototype.visitDenseUnion=ut(dN);ot.prototype.visitSparseUnion=ut(fN);ot.prototype.visitDictionary=ut(cX);ot.prototype.visitInterval=ut(uN);ot.prototype.visitIntervalDayTime=ut(t9);ot.prototype.visitIntervalYearMonth=ut(n9);ot.prototype.visitFixedSizeList=ut(dX);ot.prototype.visitMap=ut(nX);const nr=new ot,Tr=Symbol.for("parent"),tu=Symbol.for("rowIndex");class qy{constructor(t,n){return this[Tr]=t,this[tu]=n,new Proxy(this,new uX)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[tu],n=this[Tr],i=n.type.children,s={};for(let l=-1,c=i.length;++l<c;)s[i[l].name]=gs.visit(n.children[l],t);return s}toString(){return`{${[...this].map(([t,n])=>`${Ld(t)}: ${Ld(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new fX(this[Tr],this[tu])}}class fX{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,gs.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(qy.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Tr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[tu]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class uX{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Tr].type.children.map(n=>n.name)}has(t,n){return t[Tr].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Tr].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[Tr].type.children.findIndex(s=>s.name===n);if(i!==-1){const s=gs.visit(t[Tr].children[i],t[tu]);return Reflect.set(t,n,s),s}}set(t,n,i){const s=t[Tr].type.children.findIndex(l=>l.name===n);return s!==-1?(nr.visit(t[Tr].children[s],t[tu],i),Reflect.set(t,n,i)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,i):!1}}class nt extends mt{}function lt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const hX=(e,t)=>864e5*e[t],i9=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),_X=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,pX=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,hN=e=>new Date(e),gX=(e,t)=>hN(hX(e,t)),yX=(e,t)=>hN(i9(e,t)),mX=(e,t)=>null,_N=(e,t,n)=>{if(n+1>=t.length)return null;const i=t[n],s=t[n+1];return e.subarray(i,s)},wX=({offset:e,values:t},n)=>{const i=e+n;return(t[i>>3]&1<<i%8)!==0},pN=({values:e},t)=>gX(e,t),gN=({values:e},t)=>yX(e,t*2),sc=({stride:e,values:t},n)=>t[e*n],LX=({stride:e,values:t},n)=>H8(t[e*n]),yN=({values:e},t)=>e[t],bX=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),TX=({values:e,valueOffsets:t},n)=>_N(e,t,n),EX=({values:e,valueOffsets:t},n)=>{const i=_N(e,t,n);return i!==null?oL(i):null},vX=({values:e},t)=>e[t],SX=({type:e,values:t},n)=>e.precision!==$n.HALF?t[n]:H8(t[n]),xX=(e,t)=>e.type.unit===ps.DAY?pN(e,t):gN(e,t),mN=({values:e},t)=>1e3*i9(e,t*2),wN=({values:e},t)=>i9(e,t*2),LN=({values:e},t)=>_X(e,t*2),bN=({values:e},t)=>pX(e,t*2),kX=(e,t)=>{switch(e.type.unit){case at.SECOND:return mN(e,t);case at.MILLISECOND:return wN(e,t);case at.MICROSECOND:return LN(e,t);case at.NANOSECOND:return bN(e,t)}},TN=({values:e},t)=>e[t],EN=({values:e},t)=>e[t],vN=({values:e},t)=>e[t],SN=({values:e},t)=>e[t],BX=(e,t)=>{switch(e.type.unit){case at.SECOND:return TN(e,t);case at.MILLISECOND:return EN(e,t);case at.MICROSECOND:return vN(e,t);case at.NANOSECOND:return SN(e,t)}},FX=({values:e,stride:t},n)=>W2.decimal(e.subarray(t*n,t*(n+1))),IX=(e,t)=>{const{valueOffsets:n,stride:i,children:s}=e,{[t*i]:l,[t*i+1]:c}=n,f=s[0].slice(l,c-l);return new Ge([f])},MX=(e,t)=>{const{valueOffsets:n,children:i}=e,{[t]:s,[t+1]:l}=n,c=i[0];return new Y2(c.slice(s,l-s))},AX=(e,t)=>new qy(e,t),OX=(e,t)=>e.type.mode===ni.Dense?xN(e,t):kN(e,t),xN=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return gs.visit(i,e.valueOffsets[t])},kN=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return gs.visit(i,t)},NX=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},CX=(e,t)=>e.type.unit===tr.DAY_TIME?BN(e,t):FN(e,t),BN=({values:e},t)=>e.subarray(2*t,2*(t+1)),FN=({values:e},t)=>{const n=e[t],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},RX=(e,t)=>{const{stride:n,children:i}=e,l=i[0].slice(t*n,n);return new Ge([l])};nt.prototype.visitNull=lt(mX);nt.prototype.visitBool=lt(wX);nt.prototype.visitInt=lt(vX);nt.prototype.visitInt8=lt(sc);nt.prototype.visitInt16=lt(sc);nt.prototype.visitInt32=lt(sc);nt.prototype.visitInt64=lt(yN);nt.prototype.visitUint8=lt(sc);nt.prototype.visitUint16=lt(sc);nt.prototype.visitUint32=lt(sc);nt.prototype.visitUint64=lt(yN);nt.prototype.visitFloat=lt(SX);nt.prototype.visitFloat16=lt(LX);nt.prototype.visitFloat32=lt(sc);nt.prototype.visitFloat64=lt(sc);nt.prototype.visitUtf8=lt(EX);nt.prototype.visitBinary=lt(TX);nt.prototype.visitFixedSizeBinary=lt(bX);nt.prototype.visitDate=lt(xX);nt.prototype.visitDateDay=lt(pN);nt.prototype.visitDateMillisecond=lt(gN);nt.prototype.visitTimestamp=lt(kX);nt.prototype.visitTimestampSecond=lt(mN);nt.prototype.visitTimestampMillisecond=lt(wN);nt.prototype.visitTimestampMicrosecond=lt(LN);nt.prototype.visitTimestampNanosecond=lt(bN);nt.prototype.visitTime=lt(BX);nt.prototype.visitTimeSecond=lt(TN);nt.prototype.visitTimeMillisecond=lt(EN);nt.prototype.visitTimeMicrosecond=lt(vN);nt.prototype.visitTimeNanosecond=lt(SN);nt.prototype.visitDecimal=lt(FX);nt.prototype.visitList=lt(IX);nt.prototype.visitStruct=lt(AX);nt.prototype.visitUnion=lt(OX);nt.prototype.visitDenseUnion=lt(xN);nt.prototype.visitSparseUnion=lt(kN);nt.prototype.visitDictionary=lt(NX);nt.prototype.visitInterval=lt(CX);nt.prototype.visitIntervalDayTime=lt(BN);nt.prototype.visitIntervalYearMonth=lt(FN);nt.prototype.visitFixedSizeList=lt(RX);nt.prototype.visitMap=lt(MX);const gs=new nt,xr=Symbol.for("keys"),nu=Symbol.for("vals");class Y2{constructor(t){return this[xr]=new Ge([t.children[0]]).memoize(),this[nu]=t.children[1],new Proxy(this,new DX)}[Symbol.iterator](){return new PX(this[xr],this[nu])}get size(){return this[xr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[xr],n=this[nu],i={};for(let s=-1,l=t.length;++s<l;)i[t.get(s)]=gs.visit(n,s);return i}toString(){return`{${[...this].map(([t,n])=>`${Ld(t)}: ${Ld(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class PX{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),gs.visit(this.vals,t)]})}}class DX{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[xr].toArray().map(String)}has(t,n){return t[xr].includes(n)}getOwnPropertyDescriptor(t,n){if(t[xr].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[xr].indexOf(n);if(i!==-1){const s=gs.visit(Reflect.get(t,nu),i);return Reflect.set(t,n,s),s}}set(t,n,i){const s=t[xr].indexOf(n);return s!==-1?(nr.visit(Reflect.get(t,nu),s,i),Reflect.set(t,n,i)):Reflect.has(t,n)?Reflect.set(t,n,i):!1}}Object.defineProperties(Y2.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[xr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[nu]:{writable:!0,enumerable:!1,configurable:!1,value:null}});function UX(e,t,n){const i=e.length,s=t>-1?t:i+t%i;return n?n(e,s):s}let qx;function s9(e,t,n,i){const{length:s=0}=e;let l=typeof t!="number"?0:t,c=typeof n!="number"?s:n;return l<0&&(l=(l%s+s)%s),c<0&&(c=(c%s+s)%s),c<l&&(qx=l,l=c,c=qx),c>s&&(c=s),i?i(e,l,c):[l,c]}const Vx=e=>e!==e;function Yd(e){if(typeof e!=="object"||e===null)return Vx(e)?Vx:n=>n===e;if(e instanceof Date){const n=e.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?MO(e,n):!1:e instanceof Map?HX(e):Array.isArray(e)?$X(e):e instanceof Ge?zX(e):jX(e,!0)}function $X(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=Yd(e[n]);return Vy(t)}function HX(e){let t=-1;const n=[];for(const i of e.values())n[++t]=Yd(i);return Vy(n)}function zX(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=Yd(e.get(n));return Vy(t)}function jX(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const i=[];for(let s=-1,l=n.length;++s<l;)i[s]=Yd(e[n[s]]);return Vy(i,n)}function Vy(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return qX(e,n);case Map:return Gx(e,n,n.keys());case Y2:case qy:case Object:case void 0:return Gx(e,n,t||Object.keys(n))}return n instanceof Ge?VX(e,n):!1}}function qX(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t[i]))return!1;return!0}function VX(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t.get(i)))return!1;return!0}function Gx(e,t,n){const i=n[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),l=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let c=0;const d=e.length;let f=l.next(),u=i.next(),a=s.next();for(;c<d&&!u.done&&!a.done&&!f.done&&!(u.value!==a.value||!e[c](f.value));++c,u=i.next(),a=s.next(),f=l.next());return c===d&&u.done&&a.done&&f.done?!0:(i.return&&i.return(),s.return&&s.return(),l.return&&l.return(),!1)}const GX=Object.freeze(Object.defineProperty({__proto__:null,clampIndex:UX,clampRange:s9,createElementComparator:Yd},Symbol.toStringTag,{value:"Module"}));function Gy(e,t,n,i){return(n&1<<i)!==0}function r9(e,t,n,i){return(n&1<<i)>>i}function WX(e,t,n){return n?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1}function Wy(e,t,n){const i=n.byteLength+7&-8;if(e>0||n.byteLength<i){const s=new Uint8Array(i);return s.set(e%8===0?n.subarray(e>>3):o2(new bu(n,e,t,null,Gy)).subarray(0,i)),s}return n}function o2(e){const t=[];let n=0,i=0,s=0;for(const c of e)c&&(s|=1<<i),++i===8&&(t[n++]=s,s=i=0);(n===0||i>0)&&(t[n++]=s);const l=new Uint8Array(t.length+7&-8);return l.set(t),l}class bu{constructor(t,n,i,s,l){this.bytes=t,this.length=i,this.context=s,this.get=l,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function $p(e,t,n){if(n-t<=0)return 0;if(n-t<8){let l=0;for(const c of new bu(e,t,n-t,e,r9))l+=c;return l}const i=n>>3<<3,s=t+(t%8===0?0:8-t%8);return $p(e,t,s)+$p(e,i,n)+IN(e,s>>3,i-s>>3)}function IN(e,t,n){let i=0,s=Math.trunc(t);const l=new DataView(e.buffer,e.byteOffset,e.byteLength),c=n===void 0?e.byteLength:s+n;for(;c-s>=4;)i+=ap(l.getUint32(s)),s+=4;for(;c-s>=2;)i+=ap(l.getUint16(s)),s+=2;for(;c-s>=1;)i+=ap(l.getUint8(s)),s+=1;return i}function ap(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const YX=Object.freeze(Object.defineProperty({__proto__:null,BitIterator:bu,getBit:r9,getBool:Gy,packBools:o2,popcnt_array:IN,popcnt_bit_range:$p,popcnt_uint32:ap,setBool:WX,truncateBitmap:Wy},Symbol.toStringTag,{value:"Module"})),XX=-1;class jt{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:i,nullBitmap:s,typeIds:l}=this;return n&&(t+=n.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),l&&(t+=l.byteLength),this.children.reduce((c,d)=>c+d.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=XX&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-$p(n,this.offset,this.offset+this.length)),t}constructor(t,n,i,s,l,c=[],d){this.type=t,this.children=c,this.dictionary=d,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let f;l instanceof jt?(this.stride=l.stride,this.values=l.values,this.typeIds=l.typeIds,this.nullBitmap=l.nullBitmap,this.valueOffsets=l.valueOffsets):(this.stride=ua(t),l&&((f=l[0])&&(this.valueOffsets=f),(f=l[1])&&(this.values=f),(f=l[2])&&(this.nullBitmap=f),(f=l[3])&&(this.typeIds=f))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:f}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:f,_nullCount:0})}const{nullBitmap:i,offset:s}=this,l=s+t>>3,c=(s+t)%8,d=i[l]>>c&1;return n?d===0&&(i[l]|=1<<c,this._nullCount=this.nullCount+1):d===1&&(i[l]&=~(1<<c),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,i=this.length,s=this._nullCount,l=this,c=this.children){return new jt(t,n,i,s,l,c,this.dictionary)}slice(t,n){const{stride:i,typeId:s,children:l}=this,c=+(this._nullCount===0)-1,d=s===16?i:1,f=this._sliceBuffers(t,n,i,s);return this.clone(this.type,this.offset+t,n,c,f,l.length===0||this.valueOffsets?l:this._sliceChildren(l,d*t,d*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:i}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);s[n>>3]=(1<<n-(n&-8))-1,i>0&&s.set(Wy(this.offset,n,this.nullBitmap),0);const l=this.buffers;return l[br.VALIDITY]=s,this.clone(this.type,0,t,i+(t-n),l)}_sliceBuffers(t,n,i,s){let l;const{buffers:c}=this;return(l=c[br.TYPE])&&(c[br.TYPE]=l.subarray(t,t+n)),(l=c[br.OFFSET])&&(c[br.OFFSET]=l.subarray(t,t+n+1))||(l=c[br.DATA])&&(c[br.DATA]=s===6?l:l.subarray(i*t,i*(t+n))),c}_sliceChildren(t,n,i){return t.map(s=>s.slice(n,i))}}jt.prototype.children=Object.freeze([]);class P1 extends mt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:i=0,["length"]:s=0}=t;return new jt(n,i,s,0)}visitBool(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length>>3,["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitInt(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length,["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitFloat(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length,["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitUtf8(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.data),l=xt(t.nullBitmap),c=Nf(t.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=t.nullBitmap?-1:0}=t;return new jt(n,i,d,f,[c,s,l])}visitBinary(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.data),l=xt(t.nullBitmap),c=Nf(t.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=t.nullBitmap?-1:0}=t;return new jt(n,i,d,f,[c,s,l])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitDate(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitTimestamp(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitTime(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitDecimal(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitList(t){const{["type"]:n,["offset"]:i=0,["child"]:s}=t,l=xt(t.nullBitmap),c=Nf(t.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=t.nullBitmap?-1:0}=t;return new jt(n,i,d,f,[c,void 0,l],[s])}visitStruct(t){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=t,l=xt(t.nullBitmap),{length:c=s.reduce((f,{length:u})=>Math.max(f,u),0),nullCount:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,void 0,l],s)}visitUnion(t){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=t,l=xt(t.nullBitmap),c=Et(n.ArrayType,t.typeIds),{["length"]:d=c.length,["nullCount"]:f=t.nullBitmap?-1:0}=t;if(Ye.isSparseUnion(n))return new jt(n,i,d,f,[void 0,void 0,l,c],s);const u=Nf(t.valueOffsets);return new jt(n,i,d,f,[u,void 0,l,c],s)}visitDictionary(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.indices.ArrayType,t.data),{["dictionary"]:c=new Ge([new P1().visit({type:n.dictionary})])}=t,{["length"]:d=l.length,["nullCount"]:f=t.nullBitmap?-1:0}=t;return new jt(n,i,d,f,[void 0,l,s],[],c)}visitInterval(t){const{["type"]:n,["offset"]:i=0}=t,s=xt(t.nullBitmap),l=Et(n.ArrayType,t.data),{["length"]:c=l.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,l,s])}visitFixedSizeList(t){const{["type"]:n,["offset"]:i=0,["child"]:s=new P1().visit({type:n.valueType})}=t,l=xt(t.nullBitmap),{["length"]:c=s.length/ua(n),["nullCount"]:d=t.nullBitmap?-1:0}=t;return new jt(n,i,c,d,[void 0,void 0,l],[s])}visitMap(t){const{["type"]:n,["offset"]:i=0,["child"]:s=new P1().visit({type:n.childType})}=t,l=xt(t.nullBitmap),c=Nf(t.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=t.nullBitmap?-1:0}=t;return new jt(n,i,d,f,[c,void 0,l],[s])}}function Qe(e){return new P1().visit(e)}class Wx{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function MN(e){return e.reduce((t,n)=>t+n.nullCount,0)}function AN(e){return e.reduce((t,n,i)=>(t[i+1]=t[i]+n.length,t),new Uint32Array(e.length+1))}function ON(e,t,n,i){const s=[];for(let l=-1,c=e.length;++l<c;){const d=e[l],f=t[l],{length:u}=d;if(f>=i)break;if(n>=f+u)continue;if(f>=n&&f+u<=i){s.push(d);continue}const a=Math.max(0,n-f),y=Math.min(i-f,u);s.push(d.slice(a,y-a))}return s.length===0&&s.push(e[0].slice(0,0)),s}function a9(e,t,n,i){let s=0,l=0,c=t.length-1;do{if(s>=c-1)return n<t[c]?i(e,s,n-t[s]):null;l=s+Math.trunc((c-s)*.5),n<t[l]?c=l:s=l}while(s<c)}function o9(e,t){return e.getValid(t)}function iu(e){function t(n,i,s){return e(n[i],s)}return function(n){const i=this.data;return a9(i,this._offsets,n,t)}}function NN(e){let t;function n(i,s,l){return e(i[s],l,t)}return function(i,s){const l=this.data;t=s;const c=a9(l,this._offsets,i,n);return t=void 0,c}}function CN(e){let t;function n(i,s,l){let c=l,d=0,f=0;for(let u=s-1,a=i.length;++u<a;){const y=i[u];if(~(d=e(y,t,c)))return f+d;c=0,f+=y.length}return-1}return function(i,s){t=i;const l=this.data,c=typeof s!="number"?n(l,0,0):a9(l,this._offsets,s,n);return t=void 0,c}}class it extends mt{}function KX(e,t){return t===null&&e.length>0?0:-1}function ZX(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let i=0;for(const s of new bu(n,e.offset+(t||0),e.length,n,Gy)){if(!s)return i;++i}return-1}function pt(e,t,n){if(t===void 0)return-1;if(t===null)return ZX(e,n);const i=gs.getVisitFn(e),s=Yd(t);for(let l=(n||0)-1,c=e.length;++l<c;)if(s(i(e,l)))return l;return-1}function RN(e,t,n){const i=gs.getVisitFn(e),s=Yd(t);for(let l=(n||0)-1,c=e.length;++l<c;)if(s(i(e,l)))return l;return-1}it.prototype.visitNull=KX;it.prototype.visitBool=pt;it.prototype.visitInt=pt;it.prototype.visitInt8=pt;it.prototype.visitInt16=pt;it.prototype.visitInt32=pt;it.prototype.visitInt64=pt;it.prototype.visitUint8=pt;it.prototype.visitUint16=pt;it.prototype.visitUint32=pt;it.prototype.visitUint64=pt;it.prototype.visitFloat=pt;it.prototype.visitFloat16=pt;it.prototype.visitFloat32=pt;it.prototype.visitFloat64=pt;it.prototype.visitUtf8=pt;it.prototype.visitBinary=pt;it.prototype.visitFixedSizeBinary=pt;it.prototype.visitDate=pt;it.prototype.visitDateDay=pt;it.prototype.visitDateMillisecond=pt;it.prototype.visitTimestamp=pt;it.prototype.visitTimestampSecond=pt;it.prototype.visitTimestampMillisecond=pt;it.prototype.visitTimestampMicrosecond=pt;it.prototype.visitTimestampNanosecond=pt;it.prototype.visitTime=pt;it.prototype.visitTimeSecond=pt;it.prototype.visitTimeMillisecond=pt;it.prototype.visitTimeMicrosecond=pt;it.prototype.visitTimeNanosecond=pt;it.prototype.visitDecimal=pt;it.prototype.visitList=pt;it.prototype.visitStruct=pt;it.prototype.visitUnion=pt;it.prototype.visitDenseUnion=RN;it.prototype.visitSparseUnion=RN;it.prototype.visitDictionary=pt;it.prototype.visitInterval=pt;it.prototype.visitIntervalDayTime=pt;it.prototype.visitIntervalYearMonth=pt;it.prototype.visitFixedSizeList=pt;it.prototype.visitMap=pt;const Hp=new it;class st extends mt{}function ct(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof Oi&&t.bitWidth!==64||t instanceof Ca&&t.bitWidth!==64||t instanceof Uo&&t.precision!==$n.HALF))return new Wx(e.data.length,i=>{const s=e.data[i];return s.values.subarray(0,s.length)[Symbol.iterator]()});let n=0;return new Wx(e.data.length,i=>{const l=e.data[i].length,c=e.slice(n,n+l);return n+=l,new QX(c)})}class QX{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}st.prototype.visitNull=ct;st.prototype.visitBool=ct;st.prototype.visitInt=ct;st.prototype.visitInt8=ct;st.prototype.visitInt16=ct;st.prototype.visitInt32=ct;st.prototype.visitInt64=ct;st.prototype.visitUint8=ct;st.prototype.visitUint16=ct;st.prototype.visitUint32=ct;st.prototype.visitUint64=ct;st.prototype.visitFloat=ct;st.prototype.visitFloat16=ct;st.prototype.visitFloat32=ct;st.prototype.visitFloat64=ct;st.prototype.visitUtf8=ct;st.prototype.visitBinary=ct;st.prototype.visitFixedSizeBinary=ct;st.prototype.visitDate=ct;st.prototype.visitDateDay=ct;st.prototype.visitDateMillisecond=ct;st.prototype.visitTimestamp=ct;st.prototype.visitTimestampSecond=ct;st.prototype.visitTimestampMillisecond=ct;st.prototype.visitTimestampMicrosecond=ct;st.prototype.visitTimestampNanosecond=ct;st.prototype.visitTime=ct;st.prototype.visitTimeSecond=ct;st.prototype.visitTimeMillisecond=ct;st.prototype.visitTimeMicrosecond=ct;st.prototype.visitTimeNanosecond=ct;st.prototype.visitDecimal=ct;st.prototype.visitList=ct;st.prototype.visitStruct=ct;st.prototype.visitUnion=ct;st.prototype.visitDenseUnion=ct;st.prototype.visitSparseUnion=ct;st.prototype.visitDictionary=ct;st.prototype.visitInterval=ct;st.prototype.visitIntervalDayTime=ct;st.prototype.visitIntervalYearMonth=ct;st.prototype.visitFixedSizeList=ct;st.prototype.visitMap=ct;const l9=new st,JX=(e,t)=>e+t;class rc extends mt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===at.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((i,s)=>i+Ra.visit(s,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((i,s)=>i+Ra.visit(s,n),0)}visitDictionary(t,n){var i;return t.type.indices.bitWidth/8+(((i=t.dictionary)===null||i===void 0?void 0:i.getByteLength(t.values[n]))||0)}}const eK=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),tK=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),nK=({valueOffsets:e,stride:t,children:n},i)=>{const s=n[0],{[i*t]:l}=e,{[i*t+1]:c}=e,d=Ra.getVisitFn(s.type),f=s.slice(l,c-l);let u=8;for(let a=-1,y=c-l;++a<y;)u+=d(f,a);return u},iK=({stride:e,children:t},n)=>{const i=t[0],s=i.slice(n*e,e),l=Ra.getVisitFn(i.type);let c=0;for(let d=-1,f=s.length;++d<f;)c+=l(s,d);return c},sK=(e,t)=>e.type.mode===ni.Dense?PN(e,t):DN(e,t),PN=({type:e,children:t,typeIds:n,valueOffsets:i},s)=>{const l=e.typeIdToChildIndex[n[s]];return 8+Ra.visit(t[l],i[s])},DN=({children:e},t)=>4+Ra.visitMany(e,e.map(()=>t)).reduce(JX,0);rc.prototype.visitUtf8=eK;rc.prototype.visitBinary=tK;rc.prototype.visitList=nK;rc.prototype.visitFixedSizeList=iK;rc.prototype.visitUnion=sK;rc.prototype.visitDenseUnion=PN;rc.prototype.visitSparseUnion=DN;const Ra=new rc;var UN;const $N={},HN={};class Ge{constructor(t){var n,i,s;const l=t[0]instanceof Ge?t.flatMap(d=>d.data):t;if(l.length===0||l.some(d=>!(d instanceof jt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=(n=l[0])===null||n===void 0?void 0:n.type;switch(l.length){case 0:this._offsets=[0];break;case 1:{const{get:d,set:f,indexOf:u,byteLength:a}=$N[c.typeId],y=l[0];this.isValid=w=>o9(y,w),this.get=w=>d(y,w),this.set=(w,m)=>f(y,w,m),this.indexOf=w=>u(y,w),this.getByteLength=w=>a(y,w),this._offsets=[0,y.length];break}default:Object.setPrototypeOf(this,HN[c.typeId]),this._offsets=AN(l);break}this.data=l,this.type=c,this.stride=ua(c),this.numChildren=(s=(i=c.children)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0,this.length=this._offsets.at(-1)}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=MN(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return l9.visit(this)}concat(...t){return new Ge(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Ge(s9(this,t,n,({data:i,_offsets:s},l,c)=>ON(i,s,l,c)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:i,stride:s,ArrayType:l}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new l;case 1:return n[0].values.subarray(0,i*s);default:return n.reduce((c,{values:d,length:f})=>(c.array.set(d.subarray(0,f*s),c.offset),c.offset+=f*s,c),{array:new l(i*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Ge(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Ye.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ye.isDictionary(this.type)){const t=new zp(this.data[0].dictionary),n=this.data.map(i=>{const s=i.clone();return s.dictionary=t,s});return new Ge(n)}return new zp(this)}unmemoize(){if(Ye.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const s=i.clone();return s.dictionary=t,s});return new Ge(n)}return this}}UN=Symbol.toStringTag;Ge[UN]=(e=>{e.type=Ye.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const i=gs.getVisitFnByTypeId(n),s=nr.getVisitFnByTypeId(n),l=Hp.getVisitFnByTypeId(n),c=Ra.getVisitFnByTypeId(n);$N[n]={get:i,set:s,indexOf:l,byteLength:c},HN[n]=Object.create(e,{isValid:{value:iu(o9)},get:{value:iu(gs.getVisitFnByTypeId(n))},set:{value:NN(nr.getVisitFnByTypeId(n))},indexOf:{value:CN(Hp.getVisitFnByTypeId(n))},getByteLength:{value:iu(Ra.getVisitFnByTypeId(n))}})}return"Vector"})(Ge.prototype);class zp extends Ge{constructor(t){super(t.data);const n=this.get,i=this.set,s=this.slice,l=new Array(this.length);Object.defineProperty(this,"get",{value(c){const d=l[c];if(d!==void 0)return d;const f=n.call(this,c);return l[c]=f,f}}),Object.defineProperty(this,"set",{value(c,d){i.call(this,c,d),l[c]=d}}),Object.defineProperty(this,"slice",{value:(c,d)=>new zp(s.call(this,c,d))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ge(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function Yy(e){if(e){if(e instanceof jt)return new Ge([e]);if(e instanceof Ge)return new Ge(e.data);if(e.type instanceof Ye)return new Ge([Qe(e)]);if(Array.isArray(e))return new Ge(e.flatMap(t=>rK(t)));if(ArrayBuffer.isView(e)){e instanceof DataView&&(e=new Uint8Array(e.buffer));const t={offset:0,length:e.length,nullCount:0,data:e};if(e instanceof Int8Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new N8}))]);if(e instanceof Int16Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new C8}))]);if(e instanceof Int32Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new Dl}))]);if(e instanceof BigInt64Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new zy}))]);if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new R8}))]);if(e instanceof Uint16Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new P8}))]);if(e instanceof Uint32Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new D8}))]);if(e instanceof BigUint64Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new U8}))]);if(e instanceof Float32Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new $8}))]);if(e instanceof Float64Array)return new Ge([Qe(Object.assign(Object.assign({},t),{type:new jy}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function rK(e){return e instanceof jt?[e]:e instanceof Ge?e.data:Yy(e).data}function aK(e){if(!e||e.length<=0)return function(s){return!0};let t="";const n=e.filter(i=>i===i);return n.length>0&&(t=`
    switch (x) {${n.map(i=>`
        case ${oK(i)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function oK(e){return typeof e!="bigint"?Ld(e):`${Ld(e)}n`}const y6=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,lK=(e,t=0)=>e.length>=t?e.subarray(0,t):n2(new e.constructor(t),e,0);class Xy{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,i=this.length*n,s=this.buffer.length;i>=s&&this._resize(s===0?y6(i*1,this.BYTES_PER_ELEMENT):y6(i*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=y6(t*this.stride,this.BYTES_PER_ELEMENT);const n=lK(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=n2(new this.ArrayType(t),this.buffer)}}Xy.prototype.offset=0;class X2 extends Xy{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class zN extends X2{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:i}=this.reserve(t-this.length+1),s=t>>3,l=t%8,c=i[s]>>l&1;return n?c===0&&(i[s]|=1<<l,++this.numValid):c===1&&(i[s]&=~(1<<l),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class jN extends X2{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const i=this.length-1,s=this.reserve(t-i+1).buffer;return i<t++&&s.fill(s[i],i,t),s[t]=s[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Ri=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=ua(t),this._nulls=new zN,n&&n.length>0&&(this._isValid=aK(n))}toVector(){return new Ge([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:i,_nulls:s,_typeIds:l,children:c}=this;return n&&(t+=n.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),l&&(t+=l.byteLength),c.reduce((d,f)=>d+f.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,i)=>n+i.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,i,s;const{type:l,length:c,nullCount:d,_typeIds:f,_offsets:u,_values:a,_nulls:y}=this;(n=f==null?void 0:f.flush(c))?s=u==null?void 0:u.flush(c):(s=u==null?void 0:u.flush(c))?t=a==null?void 0:a.flush(u.last()):t=a==null?void 0:a.flush(c),d>0&&(i=y==null?void 0:y.flush(c));const w=this.children.map(m=>m.flush());return this.clear(),Qe({type:l,length:c,nullCount:d,children:w,child:w[0],data:t,typeIds:n,nullBitmap:i,valueOffsets:s})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,i,s;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(i=this._offsets)===null||i===void 0||i.clear(),(s=this._typeIds)===null||s===void 0||s.clear();for(const l of this.children)l.clear();return this}};Ri.prototype.length=1;Ri.prototype.stride=1;Ri.prototype.children=null;Ri.prototype.finished=!1;Ri.prototype.nullValues=null;Ri.prototype._isValid=()=>!0;class ac extends Ri{constructor(t){super(t),this._values=new X2(new this.ArrayType(0),this.stride)}setValue(t,n){const i=this._values;return i.reserve(t-i.length+1),super.setValue(t,n)}}class Ky extends Ri{constructor(t){super(t),this._pendingLength=0,this._offsets=new jN}setValue(t,n){const i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.length),this._pendingLength+=n instanceof Y2?n[xr].length:n.length,i.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class dL{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,i,s){return t.prep(8,24),t.writeInt64(BigInt(s??0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(n??0)),t.offset()}}const m6=2,ya=4,Eo=4,on=4,fl=new Int32Array(2),Yx=new Float32Array(fl.buffer),Xx=new Float64Array(fl.buffer),h_=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var fL;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(fL||(fL={}));let Tu=class qN{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new qN(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return fl[0]=this.readInt32(t),Yx[0]}readFloat64(t){return fl[h_?0:1]=this.readInt32(t),fl[h_?1:0]=this.readInt32(t+4),Xx[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Yx[0]=n,this.writeInt32(t,fl[0])}writeFloat64(t,n){Xx[0]=n,this.writeInt32(t,fl[h_?0:1]),this.writeInt32(t+4,fl[h_?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ya+Eo)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Eo;n++)t+=String.fromCharCode(this.readInt8(this.position_+ya+n));return t}__offset(t,n){const i=t-this.readInt32(t);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const i=this.readInt32(t);t+=ya;const s=this.bytes_.subarray(t,t+i);return n===fL.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ya}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Eo)throw new Error("FlatBuffers: file identifier must be length "+Eo);for(let n=0;n<Eo;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+ya+n))return!1;return!0}createScalarList(t,n){const i=[];for(let s=0;s<n;++s){const l=t(s);l!==null&&i.push(l)}return i}createObjList(t,n){const i=[];for(let s=0;s<n;++s){const l=t(s);l!==null&&i.push(l.unpack())}return i}},VN=class GN{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Tu.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const i=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<i+t+n;){const s=this.bb.capacity();this.bb=GN.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(i)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,i){(this.force_defaults||n!==i)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,i){n!=i&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,s=Tu.allocate(i);return s.setPosition(i-n),s.bytes().set(t.bytes(),i-n),s}addOffset(t){this.prep(ya,0),this.writeInt32(this.offset()-t+ya)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const s=2;this.addInt16(t-this.object_start);const l=(i+s)*m6;this.addInt16(l);let c=0;const d=this.space;e:for(n=0;n<this.vtables.length;n++){const f=this.bb.capacity()-this.vtables[n];if(l==this.bb.readInt16(f)){for(let u=m6;u<l;u+=m6)if(this.bb.readInt16(d+u)!=this.bb.readInt16(f+u))continue e;c=this.vtables[n];break}}return c?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,c-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,i){const s=i?on:0;if(n){const l=n;if(this.prep(this.minalign,ya+Eo+s),l.length!=Eo)throw new TypeError("FlatBuffers: file identifier must be length "+Eo);for(let c=Eo-1;c>=0;c--)this.writeInt8(l.charCodeAt(c))}this.prep(this.minalign,ya+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const i=this.bb.capacity()-t,s=i-this.bb.readInt32(i);if(!(n<this.bb.readInt16(s)&&this.bb.readInt16(s+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,i){this.notNested(),this.vector_num_elems=n,this.prep(ya,t*n),this.prep(i,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let i=0,s=this.space,l=this.bb.bytes();i<n.length;i++)l[s++]=n[i];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let i=0;i<t.length;++i){const s=t[i];if(s!==null)n.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+on),(n||new Rn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,i){return Rn.startKeyValue(t),Rn.addKey(t,n),Rn.addValue(t,i),Rn.endKeyValue(t)}}var Eu;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Eu||(Eu={}));var vu;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(vu||(vu={}));var jp;(function(e){e[e.DenseArray=0]="DenseArray"})(jp||(jp={}));class Ms{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+on),(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,i){return Ms.startInt(t),Ms.addBitWidth(t,n),Ms.addIsSigned(t,i),Ms.endInt(t)}}class vo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+on),(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ms).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):jp.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,jp.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Jc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Jc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+on),(n||new Jc).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Jc.startBinary(t),Jc.endBinary(t)}}class ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+on),(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return ed.startBool(t),ed.endBool(t)}}var qp;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(qp||(qp={}));let op=class Rf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Rf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+on),(n||new Rf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qp.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,qp.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Rf.startDate(t),Rf.addUnit(t,n),Rf.endDate(t)}};class is{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new is).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+on),(n||new is).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,i,s){return is.startDecimal(t),is.addPrecision(t,n),is.addScale(t,i),is.addBitWidth(t,s),is.endDecimal(t)}}var Su;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Su||(Su={}));class ma{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new ma).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+on),(n||new ma).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return ma.startFixedSizeBinary(t),ma.addByteWidth(t,n),ma.endFixedSizeBinary(t)}}class wa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new wa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+on),(n||new wa).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return wa.startFixedSizeList(t),wa.addListSize(t,n),wa.endFixedSizeList(t)}}var Vp;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Vp||(Vp={}));class La{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new La).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+on),(n||new La).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Vp.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Vp.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return La.startFloatingPoint(t),La.addPrecision(t,n),La.endFloatingPoint(t)}}var Gp;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Gp||(Gp={}));class ba{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new ba).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+on),(n||new ba).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gp.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Gp.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return ba.startInterval(t),ba.addUnit(t,n),ba.endInterval(t)}}class td{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new td).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+on),(n||new td).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return td.startList(t),td.endList(t)}}let lp=class Pf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Pf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+on),(n||new Pf).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Pf.startMap(t),Pf.addKeysSorted(t,n),Pf.endMap(t)}};class nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+on),(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return nd.startNull(t),nd.endNull(t)}}class id{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+on),(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return id.startStruct_(t),id.endStruct_(t)}}let c1=class Pc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Pc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+on),(n||new Pc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Su.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Su.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,i){return Pc.startTime(t),Pc.addUnit(t,n),Pc.addBitWidth(t,i),Pc.endTime(t)}};class Ys{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+on),(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Su.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Su.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,i){return Ys.startTimestamp(t),Ys.addUnit(t,n),Ys.addTimezone(t,i),Ys.endTimestamp(t)}}var Wp;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Wp||(Wp={}));let Dc=class Uc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Uc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+on),(n||new Uc).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wp.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Wp.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addInt32(n[i]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,i){return Uc.startUnion(t),Uc.addMode(t,n),Uc.addTypeIds(t,i),Uc.endUnion(t)}};class sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+on),(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return sd.startUtf8(t),sd.endUtf8(t)}}var _t;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(_t||(_t={}));let Gs=class cp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new cp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+on),(n||new cp).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):_t.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new vo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new cp).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new Rn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,_t.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},fa=class go{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new go).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+on),(n||new go).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vu.Little}fields(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new Gs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new Rn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,vu.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)t.addInt64(n[i]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,i,s,l){return go.startSchema(t),go.addEndianness(t,n),go.addFields(t,i),go.addCustomMetadata(t,s),go.addFeatures(t,l),go.endSchema(t)}};class Bs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+on),(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Eu.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new fa).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new dL).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new dL).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new Rn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Eu.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Nt{constructor(t=[],n,i){this.fields=t||[],this.metadata=n||new Map,i||(i=hL(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),i=this.fields.filter(s=>n.has(s.name));return new Nt(i,this.metadata)}selectAt(t){const n=t.map(i=>this.fields[i]).filter(Boolean);return new Nt(n,this.metadata)}assign(...t){const n=t[0]instanceof Nt?t[0]:Array.isArray(t[0])?new Nt(t[0]):new Nt(t),i=[...this.fields],s=__(__(new Map,this.metadata),n.metadata),l=n.fields.filter(d=>{const f=i.findIndex(u=>u.name===d.name);return~f?(i[f]=d.clone({metadata:__(__(new Map,i[f].metadata),d.metadata)}))&&!1:!0}),c=hL(l,new Map);return new Nt([...i,...l],s,new Map([...this.dictionaries,...c]))}}Nt.prototype.fields=null;Nt.prototype.metadata=null;Nt.prototype.dictionaries=null;let Wt=class uL{static new(...t){let[n,i,s,l]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],i===void 0&&(i=t[0].type),s===void 0&&(s=t[0].nullable),l===void 0&&(l=t[0].metadata)),new uL(`${n}`,i,s,l)}constructor(t,n,i=!1,s){this.name=t,this.type=n,this.nullable=i,this.metadata=s||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,i,s,l]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,i=this.type,s=this.nullable,l=this.metadata]=t:{name:n=this.name,type:i=this.type,nullable:s=this.nullable,metadata:l=this.metadata}=t[0],uL.new(n,i,s,l)}};Wt.prototype.type=null;Wt.prototype.name=null;Wt.prototype.nullable=null;Wt.prototype.metadata=null;function __(e,t){return new Map([...e||new Map,...t||new Map])}function hL(e,t=new Map){for(let n=-1,i=e.length;++n<i;){const l=e[n].type;if(Ye.isDictionary(l)){if(!t.has(l.id))t.set(l.id,l.dictionary);else if(t.get(l.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}l.children&&l.children.length>0&&hL(l.children,t)}return t}var cK=VN,dK=Tu;class l2{static decode(t){t=new dK(xt(t));const n=Bs.getRootAsFooter(t),i=Nt.decode(n.schema());return new fK(i,n)}static encode(t){const n=new cK,i=Nt.encode(n,t.schema);Bs.startRecordBatchesVector(n,t.numRecordBatches);for(const c of[...t.recordBatches()].slice().reverse())Pa.encode(n,c);const s=n.endVector();Bs.startDictionariesVector(n,t.numDictionaries);for(const c of[...t.dictionaryBatches()].slice().reverse())Pa.encode(n,c);const l=n.endVector();return Bs.startFooter(n),Bs.addSchema(n,i),Bs.addVersion(n,os.V4),Bs.addRecordBatches(n,s),Bs.addDictionaries(n,l),Bs.finishFooterBuffer(n,Bs.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=os.V4,i,s){this.schema=t,this.version=n,i&&(this._recordBatches=i),s&&(this._dictionaryBatches=s)}*recordBatches(){for(let t,n=-1,i=this.numRecordBatches;++n<i;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,i=this.numDictionaries;++n<i;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class fK extends l2{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Pa.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Pa.decode(n)}return null}}class Pa{static decode(t){return new Pa(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:i}=n,s=BigInt(n.offset),l=BigInt(n.bodyLength);return dL.createBlock(t,s,i,l)}constructor(t,n,i){this.metaDataLength=t,this.offset=qr(i),this.bodyLength=qr(n)}}const Ln=Object.freeze({done:!0,value:void 0});class Kx{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class c9{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class uK extends c9{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Ce(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Ln);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Is.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Is.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Ce(this,void 0,void 0,function*(){return yield this.abort(t),Ln})}return(t){return Ce(this,void 0,void 0,function*(){return yield this.close(),Ln})}read(t){return Ce(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ce(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(Ln)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class su extends uK{write(t){if((t=xt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?oL(this.toUint8Array(!0)):this.toUint8Array(!1).then(oL)}toUint8Array(t=!1){return t?jr(this._values)[0]:(()=>Ce(this,void 0,void 0,function*(){var n,i,s,l;const c=[];let d=0;try{for(var f=!0,u=Il(this),a;a=yield u.next(),n=a.done,!n;f=!0){l=a.value,f=!1;const y=l;c.push(y),d+=y.byteLength}}catch(y){i={error:y}}finally{try{!f&&!n&&(s=u.return)&&(yield s.call(u))}finally{if(i)throw i.error}}return jr(c,d)[0]}))()}}class c2{constructor(t){t&&(this.source=new hK(Is.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class $l{constructor(t){t instanceof $l?this.source=t.source:t instanceof su?this.source=new Ec(Is.fromAsyncIterable(t)):BO(t)?this.source=new Ec(Is.fromNodeStream(t)):A8(t)?this.source=new Ec(Is.fromDOMStream(t)):kO(t)?this.source=new Ec(Is.fromDOMStream(t.body)):dh(t)?this.source=new Ec(Is.fromIterable(t)):Pl(t)?this.source=new Ec(Is.fromAsyncIterable(t)):Wd(t)&&(this.source=new Ec(Is.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class hK{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Ln)}return(t){return Object.create(this.source.return&&this.source.return(t)||Ln)}}class Ec{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return Ce(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return Ce(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ce(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,n="read"){return Ce(this,void 0,void 0,function*(){return yield this.source.next({cmd:n,size:t})})}throw(t){return Ce(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||Ln;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return Ce(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||Ln;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class Zx extends c2{constructor(t,n){super(),this.position=0,this.buffer=xt(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:i}=this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:i,position:s}=this;return n&&s<i?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,s+Math.min(i-s,t)),n.subarray(s,this.position)):null}readAt(t,n){const i=this.buffer,s=Math.min(this.size,t+n);return i?i.subarray(t,s):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Yp extends $l{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=(()=>Ce(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return Ce(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)})}seek(t){return Ce(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return Ce(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:s}=this;if(n&&s<i){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let l=s,c=0,d=0;const f=Math.min(i,l+Math.min(i-l,t)),u=new Uint8Array(Math.max(0,(this.position=f)-l));for(;(l+=d)<f&&(c+=d)<u.byteLength;)({bytesRead:d}=yield n.read(u,c,u.byteLength-c,l));return u}return null})}readAt(t,n){return Ce(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:s}=this;if(i&&t+n<s){const l=Math.min(s,t+n),c=new Uint8Array(l-t);return(yield i.read(c,0,n,t)).buffer}return new Uint8Array(n)})}close(){return Ce(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return Ce(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return Ce(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const _K=65536;function jf(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const xu=8,d9=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class f9{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=n[3]*i[3];this.buffer[0]=s&65535;let l=s>>>16;return s=n[2]*i[3],l+=s,s=n[3]*i[2]>>>0,l+=s,this.buffer[0]+=l<<16,this.buffer[1]=l>>>0<s?_K:0,this.buffer[1]+=l>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${jf(this.buffer[1])} ${jf(this.buffer[0])}`}}class zt extends f9{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return zt.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return zt.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.length,s=new zt(n);for(let l=0;l<i;){const c=xu<i-l?xu:i-l,d=new zt(new Uint32Array([Number.parseInt(t.slice(l,l+c),10),0])),f=new zt(new Uint32Array([d9[c],0]));s.times(f),s.plus(d),l+=c}return s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,s=t.length;++i<s;)zt.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new zt(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new zt(new Uint32Array(t.buffer)).plus(n)}}class Hi extends f9{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,i=t.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return Hi.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return Hi.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.startsWith("-"),s=t.length,l=new Hi(n);for(let c=i?1:0;c<s;){const d=xu<s-c?xu:s-c,f=new Hi(new Uint32Array([Number.parseInt(t.slice(c,c+d),10),0])),u=new Hi(new Uint32Array([d9[d],0]));l.times(u),l.plus(f),c+=d}return i?l.negate():l}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,s=t.length;++i<s;)Hi.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new Hi(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new Hi(new Uint32Array(t.buffer)).plus(n)}}class wr{constructor(t){this.buffer=t}high(){return new Hi(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Hi(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new zt(new Uint32Array([this.buffer[3],0])),i=new zt(new Uint32Array([this.buffer[2],0])),s=new zt(new Uint32Array([this.buffer[1],0])),l=new zt(new Uint32Array([this.buffer[0],0])),c=new zt(new Uint32Array([t.buffer[3],0])),d=new zt(new Uint32Array([t.buffer[2],0])),f=new zt(new Uint32Array([t.buffer[1],0])),u=new zt(new Uint32Array([t.buffer[0],0]));let a=zt.multiply(l,u);this.buffer[0]=a.low();const y=new zt(new Uint32Array([a.high(),0]));return a=zt.multiply(s,u),y.plus(a),a=zt.multiply(l,f),y.plus(a),this.buffer[1]=y.low(),this.buffer[3]=y.lessThan(a)?1:0,this.buffer[2]=y.high(),new zt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(zt.multiply(i,u)).plus(zt.multiply(s,f)).plus(zt.multiply(l,d)),this.buffer[3]+=zt.multiply(n,u).plus(zt.multiply(i,f)).plus(zt.multiply(s,d)).plus(zt.multiply(l,c)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${jf(this.buffer[3])} ${jf(this.buffer[2])} ${jf(this.buffer[1])} ${jf(this.buffer[0])}`}static multiply(t,n){return new wr(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new wr(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return wr.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return wr.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const i=t.startsWith("-"),s=t.length,l=new wr(n);for(let c=i?1:0;c<s;){const d=xu<s-c?xu:s-c,f=new wr(new Uint32Array([Number.parseInt(t.slice(c,c+d),10),0,0,0])),u=new wr(new Uint32Array([d9[d],0,0,0]));l.times(u),l.plus(f),c+=d}return i?l.negate():l}static convertArray(t){const n=new Uint32Array(t.length*4);for(let i=-1,s=t.length;++i<s;)wr.from(t[i],new Uint32Array(n.buffer,n.byteOffset+4*4*i,4));return n}}const pK=Object.freeze(Object.defineProperty({__proto__:null,BaseInt64:f9,Int128:wr,Int64:Hi,Uint64:zt},Symbol.toStringTag,{value:"Module"}));class WN extends mt{constructor(t,n,i,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=i,this.dictionaries=s}visit(t){return super.visit(t instanceof Wt?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return Qe({type:t,length:n})}visitBool(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===ni.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:i}=this.nextFieldNode()){return Qe({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,i=this.nextBufferRange()){return n>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class gK extends WN{constructor(t,n,i,s){super(new Uint8Array(0),n,i,s),this.sources=t}readNullBitmap(t,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):o2(this.sources[i])}readOffsets(t,{offset:n}=this.nextBufferRange()){return Et(Uint8Array,Et(Int32Array,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return Et(Uint8Array,Et(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return Ye.isTimestamp(t)||(Ye.isInt(t)||Ye.isTime(t))&&t.bitWidth===64||Ye.isDate(t)&&t.unit===ps.MILLISECOND?Et(Uint8Array,Hi.convertArray(i[n])):Ye.isDecimal(t)?Et(Uint8Array,wr.convertArray(i[n])):Ye.isBinary(t)||Ye.isFixedSizeBinary(t)?yK(i[n]):Ye.isBool(t)?o2(i[n]):Ye.isUtf8(t)?Uy(i[n].join("")):Et(Uint8Array,Et(t.ArrayType,i[n].map(s=>+s)))}}function yK(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)n[i>>1]=Number.parseInt(t.slice(i,i+2),16);return n}class u9 extends Ky{constructor(t){super(t),this._values=new Xy(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,xt(n))}_flushPending(t,n){const i=this._offsets,s=this._values.reserve(n).buffer;let l=0;for(const[c,d]of t)if(d===void 0)i.set(c,0);else{const f=d.length;s.set(d,l),i.set(c,f),l+=f}}}class YN extends Ri{constructor(t){super(t),this._values=new zN}setValue(t,n){this._values.set(t,+n)}}class K2 extends ac{}K2.prototype._setValue=aN;class h9 extends K2{}h9.prototype._setValue=V8;class _9 extends K2{}_9.prototype._setValue=G8;class p9 extends ac{}p9.prototype._setValue=cN;class XN extends Ri{constructor({type:t,nullValues:n,dictionaryHashFunction:i}){super({type:new Ho(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=vd({type:this.type.indices,nullValues:n}),this.dictionary=vd({type:this.type.dictionary,nullValues:null}),typeof i=="function"&&(this.valueToKey=i)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const i=this.indices;return n=i.setValid(t,n),this.length=i.length,n}setValue(t,n){const i=this._keysToIndices,s=this.valueToKey(n);let l=i[s];return l===void 0&&(i[s]=l=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,l)}flush(){const t=this.type,n=this._dictionary,i=this.dictionary.toVector(),s=this.indices.flush().clone(t);return s.dictionary=n?n.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=s.dictionary,this.clear(),s}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class g9 extends ac{}g9.prototype._setValue=rN;class KN extends Ri{setValue(t,n){const[i]=this.children,s=t*this.stride;for(let l=-1,c=n.length;++l<c;)i.set(s+l,n[l])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const i=this.children.push(t);return this.type=new wu(this.type.listSize,new Wt(n,t.type,!0)),i}}class Z2 extends ac{setValue(t,n){this._values.set(t,n)}}class ZN extends Z2{setValue(t,n){super.setValue(t,z8(n))}}class QN extends Z2{}class JN extends Z2{}class Q2 extends ac{}Q2.prototype._setValue=uN;class y9 extends Q2{}y9.prototype._setValue=t9;class m9 extends Q2{}m9.prototype._setValue=n9;class Za extends ac{setValue(t,n){this._values.set(t,n)}}class eC extends Za{}class tC extends Za{}class nC extends Za{}class iC extends Za{}class sC extends Za{}class rC extends Za{}class aC extends Za{}class oC extends Za{}class lC extends Ky{constructor(t){super(t),this._offsets=new jN}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Ed(new Wt(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[i]=this.children;for(const[s,l]of t)if(typeof l>"u")n.set(s,0);else{const c=l,d=c.length,f=n.set(s,d).buffer[s];for(let u=-1;++u<d;)i.set(f+u,c[u])}}}class cC extends Ky{set(t,n){return super.set(t,n)}setValue(t,n){const i=n instanceof Map?n:new Map(Object.entries(n)),s=this._pending||(this._pending=new Map),l=s.get(t);l&&(this._pendingLength-=l.size),this._pendingLength+=i.size,s.set(t,i)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Lu(new Wt(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[i]=this.children;for(const[s,l]of t)if(l===void 0)n.set(s,0);else{let{[s]:c,[s+1]:d}=n.set(s,l.size).buffer;for(const f of l.entries())if(i.set(c,f),++c>=d)break}}}class dC extends Ri{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class fC extends Ri{setValue(t,n){const{children:i,type:s}=this;switch(Array.isArray(n)||n.constructor){case!0:return s.children.forEach((l,c)=>i[c].set(t,n[c]));case Map:return s.children.forEach((l,c)=>i[c].set(t,n.get(l.name)));default:return s.children.forEach((l,c)=>i[c].set(t,n[l.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(i=>i.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const i=this.children.push(t);return this.type=new Gn([...this.type.children,new Wt(n,t.type,!0)]),i}}class Xd extends ac{}Xd.prototype._setValue=oN;class w9 extends Xd{}w9.prototype._setValue=W8;class L9 extends Xd{}L9.prototype._setValue=Y8;class b9 extends Xd{}b9.prototype._setValue=X8;class T9 extends Xd{}T9.prototype._setValue=K8;class Kd extends ac{}Kd.prototype._setValue=lN;class E9 extends Kd{}E9.prototype._setValue=Z8;class v9 extends Kd{}v9.prototype._setValue=Q8;class S9 extends Kd{}S9.prototype._setValue=J8;class x9 extends Kd{}x9.prototype._setValue=e9;class Zy extends Ri{constructor(t){super(t),this._typeIds=new X2(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,i){return i===void 0&&(i=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,i),this}setValue(t,n,i){this._typeIds.set(t,i);const s=this.type.typeIdToChildIndex[i],l=this.children[s];l==null||l.set(t,n)}addChild(t,n=`${this.children.length}`){const i=this.children.push(t),{type:{children:s,mode:l,typeIds:c}}=this,d=[...s,new Wt(n,t.type)];return this.type=new Ul(l,[...c,i],d),i}_valueToChildTypeId(t,n,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class uC extends Zy{}class hC extends Zy{constructor(t){super(t),this._offsets=new X2(new Int32Array(0))}setValue(t,n,i){const s=this._typeIds.set(t,i).buffer[t],l=this.getChildAt(this.type.typeIdToChildIndex[s]),c=this._offsets.set(t,l.length).buffer[t];l==null||l.set(c,n)}}class k9 extends Ky{constructor(t){super(t),this._values=new Xy(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Uy(n))}_flushPending(t,n){}}k9.prototype._flushPending=u9.prototype._flushPending;class mK extends mt{visitNull(){return dC}visitBool(){return YN}visitInt(){return Za}visitInt8(){return eC}visitInt16(){return tC}visitInt32(){return nC}visitInt64(){return iC}visitUint8(){return sC}visitUint16(){return rC}visitUint32(){return aC}visitUint64(){return oC}visitFloat(){return Z2}visitFloat16(){return ZN}visitFloat32(){return QN}visitFloat64(){return JN}visitUtf8(){return k9}visitBinary(){return u9}visitFixedSizeBinary(){return g9}visitDate(){return K2}visitDateDay(){return h9}visitDateMillisecond(){return _9}visitTimestamp(){return Xd}visitTimestampSecond(){return w9}visitTimestampMillisecond(){return L9}visitTimestampMicrosecond(){return b9}visitTimestampNanosecond(){return T9}visitTime(){return Kd}visitTimeSecond(){return E9}visitTimeMillisecond(){return v9}visitTimeMicrosecond(){return S9}visitTimeNanosecond(){return x9}visitDecimal(){return p9}visitList(){return lC}visitStruct(){return fC}visitUnion(){return Zy}visitDenseUnion(){return hC}visitSparseUnion(){return uC}visitDictionary(){return XN}visitInterval(){return Q2}visitIntervalDayTime(){return y9}visitIntervalYearMonth(){return m9}visitFixedSizeList(){return KN}visitMap(){return cC}}const wK=new mK;class rt extends mt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((i,s)=>this.compareFields(i,n[s]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function vs(e,t){return t instanceof e.constructor}function J2(e,t){return e===t||vs(e,t)}function Yo(e,t){return e===t||vs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Qy(e,t){return e===t||vs(e,t)&&e.precision===t.precision}function LK(e,t){return e===t||vs(e,t)&&e.byteWidth===t.byteWidth}function B9(e,t){return e===t||vs(e,t)&&e.unit===t.unit}function e0(e,t){return e===t||vs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function t0(e,t){return e===t||vs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function bK(e,t){return e===t||vs(e,t)&&e.children.length===t.children.length&&Da.compareManyFields(e.children,t.children)}function TK(e,t){return e===t||vs(e,t)&&e.children.length===t.children.length&&Da.compareManyFields(e.children,t.children)}function F9(e,t){return e===t||vs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,i)=>n===t.typeIds[i])&&Da.compareManyFields(e.children,t.children)}function EK(e,t){return e===t||vs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Da.visit(e.indices,t.indices)&&Da.visit(e.dictionary,t.dictionary)}function I9(e,t){return e===t||vs(e,t)&&e.unit===t.unit}function vK(e,t){return e===t||vs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Da.compareManyFields(e.children,t.children)}function SK(e,t){return e===t||vs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Da.compareManyFields(e.children,t.children)}rt.prototype.visitNull=J2;rt.prototype.visitBool=J2;rt.prototype.visitInt=Yo;rt.prototype.visitInt8=Yo;rt.prototype.visitInt16=Yo;rt.prototype.visitInt32=Yo;rt.prototype.visitInt64=Yo;rt.prototype.visitUint8=Yo;rt.prototype.visitUint16=Yo;rt.prototype.visitUint32=Yo;rt.prototype.visitUint64=Yo;rt.prototype.visitFloat=Qy;rt.prototype.visitFloat16=Qy;rt.prototype.visitFloat32=Qy;rt.prototype.visitFloat64=Qy;rt.prototype.visitUtf8=J2;rt.prototype.visitBinary=J2;rt.prototype.visitFixedSizeBinary=LK;rt.prototype.visitDate=B9;rt.prototype.visitDateDay=B9;rt.prototype.visitDateMillisecond=B9;rt.prototype.visitTimestamp=e0;rt.prototype.visitTimestampSecond=e0;rt.prototype.visitTimestampMillisecond=e0;rt.prototype.visitTimestampMicrosecond=e0;rt.prototype.visitTimestampNanosecond=e0;rt.prototype.visitTime=t0;rt.prototype.visitTimeSecond=t0;rt.prototype.visitTimeMillisecond=t0;rt.prototype.visitTimeMicrosecond=t0;rt.prototype.visitTimeNanosecond=t0;rt.prototype.visitDecimal=J2;rt.prototype.visitList=bK;rt.prototype.visitStruct=TK;rt.prototype.visitUnion=F9;rt.prototype.visitDenseUnion=F9;rt.prototype.visitSparseUnion=F9;rt.prototype.visitDictionary=EK;rt.prototype.visitInterval=I9;rt.prototype.visitIntervalDayTime=I9;rt.prototype.visitIntervalYearMonth=I9;rt.prototype.visitFixedSizeList=vK;rt.prototype.visitMap=SK;const Da=new rt;function Xp(e,t){return Da.compareSchemas(e,t)}function xK(e,t){return Da.compareFields(e,t)}function _C(e,t){return Da.visit(e,t)}function vd(e){const t=e.type,n=new(wK.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const i=e.children||[],s={nullValues:e.nullValues},l=Array.isArray(i)?(c,d)=>i[d]||s:({name:c})=>i[c]||s;for(const[c,d]of t.children.entries()){const{type:f}=d,u=l(d,c);n.children.push(vd(Object.assign(Object.assign({},u),{type:f})))}}return n}function M9(e,t){if(e instanceof jt||e instanceof Ge||e.type instanceof Ye||ArrayBuffer.isView(e))return Yy(e);const n={type:t??dp(e),nullValues:[null]},i=[...pC(n)(e)],s=i.length===1?i[0]:i.reduce((l,c)=>l.concat(c));return Ye.isDictionary(s.type)?s.memoize():s}function kK(e){const t=M9(e),n=new ci(new Nt(t.type.children),t.data[0]);return new kn(n)}function dp(e){if(e.length===0)return new Na;let t=0,n=0,i=0,s=0,l=0,c=0,d=0,f=0;for(const u of e){if(u==null){++t;continue}switch(typeof u){case"bigint":++c;continue;case"boolean":++d;continue;case"number":++s;continue;case"string":++l;continue;case"object":Array.isArray(u)?++n:Object.prototype.toString.call(u)==="[object Date]"?++f:++i;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(s+t===e.length)return new jy;if(l+t===e.length)return new Ho(new yu,new Dl);if(c+t===e.length)return new zy;if(d+t===e.length)return new mu;if(f+t===e.length)return new tN;if(n+t===e.length){const u=e,a=dp(u[u.findIndex(y=>y!=null)]);if(u.every(y=>y==null||_C(a,dp(y))))return new Ed(new Wt("",a,!0))}else if(i+t===e.length){const u=new Map;for(const a of e)for(const y of Object.keys(a))!u.has(y)&&a[y]!=null&&u.set(y,new Wt(y,dp([a[y]]),!0));return new Gn([...u.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function pC(e){const{["queueingStrategy"]:t="count"}=e,{["highWaterMark"]:n=t!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=e,i=t!=="bytes"?"length":"byteLength";return function*(s){let l=0;const c=vd(e);for(const d of s)c.append(d)[i]>=n&&++l&&(yield c.toVector());(c.finish().length>0||l===0)&&(yield c.toVector())}}function BK(e){const{["queueingStrategy"]:t="count"}=e,{["highWaterMark"]:n=t!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=e,i=t!=="bytes"?"length":"byteLength";return function(s){return Mr(this,arguments,function*(){var l,c,d,f;let u=0;const a=vd(e);try{for(var y=!0,w=Il(s),m;m=yield tt(w.next()),l=m.done,!l;y=!0){f=m.value,y=!1;const o=f;a.append(o)[i]>=n&&++u&&(yield yield tt(a.toVector()))}}catch(o){c={error:o}}finally{try{!y&&!l&&(d=w.return)&&(yield tt(d.call(w)))}finally{if(c)throw c.error}}(a.finish().length>0||u===0)&&(yield yield tt(a.toVector()))})}}function w6(e,t){return FK(e,t.map(n=>n.data.concat()))}function FK(e,t){const n=[...e.fields],i=[],s={numBatches:t.reduce((y,w)=>Math.max(y,w.length),0)};let l=0,c=0,d=-1;const f=t.length;let u,a=[];for(;s.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,d=-1;++d<f;)a[d]=u=t[d].shift(),c=Math.min(c,u?u.length:c);Number.isFinite(c)&&(a=IK(n,c,a,t,s),c>0&&(i[l++]=Qe({type:new Gn(n),length:c,nullCount:0,children:a.slice()})))}return[e=e.assign(n),i.map(y=>new ci(e,y))]}function IK(e,t,n,i,s){var l;const c=(t+63&-64)>>3;for(let d=-1,f=i.length;++d<f;){const u=n[d],a=u==null?void 0:u.length;if(a>=t)a===t?n[d]=u:(n[d]=u.slice(0,t),s.numBatches=Math.max(s.numBatches,i[d].unshift(u.slice(t,a-t))));else{const y=e[d];e[d]=y.clone({nullable:!0}),n[d]=(l=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&l!==void 0?l:Qe({type:y.type,length:t,nullCount:t,nullBitmap:new Uint8Array(c)})}}return n}var gC;class kn{constructor(...t){var n,i;if(t.length===0)return this.batches=[],this.schema=new Nt([]),this._offsets=[0],this;let s,l;t[0]instanceof Nt&&(s=t.shift()),t.at(-1)instanceof Uint32Array&&(l=t.pop());const c=f=>{if(f){if(f instanceof ci)return[f];if(f instanceof kn)return f.batches;if(f instanceof jt){if(f.type instanceof Gn)return[new ci(new Nt(f.type.children),f)]}else{if(Array.isArray(f))return f.flatMap(u=>c(u));if(typeof f[Symbol.iterator]=="function")return[...f].flatMap(u=>c(u));if(typeof f=="object"){const u=Object.keys(f),a=u.map(m=>new Ge([f[m]])),y=new Nt(u.map((m,o)=>new Wt(String(m),a[o].type))),[,w]=w6(y,a);return w.length===0?[new ci(f)]:w}}}return[]},d=t.flatMap(f=>c(f));if(s=(i=s??((n=d[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new Nt([]),!(s instanceof Nt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const f of d){if(!(f instanceof ci))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Xp(s,f.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=d,this._offsets=l??AN(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=MN(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?l9.visit(new Ge(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,i=this.data.concat(t.flatMap(({data:s})=>s));return new kn(n,i.map(s=>new ci(n,s)))}slice(t,n){const i=this.schema;[t,n]=s9({length:this.numRows},t,n);const s=ON(this.data,this._offsets,t,n);return new kn(i,s.map(l=>new ci(i,l)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(i=>i.children[t]);if(n.length===0){const{type:i}=this.schema.fields[t],s=Qe({type:i,length:0,nullCount:0});n.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new Ge(n)}return null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===t),n)}setChildAt(t,n){let i=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Ge([Qe({type:new Na,length:this.numRows})]));const l=i.fields.slice(),c=l[t].clone({type:n.type}),d=this.schema.fields.map((f,u)=>this.getChildAt(u));[l[t],d[t]]=[c,n],[i,s]=w6(i,d)}return new kn(i,s)}select(t){const n=this.schema.fields.reduce((i,s,l)=>i.set(s.name,l),new Map);return this.selectAt(t.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(t){const n=this.schema.selectAt(t),i=this.batches.map(s=>s.selectAt(t));return new kn(n,i)}assign(t){const n=this.schema.fields,[i,s]=t.schema.fields.reduce((d,f,u)=>{const[a,y]=d,w=n.findIndex(m=>m.name===f.name);return~w?y[w]=u:a.push(u),d},[[],[]]),l=this.schema.assign(t.schema),c=[...n.map((d,f)=>[f,s[f]]).map(([d,f])=>f===void 0?this.getChildAt(d):t.getChildAt(f)),...i.map(d=>t.getChildAt(d))].filter(Boolean);return new kn(...w6(l,c))}}gC=Symbol.toStringTag;kn[gC]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=iu(o9),e.get=iu(gs.getVisitFn(Q.Struct)),e.set=NN(nr.getVisitFn(Q.Struct)),e.indexOf=CN(Hp.getVisitFn(Q.Struct)),e.getByteLength=iu(Ra.getVisitFn(Q.Struct)),"Table"))(kn.prototype);function MK(e){const t={},n=Object.entries(e);for(const[i,s]of n)t[i]=Yy(s);return new kn(t)}function AK(e){const t={},n=Object.entries(e);for(const[i,s]of n)t[i]=M9(s);return new kn(t)}var yC;let ci=class d1{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Nt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Qe({nullCount:0,type:new Gn(this.schema.fields),children:this.schema.fields.map(n=>Qe({type:n.type,nullCount:0}))})]=t,!(this.data instanceof jt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Qx(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:i,children:s,length:l}=Object.keys(n).reduce((f,u,a)=>(f.children[a]=n[u],f.length=Math.max(f.length,n[u].length),f.fields[a]=Wt.new({name:u,type:n[u].type,nullable:!0}),f),{length:0,fields:new Array,children:new Array}),c=new Nt(i),d=Qe({type:new Gn(i),length:l,children:s,nullCount:0});[this.schema,this.data]=Qx(c,d.children,l);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=mC(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return gs.visit(this.data,t)}set(t,n){return nr.visit(this.data,t,n)}indexOf(t,n){return Hp.visit(this.data,t,n)}getByteLength(t){return Ra.visit(this.data,t)}[Symbol.iterator](){return l9.visit(new Ge([this.data]))}toArray(){return[...this]}concat(...t){return new kn(this.schema,[this,...t])}slice(t,n){const[i]=new Ge([this.data]).slice(t,n).data;return new d1(this.schema,i)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Ge([this.data.children[t]]):null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===t),n)}setChildAt(t,n){let i=this.schema,s=this.data;if(t>-1&&t<this.numCols){n||(n=new Ge([Qe({type:new Na,length:this.numRows})]));const l=i.fields.slice(),c=s.children.slice(),d=l[t].clone({type:n.type});[l[t],c[t]]=[d,n.data[0]],i=new Nt(l,new Map(this.schema.metadata)),s=Qe({type:new Gn(l),children:c})}return new d1(i,s)}select(t){const n=this.schema.select(t),i=new Gn(n.fields),s=[];for(const l of t){const c=this.schema.fields.findIndex(d=>d.name===l);~c&&(s[c]=this.data.children[c])}return new d1(n,Qe({type:i,length:this.numRows,children:s}))}selectAt(t){const n=this.schema.selectAt(t),i=t.map(l=>this.data.children[l]).filter(Boolean),s=Qe({type:new Gn(n.fields),length:this.numRows,children:i});return new d1(n,s)}};yC=Symbol.toStringTag;ci[yC]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ci.prototype);function Qx(e,t,n=t.reduce((i,s)=>Math.max(i,s.length),0)){var i;const s=[...e.fields],l=[...t],c=(n+63&-64)>>3;for(const[d,f]of e.fields.entries()){const u=t[d];(!u||u.length!==n)&&(s[d]=f.clone({nullable:!0}),l[d]=(i=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:Qe({type:f.type,length:n,nullCount:n,nullBitmap:new Uint8Array(c)}))}return[e.assign(s),Qe({type:new Gn(s),length:n,children:l})]}function mC(e,t,n=new Map){for(let i=-1,s=e.length;++i<s;){const c=e[i].type,d=t[i];if(Ye.isDictionary(c)){if(!n.has(c.id))d.dictionary&&n.set(c.id,d.dictionary);else if(n.get(c.id)!==d.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}c.children&&c.children.length>0&&mC(c.children,d.children,n)}return n}class A9 extends ci{constructor(t){const n=t.fields.map(s=>Qe({type:s.type})),i=Qe({type:new Gn(t.fields),nullCount:0,children:n});super(t,i)}}var Kp;(function(e){e[e.BUFFER=0]="BUFFER"})(Kp||(Kp={}));var Zp;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Zp||(Zp={}));class ul{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new ul).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+on),(n||new ul).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Zp.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Kp.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Zp.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Kp.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,i){return ul.startBodyCompression(t),ul.addCodec(t,n),ul.addMethod(t,i),ul.endBodyCompression(t)}}let wC=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},LC=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},yo=class _L{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new _L).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+on),(n||new _L).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new LC).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new wC).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new ul).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Df=class pL{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new pL).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+on),(n||new pL).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new yo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var d2;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(d2||(d2={}));let al=class la{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new la).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+on),(n||new la).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Eu.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):d2.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new Rn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Eu.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,d2.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,i,s,l,c){return la.startMessage(t),la.addVersion(t,n),la.addHeaderType(t,i),la.addHeader(t,s),la.addBodyLength(t,l),la.addCustomMetadata(t,c),la.endMessage(t)}};class OK extends mt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return nd.startNull(n),nd.endNull(n)}visitInt(t,n){return Ms.startInt(n),Ms.addBitWidth(n,t.bitWidth),Ms.addIsSigned(n,t.isSigned),Ms.endInt(n)}visitFloat(t,n){return La.startFloatingPoint(n),La.addPrecision(n,t.precision),La.endFloatingPoint(n)}visitBinary(t,n){return Jc.startBinary(n),Jc.endBinary(n)}visitBool(t,n){return ed.startBool(n),ed.endBool(n)}visitUtf8(t,n){return sd.startUtf8(n),sd.endUtf8(n)}visitDecimal(t,n){return is.startDecimal(n),is.addScale(n,t.scale),is.addPrecision(n,t.precision),is.addBitWidth(n,t.bitWidth),is.endDecimal(n)}visitDate(t,n){return op.startDate(n),op.addUnit(n,t.unit),op.endDate(n)}visitTime(t,n){return c1.startTime(n),c1.addUnit(n,t.unit),c1.addBitWidth(n,t.bitWidth),c1.endTime(n)}visitTimestamp(t,n){const i=t.timezone&&n.createString(t.timezone)||void 0;return Ys.startTimestamp(n),Ys.addUnit(n,t.unit),i!==void 0&&Ys.addTimezone(n,i),Ys.endTimestamp(n)}visitInterval(t,n){return ba.startInterval(n),ba.addUnit(n,t.unit),ba.endInterval(n)}visitList(t,n){return td.startList(n),td.endList(n)}visitStruct(t,n){return id.startStruct_(n),id.endStruct_(n)}visitUnion(t,n){Dc.startTypeIdsVector(n,t.typeIds.length);const i=Dc.createTypeIdsVector(n,t.typeIds);return Dc.startUnion(n),Dc.addMode(n,t.mode),Dc.addTypeIds(n,i),Dc.endUnion(n)}visitDictionary(t,n){const i=this.visit(t.indices,n);return vo.startDictionaryEncoding(n),vo.addId(n,BigInt(t.id)),vo.addIsOrdered(n,t.isOrdered),i!==void 0&&vo.addIndexType(n,i),vo.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return ma.startFixedSizeBinary(n),ma.addByteWidth(n,t.byteWidth),ma.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return wa.startFixedSizeList(n),wa.addListSize(n,t.listSize),wa.endFixedSizeList(n)}visitMap(t,n){return lp.startMap(n),lp.addKeysSorted(n,t.keysSorted),lp.endMap(n)}}const L6=new OK;function NK(e,t=new Map){return new Nt(RK(e,t),fp(e.customMetadata),t)}function bC(e){return new Ds(e.count,TC(e.columns),EC(e.columns))}function CK(e){return new Ua(bC(e.data),e.id,e.isDelta)}function RK(e,t){return(e.fields||[]).filter(Boolean).map(n=>Wt.fromJSON(n,t))}function Jx(e,t){return(e.children||[]).filter(Boolean).map(n=>Wt.fromJSON(n,t))}function TC(e){return(e||[]).reduce((t,n)=>[...t,new Zd(n.count,PK(n.VALIDITY)),...TC(n.children)],[])}function EC(e,t=[]){for(let n=-1,i=(e||[]).length;++n<i;){const s=e[n];s.VALIDITY&&t.push(new xa(t.length,s.VALIDITY.length)),s.TYPE&&t.push(new xa(t.length,s.TYPE.length)),s.OFFSET&&t.push(new xa(t.length,s.OFFSET.length)),s.DATA&&t.push(new xa(t.length,s.DATA.length)),t=EC(s.children,t)}return t}function PK(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function DK(e,t){let n,i,s,l,c,d;return!t||!(l=e.dictionary)?(c=tk(e,Jx(e,t)),s=new Wt(e.name,c,e.nullable,fp(e.customMetadata))):t.has(n=l.id)?(i=(i=l.indexType)?ek(i):new Dl,d=new Ho(t.get(n),i,n,l.isOrdered),s=new Wt(e.name,d,e.nullable,fp(e.customMetadata))):(i=(i=l.indexType)?ek(i):new Dl,t.set(n,c=tk(e,Jx(e,t))),d=new Ho(c,i,n,l.isOrdered),s=new Wt(e.name,d,e.nullable,fp(e.customMetadata))),s||null}function fp(e){return new Map(Object.entries(e||{}))}function ek(e){return new Oi(e.isSigned,e.bitWidth)}function tk(e,t){const n=e.type.name;switch(n){case"NONE":return new Na;case"null":return new Na;case"binary":return new s2;case"utf8":return new yu;case"bool":return new mu;case"list":return new Ed((t||[])[0]);case"struct":return new Gn(t||[]);case"struct_":return new Gn(t||[])}switch(n){case"int":{const i=e.type;return new Oi(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=e.type;return new Uo($n[i.precision])}case"decimal":{const i=e.type;return new r2(i.scale,i.precision,i.bitWidth)}case"date":{const i=e.type;return new bd(ps[i.unit])}case"time":{const i=e.type;return new Ca(at[i.unit],i.bitWidth)}case"timestamp":{const i=e.type;return new $o(at[i.unit],i.timezone)}case"interval":{const i=e.type;return new Td(tr[i.unit])}case"union":{const i=e.type;return new Ul(ni[i.mode],i.typeIds||[],t||[])}case"fixedsizebinary":{const i=e.type;return new a2(i.byteWidth)}case"fixedsizelist":{const i=e.type;return new wu(i.listSize,(t||[])[0])}case"map":{const i=e.type;return new Lu((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var UK=VN,$K=Tu;class Ei{static fromJSON(t,n){const i=new Ei(0,os.V4,n);return i._createHeader=HK(t,n),i}static decode(t){t=new $K(xt(t));const n=al.getRootAsMessage(t),i=n.bodyLength(),s=n.version(),l=n.headerType(),c=new Ei(i,s,l);return c._createHeader=zK(n,l),c}static encode(t){const n=new UK;let i=-1;return t.isSchema()?i=Nt.encode(n,t.header()):t.isRecordBatch()?i=Ds.encode(n,t.header()):t.isDictionaryBatch()&&(i=Ua.encode(n,t.header())),al.startMessage(n),al.addVersion(n,os.V4),al.addHeader(n,i),al.addHeaderType(n,t.headerType),al.addBodyLength(n,BigInt(t.bodyLength)),al.finishMessageBuffer(n,al.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Nt)return new Ei(0,os.V4,Vt.Schema,t);if(t instanceof Ds)return new Ei(n,os.V4,Vt.RecordBatch,t);if(t instanceof Ua)return new Ei(n,os.V4,Vt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Vt.Schema}isRecordBatch(){return this.headerType===Vt.RecordBatch}isDictionaryBatch(){return this.headerType===Vt.DictionaryBatch}constructor(t,n,i,s){this._version=n,this._headerType=i,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=qr(t)}}class Ds{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,i){this._nodes=n,this._buffers=i,this._length=qr(t)}}class Ua{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,i=!1){this._data=t,this._isDelta=i,this._id=qr(n)}}class xa{constructor(t,n){this.offset=qr(t),this.length=qr(n)}}class Zd{constructor(t,n){this.length=qr(t),this.nullCount=qr(n)}}function HK(e,t){return()=>{switch(t){case Vt.Schema:return Nt.fromJSON(e);case Vt.RecordBatch:return Ds.fromJSON(e);case Vt.DictionaryBatch:return Ua.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Vt[t]}, type: ${t} }`)}}function zK(e,t){return()=>{switch(t){case Vt.Schema:return Nt.decode(e.header(new fa));case Vt.RecordBatch:return Ds.decode(e.header(new yo),e.version());case Vt.DictionaryBatch:return Ua.decode(e.header(new Df),e.version())}throw new Error(`Unrecognized Message type: { name: ${Vt[t]}, type: ${t} }`)}}Wt.encode=JK;Wt.decode=ZK;Wt.fromJSON=DK;Nt.encode=QK;Nt.decode=jK;Nt.fromJSON=NK;Ds.encode=eZ;Ds.decode=qK;Ds.fromJSON=bC;Ua.encode=tZ;Ua.decode=VK;Ua.fromJSON=CK;Zd.encode=nZ;Zd.decode=WK;xa.encode=iZ;xa.decode=GK;function jK(e,t=new Map){const n=KK(e,t);return new Nt(n,up(e),t)}function qK(e,t=os.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Ds(e.length(),YK(e),XK(e,t))}function VK(e,t=os.V4){return new Ua(Ds.decode(e.data(),t),e.id(),e.isDelta())}function GK(e){return new xa(e.offset(),e.length())}function WK(e){return new Zd(e.length(),e.nullCount())}function YK(e){const t=[];for(let n,i=-1,s=-1,l=e.nodesLength();++i<l;)(n=e.nodes(i))&&(t[++s]=Zd.decode(n));return t}function XK(e,t){const n=[];for(let i,s=-1,l=-1,c=e.buffersLength();++s<c;)(i=e.buffers(s))&&(t<os.V4&&(i.bb_pos+=8*(s+1)),n[++l]=xa.decode(i));return n}function KK(e,t){const n=[];for(let i,s=-1,l=-1,c=e.fieldsLength();++s<c;)(i=e.fields(s))&&(n[++l]=Wt.decode(i,t));return n}function nk(e,t){const n=[];for(let i,s=-1,l=-1,c=e.childrenLength();++s<c;)(i=e.children(s))&&(n[++l]=Wt.decode(i,t));return n}function ZK(e,t){let n,i,s,l,c,d;return!t||!(d=e.dictionary())?(s=sk(e,nk(e,t)),i=new Wt(e.name(),s,e.nullable(),up(e))):t.has(n=qr(d.id()))?(l=(l=d.indexType())?ik(l):new Dl,c=new Ho(t.get(n),l,n,d.isOrdered()),i=new Wt(e.name(),c,e.nullable(),up(e))):(l=(l=d.indexType())?ik(l):new Dl,t.set(n,s=sk(e,nk(e,t))),c=new Ho(s,l,n,d.isOrdered()),i=new Wt(e.name(),c,e.nullable(),up(e))),i||null}function up(e){const t=new Map;if(e)for(let n,i,s=-1,l=Math.trunc(e.customMetadataLength());++s<l;)(n=e.customMetadata(s))&&(i=n.key())!=null&&t.set(i,n.value());return t}function ik(e){return new Oi(e.isSigned(),e.bitWidth())}function sk(e,t){const n=e.typeType();switch(n){case _t.NONE:return new Na;case _t.Null:return new Na;case _t.Binary:return new s2;case _t.Utf8:return new yu;case _t.Bool:return new mu;case _t.List:return new Ed((t||[])[0]);case _t.Struct_:return new Gn(t||[])}switch(n){case _t.Int:{const i=e.type(new Ms);return new Oi(i.isSigned(),i.bitWidth())}case _t.FloatingPoint:{const i=e.type(new La);return new Uo(i.precision())}case _t.Decimal:{const i=e.type(new is);return new r2(i.scale(),i.precision(),i.bitWidth())}case _t.Date:{const i=e.type(new op);return new bd(i.unit())}case _t.Time:{const i=e.type(new c1);return new Ca(i.unit(),i.bitWidth())}case _t.Timestamp:{const i=e.type(new Ys);return new $o(i.unit(),i.timezone())}case _t.Interval:{const i=e.type(new ba);return new Td(i.unit())}case _t.Union:{const i=e.type(new Dc);return new Ul(i.mode(),i.typeIdsArray()||[],t||[])}case _t.FixedSizeBinary:{const i=e.type(new ma);return new a2(i.byteWidth())}case _t.FixedSizeList:{const i=e.type(new wa);return new wu(i.listSize(),(t||[])[0])}case _t.Map:{const i=e.type(new lp);return new Lu((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${_t[n]}" (${n})`)}function QK(e,t){const n=t.fields.map(l=>Wt.encode(e,l));fa.startFieldsVector(e,n.length);const i=fa.createFieldsVector(e,n),s=t.metadata&&t.metadata.size>0?fa.createCustomMetadataVector(e,[...t.metadata].map(([l,c])=>{const d=e.createString(`${l}`),f=e.createString(`${c}`);return Rn.startKeyValue(e),Rn.addKey(e,d),Rn.addValue(e,f),Rn.endKeyValue(e)})):-1;return fa.startSchema(e),fa.addFields(e,i),fa.addEndianness(e,sZ?vu.Little:vu.Big),s!==-1&&fa.addCustomMetadata(e,s),fa.endSchema(e)}function JK(e,t){let n=-1,i=-1,s=-1;const l=t.type;let c=t.typeId;Ye.isDictionary(l)?(c=l.dictionary.typeId,s=L6.visit(l,e),i=L6.visit(l.dictionary,e)):i=L6.visit(l,e);const d=(l.children||[]).map(a=>Wt.encode(e,a)),f=Gs.createChildrenVector(e,d),u=t.metadata&&t.metadata.size>0?Gs.createCustomMetadataVector(e,[...t.metadata].map(([a,y])=>{const w=e.createString(`${a}`),m=e.createString(`${y}`);return Rn.startKeyValue(e),Rn.addKey(e,w),Rn.addValue(e,m),Rn.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Gs.startField(e),Gs.addType(e,i),Gs.addTypeType(e,c),Gs.addChildren(e,f),Gs.addNullable(e,!!t.nullable),n!==-1&&Gs.addName(e,n),s!==-1&&Gs.addDictionary(e,s),u!==-1&&Gs.addCustomMetadata(e,u),Gs.endField(e)}function eZ(e,t){const n=t.nodes||[],i=t.buffers||[];yo.startNodesVector(e,n.length);for(const c of n.slice().reverse())Zd.encode(e,c);const s=e.endVector();yo.startBuffersVector(e,i.length);for(const c of i.slice().reverse())xa.encode(e,c);const l=e.endVector();return yo.startRecordBatch(e),yo.addLength(e,BigInt(t.length)),yo.addNodes(e,s),yo.addBuffers(e,l),yo.endRecordBatch(e)}function tZ(e,t){const n=Ds.encode(e,t.data);return Df.startDictionaryBatch(e),Df.addId(e,BigInt(t.id)),Df.addIsDelta(e,t.isDelta),Df.addData(e,n),Df.endDictionaryBatch(e)}function nZ(e,t){return LC.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function iZ(e,t){return wC.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const sZ=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),O9=e=>`Expected ${Vt[e]} Message in stream, but was null or length 0.`,N9=e=>`Header pointer of flatbuffer-encoded ${Vt[e]} Message is null or length 0.`,vC=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,SC=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class C9{constructor(t){this.source=t instanceof c2?t:new c2(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Ln:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(O9(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=xt(this.source.read(t));if(n.byteLength<t)throw new Error(SC(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=Vt.Schema,i=this.readMessage(n),s=i==null?void 0:i.header();if(t&&!s)throw new Error(N9(n));return s}readMetadataLength(){const t=this.source.read(Jy),n=t&&new Tu(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(t){const n=this.source.read(t);if(!n)return Ln;if(n.byteLength<t)throw new Error(vC(t,n.byteLength));return{done:!1,value:Ei.decode(n)}}}class xC{constructor(t,n){this.source=t instanceof $l?t:xO(t)?new Yp(t,n):new $l(t)}[Symbol.asyncIterator](){return this}next(){return Ce(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Ln:t})}throw(t){return Ce(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return Ce(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return Ce(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(O9(t));return n.value})}readMessageBody(t){return Ce(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=xt(yield this.source.read(t));if(n.byteLength<t)throw new Error(SC(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(t=!1){return Ce(this,void 0,void 0,function*(){const n=Vt.Schema,i=yield this.readMessage(n),s=i==null?void 0:i.header();if(t&&!s)throw new Error(N9(n));return s})}readMetadataLength(){return Ce(this,void 0,void 0,function*(){const t=yield this.source.read(Jy),n=t&&new Tu(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(t){return Ce(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return Ln;if(n.byteLength<t)throw new Error(vC(t,n.byteLength));return{done:!1,value:Ei.decode(n)}})}}class kC extends C9{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Kx?t:new Kx(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Ei.fromJSON(t.schema,Vt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:Ei.fromJSON(n,Vt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Ei.fromJSON(n,Vt.RecordBatch)}}return this._body=[],Ln}readMessageBody(t){return n(this._body);function n(i){return(i||[]).reduce((s,l)=>[...s,...l.VALIDITY&&[l.VALIDITY]||[],...l.TYPE&&[l.TYPE]||[],...l.OFFSET&&[l.OFFSET]||[],...l.DATA&&[l.DATA]||[],...n(l.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(O9(t));return n.value}readSchema(){const t=Vt.Schema,n=this.readMessage(t),i=n==null?void 0:n.header();if(!n||!i)throw new Error(N9(t));return i}}const Jy=4,gL="ARROW1",f2=new Uint8Array(gL.length);for(let e=0;e<gL.length;e+=1)f2[e]=gL.codePointAt(e);function R9(e,t=0){for(let n=-1,i=f2.length;++n<i;)if(f2[n]!==e[t+n])return!1;return!0}const n0=f2.length,BC=n0+Jy,rZ=n0*2+Jy;class Bi extends c9{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return Pl(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Is.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Is.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Bi?t:lL(t)?lZ(t):xO(t)?fZ(t):Pl(t)?(()=>Ce(this,void 0,void 0,function*(){return yield Bi.from(yield t)}))():kO(t)||A8(t)||BO(t)||Wd(t)?dZ(new $l(t)):cZ(new c2(t))}static readAll(t){return t instanceof Bi?t.isSync()?rk(t):ak(t):lL(t)||ArrayBuffer.isView(t)||dh(t)||SO(t)?rk(t):ak(t)}}class ku extends Bi{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Mr(this,arguments,function*(){yield tt(yield*rp(Il(this[Symbol.iterator]())))})}}class u2 extends Bi{constructor(t){super(t),this._impl=t}readAll(){var t,n,i,s;return Ce(this,void 0,void 0,function*(){const l=new Array;try{for(var c=!0,d=Il(this),f;f=yield d.next(),t=f.done,!t;c=!0){s=f.value,c=!1;const u=s;l.push(u)}}catch(u){n={error:u}}finally{try{!c&&!t&&(i=d.return)&&(yield i.call(d))}finally{if(n)throw n.error}}return l})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class e4 extends ku{constructor(t){super(t),this._impl=t}}class FC extends u2{constructor(t){super(t),this._impl=t}}class IC{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const i=this._loadVectors(t,n,this.schema.fields),s=Qe({type:new Gn(this.schema.fields),length:t.length,children:i});return new ci(this.schema,s)}_loadDictionaryBatch(t,n){const{id:i,isDelta:s}=t,{dictionaries:l,schema:c}=this,d=l.get(i);if(s||!d){const f=c.dictionaries.get(i),u=this._loadVectors(t.data,n,[f]);return(d&&s?d.concat(new Ge(u)):new Ge(u)).memoize()}return d.memoize()}_loadVectors(t,n,i){return new WN(n,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Qp extends IC{constructor(t,n){super(n),this._reader=lL(t)?new kC(this._handle=t):new C9(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=AC(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Ln}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Ln}next(){if(this.closed)return Ln;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),s=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),s=n.readMessageBody(t.bodyLength),l=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new A9(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Jp extends IC{constructor(t,n){super(n),this._reader=new xC(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ce(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return Ce(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=AC(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return Ce(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Ln})}return(t){return Ce(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Ln})}next(){return Ce(this,void 0,void 0,function*(){if(this.closed)return Ln;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),s=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),s=yield n.readMessageBody(t.bodyLength),l=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new A9(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return Ce(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class MC extends Qp{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof Zx?t:new Zx(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Vt.RecordBatch);if(s!=null&&s.isRecordBatch()){const l=s.header(),c=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(l,c)}}return null}_readDictionaryBatch(t){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(Vt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const l=s.header(),c=this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(l,c);this.dictionaries.set(l.id,d)}}}_readFooter(){const{_handle:t}=this,n=t.size-BC,i=t.readInt32(n),s=t.readAt(n-i,i);return l2.decode(s)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class aZ extends Jp{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const i=typeof n[0]!="number"?n.shift():void 0,s=n[0]instanceof Map?n.shift():void 0;super(t instanceof Yp?t:new Yp(t,i),s)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return Ce(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){var n;return Ce(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Vt.RecordBatch);if(s!=null&&s.isRecordBatch()){const l=s.header(),c=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(l,c)}}return null})}_readDictionaryBatch(t){var n;return Ce(this,void 0,void 0,function*(){const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(Vt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const l=s.header(),c=yield this._reader.readMessageBody(s.bodyLength),d=this._loadDictionaryBatch(l,c);this.dictionaries.set(l.id,d)}}})}_readFooter(){return Ce(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-BC,i=yield t.readInt32(n),s=yield t.readAt(n-i,i);return l2.decode(s)})}_readNextMessageAndValidate(t){return Ce(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class oZ extends Qp{constructor(t,n){super(t,n)}_loadVectors(t,n,i){return new gK(n,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function AC(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*rk(e){const t=Bi.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function ak(e){return Mr(this,arguments,function*(){const n=yield tt(Bi.from(e));try{if(!(yield tt(n.open({autoDestroy:!1}))).closed)do yield yield tt(n);while(!(yield tt(n.reset().open())).closed)}finally{yield tt(n.cancel())}})}function lZ(e){return new ku(new oZ(e))}function cZ(e){const t=e.peek(n0+7&-8);return t&&t.byteLength>=4?R9(t)?new e4(new MC(e.read())):new ku(new Qp(e)):new ku(new Qp(function*(){}()))}function dZ(e){return Ce(this,void 0,void 0,function*(){const t=yield e.peek(n0+7&-8);return t&&t.byteLength>=4?R9(t)?new e4(new MC(yield e.read())):new u2(new Jp(e)):new u2(new Jp(function(){return Mr(this,arguments,function*(){})}()))})}function fZ(e){return Ce(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Yp(e,t);return t>=rZ&&R9(yield n.readAt(0,n0+7&-8))?new FC(new aZ(n)):new u2(new Jp(n))})}class An extends mt{static assemble(...t){const n=s=>s.flatMap(l=>Array.isArray(l)?n(l):l instanceof ci?l.data.children:l.data),i=new An;return i.visitMany(n(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Ge)return this.visitMany(t.data),this;const{type:n}=t;if(!Ye.isDictionary(n)){const{length:i,nullCount:s}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ye.isNull(n)||Dr.call(this,s<=0?new Uint8Array(0):Wy(t.offset,i,t.nullBitmap)),this.nodes.push(new Zd(i,s))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Dr(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new xa(this._byteLength,t)),this._byteLength+=t,this}function uZ(e){const{type:t,length:n,typeIds:i,valueOffsets:s}=e;if(Dr.call(this,i),t.mode===ni.Sparse)return yL.call(this,e);if(t.mode===ni.Dense){if(e.offset<=0)return Dr.call(this,s),yL.call(this,e);{const l=i.reduce((a,y)=>Math.max(a,y),i[0]),c=new Int32Array(l+1),d=new Int32Array(l+1).fill(-1),f=new Int32Array(n),u=Hy(-s[0],n,s);for(let a,y,w=-1;++w<n;)(y=d[a=i[w]])===-1&&(y=d[a]=u[a]),f[w]=u[w]-y,++c[a];Dr.call(this,f);for(let a,y=-1,w=t.children.length;++y<w;)if(a=e.children[y]){const m=t.typeIds[y],o=Math.min(n,c[m]);this.visit(a.slice(d[m],o))}}}return this}function hZ(e){let t;return e.nullCount>=e.length?Dr.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Dr.call(this,Wy(e.offset,e.length,t)):Dr.call(this,o2(e.values))}function oc(e){return Dr.call(this,e.values.subarray(0,e.length*e.stride))}function OC(e){const{length:t,values:n,valueOffsets:i}=e,s=i[0],l=i[t],c=Math.min(l-s,n.byteLength-s);return Dr.call(this,Hy(-i[0],t,i)),Dr.call(this,n.subarray(s,s+c)),this}function P9(e){const{length:t,valueOffsets:n}=e;return n&&Dr.call(this,Hy(n[0],t,n)),this.visit(e.children[0])}function yL(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}An.prototype.visitBool=hZ;An.prototype.visitInt=oc;An.prototype.visitFloat=oc;An.prototype.visitUtf8=OC;An.prototype.visitBinary=OC;An.prototype.visitFixedSizeBinary=oc;An.prototype.visitDate=oc;An.prototype.visitTimestamp=oc;An.prototype.visitTime=oc;An.prototype.visitDecimal=oc;An.prototype.visitList=P9;An.prototype.visitStruct=yL;An.prototype.visitUnion=uZ;An.prototype.visitInterval=oc;An.prototype.visitFixedSizeList=P9;An.prototype.visitMap=P9;class _Z extends mt{visit(t){return t==null?void 0:super.visit(t)}visitNull({typeId:t}){return{name:_t[t].toLowerCase()}}visitInt({typeId:t,bitWidth:n,isSigned:i}){return{name:_t[t].toLowerCase(),bitWidth:n,isSigned:i}}visitFloat({typeId:t,precision:n}){return{name:_t[t].toLowerCase(),precision:$n[n]}}visitBinary({typeId:t}){return{name:_t[t].toLowerCase()}}visitBool({typeId:t}){return{name:_t[t].toLowerCase()}}visitUtf8({typeId:t}){return{name:_t[t].toLowerCase()}}visitDecimal({typeId:t,scale:n,precision:i,bitWidth:s}){return{name:_t[t].toLowerCase(),scale:n,precision:i,bitWidth:s}}visitDate({typeId:t,unit:n}){return{name:_t[t].toLowerCase(),unit:ps[n]}}visitTime({typeId:t,unit:n,bitWidth:i}){return{name:_t[t].toLowerCase(),unit:at[n],bitWidth:i}}visitTimestamp({typeId:t,timezone:n,unit:i}){return{name:_t[t].toLowerCase(),unit:at[i],timezone:n}}visitInterval({typeId:t,unit:n}){return{name:_t[t].toLowerCase(),unit:tr[n]}}visitList({typeId:t}){return{name:_t[t].toLowerCase()}}visitStruct({typeId:t}){return{name:_t[t].toLowerCase()}}visitUnion({typeId:t,mode:n,typeIds:i}){return{name:_t[t].toLowerCase(),mode:ni[n],typeIds:[...i]}}visitDictionary(t){return this.visit(t.dictionary)}visitFixedSizeBinary({typeId:t,byteWidth:n}){return{name:_t[t].toLowerCase(),byteWidth:n}}visitFixedSizeList({typeId:t,listSize:n}){return{name:_t[t].toLowerCase(),listSize:n}}visitMap({typeId:t,keysSorted:n}){return{name:_t[t].toLowerCase(),keysSorted:n}}}class t4 extends mt{static assemble(...t){const n=new t4;return t.map(({schema:i,data:s})=>n.visitMany(i.fields,s.children))}visit({name:t},n){const{length:i}=n,{offset:s,nullCount:l,nullBitmap:c}=n,d=Ye.isDictionary(n.type)?n.type.indices:n.type,f=Object.assign([],n.buffers,{[br.VALIDITY]:void 0});return Object.assign({name:t,count:i,VALIDITY:Ye.isNull(d)?void 0:l<=0?Array.from({length:i},()=>1):[...new bu(c,s,i,null,r9)]},super.visit(n.clone(d,s,i,0,f)))}visitNull(){return{}}visitBool({values:t,offset:n,length:i}){return{DATA:[...new bu(t,n,i,null,Gy)]}}visitInt(t){return{DATA:t.type.bitWidth<64?[...t.values]:[...Rh(t.values,2)]}}visitFloat(t){return{DATA:[...t.values]}}visitUtf8(t){return{DATA:[...new Ge([t])],OFFSET:[...t.valueOffsets]}}visitBinary(t){return{DATA:[...ok(new Ge([t]))],OFFSET:[...t.valueOffsets]}}visitFixedSizeBinary(t){return{DATA:[...ok(new Ge([t]))]}}visitDate(t){return{DATA:t.type.unit===ps.DAY?[...t.values]:[...Rh(t.values,2)]}}visitTimestamp(t){return{DATA:[...Rh(t.values,2)]}}visitTime(t){return{DATA:t.type.unit<at.MICROSECOND?[...t.values]:[...Rh(t.values,2)]}}visitDecimal(t){return{DATA:[...Rh(t.values,4)]}}visitList(t){return{OFFSET:[...t.valueOffsets],children:this.visitMany(t.type.children,t.children)}}visitStruct(t){return{children:this.visitMany(t.type.children,t.children)}}visitUnion(t){return{TYPE:[...t.typeIds],OFFSET:t.type.mode===ni.Dense?[...t.valueOffsets]:void 0,children:this.visitMany(t.type.children,t.children)}}visitInterval(t){return{DATA:[...t.values]}}visitFixedSizeList(t){return{children:this.visitMany(t.type.children,t.children)}}visitMap(t){return{OFFSET:[...t.valueOffsets],children:this.visitMany(t.type.children,t.children)}}}function*ok(e){for(const t of e)yield t.reduce((n,i)=>`${n}${("0"+(i&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*Rh(e,t){const n=new Uint32Array(e.buffer);for(let i=-1,s=n.length/t;++i<s;)yield`${W2.new(n.subarray((i+0)*t,(i+1)*t),!1)}`}class i0 extends c9{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new su,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,_s(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Pl(t)?t.then(n=>this.writeAll(n)):Wd(t)?$9(this,t):U9(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof su?this._sink=t:(this._sink=new su,t&&XW(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&KW(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Xp(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof kn&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof ci&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Xp(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof ci?t instanceof A9||this._writeRecordBatch(t):t instanceof kn?this.writeAll(t.batches):dh(t)&&this.writeAll(t)}_writeMessage(t,n=8){const i=n-1,s=Ei.encode(t),l=s.byteLength,c=this._writeLegacyIpcFormat?4:8,d=l+c+i&~i,f=d-l-c;return t.headerType===Vt.RecordBatch?this._recordBatchBlocks.push(new Pa(d,t.bodyLength,this._position)):t.headerType===Vt.DictionaryBatch&&this._dictionaryBlocks.push(new Pa(d,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(d-c)),l>0&&this._write(s),this._writePadding(f)}_write(t){if(this._started){const n=xt(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Ei.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(f2)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:i,bufferRegions:s,buffers:l}=An.assemble(t),c=new Ds(t.numRows,i,s),d=Ei.from(c,n);return this._writeDictionaries(t)._writeMessage(d)._writeBodyBuffers(l)}_writeDictionaryBatch(t,n,i=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:s,nodes:l,bufferRegions:c,buffers:d}=An.assemble(new Ge([t])),f=new Ds(t.length,l,c),u=new Ua(f,n,i),a=Ei.from(u,s);return this._writeMessage(a)._writeBodyBuffers(d)}_writeBodyBuffers(t){let n,i,s;for(let l=-1,c=t.length;++l<c;)(n=t[l])&&(i=n.byteLength)>0&&(this._write(n),(s=(i+7&-8)-i)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[n,i]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(n)||0;if(s===0||(i=i==null?void 0:i.slice(s)).length>0)for(const l of i.data)this._writeDictionaryBatch(l,n,s>0),s+=l.length}return this}}class s0 extends i0{static writeAll(t,n){const i=new s0(n);return Pl(t)?t.then(s=>i.writeAll(s)):Wd(t)?$9(i,t):U9(i,t)}}class r0 extends i0{static writeAll(t){const n=new r0;return Pl(t)?t.then(i=>n.writeAll(i)):Wd(t)?$9(n,t):U9(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=l2.encode(new l2(t,os.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}class D9 extends i0{static writeAll(t){return new D9().writeAll(t)}constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}_writeMessage(){return this}_writeFooter(t){return this}_writeSchema(t){return this._write(`{
  "schema": ${JSON.stringify({fields:t.fields.map(n=>NC(n))},null,2)}`)}_writeDictionaries(t){return t.dictionaries.size>0&&this._dictionaries.push(t),this}_writeDictionaryBatch(t,n,i=!1){return this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${pZ(t,n,i)}`),this._dictionaryBlocks.push(new Pa(0,0,0)),this}_writeRecordBatch(t){return this._writeDictionaries(t),this._recordBatches.push(t),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(const t of this._dictionaries)super._writeDictionaries(t);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let t=-1,n=this._recordBatches.length;++t<n;)this._write(t===0?`,
  "batches": [
    `:`,
    `),this._write(`${gZ(this._recordBatches[t])}`),this._recordBatchBlocks.push(new Pa(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}}function U9(e,t){let n=t;t instanceof kn&&(n=t.batches,e.reset(void 0,t.schema));for(const i of n)e.write(i);return e.finish()}function $9(e,t){var n,i,s,l,c,d,f;return Ce(this,void 0,void 0,function*(){try{for(n=!0,i=Il(t);s=yield i.next(),l=s.done,!l;n=!0){f=s.value,n=!1;const u=f;e.write(u)}}catch(u){c={error:u}}finally{try{!n&&!l&&(d=i.return)&&(yield d.call(i))}finally{if(c)throw c.error}}return e.finish()})}function NC({name:e,type:t,nullable:n}){const i=new _Z;return{name:e,nullable:n,type:i.visit(t),children:(t.children||[]).map(s=>NC(s)),dictionary:Ye.isDictionary(t)?{id:t.id,isOrdered:t.isOrdered,indexType:i.visit(t.indices)}:void 0}}function pZ(e,t,n=!1){const[i]=t4.assemble(new ci({[t]:e}));return JSON.stringify({id:t,isDelta:n,data:{count:e.length,columns:i}},null,2)}function gZ(e){const[t]=t4.assemble(e);return JSON.stringify({count:e.numRows,columns:t},null,2)}function yZ(e,t){if(Wd(e))return wZ(e,t);if(dh(e))return mZ(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function mZ(e,t){let n=null;const i=(t==null?void 0:t.type)==="bytes"||!1,s=(t==null?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(c){l(c,n||(n=e[Symbol.iterator]()))},pull(c){n?l(c,n):c.close()},cancel(){(n!=null&&n.return&&n.return()||!0)&&(n=null)}}),Object.assign({highWaterMark:i?s:void 0},t));function l(c,d){let f,u=null,a=c.desiredSize||null;for(;!(u=d.next(i?a:null)).done;)if(ArrayBuffer.isView(u.value)&&(f=xt(u.value))&&(a!=null&&i&&(a=a-f.byteLength+1),u.value=f),c.enqueue(u.value),a!=null&&--a<=0)return;c.close()}}function wZ(e,t){let n=null;const i=(t==null?void 0:t.type)==="bytes"||!1,s=(t==null?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(c){return Ce(this,void 0,void 0,function*(){yield l(c,n||(n=e[Symbol.asyncIterator]()))})},pull(c){return Ce(this,void 0,void 0,function*(){n?yield l(c,n):c.close()})},cancel(){return Ce(this,void 0,void 0,function*(){(n!=null&&n.return&&(yield n.return())||!0)&&(n=null)})}}),Object.assign({highWaterMark:i?s:void 0},t));function l(c,d){return Ce(this,void 0,void 0,function*(){let f,u=null,a=c.desiredSize||null;for(;!(u=yield d.next(i?a:null)).done;)if(ArrayBuffer.isView(u.value)&&(f=xt(u.value))&&(a!=null&&i&&(a=a-f.byteLength+1),u.value=f),c.enqueue(u.value),a!=null&&--a<=0)return;c.close()})}}function LZ(e){return new bZ(e)}class bZ{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{["readableStrategy"]:n,["writableStrategy"]:i,["queueingStrategy"]:s="count"}=t,l=VW(t,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=vd(l),this._getSize=s!=="bytes"?lk:ck;const{["highWaterMark"]:c=s==="bytes"?Math.pow(2,14):1e3}=Object.assign({},n),{["highWaterMark"]:d=s==="bytes"?Math.pow(2,14):1e3}=Object.assign({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:f=>{this._maybeFlush(this._builder,this._controller=f)},start:f=>{this._maybeFlush(this._builder,this._controller=f)}},{highWaterMark:c,size:s!=="bytes"?lk:ck}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:d,size:f=>this._writeValueAndReturnChunkSize(f)})}_writeValueAndReturnChunkSize(t){const n=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-n}_maybeFlush(t,n){n!=null&&(this._bufferedSize>=n.desiredSize&&++this._numChunks&&this._enqueue(n,t.toVector()),t.finished&&((t.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(n,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(n,null)))}_enqueue(t,n){this._bufferedSize=0,this._controller=null,n==null?t.close():t.enqueue(n)}}const lk=e=>{var t;return(t=e==null?void 0:e.length)!==null&&t!==void 0?t:0},ck=e=>{var t;return(t=e==null?void 0:e.byteLength)!==null&&t!==void 0?t:0};function H9(e,t){const n=new su;let i=null;const s=new ReadableStream({cancel(){return Ce(this,void 0,void 0,function*(){yield n.close()})},start(d){return Ce(this,void 0,void 0,function*(){yield c(d,i||(i=yield l()))})},pull(d){return Ce(this,void 0,void 0,function*(){i?yield c(d,i):d.close()})}});return{writable:new WritableStream(n,Object.assign({highWaterMark:Math.pow(2,14)},e)),readable:s};function l(){return Ce(this,void 0,void 0,function*(){return yield(yield Bi.from(n)).open(t)})}function c(d,f){return Ce(this,void 0,void 0,function*(){let u=d.desiredSize,a=null;for(;!(a=yield f.next()).done;)if(d.enqueue(a.value),u!=null&&--u<=0)return;d.close()})}}function z9(e,t){const n=new this(e),i=new $l(n),s=new ReadableStream({cancel(){return Ce(this,void 0,void 0,function*(){yield i.cancel()})},pull(c){return Ce(this,void 0,void 0,function*(){yield l(c)})},start(c){return Ce(this,void 0,void 0,function*(){yield l(c)})}},Object.assign({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(n,e),readable:s};function l(c){return Ce(this,void 0,void 0,function*(){let d=null,f=c.desiredSize;for(;d=yield i.read(f||null);)if(c.enqueue(d),f!=null&&(f-=d.byteLength)<=0)return;c.close()})}}function CC(e){const t=Bi.from(e);return Pl(t)?t.then(n=>CC(n)):t.isAsync()?t.readAll().then(n=>new kn(n)):new kn(t.readAll())}function RC(e,t="stream"){return(t==="stream"?s0:r0).writeAll(e).toUint8Array(!0)}const TZ=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MY),pK),YX),WY),vY),GX),{compareSchemas:Xp,compareFields:xK,compareTypes:_C});Is.toDOMStream=yZ;Ri.throughDOM=LZ;Bi.throughDOM=H9;e4.throughDOM=H9;ku.throughDOM=H9;i0.throughDOM=z9;r0.throughDOM=z9;s0.throughDOM=z9;const EZ=Object.freeze(Object.defineProperty({__proto__:null,AsyncByteQueue:su,AsyncByteStream:$l,AsyncMessageReader:xC,AsyncRecordBatchFileReader:FC,AsyncRecordBatchStreamReader:u2,Binary:s2,BinaryBuilder:u9,Bool:mu,BoolBuilder:YN,get BufferType(){return br},Builder:Ri,ByteStream:c2,Data:jt,DataType:Ye,DateBuilder:K2,DateDay:AY,DateDayBuilder:h9,DateMillisecond:tN,DateMillisecondBuilder:_9,get DateUnit(){return ps},Date_:bd,Decimal:r2,DecimalBuilder:p9,DenseUnion:jY,DenseUnionBuilder:hC,Dictionary:Ho,DictionaryBuilder:XN,Field:Wt,FixedSizeBinary:a2,FixedSizeBinaryBuilder:g9,FixedSizeList:wu,FixedSizeListBuilder:KN,Float:Uo,Float16:eN,Float16Builder:ZN,Float32:$8,Float32Builder:QN,Float64:jy,Float64Builder:JN,FloatBuilder:Z2,Int:Oi,Int16:C8,Int16Builder:tC,Int32:Dl,Int32Builder:nC,Int64:zy,Int64Builder:iC,Int8:N8,Int8Builder:eC,IntBuilder:Za,Interval:Td,IntervalBuilder:Q2,IntervalDayTime:HY,IntervalDayTimeBuilder:y9,get IntervalUnit(){return tr},IntervalYearMonth:zY,IntervalYearMonthBuilder:m9,JSONMessageReader:kC,List:Ed,ListBuilder:lC,MapBuilder:cC,MapRow:Y2,Map_:Lu,Message:Ei,get MessageHeader(){return d2},MessageReader:C9,get MetadataVersion(){return os},Null:Na,NullBuilder:dC,get Precision(){return $n},RecordBatch:ci,RecordBatchFileReader:e4,RecordBatchFileWriter:r0,RecordBatchJSONWriter:D9,RecordBatchReader:Bi,RecordBatchStreamReader:ku,RecordBatchStreamWriter:s0,RecordBatchWriter:i0,Schema:Nt,SparseUnion:qY,SparseUnionBuilder:uC,Struct:Gn,StructBuilder:fC,StructRow:qy,Table:kn,Time:Ca,TimeBuilder:Kd,TimeMicrosecond:CY,TimeMicrosecondBuilder:S9,TimeMillisecond:NY,TimeMillisecondBuilder:v9,TimeNanosecond:RY,TimeNanosecondBuilder:x9,TimeSecond:OY,TimeSecondBuilder:E9,get TimeUnit(){return at},Timestamp:$o,TimestampBuilder:Xd,TimestampMicrosecond:UY,TimestampMicrosecondBuilder:b9,TimestampMillisecond:DY,TimestampMillisecondBuilder:L9,TimestampNanosecond:$Y,TimestampNanosecondBuilder:T9,TimestampSecond:PY,TimestampSecondBuilder:w9,get Type(){return Q},Uint16:P8,Uint16Builder:rC,Uint32:D8,Uint32Builder:aC,Uint64:U8,Uint64Builder:oC,Uint8:R8,Uint8Builder:sC,Union:Ul,UnionBuilder:Zy,get UnionMode(){return ni},Utf8:yu,Utf8Builder:k9,Vector:Ge,Visitor:mt,builderThroughAsyncIterable:BK,builderThroughIterable:pC,makeBuilder:vd,makeData:Qe,makeTable:MK,makeVector:Yy,tableFromArrays:AK,tableFromIPC:CC,tableFromJSON:kK,tableToIPC:RC,util:TZ,vectorFromArray:M9},Symbol.toStringTag,{value:"Module"}));function vZ(e,t,n){return Math.ceil((t-e)/(3.49*n))}const SZ=Float64Array,b6=Float64Array;var xZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}function BZ(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}var FZ=BZ;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var IZ=function(e){return e!=null&&(PC(e)||MZ(e)||!!e._isBuffer)};function PC(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function MZ(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&PC(e.slice(0,0))}var AZ=FZ,OZ=IZ,NZ=typeof Float64Array<"u";function CZ(e,t){return e[0]-t[0]}function RZ(){var e=this.stride,t=new Array(e.length),n;for(n=0;n<t.length;++n)t[n]=[Math.abs(e[n]),n];t.sort(CZ);var i=new Array(t.length);for(n=0;n<i.length;++n)i[n]=t[n][1];return i}function PZ(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i=e==="generic";if(t===-1){var s="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",b=new Function(s);return b()}else if(t===0){var s="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",b=new Function("TrivialArray",s);return b(eg[e][0])}var s=["'use strict'"],l=AZ(t),c=l.map(function(L){return"i"+L}),d="this.offset+"+l.map(function(L){return"this.stride["+L+"]*i"+L}).join("+"),f=l.map(function(L){return"b"+L}).join(","),u=l.map(function(L){return"c"+L}).join(",");s.push("function "+n+"(a,"+f+","+u+",d){this.data=a","this.shape=["+f+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),s.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+l.map(function(L){return"this.shape["+L+"]"}).join("*"),"}})"),t===1?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),t<4?(s.push("function "+n+"_order(){"),t===2?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),i?s.push("return this.data.set("+d+",v)}"):s.push("return this.data["+d+"]=v}"),s.push("proto.get=function "+n+"_get("+c.join(",")+"){"),i?s.push("return this.data.get("+d+")}"):s.push("return this.data["+d+"]}"),s.push("proto.index=function "+n+"_index(",c.join(),"){return "+d+"}"),s.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+l.map(function(L){return["(typeof i",L,"!=='number'||i",L,"<0)?this.shape[",L,"]:i",L,"|0"].join("")}).join(",")+","+l.map(function(L){return"this.stride["+L+"]"}).join(",")+",this.offset)}");var a=l.map(function(L){return"a"+L+"=this.shape["+L+"]"}),y=l.map(function(L){return"c"+L+"=this.stride["+L+"]"});s.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+a.join(",")+","+y.join(","));for(var w=0;w<t;++w)s.push("if(typeof i"+w+"==='number'&&i"+w+">=0){d=i"+w+"|0;b+=c"+w+"*d;a"+w+"-=d}");s.push("return new "+n+"(this.data,"+l.map(function(L){return"a"+L}).join(",")+","+l.map(function(L){return"c"+L}).join(",")+",b)}"),s.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+l.map(function(L){return"a"+L+"=this.shape["+L+"]"}).join(",")+","+l.map(function(L){return"b"+L+"=this.stride["+L+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var w=0;w<t;++w)s.push("if(typeof i"+w+"==='number'){d=i"+w+"|0;if(d<0){c+=b"+w+"*(a"+w+"-1);a"+w+"=ceil(-a"+w+"/d)}else{a"+w+"=ceil(a"+w+"/d)}b"+w+"*=d}");s.push("return new "+n+"(this.data,"+l.map(function(L){return"a"+L}).join(",")+","+l.map(function(L){return"b"+L}).join(",")+",c)}");for(var m=new Array(t),o=new Array(t),w=0;w<t;++w)m[w]="a[i"+w+"]",o[w]="b[i"+w+"]";s.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(L,v){return L+"=("+L+"===undefined?"+v+":"+L+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+m.join(",")+","+o.join(",")+",this.offset)}"),s.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var w=0;w<t;++w)s.push("if(typeof i"+w+"==='number'&&i"+w+">=0){c=(c+this.stride["+w+"]*i"+w+")|0}else{a.push(this.shape["+w+"]);b.push(this.stride["+w+"])}");s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+l.map(function(L){return"shape["+L+"]"}).join(",")+","+l.map(function(L){return"stride["+L+"]"}).join(",")+",offset)}");var b=new Function("CTOR_LIST","ORDER",s.join(`
`));return b(eg[e],RZ)}function DZ(e){if(OZ(e))return"buffer";if(NZ)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var eg={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function UZ(e,t,n,i){if(e===void 0){var u=eg.array[0];return u([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var s=t.length;if(n===void 0){n=new Array(s);for(var l=s-1,c=1;l>=0;--l)n[l]=c,c*=t[l]}if(i===void 0){i=0;for(var l=0;l<s;++l)n[l]<0&&(i-=(t[l]-1)*n[l])}for(var d=DZ(e),f=eg[d];f.length<=s+1;)f.push(PZ(d,f.length-1));var u=f[s+1];return u(e,t,n,i)}var $Z=UZ;const HZ=fh($Z);var f1="n",Uf="d",$c="s",tg="p",Hc="o",hp="i",zZ=qZ;function mL(e,t,n){if(n===0){for(var i=[[]],s=0;s<t.length;++s)if(!t[s])for(var l=i.length,c=0;c<l;++c){var d=i[c].slice();d.push($c+s),i.push(d)}if(i.length===1)return"";var f=[];e==="generic"?f.push(Uf,".set(",Hc,",",Uf,".get(",Hc,")+"):f.push(Uf,"[",Hc,"]+=");for(var s=1;s<i.length;++s){var d=i[s],u=(d.length+1)%2;s>1&&!u?f.push("+"):u&&f.push("-"),e==="generic"?f.push(Uf,".get("):f.push(Uf,"["),f.push(Hc,"-",d.join("-")),e==="generic"?f.push(")"):f.push("]")}return e==="generic"?f.push(");"):f.push(";"),f.join("")}t[n-1]=!0;var a=[mL(e,t,n-1),Hc,"+=",tg,n-1,";for(",hp,n-1,"=1;",hp,n-1,"<",f1,n-1,";++",hp,n-1,"){"];return t[n-1]=!1,a.push(mL(e,t,n-1),Hc,"+=",tg,n-1,";}"),a.join("")}function jZ(e,t){for(var n=["prefixSum",t.length,"d",e,"s",t.join("s")].join(""),i=["function ",n,"(arr){var ",Uf,"=arr.data,",f1,"=arr.shape,",$c,"=arr.stride,",Hc,"=arr.offset,"],s=t.length,l=0;l<s;++l)i.push(f1,l,"=",f1,"[",t[l],"],");for(var l=0;l<s;++l)i.push($c,l,"=",$c,"[",t[l],"],");for(var l=0;l<s;++l)i.push(hp,l,"=0,");for(var l=s-1;l>0;--l)i.push(tg,l,"=",$c,l,"-",f1,l-1,"*",$c,l-1,",");i.push(tg,"0=",$c,0,";");for(var c=new Array(s),l=0;l<s;++l)c[l]=!0;i.push(mL(e,c,s),"}return ",n);var d=new Function(i.join(""));return d()}var dk={};function qZ(e){var t=e.dtype+e.order.join(),n=dk[t];return n||(n=dk[t]=jZ(e.dtype,e.order)),n(e),e}const VZ=fh(zZ);var DC={};function GZ(e,t){for(var n=1,i=e.length,s=e[0],l=e[0],c=1;c<i;++c)if(l=s,s=e[c],t(s,l)){if(c===n){n++;continue}e[n++]=s}return e.length=n,e}function WZ(e){for(var t=1,n=e.length,i=e[0],s=e[0],l=1;l<n;++l,s=i)if(s=i,i=e[l],i!==s){if(l===t){t++;continue}e[t++]=i}return e.length=t,e}function YZ(e,t,n){return e.length===0?e:t?(n||e.sort(t),GZ(e,t)):(n||e.sort(),WZ(e))}var XZ=YZ,KZ=XZ;function UC(e,t,n){var i=e.length,s=t.arrayArgs.length,l=t.indexArgs.length>0,c=[],d=[],f=0,u=0,a,y;for(a=0;a<i;++a)d.push(["i",a,"=0"].join(""));for(y=0;y<s;++y)for(a=0;a<i;++a)u=f,f=e[a],a===0?d.push(["d",y,"s",a,"=t",y,"p",f].join("")):d.push(["d",y,"s",a,"=(t",y,"p",f,"-s",u,"*t",y,"p",u,")"].join(""));for(d.length>0&&c.push("var "+d.join(",")),a=i-1;a>=0;--a)f=e[a],c.push(["for(i",a,"=0;i",a,"<s",f,";++i",a,"){"].join(""));for(c.push(n),a=0;a<i;++a){for(u=f,f=e[a],y=0;y<s;++y)c.push(["p",y,"+=d",y,"s",a].join(""));l&&(a>0&&c.push(["index[",u,"]-=s",u].join("")),c.push(["++index[",f,"]"].join(""))),c.push("}")}return c.join(`
`)}function ZZ(e,t,n,i){for(var s=t.length,l=n.arrayArgs.length,c=n.blockSize,d=n.indexArgs.length>0,f=[],u=0;u<l;++u)f.push(["var offset",u,"=p",u].join(""));for(var u=e;u<s;++u)f.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),f.push(["if(j",u,"<",c,"){"].join("")),f.push(["s",t[u],"=j",u].join("")),f.push(["j",u,"=0"].join("")),f.push(["}else{s",t[u],"=",c].join("")),f.push(["j",u,"-=",c,"}"].join("")),d&&f.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<l;++u){for(var a=["offset"+u],y=e;y<s;++y)a.push(["j",y,"*t",u,"p",t[y]].join(""));f.push(["p",u,"=(",a.join("+"),")"].join(""))}f.push(UC(t,n,i));for(var u=e;u<s;++u)f.push("}");return f.join(`
`)}function QZ(e){for(var t=0,n=e[0].length;t<n;){for(var i=1;i<e.length;++i)if(e[i][t]!==e[0][t])return t;++t}return t}function T6(e,t,n){for(var i=e.body,s=[],l=[],c=0;c<e.args.length;++c){var d=e.args[c];if(!(d.count<=0)){var f=new RegExp(d.name,"g"),u="",a=t.arrayArgs.indexOf(c);switch(t.argTypes[c]){case"offset":var y=t.offsetArgIndex.indexOf(c),w=t.offsetArgs[y];a=w.array,u="+q"+y;case"array":u="p"+a+u;var m="l"+c,o="a"+a;if(t.arrayBlockIndices[a]===0)d.count===1?n[a]==="generic"?d.lvalue?(s.push(["var ",m,"=",o,".get(",u,")"].join("")),i=i.replace(f,m),l.push([o,".set(",u,",",m,")"].join(""))):i=i.replace(f,[o,".get(",u,")"].join("")):i=i.replace(f,[o,"[",u,"]"].join("")):n[a]==="generic"?(s.push(["var ",m,"=",o,".get(",u,")"].join("")),i=i.replace(f,m),d.lvalue&&l.push([o,".set(",u,",",m,")"].join(""))):(s.push(["var ",m,"=",o,"[",u,"]"].join("")),i=i.replace(f,m),d.lvalue&&l.push([o,"[",u,"]=",m].join("")));else{for(var b=[d.name],L=[u],v=0;v<Math.abs(t.arrayBlockIndices[a]);v++)b.push("\\s*\\[([^\\]]+)\\]"),L.push("$"+(v+1)+"*t"+a+"b"+v);if(f=new RegExp(b.join(""),"g"),u=L.join("+"),n[a]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");i=i.replace(f,[o,"[",u,"]"].join(""))}break;case"scalar":i=i.replace(f,"Y"+t.scalarArgs.indexOf(c));break;case"index":i=i.replace(f,"index");break;case"shape":i=i.replace(f,"shape");break}}}return[s.join(`
`),i,l.join(`
`)].join(`
`).trim()}function JZ(e){for(var t=new Array(e.length),n=!0,i=0;i<e.length;++i){var s=e[i],l=s.match(/\d+/);l?l=l[0]:l="",s.charAt(0)===0?t[i]="u"+s.charAt(1)+l:t[i]=s.charAt(0)+l,i>0&&(n=n&&t[i]===t[i-1])}return n?t[0]:t.join("")}function eQ(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,i=new Array(e.arrayArgs.length),s=new Array(e.arrayArgs.length),l=0;l<e.arrayArgs.length;++l)s[l]=t[2*l],i[l]=t[2*l+1];for(var c=[],d=[],f=[],u=[],a=[],l=0;l<e.arrayArgs.length;++l){e.arrayBlockIndices[l]<0?(f.push(0),u.push(n),c.push(n),d.push(n+e.arrayBlockIndices[l])):(f.push(e.arrayBlockIndices[l]),u.push(e.arrayBlockIndices[l]+n),c.push(0),d.push(e.arrayBlockIndices[l]));for(var y=[],w=0;w<i[l].length;w++)f[l]<=i[l][w]&&i[l][w]<u[l]&&y.push(i[l][w]-f[l]);a.push(y)}for(var m=["SS"],o=["'use strict'"],b=[],w=0;w<n;++w)b.push(["s",w,"=SS[",w,"]"].join(""));for(var l=0;l<e.arrayArgs.length;++l){m.push("a"+l),m.push("t"+l),m.push("p"+l);for(var w=0;w<n;++w)b.push(["t",l,"p",w,"=t",l,"[",f[l]+w,"]"].join(""));for(var w=0;w<Math.abs(e.arrayBlockIndices[l]);++w)b.push(["t",l,"b",w,"=t",l,"[",c[l]+w,"]"].join(""))}for(var l=0;l<e.scalarArgs.length;++l)m.push("Y"+l);if(e.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var L=new Array(n),l=0;l<n;++l)L[l]="0";b.push(["index=[",L.join(","),"]"].join(""))}for(var l=0;l<e.offsetArgs.length;++l){for(var v=e.offsetArgs[l],S=[],w=0;w<v.offset.length;++w)v.offset[w]!==0&&(v.offset[w]===1?S.push(["t",v.array,"p",w].join("")):S.push([v.offset[w],"*t",v.array,"p",w].join("")));S.length===0?b.push("q"+l+"=0"):b.push(["q",l,"=",S.join("+")].join(""))}var x=KZ([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));b=b.concat(x),b.length>0&&o.push("var "+b.join(","));for(var l=0;l<e.arrayArgs.length;++l)o.push("p"+l+"|=0");e.pre.body.length>3&&o.push(T6(e.pre,e,s));var F=T6(e.body,e,s),k=QZ(a);k<n?o.push(ZZ(k,a[0],e,F)):o.push(UC(a[0],e,F)),e.post.body.length>3&&o.push(T6(e.post,e,s)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+o.join(`
`)+`
----------`);var A=[e.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",k,JZ(s)].join(""),M=new Function(["function ",A,"(",m.join(","),"){",o.join(`
`),"} return ",A].join(""));return M()}var tQ=eQ,nQ=tQ;function iQ(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var s=[],l=[],c=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],d=[],f=[],u=0;u<e.arrayArgs.length;++u){var a=e.arrayArgs[u];n.push(["t",a,"=array",a,".dtype,","r",a,"=array",a,".order"].join("")),s.push("t"+a),s.push("r"+a),l.push("t"+a),l.push("r"+a+".join()"),c.push("array"+a+".data"),c.push("array"+a+".stride"),c.push("array"+a+".offset|0"),u>0&&(d.push("array"+e.arrayArgs[0]+".shape.length===array"+a+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),f.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+a+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var u=0;u<e.scalarArgs.length;++u)c.push("scalar"+e.scalarArgs[u]);n.push(["type=[",l.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",s.join(","),"])}","return proc(",c.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var y=new Function("compile",t.join(`
`));return y(nQ.bind(void 0,e))}var sQ=iQ,rQ=sQ;function aQ(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function oQ(e){var t=new aQ;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var s=n[i];if(s==="array"||typeof s=="object"&&s.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if(s==="scalar")t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if(s==="index"){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if(s==="shape"){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof s=="object"&&s.offset)t.argTypes[i]="offset",t.offsetArgs.push({array:s.array,offset:s.offset}),t.offsetArgIndex.push(i);else throw new Error("cwise: Unknown argument type "+n[i])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,rQ(t)}var lQ=oQ;(function(e){var t=lQ,n={body:"",args:[],thisVars:[],localVars:[]};function i(w){if(!w)return n;for(var m=0;m<w.args.length;++m){var o=w.args[m];m===0?w.args[m]={name:o,lvalue:!0,rvalue:!!w.rvalue,count:w.count||1}:w.args[m]={name:o,lvalue:!1,rvalue:!0,count:1}}return w.thisVars||(w.thisVars=[]),w.localVars||(w.localVars=[]),w}function s(w){return t({args:w.args,pre:i(w.pre),body:i(w.body),post:i(w.proc),funcName:w.funcName})}function l(w){for(var m=[],o=0;o<w.args.length;++o)m.push("a"+o);var b=new Function("P",["return function ",w.funcName,"_ndarrayops(",m.join(","),") {P(",m.join(","),");return a0}"].join(""));return b(s(w))}var c={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var w in c){var m=c[w];e[w]=l({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:w}),e[w+"eq"]=l({args:["array","array"],body:{args:["a","b"],body:"a"+m+"=b"},rvalue:!0,funcName:w+"eq"}),e[w+"s"]=l({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:w+"s"}),e[w+"seq"]=l({args:["array","scalar"],body:{args:["a","s"],body:"a"+m+"=s"},rvalue:!0,funcName:w+"seq"})}})();var d={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var w in d){var m=d[w];e[w]=l({args:["array","array"],body:{args:["a","b"],body:"a="+m+"b"},funcName:w}),e[w+"eq"]=l({args:["array"],body:{args:["a"],body:"a="+m+"a"},rvalue:!0,count:2,funcName:w+"eq"})}})();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var w in f){var m=f[w];e[w]=l({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:w}),e[w+"s"]=l({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:w+"s"}),e[w+"eq"]=l({args:["array","array"],body:{args:["a","b"],body:"a=a"+m+"b"},rvalue:!0,count:2,funcName:w+"eq"}),e[w+"seq"]=l({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+m+"s"},rvalue:!0,count:2,funcName:w+"seq"})}})();var u=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var w=0;w<u.length;++w){var m=u[w];e[m]=l({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:m}),e[m+"eq"]=l({args:["array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"})}})();var a=["max","min","atan2","pow"];(function(){for(var w=0;w<a.length;++w){var m=a[w];e[m]=l({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m}),e[m+"s"]=l({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m+"s"}),e[m+"eq"]=l({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"}),e[m+"seq"]=l({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"seq"})}})();var y=["atan2","pow"];(function(){for(var w=0;w<y.length;++w){var m=y[w];e[m+"op"]=l({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"op"}),e[m+"ops"]=l({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"ops"}),e[m+"opeq"]=l({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opeq"}),e[m+"opseq"]=l({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opseq"})}})(),e.any=t({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=l({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=l({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=l({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(DC);const p_=fh(DC),$C=class $f{constructor(t,n,i,s){this.data=t,this.ndarray=HZ(t,n,i,s)}get shape(){return this.ndarray.shape}get offset(){return this.ndarray.offset}get strides(){return this.ndarray.stride}get length(){return this.ndarray.size}set shape(t){this.ndarray.shape=t}set offset(t){this.ndarray.offset=t}set strides(t){this.ndarray.stride=t}get(...t){return this.ndarray.get(...t)}set(...t){return this.ndarray.set(...t)}fill(t){this.data.fill(t)}increment(t,n=1){const i=this.ndarray.index(...t);this.data[i]+=n}addToItself(t){return p_.addeq(this.ndarray,t.ndarray),this}subToItself(t){return p_.subeq(this.ndarray,t.ndarray),this}add(t,n=b6){const i=new $f(new n(this.length),this.shape);return p_.add(i.ndarray,this.ndarray,t.ndarray),i}sub(t,n=b6){const i=new $f(new n(this.length),this.shape);return p_.sub(i.ndarray,this.ndarray,t.ndarray),i}slice(...t){const n=this.ndarray.pick(...t);return new $f(this.data,n.shape,n.stride,n.offset)}cumulativeSum(){return VZ(this.ndarray),this}static typedArray(t,n,i,s,l){const c=new t(n);return new $f(c,i,s,l)}static allocCumulative(t,n,i,s){return this.typedArray(SZ,t,n,i,s)}static allocCounts(t,n,i,s){return this.typedArray(b6,t,n,i,s)}toString2D(){let t="";for(let n=0;n<this.shape[0];n++){let i="";for(let s=0;s<this.shape[1];s++)i+=this.get(n,s)+" ";t+=i+`
`}return t}toString1D(){let t="";for(let n=0;n<this.shape[0];n++)t+=this.get(n)+" ";return t}toString(){return this.shape.length===1?this.toString1D():this.shape.length===2?this.toString2D():"not implemented yet"}deepCopy(t){const n=$f.typedArray(t,this.length,this.shape,this.strides,this.offset);for(let i=0;i<this.length;i++)n.data[i]=this.data[i];return n}};$C.ALL=null;let Ws=$C;function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a0(e){let t,n,i;e.length!==2?(t=Ao,n=(d,f)=>Ao(e(d),f),i=(d,f)=>e(d)-f):(t=e===Ao||e===cQ?e:dQ,n=e,i=e);function s(d,f,u=0,a=d.length){if(u<a){if(t(f,f)!==0)return a;do{const y=u+a>>>1;n(d[y],f)<0?u=y+1:a=y}while(u<a)}return u}function l(d,f,u=0,a=d.length){if(u<a){if(t(f,f)!==0)return a;do{const y=u+a>>>1;n(d[y],f)<=0?u=y+1:a=y}while(u<a)}return u}function c(d,f,u=0,a=d.length){const y=s(d,f,u,a-1);return y>u&&i(d[y-1],f)>-i(d[y],f)?y-1:y}return{left:s,center:c,right:l}}function dQ(){return 0}function HC(e){return e===null?NaN:+e}function*fQ(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const zC=a0(Ao),ng=zC.right,uQ=zC.left;a0(HC).center;const o0=ng;function hQ(e,t){let n=0,i,s=0,l=0;if(t===void 0)for(let c of e)c!=null&&(c=+c)>=c&&(i=c-s,s+=i/++n,l+=i*(c-s));else{let c=-1;for(let d of e)(d=t(d,++c,e))!=null&&(d=+d)>=d&&(i=d-s,s+=i/++n,l+=i*(d-s))}if(n>1)return l/(n-1)}function _Q(e,t){const n=hQ(e,t);return n&&Math.sqrt(n)}function pQ(e,t){let n,i;if(t===void 0)for(const s of e)s!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)));else{let s=-1;for(let l of e)(l=t(l,++s,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class Xi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const l=n[s],c=t+l,d=Math.abs(t)<Math.abs(l)?t-(c-l):l-(c-t);d&&(n[i++]=d),t=c}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,s,l,c=0;if(n>0){for(c=t[--n];n>0&&(i=c,s=t[--n],c=i+s,l=s-(c-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(s=l*2,i=c+s,s==i-c&&(c=i))}return c}}class fk extends Map{constructor(t,n=VC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(wL(this,t))}has(t){return super.has(wL(this,t))}set(t,n){return super.set(jC(this,t),n)}delete(t){return super.delete(qC(this,t))}}class ig extends Set{constructor(t,n=VC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const i of t)this.add(i)}has(t){return super.has(wL(this,t))}add(t){return super.add(jC(this,t))}delete(t){return super.delete(qC(this,t))}}function wL({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function jC({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function qC({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function VC(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gQ(e,t){return Array.from(t,n=>e[n])}function yQ(e=Ao){if(e===Ao)return GC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function GC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mQ=Math.sqrt(50),wQ=Math.sqrt(10),LQ=Math.sqrt(2);function sg(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),l=i/Math.pow(10,s),c=l>=mQ?10:l>=wQ?5:l>=LQ?2:1;let d,f,u;return s<0?(u=Math.pow(10,-s)/c,d=Math.round(e*u),f=Math.round(t*u),d/u<e&&++d,f/u>t&&--f,u=-u):(u=Math.pow(10,s)*c,d=Math.round(e/u),f=Math.round(t/u),d*u<e&&++d,f*u>t&&--f),f<d&&.5<=n&&n<2?sg(e,t,n*2):[d,f,u]}function LL(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,l,c]=i?sg(t,e,n):sg(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(i)if(c<0)for(let u=0;u<d;++u)f[u]=(l-u)/-c;else for(let u=0;u<d;++u)f[u]=(l-u)*c;else if(c<0)for(let u=0;u<d;++u)f[u]=(s+u)/-c;else for(let u=0;u<d;++u)f[u]=(s+u)*c;return f}function bL(e,t,n){return t=+t,e=+e,n=+n,sg(e,t,n)[2]}function Hl(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?bL(t,e,n):bL(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function dd(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function TL(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function WC(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?GC:yQ(s);i>n;){if(i-n>600){const f=i-n+1,u=t-n+1,a=Math.log(f),y=.5*Math.exp(2*a/3),w=.5*Math.sqrt(a*y*(f-y)/f)*(u-f/2<0?-1:1),m=Math.max(n,Math.floor(t-u*y/f+w)),o=Math.min(i,Math.floor(t+(f-u)*y/f+w));WC(e,t,m,o,s)}const l=e[t];let c=n,d=i;for(Ph(e,n,t),s(e[i],l)>0&&Ph(e,n,i);c<d;){for(Ph(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?Ph(e,n,d):(++d,Ph(e,d,i)),d<=t&&(n=d+1),t<=d&&(i=d-1)}return e}function Ph(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function EL(e,t,n){if(e=Float64Array.from(fQ(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return TL(e);if(t>=1)return dd(e);var i,s=(i-1)*t,l=Math.floor(s),c=dd(WC(e,l).subarray(0,l+1)),d=TL(e.subarray(l+1));return c+(d-c)*(s-l)}}function YC(e,t,n=HC){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function bQ(e,t){let n=0,i=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++n,i+=s);else{let s=-1;for(let l of e)(l=t(l,++s,e))!=null&&(l=+l)>=l&&(++n,i+=l)}if(n)return i/n}function XC(e,t){return EL(e,.5,t)}function*TQ(e){for(const t of e)yield*t}function KC(e){return Array.from(TQ(e))}function Ns(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++i<s;)l[i]=e+i*n;return l}function ZC(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let s of e)(s=+t(s,++i,e))&&(n+=s)}return n}var EQ={value:()=>{}};function QC(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new _p(n)}function _p(e){this._=e}function vQ(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}_p.prototype=QC.prototype={constructor:_p,on:function(e,t){var n=this._,i=vQ(e+"",n),s,l=-1,c=i.length;if(arguments.length<2){for(;++l<c;)if((s=(e=i[l]).type)&&(s=SQ(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<c;)if(s=(e=i[l]).type)n[s]=uk(n[s],e.name,t);else if(t==null)for(s in n)n[s]=uk(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _p(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,l;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,s=l.length;i<s;++i)l[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,l=i.length;s<l;++s)i[s].value.apply(t,n)}};function SQ(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function uk(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=EQ,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}function uh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function l0(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function lc(){}var Sd=.7,Bu=1/Sd,ru="\\s*([+-]?\\d+)\\s*",h2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xQ=/^#([0-9a-f]{3,8})$/,kQ=new RegExp(`^rgb\\(${ru},${ru},${ru}\\)$`),BQ=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),FQ=new RegExp(`^rgba\\(${ru},${ru},${ru},${h2}\\)$`),IQ=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${h2}\\)$`),MQ=new RegExp(`^hsl\\(${h2},${Ba},${Ba}\\)$`),AQ=new RegExp(`^hsla\\(${h2},${Ba},${Ba},${h2}\\)$`),hk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uh(lc,_2,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_k,formatHex:_k,formatHex8:OQ,formatHsl:NQ,formatRgb:pk,toString:pk});function _k(){return this.rgb().formatHex()}function OQ(){return this.rgb().formatHex8()}function NQ(){return JC(this).formatHsl()}function pk(){return this.rgb().formatRgb()}function _2(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xQ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gk(t):n===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?g_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?g_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kQ.exec(e))?new Yn(t[1],t[2],t[3],1):(t=BQ.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FQ.exec(e))?g_(t[1],t[2],t[3],t[4]):(t=IQ.exec(e))?g_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=MQ.exec(e))?wk(t[1],t[2]/100,t[3]/100,1):(t=AQ.exec(e))?wk(t[1],t[2]/100,t[3]/100,t[4]):hk.hasOwnProperty(e)?gk(hk[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function gk(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function g_(e,t,n,i){return i<=0&&(e=t=n=NaN),new Yn(e,t,n,i)}function j9(e){return e instanceof lc||(e=_2(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function zl(e,t,n,i){return arguments.length===1?j9(e):new Yn(e,t,n,i??1)}function Yn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}uh(Yn,zl,l0(lc,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(fd(this.r),fd(this.g),fd(this.b),rg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yk,formatHex:yk,formatHex8:CQ,formatRgb:mk,toString:mk}));function yk(){return`#${rd(this.r)}${rd(this.g)}${rd(this.b)}`}function CQ(){return`#${rd(this.r)}${rd(this.g)}${rd(this.b)}${rd((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const e=rg(this.opacity);return`${e===1?"rgb(":"rgba("}${fd(this.r)}, ${fd(this.g)}, ${fd(this.b)}${e===1?")":`, ${e})`}`}function rg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rd(e){return e=fd(e),(e<16?"0":"")+e.toString(16)}function wk(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kr(e,t,n,i)}function JC(e){if(e instanceof kr)return new kr(e.h,e.s,e.l,e.opacity);if(e instanceof lc||(e=_2(e)),!e)return new kr;if(e instanceof kr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),l=Math.max(t,n,i),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-i)/d+(n<i)*6:n===l?c=(i-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new kr(c,d,f,e.opacity)}function ag(e,t,n,i){return arguments.length===1?JC(e):new kr(e,t,n,i??1)}function kr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}uh(kr,ag,l0(lc,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Yn(E6(e>=240?e-240:e+120,s,i),E6(e,s,i),E6(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new kr(Lk(this.h),y_(this.s),y_(this.l),rg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rg(this.opacity);return`${e===1?"hsl(":"hsla("}${Lk(this.h)}, ${y_(this.s)*100}%, ${y_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lk(e){return e=(e||0)%360,e<0?e+360:e}function y_(e){return Math.max(0,Math.min(1,e||0))}function E6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eR=Math.PI/180,tR=180/Math.PI,og=18,nR=.96422,iR=1,sR=.82521,rR=4/29,au=6/29,aR=3*au*au,RQ=au*au*au;function oR(e){if(e instanceof Fa)return new Fa(e.l,e.a,e.b,e.opacity);if(e instanceof xo)return lR(e);e instanceof Yn||(e=j9(e));var t=k6(e.r),n=k6(e.g),i=k6(e.b),s=v6((.2225045*t+.7168786*n+.0606169*i)/iR),l,c;return t===n&&n===i?l=c=s:(l=v6((.4360747*t+.3850649*n+.1430804*i)/nR),c=v6((.0139322*t+.0971045*n+.7141733*i)/sR)),new Fa(116*s-16,500*(l-s),200*(s-c),e.opacity)}function lg(e,t,n,i){return arguments.length===1?oR(e):new Fa(e,t,n,i??1)}function Fa(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}uh(Fa,lg,l0(lc,{brighter(e){return new Fa(this.l+og*(e??1),this.a,this.b,this.opacity)},darker(e){return new Fa(this.l-og*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=nR*S6(t),e=iR*S6(e),n=sR*S6(n),new Yn(x6(3.1338561*t-1.6168667*e-.4906146*n),x6(-.9787684*t+1.9161415*e+.033454*n),x6(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function v6(e){return e>RQ?Math.pow(e,1/3):e/aR+rR}function S6(e){return e>au?e*e*e:aR*(e-rR)}function x6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function k6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function PQ(e){if(e instanceof xo)return new xo(e.h,e.c,e.l,e.opacity);if(e instanceof Fa||(e=oR(e)),e.a===0&&e.b===0)return new xo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*tR;return new xo(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function cg(e,t,n,i){return arguments.length===1?PQ(e):new xo(e,t,n,i??1)}function xo(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function lR(e){if(isNaN(e.h))return new Fa(e.l,0,0,e.opacity);var t=e.h*eR;return new Fa(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}uh(xo,cg,l0(lc,{brighter(e){return new xo(this.h,this.c,this.l+og*(e??1),this.opacity)},darker(e){return new xo(this.h,this.c,this.l-og*(e??1),this.opacity)},rgb(){return lR(this).rgb()}}));var cR=-.14861,q9=1.78277,V9=-.29227,n4=-.90649,p2=1.97294,bk=p2*n4,Tk=p2*q9,Ek=q9*V9-n4*cR;function DQ(e){if(e instanceof ud)return new ud(e.h,e.s,e.l,e.opacity);e instanceof Yn||(e=j9(e));var t=e.r/255,n=e.g/255,i=e.b/255,s=(Ek*i+bk*t-Tk*n)/(Ek+bk-Tk),l=i-s,c=(p2*(n-s)-V9*l)/n4,d=Math.sqrt(c*c+l*l)/(p2*s*(1-s)),f=d?Math.atan2(c,l)*tR-120:NaN;return new ud(f<0?f+360:f,d,s,e.opacity)}function vL(e,t,n,i){return arguments.length===1?DQ(e):new ud(e,t,n,i??1)}function ud(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}uh(ud,vL,l0(lc,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sd:Math.pow(Sd,e),new ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*eR,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),s=Math.sin(e);return new Yn(255*(t+n*(cR*i+q9*s)),255*(t+n*(V9*i+n4*s)),255*(t+n*(p2*i)),this.opacity)}}));function dR(e,t,n,i,s){var l=e*e,c=l*e;return((1-3*e+3*l-c)*t+(4-6*l+3*c)*n+(1+3*e+3*l-3*c)*i+c*s)/6}function fR(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[i],l=e[i+1],c=i>0?e[i-1]:2*s-l,d=i<t-1?e[i+2]:2*l-s;return dR((n-i/t)*t,c,s,l,d)}}function uR(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),s=e[(i+t-1)%t],l=e[i%t],c=e[(i+1)%t],d=e[(i+2)%t];return dR((n-i/t)*t,s,l,c,d)}}const i4=e=>()=>e;function hR(e,t){return function(n){return e+n*t}}function UQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function s4(e,t){var n=t-e;return n?hR(e,n>180||n<-180?n-360*Math.round(n/360):n):i4(isNaN(e)?t:e)}function $Q(e){return(e=+e)==1?Xn:function(t,n){return n-t?UQ(t,n,e):i4(isNaN(t)?n:t)}}function Xn(e,t){var n=t-e;return n?hR(e,n):i4(isNaN(e)?t:e)}const SL=function e(t){var n=$Q(t);function i(s,l){var c=n((s=zl(s)).r,(l=zl(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),u=Xn(s.opacity,l.opacity);return function(a){return s.r=c(a),s.g=d(a),s.b=f(a),s.opacity=u(a),s+""}}return i.gamma=e,i}(1);function _R(e){return function(t){var n=t.length,i=new Array(n),s=new Array(n),l=new Array(n),c,d;for(c=0;c<n;++c)d=zl(t[c]),i[c]=d.r||0,s[c]=d.g||0,l[c]=d.b||0;return i=e(i),s=e(s),l=e(l),d.opacity=1,function(f){return d.r=i(f),d.g=s(f),d.b=l(f),d+""}}}var pR=_R(fR),HQ=_R(uR);function G9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(l){for(s=0;s<n;++s)i[s]=e[s]*(1-l)+t[s]*l;return i}}function gR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zQ(e,t){return(gR(t)?G9:yR)(e,t)}function yR(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),l=new Array(n),c;for(c=0;c<i;++c)s[c]=cc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<i;++c)l[c]=s[c](d);return l}}function mR(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function vr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wR(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=cc(e[s],t[s]):i[s]=t[s];return function(l){for(s in n)i[s]=n[s](l);return i}}var xL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B6=new RegExp(xL.source,"g");function jQ(e){return function(){return e}}function qQ(e){return function(t){return e(t)+""}}function LR(e,t){var n=xL.lastIndex=B6.lastIndex=0,i,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(i=xL.exec(e))&&(s=B6.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(i=i[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:vr(i,s)})),n=B6.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?qQ(f[0].x):jQ(t):(t=f.length,function(u){for(var a=0,y;a<t;++a)d[(y=f[a]).i]=y.x(u);return d.join("")})}function cc(e,t){var n=typeof t,i;return t==null||n==="boolean"?i4(t):(n==="number"?vr:n==="string"?(i=_2(t))?(t=i,SL):LR:t instanceof _2?SL:t instanceof Date?mR:gR(t)?G9:Array.isArray(t)?yR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wR:vr)(e,t)}function VQ(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function GQ(e,t){var n=s4(+e,+t);return function(i){var s=n(i);return s-360*Math.floor(s/360)}}function c0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var vk=180/Math.PI,kL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bR(e,t,n,i,s,l){var c,d,f;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(d=Math.sqrt(n*n+i*i))&&(n/=d,i/=d,f/=d),e*i<t*n&&(e=-e,t=-t,f=-f,c=-c),{translateX:s,translateY:l,rotate:Math.atan2(t,e)*vk,skewX:Math.atan(f)*vk,scaleX:c,scaleY:d}}var m_;function WQ(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kL:bR(t.a,t.b,t.c,t.d,t.e,t.f)}function YQ(e){return e==null||(m_||(m_=document.createElementNS("http://www.w3.org/2000/svg","g")),m_.setAttribute("transform",e),!(e=m_.transform.baseVal.consolidate()))?kL:(e=e.matrix,bR(e.a,e.b,e.c,e.d,e.e,e.f))}function TR(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function l(u,a,y,w,m,o){if(u!==y||a!==w){var b=m.push("translate(",null,t,null,n);o.push({i:b-4,x:vr(u,y)},{i:b-2,x:vr(a,w)})}else(y||w)&&m.push("translate("+y+t+w+n)}function c(u,a,y,w){u!==a?(u-a>180?a+=360:a-u>180&&(u+=360),w.push({i:y.push(s(y)+"rotate(",null,i)-2,x:vr(u,a)})):a&&y.push(s(y)+"rotate("+a+i)}function d(u,a,y,w){u!==a?w.push({i:y.push(s(y)+"skewX(",null,i)-2,x:vr(u,a)}):a&&y.push(s(y)+"skewX("+a+i)}function f(u,a,y,w,m,o){if(u!==y||a!==w){var b=m.push(s(m)+"scale(",null,",",null,")");o.push({i:b-4,x:vr(u,y)},{i:b-2,x:vr(a,w)})}else(y!==1||w!==1)&&m.push(s(m)+"scale("+y+","+w+")")}return function(u,a){var y=[],w=[];return u=e(u),a=e(a),l(u.translateX,u.translateY,a.translateX,a.translateY,y,w),c(u.rotate,a.rotate,y,w),d(u.skewX,a.skewX,y,w),f(u.scaleX,u.scaleY,a.scaleX,a.scaleY,y,w),u=a=null,function(m){for(var o=-1,b=w.length,L;++o<b;)y[(L=w[o]).i]=L.x(m);return y.join("")}}}var XQ=TR(WQ,"px, ","px)","deg)"),KQ=TR(YQ,", ",")",")"),ZQ=1e-12;function Sk(e){return((e=Math.exp(e))+1/e)/2}function QQ(e){return((e=Math.exp(e))-1/e)/2}function JQ(e){return((e=Math.exp(2*e))-1)/(e+1)}const eJ=function e(t,n,i){function s(l,c){var d=l[0],f=l[1],u=l[2],a=c[0],y=c[1],w=c[2],m=a-d,o=y-f,b=m*m+o*o,L,v;if(b<ZQ)v=Math.log(w/u)/t,L=function(M){return[d+M*m,f+M*o,u*Math.exp(t*M*v)]};else{var S=Math.sqrt(b),x=(w*w-u*u+i*b)/(2*u*n*S),F=(w*w-u*u-i*b)/(2*w*n*S),k=Math.log(Math.sqrt(x*x+1)-x),A=Math.log(Math.sqrt(F*F+1)-F);v=(A-k)/t,L=function(M){var C=M*v,R=Sk(k),D=u/(n*S)*(R*JQ(t*C+k)-QQ(k));return[d+D*m,f+D*o,u*R/Sk(t*C+k)]}}return L.duration=v*1e3*t/Math.SQRT2,L}return s.rho=function(l){var c=Math.max(.001,+l),d=c*c,f=d*d;return e(c,d,f)},s}(Math.SQRT2,2,4);function ER(e){return function(t,n){var i=e((t=ag(t)).h,(n=ag(n)).h),s=Xn(t.s,n.s),l=Xn(t.l,n.l),c=Xn(t.opacity,n.opacity);return function(d){return t.h=i(d),t.s=s(d),t.l=l(d),t.opacity=c(d),t+""}}}const tJ=ER(s4);var nJ=ER(Xn);function iJ(e,t){var n=Xn((e=lg(e)).l,(t=lg(t)).l),i=Xn(e.a,t.a),s=Xn(e.b,t.b),l=Xn(e.opacity,t.opacity);return function(c){return e.l=n(c),e.a=i(c),e.b=s(c),e.opacity=l(c),e+""}}function vR(e){return function(t,n){var i=e((t=cg(t)).h,(n=cg(n)).h),s=Xn(t.c,n.c),l=Xn(t.l,n.l),c=Xn(t.opacity,n.opacity);return function(d){return t.h=i(d),t.c=s(d),t.l=l(d),t.opacity=c(d),t+""}}}const sJ=vR(s4);var rJ=vR(Xn);function SR(e){return function t(n){n=+n;function i(s,l){var c=e((s=vL(s)).h,(l=vL(l)).h),d=Xn(s.s,l.s),f=Xn(s.l,l.l),u=Xn(s.opacity,l.opacity);return function(a){return s.h=c(a),s.s=d(a),s.l=f(Math.pow(a,n)),s.opacity=u(a),s+""}}return i.gamma=t,i}(1)}const aJ=SR(s4);var oJ=SR(Xn);function W9(e,t){t===void 0&&(t=e,e=cc);for(var n=0,i=t.length-1,s=t[0],l=new Array(i<0?0:i);n<i;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(i-1,Math.floor(c*=i)));return l[d](c-d)}}function lJ(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}const cJ=Object.freeze(Object.defineProperty({__proto__:null,interpolate:cc,interpolateArray:zQ,interpolateBasis:fR,interpolateBasisClosed:uR,interpolateCubehelix:aJ,interpolateCubehelixLong:oJ,interpolateDate:mR,interpolateDiscrete:VQ,interpolateHcl:sJ,interpolateHclLong:rJ,interpolateHsl:tJ,interpolateHslLong:nJ,interpolateHue:GQ,interpolateLab:iJ,interpolateNumber:vr,interpolateNumberArray:G9,interpolateObject:wR,interpolateRgb:SL,interpolateRgbBasis:pR,interpolateRgbBasisClosed:HQ,interpolateRound:c0,interpolateString:LR,interpolateTransformCss:XQ,interpolateTransformSvg:KQ,interpolateZoom:eJ,piecewise:W9,quantize:lJ},Symbol.toStringTag,{value:"Module"}));var Fu=0,u1=0,Dh=0,xR=1e3,dg,h1,fg=0,xd=0,r4=0,g2=typeof performance=="object"&&performance.now?performance:Date,kR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Y9(){return xd||(kR(dJ),xd=g2.now()+r4)}function dJ(){xd=0}function ug(){this._call=this._time=this._next=null}ug.prototype=BR.prototype={constructor:ug,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Y9():+n)+(t==null?0:+t),!this._next&&h1!==this&&(h1?h1._next=this:dg=this,h1=this),this._call=e,this._time=n,BL()},stop:function(){this._call&&(this._call=null,this._time=1/0,BL())}};function BR(e,t,n){var i=new ug;return i.restart(e,t,n),i}function fJ(){Y9(),++Fu;for(var e=dg,t;e;)(t=xd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fu}function xk(){xd=(fg=g2.now())+r4,Fu=u1=0;try{fJ()}finally{Fu=0,hJ(),xd=0}}function uJ(){var e=g2.now(),t=e-fg;t>xR&&(r4-=t,fg=e)}function hJ(){for(var e,t=dg,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dg=n);h1=e,BL(i)}function BL(e){if(!Fu){u1&&(u1=clearTimeout(u1));var t=e-xd;t>24?(e<1/0&&(u1=setTimeout(xk,e-g2.now()-r4)),Dh&&(Dh=clearInterval(Dh))):(Dh||(fg=g2.now(),Dh=setInterval(uJ,xR)),Fu=1,kR(xk))}}function _J(e,t,n){var i=new ug,s=t;return t==null?(i.restart(e,t,n),i):(i._restart=i.restart,i.restart=function(l,c,d){c=+c,d=d==null?Y9():+d,i._restart(function f(u){u+=s,i._restart(f,s+=c,d),l(u)},c,d)},i.restart(e,t,n),i)}const FL=Math.PI,IL=2*FL,zc=1e-6,pJ=IL-zc;function FR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FR;const n=10**t;return function(i){this._+=i[0];for(let s=1,l=i.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}let X9=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FR:gJ(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,l,c){this._append`C${+t},${+n},${+i},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,i,s,l){if(t=+t,n=+n,i=+i,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=i-t,u=s-n,a=c-t,y=d-n,w=a*a+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(w>zc)if(!(Math.abs(y*f-u*a)>zc)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let m=i-c,o=s-d,b=f*f+u*u,L=m*m+o*o,v=Math.sqrt(b),S=Math.sqrt(w),x=l*Math.tan((FL-Math.acos((b+w-L)/(2*v*S)))/2),F=x/S,k=x/v;Math.abs(F-1)>zc&&this._append`L${t+F*a},${n+F*y}`,this._append`A${l},${l},0,0,${+(y*m>a*o)},${this._x1=t+k*f},${this._y1=n+k*u}`}}arc(t,n,i,s,l,c){if(t=+t,n=+n,i=+i,c=!!c,i<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos(s),f=i*Math.sin(s),u=t+d,a=n+f,y=1^c,w=c?s-l:l-s;this._x1===null?this._append`M${u},${a}`:(Math.abs(this._x1-u)>zc||Math.abs(this._y1-a)>zc)&&this._append`L${u},${a}`,i&&(w<0&&(w=w%IL+IL),w>pJ?this._append`A${i},${i},0,1,${y},${t-d},${n-f}A${i},${i},0,1,${y},${this._x1=u},${this._y1=a}`:w>zc&&this._append`A${i},${i},0,${+(w>=FL)},${y},${this._x1=t+i*Math.cos(l)},${this._y1=n+i*Math.sin(l)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}};function a4(){return new X9}a4.prototype=X9.prototype;const Oo=11102230246251565e-32,mi=134217729,yJ=(3+8*Oo)*Oo;function F6(e,t,n,i,s){let l,c,d,f,u=t[0],a=i[0],y=0,w=0;a>u==a>-u?(l=u,u=t[++y]):(l=a,a=i[++w]);let m=0;if(y<e&&w<n)for(a>u==a>-u?(c=u+l,d=l-(c-u),u=t[++y]):(c=a+l,d=l-(c-a),a=i[++w]),l=c,d!==0&&(s[m++]=d);y<e&&w<n;)a>u==a>-u?(c=l+u,f=c-l,d=l-(c-f)+(u-f),u=t[++y]):(c=l+a,f=c-l,d=l-(c-f)+(a-f),a=i[++w]),l=c,d!==0&&(s[m++]=d);for(;y<e;)c=l+u,f=c-l,d=l-(c-f)+(u-f),u=t[++y],l=c,d!==0&&(s[m++]=d);for(;w<n;)c=l+a,f=c-l,d=l-(c-f)+(a-f),a=i[++w],l=c,d!==0&&(s[m++]=d);return(l!==0||m===0)&&(s[m++]=l),m}function mJ(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function d0(e){return new Float64Array(e)}const wJ=(3+16*Oo)*Oo,LJ=(2+12*Oo)*Oo,bJ=(9+64*Oo)*Oo*Oo,wf=d0(4),kk=d0(8),Bk=d0(12),Fk=d0(16),Di=d0(4);function TJ(e,t,n,i,s,l,c){let d,f,u,a,y,w,m,o,b,L,v,S,x,F,k,A,M,C;const R=e-s,D=n-s,U=t-l,X=i-l;F=R*X,w=mi*R,m=w-(w-R),o=R-m,w=mi*X,b=w-(w-X),L=X-b,k=o*L-(F-m*b-o*b-m*L),A=U*D,w=mi*U,m=w-(w-U),o=U-m,w=mi*D,b=w-(w-D),L=D-b,M=o*L-(A-m*b-o*b-m*L),v=k-M,y=k-v,wf[0]=k-(v+y)+(y-M),S=F+v,y=S-F,x=F-(S-y)+(v-y),v=x-A,y=x-v,wf[1]=x-(v+y)+(y-A),C=S+v,y=C-S,wf[2]=S-(C-y)+(v-y),wf[3]=C;let j=mJ(4,wf),G=LJ*c;if(j>=G||-j>=G||(y=e-R,d=e-(R+y)+(y-s),y=n-D,u=n-(D+y)+(y-s),y=t-U,f=t-(U+y)+(y-l),y=i-X,a=i-(X+y)+(y-l),d===0&&f===0&&u===0&&a===0)||(G=bJ*c+yJ*Math.abs(j),j+=R*a+X*d-(U*u+D*f),j>=G||-j>=G))return j;F=d*X,w=mi*d,m=w-(w-d),o=d-m,w=mi*X,b=w-(w-X),L=X-b,k=o*L-(F-m*b-o*b-m*L),A=f*D,w=mi*f,m=w-(w-f),o=f-m,w=mi*D,b=w-(w-D),L=D-b,M=o*L-(A-m*b-o*b-m*L),v=k-M,y=k-v,Di[0]=k-(v+y)+(y-M),S=F+v,y=S-F,x=F-(S-y)+(v-y),v=x-A,y=x-v,Di[1]=x-(v+y)+(y-A),C=S+v,y=C-S,Di[2]=S-(C-y)+(v-y),Di[3]=C;const V=F6(4,wf,4,Di,kk);F=R*a,w=mi*R,m=w-(w-R),o=R-m,w=mi*a,b=w-(w-a),L=a-b,k=o*L-(F-m*b-o*b-m*L),A=U*u,w=mi*U,m=w-(w-U),o=U-m,w=mi*u,b=w-(w-u),L=u-b,M=o*L-(A-m*b-o*b-m*L),v=k-M,y=k-v,Di[0]=k-(v+y)+(y-M),S=F+v,y=S-F,x=F-(S-y)+(v-y),v=x-A,y=x-v,Di[1]=x-(v+y)+(y-A),C=S+v,y=C-S,Di[2]=S-(C-y)+(v-y),Di[3]=C;const W=F6(V,kk,4,Di,Bk);F=d*a,w=mi*d,m=w-(w-d),o=d-m,w=mi*a,b=w-(w-a),L=a-b,k=o*L-(F-m*b-o*b-m*L),A=f*u,w=mi*f,m=w-(w-f),o=f-m,w=mi*u,b=w-(w-u),L=u-b,M=o*L-(A-m*b-o*b-m*L),v=k-M,y=k-v,Di[0]=k-(v+y)+(y-M),S=F+v,y=S-F,x=F-(S-y)+(v-y),v=x-A,y=x-v,Di[1]=x-(v+y)+(y-A),C=S+v,y=C-S,Di[2]=S-(C-y)+(v-y),Di[3]=C;const Z=F6(W,Bk,4,Di,Fk);return Fk[Z-1]}function w_(e,t,n,i,s,l){const c=(t-l)*(n-s),d=(e-s)*(i-l),f=c-d;if(c===0||d===0||c>0!=d>0)return f;const u=Math.abs(c+d);return Math.abs(f)>=wJ*u?f:-TJ(e,t,n,i,s,l,u)}const Ik=Math.pow(2,-52),L_=new Uint32Array(512);class hg{static from(t,n=kJ,i=BJ){const s=t.length,l=new Float64Array(s*2);for(let c=0;c<s;c++){const d=t[c];l[2*c]=n(d),l[2*c+1]=i(d)}return new hg(l)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:s,_hullHash:l}=this,c=t.length>>1;let d=1/0,f=1/0,u=-1/0,a=-1/0;for(let D=0;D<c;D++){const U=t[2*D],X=t[2*D+1];U<d&&(d=U),X<f&&(f=X),U>u&&(u=U),X>a&&(a=X),this._ids[D]=D}const y=(d+u)/2,w=(f+a)/2;let m=1/0,o,b,L;for(let D=0;D<c;D++){const U=I6(y,w,t[2*D],t[2*D+1]);U<m&&(o=D,m=U)}const v=t[2*o],S=t[2*o+1];m=1/0;for(let D=0;D<c;D++){if(D===o)continue;const U=I6(v,S,t[2*D],t[2*D+1]);U<m&&U>0&&(b=D,m=U)}let x=t[2*b],F=t[2*b+1],k=1/0;for(let D=0;D<c;D++){if(D===o||D===b)continue;const U=SJ(v,S,x,F,t[2*D],t[2*D+1]);U<k&&(L=D,k=U)}let A=t[2*L],M=t[2*L+1];if(k===1/0){for(let X=0;X<c;X++)this._dists[X]=t[2*X]-t[0]||t[2*X+1]-t[1];qf(this._ids,this._dists,0,c-1);const D=new Uint32Array(c);let U=0;for(let X=0,j=-1/0;X<c;X++){const G=this._ids[X];this._dists[G]>j&&(D[U++]=G,j=this._dists[G])}this.hull=D.subarray(0,U),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(w_(v,S,x,F,A,M)<0){const D=b,U=x,X=F;b=L,x=A,F=M,L=D,A=U,M=X}const C=xJ(v,S,x,F,A,M);this._cx=C.x,this._cy=C.y;for(let D=0;D<c;D++)this._dists[D]=I6(t[2*D],t[2*D+1],C.x,C.y);qf(this._ids,this._dists,0,c-1),this._hullStart=o;let R=3;i[o]=n[L]=b,i[b]=n[o]=L,i[L]=n[b]=o,s[o]=0,s[b]=1,s[L]=2,l.fill(-1),l[this._hashKey(v,S)]=o,l[this._hashKey(x,F)]=b,l[this._hashKey(A,M)]=L,this.trianglesLen=0,this._addTriangle(o,b,L,-1,-1,-1);for(let D=0,U,X;D<this._ids.length;D++){const j=this._ids[D],G=t[2*j],V=t[2*j+1];if(D>0&&Math.abs(G-U)<=Ik&&Math.abs(V-X)<=Ik||(U=G,X=V,j===o||j===b||j===L))continue;let W=0;for(let ne=0,xe=this._hashKey(G,V);ne<this._hashSize&&(W=l[(xe+ne)%this._hashSize],!(W!==-1&&W!==i[W]));ne++);W=n[W];let Z=W,q;for(;q=i[Z],w_(G,V,t[2*Z],t[2*Z+1],t[2*q],t[2*q+1])>=0;)if(Z=q,Z===W){Z=-1;break}if(Z===-1)continue;let oe=this._addTriangle(Z,j,i[Z],-1,-1,s[Z]);s[j]=this._legalize(oe+2),s[Z]=oe,R++;let fe=i[Z];for(;q=i[fe],w_(G,V,t[2*fe],t[2*fe+1],t[2*q],t[2*q+1])<0;)oe=this._addTriangle(fe,j,q,s[j],-1,s[fe]),s[j]=this._legalize(oe+2),i[fe]=fe,R--,fe=q;if(Z===W)for(;q=n[Z],w_(G,V,t[2*q],t[2*q+1],t[2*Z],t[2*Z+1])<0;)oe=this._addTriangle(q,j,Z,-1,s[Z],s[q]),this._legalize(oe+2),s[q]=oe,i[Z]=Z,R--,Z=q;this._hullStart=n[j]=Z,i[Z]=n[fe]=j,i[j]=fe,l[this._hashKey(G,V)]=j,l[this._hashKey(t[2*Z],t[2*Z+1])]=Z}this.hull=new Uint32Array(R);for(let D=0,U=this._hullStart;D<R;D++)this.hull[D]=U,U=i[U];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(EJ(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:s}=this;let l=0,c=0;for(;;){const d=i[t],f=t-t%3;if(c=f+(t+2)%3,d===-1){if(l===0)break;t=L_[--l];continue}const u=d-d%3,a=f+(t+1)%3,y=u+(d+2)%3,w=n[c],m=n[t],o=n[a],b=n[y];if(vJ(s[2*w],s[2*w+1],s[2*m],s[2*m+1],s[2*o],s[2*o+1],s[2*b],s[2*b+1])){n[t]=b,n[d]=w;const v=i[y];if(v===-1){let x=this._hullStart;do{if(this._hullTri[x]===y){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,v),this._link(d,i[c]),this._link(c,y);const S=u+(d+1)%3;l<L_.length&&(L_[l++]=S)}else{if(l===0)break;t=L_[--l]}}return c}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,i,s,l,c){const d=this.trianglesLen;return this._triangles[d]=t,this._triangles[d+1]=n,this._triangles[d+2]=i,this._link(d,s),this._link(d+1,l),this._link(d+2,c),this.trianglesLen+=3,d}}function EJ(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function I6(e,t,n,i){const s=e-n,l=t-i;return s*s+l*l}function vJ(e,t,n,i,s,l,c,d){const f=e-c,u=t-d,a=n-c,y=i-d,w=s-c,m=l-d,o=f*f+u*u,b=a*a+y*y,L=w*w+m*m;return f*(y*L-b*m)-u*(a*L-b*w)+o*(a*m-y*w)<0}function SJ(e,t,n,i,s,l){const c=n-e,d=i-t,f=s-e,u=l-t,a=c*c+d*d,y=f*f+u*u,w=.5/(c*u-d*f),m=(u*a-d*y)*w,o=(c*y-f*a)*w;return m*m+o*o}function xJ(e,t,n,i,s,l){const c=n-e,d=i-t,f=s-e,u=l-t,a=c*c+d*d,y=f*f+u*u,w=.5/(c*u-d*f),m=e+(u*a-d*y)*w,o=t+(c*y-f*a)*w;return{x:m,y:o}}function qf(e,t,n,i){if(i-n<=20)for(let s=n+1;s<=i;s++){const l=e[s],c=t[l];let d=s-1;for(;d>=n&&t[e[d]]>c;)e[d+1]=e[d--];e[d+1]=l}else{const s=n+i>>1;let l=n+1,c=i;Uh(e,s,l),t[e[n]]>t[e[i]]&&Uh(e,n,i),t[e[l]]>t[e[i]]&&Uh(e,l,i),t[e[n]]>t[e[l]]&&Uh(e,n,l);const d=e[l],f=t[d];for(;;){do l++;while(t[e[l]]<f);do c--;while(t[e[c]]>f);if(c<l)break;Uh(e,l,c)}e[n+1]=e[c],e[c]=d,i-l+1>=c-n?(qf(e,t,l,i),qf(e,t,n,c-1)):(qf(e,t,n,c-1),qf(e,t,l,i))}}function Uh(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function kJ(e){return e[0]}function BJ(e){return e[1]}const Mk=1e-6;class ad{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){t=+t,n=+n,i=+i;const s=t+i,l=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${l}`:(Math.abs(this._x1-s)>Mk||Math.abs(this._y1-l)>Mk)&&(this._+="L"+s+","+l),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=s},${this._y1=l}`)}rect(t,n,i,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+s}h${-i}Z`}value(){return this._||null}}class ML{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let FJ=class{constructor(t,[n,i,s,l]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((l=+l)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=n,this.ymax=l,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:s}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,o=0,b=i.length,L,v;m<b;m+=3,o+=2){const S=i[m]*2,x=i[m+1]*2,F=i[m+2]*2,k=t[S],A=t[S+1],M=t[x],C=t[x+1],R=t[F],D=t[F+1],U=M-k,X=C-A,j=R-k,G=D-A,V=(U*G-X*j)*2;if(Math.abs(V)<1e-9){let W=1e9;const Z=i[0]*2;W*=Math.sign((t[Z]-k)*G-(t[Z+1]-A)*j),L=(k+R)/2-W*G,v=(A+D)/2+W*j}else{const W=1/V,Z=U*U+X*X,q=j*j+G*G;L=k+(G*Z-X*q)*W,v=A+(U*q-j*Z)*W}l[o]=L,l[o+1]=v}let c=n[n.length-1],d,f=c*4,u,a=t[2*c],y,w=t[2*c+1];s.fill(0);for(let m=0;m<n.length;++m)c=n[m],d=f,u=a,y=w,f=c*4,a=t[2*c],w=t[2*c+1],s[d+2]=s[f]=y-w,s[d+3]=s[f+1]=a-u}render(t){const n=t==null?t=new ad:void 0,{delaunay:{halfedges:i,inedges:s,hull:l},circumcenters:c,vectors:d}=this;if(l.length<=1)return null;for(let a=0,y=i.length;a<y;++a){const w=i[a];if(w<a)continue;const m=Math.floor(a/3)*2,o=Math.floor(w/3)*2,b=c[m],L=c[m+1],v=c[o],S=c[o+1];this._renderSegment(b,L,v,S,t)}let f,u=l[l.length-1];for(let a=0;a<l.length;++a){f=u,u=l[a];const y=Math.floor(s[u]/3)*2,w=c[y],m=c[y+1],o=f*4,b=this._project(w,m,d[o+2],d[o+3]);b&&this._renderSegment(w,m,b[0],b[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new ad:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=n==null?n=new ad:void 0,s=this._clip(t);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let l=s.length;for(;s[0]===s[l-2]&&s[1]===s[l-1]&&l>1;)l-=2;for(let c=2;c<l;c+=2)(s[c]!==s[c-2]||s[c+1]!==s[c-1])&&n.lineTo(s[c],s[c+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(t){const n=new ML;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,s,l){let c;const d=this._regioncode(t,n),f=this._regioncode(i,s);d===0&&f===0?(l.moveTo(t,n),l.lineTo(i,s)):(c=this._clipSegment(t,n,i,s,d,f))&&(l.moveTo(c[0],c[1]),l.lineTo(c[2],c[3]))}contains(t,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const s=this._clip(i);if(s){e:for(let l=0,c=n.length;l<c;l+=2)for(let d=0,f=s.length;d<f;d+=2)if(n[l]==s[d]&&n[l+1]==s[d+1]&&n[(l+2)%c]==s[(d+f-2)%f]&&n[(l+3)%c]==s[(d+f-1)%f]){yield i;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:s,triangles:l}}=this,c=i[t];if(c===-1)return null;const d=[];let f=c;do{const u=Math.floor(f/3);if(d.push(n[u*2],n[u*2+1]),f=f%3===2?f-2:f+1,l[f]!==t)break;f=s[f]}while(f!==c&&f!==-1);return d}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:i}=this,s=t*4;return i[s]||i[s+1]?this._clipInfinite(t,n,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(t,n)}_clipFinite(t,n){const i=n.length;let s=null,l,c,d=n[i-2],f=n[i-1],u,a=this._regioncode(d,f),y,w=0;for(let m=0;m<i;m+=2)if(l=d,c=f,d=n[m],f=n[m+1],u=a,a=this._regioncode(d,f),u===0&&a===0)y=w,w=0,s?s.push(d,f):s=[d,f];else{let o,b,L,v,S;if(u===0){if((o=this._clipSegment(l,c,d,f,u,a))===null)continue;[b,L,v,S]=o}else{if((o=this._clipSegment(d,f,l,c,a,u))===null)continue;[v,S,b,L]=o,y=w,w=this._edgecode(b,L),y&&w&&this._edge(t,y,w,s,s.length),s?s.push(b,L):s=[b,L]}y=w,w=this._edgecode(v,S),y&&w&&this._edge(t,y,w,s,s.length),s?s.push(v,S):s=[v,S]}if(s)y=w,w=this._edgecode(s[0],s[1]),y&&w&&this._edge(t,y,w,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,i,s,l,c){for(;;){if(l===0&&c===0)return[t,n,i,s];if(l&c)return null;let d,f,u=l||c;u&8?(d=t+(i-t)*(this.ymax-n)/(s-n),f=this.ymax):u&4?(d=t+(i-t)*(this.ymin-n)/(s-n),f=this.ymin):u&2?(f=n+(s-n)*(this.xmax-t)/(i-t),d=this.xmax):(f=n+(s-n)*(this.xmin-t)/(i-t),d=this.xmin),l?(t=d,n=f,l=this._regioncode(t,n)):(i=d,s=f,c=this._regioncode(i,s))}}_clipInfinite(t,n,i,s,l,c){let d=Array.from(n),f;if((f=this._project(d[0],d[1],i,s))&&d.unshift(f[0],f[1]),(f=this._project(d[d.length-2],d[d.length-1],l,c))&&d.push(f[0],f[1]),d=this._clipFinite(t,d))for(let u=0,a=d.length,y,w=this._edgecode(d[a-2],d[a-1]);u<a;u+=2)y=w,w=this._edgecode(d[u],d[u+1]),y&&w&&(u=this._edge(t,y,w,d,u),a=d.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(d=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return d}_edge(t,n,i,s,l){for(;n!==i;){let c,d;switch(n){case 5:n=4;continue;case 4:n=6,c=this.xmax,d=this.ymin;break;case 6:n=2;continue;case 2:n=10,c=this.xmax,d=this.ymax;break;case 10:n=8;continue;case 8:n=9,c=this.xmin,d=this.ymax;break;case 9:n=1;continue;case 1:n=5,c=this.xmin,d=this.ymin;break}(s[l]!==c||s[l+1]!==d)&&this.contains(t,c,d)&&(s.splice(l,0,c,d),l+=2)}if(s.length>4)for(let c=0;c<s.length;c+=2){const d=(c+2)%s.length,f=(c+4)%s.length;(s[c]===s[d]&&s[d]===s[f]||s[c+1]===s[d+1]&&s[d+1]===s[f+1])&&(s.splice(d,2),c-=2)}return l}_project(t,n,i,s){let l=1/0,c,d,f;if(s<0){if(n<=this.ymin)return null;(c=(this.ymin-n)/s)<l&&(f=this.ymin,d=t+(l=c)*i)}else if(s>0){if(n>=this.ymax)return null;(c=(this.ymax-n)/s)<l&&(f=this.ymax,d=t+(l=c)*i)}if(i>0){if(t>=this.xmax)return null;(c=(this.xmax-t)/i)<l&&(d=this.xmax,f=n+(l=c)*s)}else if(i<0){if(t<=this.xmin)return null;(c=(this.xmin-t)/i)<l&&(d=this.xmin,f=n+(l=c)*s)}return[d,f]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const IJ=2*Math.PI,Lf=Math.pow;function MJ(e){return e[0]}function AJ(e){return e[1]}function OJ(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const s=2*t[i],l=2*t[i+1],c=2*t[i+2];if((n[c]-n[s])*(n[l+1]-n[s+1])-(n[l]-n[s])*(n[c+1]-n[s+1])>1e-10)return!1}return!0}function NJ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class K9{static from(t,n=MJ,i=AJ,s){return new K9("length"in t?CJ(t,n,i,s):Float64Array.from(RJ(t,n,i,s)))}constructor(t){this._delaunator=new hg(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&OJ(t)){this.collinear=Int32Array.from({length:n.length/2},(w,m)=>m).sort((w,m)=>n[2*w]-n[2*m]||n[2*w+1]-n[2*m+1]);const f=this.collinear[0],u=this.collinear[this.collinear.length-1],a=[n[2*f],n[2*f+1],n[2*u],n[2*u+1]],y=1e-8*Math.hypot(a[3]-a[1],a[2]-a[0]);for(let w=0,m=n.length/2;w<m;++w){const o=NJ(n[2*w],n[2*w+1],y);n[2*w]=o[0],n[2*w+1]=o[1]}this._delaunator=new hg(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),d=this._hullIndex.fill(-1);for(let f=0,u=i.length;f<u;++f){const a=l[f%3===2?f-2:f+1];(i[f]===-1||c[a]===-1)&&(c[a]=f)}for(let f=0,u=s.length;f<u;++f)d[s[f]]=f;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],c[s[0]]=1,s.length===2&&(c[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(t){return new FJ(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:s,halfedges:l,triangles:c,collinear:d}=this;if(d){const y=d.indexOf(t);y>0&&(yield d[y-1]),y<d.length-1&&(yield d[y+1]);return}const f=n[t];if(f===-1)return;let u=f,a=-1;do{if(yield a=c[u],u=u%3===2?u-2:u+1,c[u]!==t)return;if(u=l[u],u===-1){const y=i[(s[t]+1)%i.length];y!==a&&(yield y);return}}while(u!==f)}find(t,n,i=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const s=i;let l;for(;(l=this._step(i,t,n))>=0&&l!==i&&l!==s;)i=l;return l}_step(t,n,i){const{inedges:s,hull:l,_hullIndex:c,halfedges:d,triangles:f,points:u}=this;if(s[t]===-1||!u.length)return(t+1)%(u.length>>1);let a=t,y=Lf(n-u[t*2],2)+Lf(i-u[t*2+1],2);const w=s[t];let m=w;do{let o=f[m];const b=Lf(n-u[o*2],2)+Lf(i-u[o*2+1],2);if(b<y&&(y=b,a=o),m=m%3===2?m-2:m+1,f[m]!==t)break;if(m=d[m],m===-1){if(m=l[(c[t]+1)%l.length],m!==o&&Lf(n-u[m*2],2)+Lf(i-u[m*2+1],2)<y)return m;break}}while(m!==w);return a}render(t){const n=t==null?t=new ad:void 0,{points:i,halfedges:s,triangles:l}=this;for(let c=0,d=s.length;c<d;++c){const f=s[c];if(f<c)continue;const u=l[c]*2,a=l[f]*2;t.moveTo(i[u],i[u+1]),t.lineTo(i[a],i[a+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const i=t==null?t=new ad:void 0,{points:s}=this;for(let l=0,c=s.length;l<c;l+=2){const d=s[l],f=s[l+1];t.moveTo(d+n,f),t.arc(d,f,n,0,IJ)}return i&&i.value()}renderHull(t){const n=t==null?t=new ad:void 0,{hull:i,points:s}=this,l=i[0]*2,c=i.length;t.moveTo(s[l],s[l+1]);for(let d=1;d<c;++d){const f=2*i[d];t.lineTo(s[f],s[f+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new ML;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=n==null?n=new ad:void 0,{points:s,triangles:l}=this,c=l[t*=3]*2,d=l[t+1]*2,f=l[t+2]*2;return n.moveTo(s[c],s[c+1]),n.lineTo(s[d],s[d+1]),n.lineTo(s[f],s[f+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new ML;return this.renderTriangle(t,n),n.value()}}function CJ(e,t,n,i){const s=e.length,l=new Float64Array(s*2);for(let c=0;c<s;++c){const d=e[c];l[c*2]=t.call(i,d,c,e),l[c*2+1]=n.call(i,d,c,e)}return l}function*RJ(e,t,n,i){let s=0;for(const l of e)yield t.call(i,l,s,e),yield n.call(i,l,s,e),++s}var Ak={},M6={},A6=34,$h=10,O6=13;function IR(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function PJ(e,t){var n=IR(e);return function(i,s){return t(n(i),s,e)}}function Ok(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var s in i)s in t||n.push(t[s]=s)}),n}function ns(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function DJ(e){return e<0?"-"+ns(-e,6):e>9999?"+"+ns(e,6):ns(e,4)}function UJ(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":DJ(e.getUTCFullYear())+"-"+ns(e.getUTCMonth()+1,2)+"-"+ns(e.getUTCDate(),2)+(s?"T"+ns(t,2)+":"+ns(n,2)+":"+ns(i,2)+"."+ns(s,3)+"Z":i?"T"+ns(t,2)+":"+ns(n,2)+":"+ns(i,2)+"Z":n||t?"T"+ns(t,2)+":"+ns(n,2)+"Z":"")}function $J(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(y,w){var m,o,b=s(y,function(L,v){if(m)return m(L,v-1);o=L,m=w?PJ(L,w):IR(L)});return b.columns=o||[],b}function s(y,w){var m=[],o=y.length,b=0,L=0,v,S=o<=0,x=!1;y.charCodeAt(o-1)===$h&&--o,y.charCodeAt(o-1)===O6&&--o;function F(){if(S)return M6;if(x)return x=!1,Ak;var A,M=b,C;if(y.charCodeAt(M)===A6){for(;b++<o&&y.charCodeAt(b)!==A6||y.charCodeAt(++b)===A6;);return(A=b)>=o?S=!0:(C=y.charCodeAt(b++))===$h?x=!0:C===O6&&(x=!0,y.charCodeAt(b)===$h&&++b),y.slice(M+1,A-1).replace(/""/g,'"')}for(;b<o;){if((C=y.charCodeAt(A=b++))===$h)x=!0;else if(C===O6)x=!0,y.charCodeAt(b)===$h&&++b;else if(C!==n)continue;return y.slice(M,A)}return S=!0,y.slice(M,o)}for(;(v=F())!==M6;){for(var k=[];v!==Ak&&v!==M6;)k.push(v),v=F();w&&(k=w(k,L++))==null||m.push(k)}return m}function l(y,w){return y.map(function(m){return w.map(function(o){return a(m[o])}).join(e)})}function c(y,w){return w==null&&(w=Ok(y)),[w.map(a).join(e)].concat(l(y,w)).join(`
`)}function d(y,w){return w==null&&(w=Ok(y)),l(y,w).join(`
`)}function f(y){return y.map(u).join(`
`)}function u(y){return y.map(a).join(e)}function a(y){return y==null?"":y instanceof Date?UJ(y):t.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:i,parseRows:s,format:c,formatBody:d,formatRows:f,formatRow:u,formatValue:a}}function HJ(e,t){var n,i=1;e==null&&(e=0),t==null&&(t=0);function s(){var l,c=n.length,d,f=0,u=0;for(l=0;l<c;++l)d=n[l],f+=d.x,u+=d.y;for(f=(f/c-e)*i,u=(u/c-t)*i,l=0;l<c;++l)d=n[l],d.x-=f,d.y-=u}return s.initialize=function(l){n=l},s.x=function(l){return arguments.length?(e=+l,s):e},s.y=function(l){return arguments.length?(t=+l,s):t},s.strength=function(l){return arguments.length?(i=+l,s):i},s}function zJ(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return MR(this.cover(t,n),t,n,e)}function MR(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var s,l=e._root,c={data:i},d=e._x0,f=e._y0,u=e._x1,a=e._y1,y,w,m,o,b,L,v,S;if(!l)return e._root=c,e;for(;l.length;)if((b=t>=(y=(d+u)/2))?d=y:u=y,(L=n>=(w=(f+a)/2))?f=w:a=w,s=l,!(l=l[v=L<<1|b]))return s[v]=c,e;if(m=+e._x.call(null,l.data),o=+e._y.call(null,l.data),t===m&&n===o)return c.next=l,s?s[v]=c:e._root=c,e;do s=s?s[v]=new Array(4):e._root=new Array(4),(b=t>=(y=(d+u)/2))?d=y:u=y,(L=n>=(w=(f+a)/2))?f=w:a=w;while((v=L<<1|b)===(S=(o>=w)<<1|m>=y));return s[S]=l,s[v]=c,e}function jJ(e){var t,n,i=e.length,s,l,c=new Array(i),d=new Array(i),f=1/0,u=1/0,a=-1/0,y=-1/0;for(n=0;n<i;++n)isNaN(s=+this._x.call(null,t=e[n]))||isNaN(l=+this._y.call(null,t))||(c[n]=s,d[n]=l,s<f&&(f=s),s>a&&(a=s),l<u&&(u=l),l>y&&(y=l));if(f>a||u>y)return this;for(this.cover(f,u).cover(a,y),n=0;n<i;++n)MR(this,c[n],d[n],e[n]);return this}function qJ(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,s=this._x1,l=this._y1;if(isNaN(n))s=(n=Math.floor(e))+1,l=(i=Math.floor(t))+1;else{for(var c=s-n||1,d=this._root,f,u;n>e||e>=s||i>t||t>=l;)switch(u=(t<i)<<1|e<n,f=new Array(4),f[u]=d,d=f,c*=2,u){case 0:s=n+c,l=i+c;break;case 1:n=s-c,l=i+c;break;case 2:s=n+c,i=l-c;break;case 3:n=s-c,i=l-c;break}this._root&&this._root.length&&(this._root=d)}return this._x0=n,this._y0=i,this._x1=s,this._y1=l,this}function VJ(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function GJ(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gi(e,t,n,i,s){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=s}function WJ(e,t,n){var i,s=this._x0,l=this._y0,c,d,f,u,a=this._x1,y=this._y1,w=[],m=this._root,o,b;for(m&&w.push(new Gi(m,s,l,a,y)),n==null?n=1/0:(s=e-n,l=t-n,a=e+n,y=t+n,n*=n);o=w.pop();)if(!(!(m=o.node)||(c=o.x0)>a||(d=o.y0)>y||(f=o.x1)<s||(u=o.y1)<l))if(m.length){var L=(c+f)/2,v=(d+u)/2;w.push(new Gi(m[3],L,v,f,u),new Gi(m[2],c,v,L,u),new Gi(m[1],L,d,f,v),new Gi(m[0],c,d,L,v)),(b=(t>=v)<<1|e>=L)&&(o=w[w.length-1],w[w.length-1]=w[w.length-1-b],w[w.length-1-b]=o)}else{var S=e-+this._x.call(null,m.data),x=t-+this._y.call(null,m.data),F=S*S+x*x;if(F<n){var k=Math.sqrt(n=F);s=e-k,l=t-k,a=e+k,y=t+k,i=m.data}}return i}function YJ(e){if(isNaN(a=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var t,n=this._root,i,s,l,c=this._x0,d=this._y0,f=this._x1,u=this._y1,a,y,w,m,o,b,L,v;if(!n)return this;if(n.length)for(;;){if((o=a>=(w=(c+f)/2))?c=w:f=w,(b=y>=(m=(d+u)/2))?d=m:u=m,t=n,!(n=n[L=b<<1|o]))return this;if(!n.length)break;(t[L+1&3]||t[L+2&3]||t[L+3&3])&&(i=t,v=L)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,s?(l?s.next=l:delete s.next,this):t?(l?t[L]=l:delete t[L],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(i?i[v]=n:this._root=n),this):(this._root=l,this)}function XJ(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function KJ(){return this._root}function ZJ(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function QJ(e){var t=[],n,i=this._root,s,l,c,d,f;for(i&&t.push(new Gi(i,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(i=n.node,l=n.x0,c=n.y0,d=n.x1,f=n.y1)&&i.length){var u=(l+d)/2,a=(c+f)/2;(s=i[3])&&t.push(new Gi(s,u,a,d,f)),(s=i[2])&&t.push(new Gi(s,l,a,u,f)),(s=i[1])&&t.push(new Gi(s,u,c,d,a)),(s=i[0])&&t.push(new Gi(s,l,c,u,a))}return this}function JJ(e){var t=[],n=[],i;for(this._root&&t.push(new Gi(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var s=i.node;if(s.length){var l,c=i.x0,d=i.y0,f=i.x1,u=i.y1,a=(c+f)/2,y=(d+u)/2;(l=s[0])&&t.push(new Gi(l,c,d,a,y)),(l=s[1])&&t.push(new Gi(l,a,d,f,y)),(l=s[2])&&t.push(new Gi(l,c,y,a,u)),(l=s[3])&&t.push(new Gi(l,a,y,f,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function eee(e){return e[0]}function tee(e){return arguments.length?(this._x=e,this):this._x}function nee(e){return e[1]}function iee(e){return arguments.length?(this._y=e,this):this._y}function Z9(e,t,n){var i=new Q9(t??eee,n??nee,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Q9(e,t,n,i,s,l){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=s,this._y1=l,this._root=void 0}function Nk(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var es=Z9.prototype=Q9.prototype;es.copy=function(){var e=new Q9(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,i;if(!t)return e;if(!t.length)return e._root=Nk(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var s=0;s<4;++s)(i=t.source[s])&&(i.length?n.push({source:i,target:t.target[s]=new Array(4)}):t.target[s]=Nk(i));return e};es.add=zJ;es.addAll=jJ;es.cover=qJ;es.data=VJ;es.extent=GJ;es.find=WJ;es.remove=YJ;es.removeAll=XJ;es.root=KJ;es.size=ZJ;es.visit=QJ;es.visitAfter=JJ;es.x=tee;es.y=iee;function Wi(e){return function(){return e}}function bl(e){return(e()-.5)*1e-6}function see(e){return e.x+e.vx}function ree(e){return e.y+e.vy}function aee(e){var t,n,i,s=1,l=1;typeof e!="function"&&(e=Wi(e==null?1:+e));function c(){for(var u,a=t.length,y,w,m,o,b,L,v=0;v<l;++v)for(y=Z9(t,see,ree).visitAfter(d),u=0;u<a;++u)w=t[u],b=n[w.index],L=b*b,m=w.x+w.vx,o=w.y+w.vy,y.visit(S);function S(x,F,k,A,M){var C=x.data,R=x.r,D=b+R;if(C){if(C.index>w.index){var U=m-C.x-C.vx,X=o-C.y-C.vy,j=U*U+X*X;j<D*D&&(U===0&&(U=bl(i),j+=U*U),X===0&&(X=bl(i),j+=X*X),j=(D-(j=Math.sqrt(j)))/j*s,w.vx+=(U*=j)*(D=(R*=R)/(L+R)),w.vy+=(X*=j)*D,C.vx-=U*(D=1-D),C.vy-=X*D)}return}return F>m+D||A<m-D||k>o+D||M<o-D}}function d(u){if(u.data)return u.r=n[u.data.index];for(var a=u.r=0;a<4;++a)u[a]&&u[a].r>u.r&&(u.r=u[a].r)}function f(){if(t){var u,a=t.length,y;for(n=new Array(a),u=0;u<a;++u)y=t[u],n[y.index]=+e(y,u,t)}}return c.initialize=function(u,a){t=u,i=a,f()},c.iterations=function(u){return arguments.length?(l=+u,c):l},c.strength=function(u){return arguments.length?(s=+u,c):s},c.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Wi(+u),f(),c):e},c}function oee(e){return e.index}function Ck(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function lee(e){var t=oee,n=y,i,s=Wi(30),l,c,d,f,u,a=1;e==null&&(e=[]);function y(L){return 1/Math.min(d[L.source.index],d[L.target.index])}function w(L){for(var v=0,S=e.length;v<a;++v)for(var x=0,F,k,A,M,C,R,D;x<S;++x)F=e[x],k=F.source,A=F.target,M=A.x+A.vx-k.x-k.vx||bl(u),C=A.y+A.vy-k.y-k.vy||bl(u),R=Math.sqrt(M*M+C*C),R=(R-l[x])/R*L*i[x],M*=R,C*=R,A.vx-=M*(D=f[x]),A.vy-=C*D,k.vx+=M*(D=1-D),k.vy+=C*D}function m(){if(c){var L,v=c.length,S=e.length,x=new Map(c.map((k,A)=>[t(k,A,c),k])),F;for(L=0,d=new Array(v);L<S;++L)F=e[L],F.index=L,typeof F.source!="object"&&(F.source=Ck(x,F.source)),typeof F.target!="object"&&(F.target=Ck(x,F.target)),d[F.source.index]=(d[F.source.index]||0)+1,d[F.target.index]=(d[F.target.index]||0)+1;for(L=0,f=new Array(S);L<S;++L)F=e[L],f[L]=d[F.source.index]/(d[F.source.index]+d[F.target.index]);i=new Array(S),o(),l=new Array(S),b()}}function o(){if(c)for(var L=0,v=e.length;L<v;++L)i[L]=+n(e[L],L,e)}function b(){if(c)for(var L=0,v=e.length;L<v;++L)l[L]=+s(e[L],L,e)}return w.initialize=function(L,v){c=L,u=v,m()},w.links=function(L){return arguments.length?(e=L,m(),w):e},w.id=function(L){return arguments.length?(t=L,w):t},w.iterations=function(L){return arguments.length?(a=+L,w):a},w.strength=function(L){return arguments.length?(n=typeof L=="function"?L:Wi(+L),o(),w):n},w.distance=function(L){return arguments.length?(s=typeof L=="function"?L:Wi(+L),b(),w):s},w}const cee=1664525,dee=1013904223,Rk=4294967296;function fee(){let e=1;return()=>(e=(cee*e+dee)%Rk)/Rk}function uee(e){return e.x}function hee(e){return e.y}var _ee=10,pee=Math.PI*(3-Math.sqrt(5));function gee(e){var t,n=1,i=.001,s=1-Math.pow(i,1/300),l=0,c=.6,d=new Map,f=BR(y),u=QC("tick","end"),a=fee();e==null&&(e=[]);function y(){w(),u.call("tick",t),n<i&&(f.stop(),u.call("end",t))}function w(b){var L,v=e.length,S;b===void 0&&(b=1);for(var x=0;x<b;++x)for(n+=(l-n)*s,d.forEach(function(F){F(n)}),L=0;L<v;++L)S=e[L],S.fx==null?S.x+=S.vx*=c:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=c:(S.y=S.fy,S.vy=0);return t}function m(){for(var b=0,L=e.length,v;b<L;++b){if(v=e[b],v.index=b,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var S=_ee*Math.sqrt(.5+b),x=b*pee;v.x=S*Math.cos(x),v.y=S*Math.sin(x)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function o(b){return b.initialize&&b.initialize(e,a),b}return m(),t={tick:w,restart:function(){return f.restart(y),t},stop:function(){return f.stop(),t},nodes:function(b){return arguments.length?(e=b,m(),d.forEach(o),t):e},alpha:function(b){return arguments.length?(n=+b,t):n},alphaMin:function(b){return arguments.length?(i=+b,t):i},alphaDecay:function(b){return arguments.length?(s=+b,t):+s},alphaTarget:function(b){return arguments.length?(l=+b,t):l},velocityDecay:function(b){return arguments.length?(c=1-b,t):1-c},randomSource:function(b){return arguments.length?(a=b,d.forEach(o),t):a},force:function(b,L){return arguments.length>1?(L==null?d.delete(b):d.set(b,o(L)),t):d.get(b)},find:function(b,L,v){var S=0,x=e.length,F,k,A,M,C;for(v==null?v=1/0:v*=v,S=0;S<x;++S)M=e[S],F=b-M.x,k=L-M.y,A=F*F+k*k,A<v&&(C=M,v=A);return C},on:function(b,L){return arguments.length>1?(u.on(b,L),t):u.on(b)}}}function yee(){var e,t,n,i,s=Wi(-30),l,c=1,d=1/0,f=.81;function u(m){var o,b=e.length,L=Z9(e,uee,hee).visitAfter(y);for(i=m,o=0;o<b;++o)t=e[o],L.visit(w)}function a(){if(e){var m,o=e.length,b;for(l=new Array(o),m=0;m<o;++m)b=e[m],l[b.index]=+s(b,m,e)}}function y(m){var o=0,b,L,v=0,S,x,F;if(m.length){for(S=x=F=0;F<4;++F)(b=m[F])&&(L=Math.abs(b.value))&&(o+=b.value,v+=L,S+=L*b.x,x+=L*b.y);m.x=S/v,m.y=x/v}else{b=m,b.x=b.data.x,b.y=b.data.y;do o+=l[b.data.index];while(b=b.next)}m.value=o}function w(m,o,b,L){if(!m.value)return!0;var v=m.x-t.x,S=m.y-t.y,x=L-o,F=v*v+S*S;if(x*x/f<F)return F<d&&(v===0&&(v=bl(n),F+=v*v),S===0&&(S=bl(n),F+=S*S),F<c&&(F=Math.sqrt(c*F)),t.vx+=v*m.value*i/F,t.vy+=S*m.value*i/F),!0;if(m.length||F>=d)return;(m.data!==t||m.next)&&(v===0&&(v=bl(n),F+=v*v),S===0&&(S=bl(n),F+=S*S),F<c&&(F=Math.sqrt(c*F)));do m.data!==t&&(x=l[m.data.index]*i/F,t.vx+=v*x,t.vy+=S*x);while(m=m.next)}return u.initialize=function(m,o){e=m,n=o,a()},u.strength=function(m){return arguments.length?(s=typeof m=="function"?m:Wi(+m),a(),u):s},u.distanceMin=function(m){return arguments.length?(c=m*m,u):Math.sqrt(c)},u.distanceMax=function(m){return arguments.length?(d=m*m,u):Math.sqrt(d)},u.theta=function(m){return arguments.length?(f=m*m,u):Math.sqrt(f)},u}function mee(e){var t=Wi(.1),n,i,s;typeof e!="function"&&(e=Wi(e==null?0:+e));function l(d){for(var f=0,u=n.length,a;f<u;++f)a=n[f],a.vx+=(s[f]-a.x)*i[f]*d}function c(){if(n){var d,f=n.length;for(i=new Array(f),s=new Array(f),d=0;d<f;++d)i[d]=isNaN(s[d]=+e(n[d],d,n))?0:+t(n[d],d,n)}}return l.initialize=function(d){n=d,c()},l.strength=function(d){return arguments.length?(t=typeof d=="function"?d:Wi(+d),c(),l):t},l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Wi(+d),c(),l):e},l}function wee(e){var t=Wi(.1),n,i,s;typeof e!="function"&&(e=Wi(e==null?0:+e));function l(d){for(var f=0,u=n.length,a;f<u;++f)a=n[f],a.vy+=(s[f]-a.y)*i[f]*d}function c(){if(n){var d,f=n.length;for(i=new Array(f),s=new Array(f),d=0;d<f;++d)i[d]=isNaN(s[d]=+e(n[d],d,n))?0:+t(n[d],d,n)}}return l.initialize=function(d){n=d,c()},l.strength=function(d){return arguments.length?(t=typeof d=="function"?d:Wi(+d),c(),l):t},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wi(+d),c(),l):e},l}function Lee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _g(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Iu(e){return e=_g(Math.abs(e)),e?e[1]:NaN}function bee(e,t){return function(n,i){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>i&&(d=Math.max(1,i-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>i));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Tee(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Eee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(e){if(!(t=Eee.exec(e)))throw new Error("invalid format: "+e);var t;return new J9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kd.prototype=J9.prototype;function J9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vee(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var AR;function See(e,t){var n=_g(e,t);if(!n)return e+"";var i=n[0],s=n[1],l=s-(AR=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=i.length;return l===c?i:l>c?i+new Array(l-c+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+_g(e,Math.max(0,t+l-1))[0]}function Pk(e,t){var n=_g(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Dk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pk(e*100,t),r:Pk,s:See,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Uk(e){return e}var $k=Array.prototype.map,Hk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OR(e){var t=e.grouping===void 0||e.thousands===void 0?Uk:bee($k.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Uk:Tee($k.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function u(y){y=kd(y);var w=y.fill,m=y.align,o=y.sign,b=y.symbol,L=y.zero,v=y.width,S=y.comma,x=y.precision,F=y.trim,k=y.type;k==="n"?(S=!0,k="g"):Dk[k]||(x===void 0&&(x=12),F=!0,k="g"),(L||w==="0"&&m==="=")&&(L=!0,w="0",m="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=b==="$"?i:/[%p]/.test(k)?c:"",C=Dk[k],R=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(U){var X=A,j=M,G,V,W;if(k==="c")j=C(U)+j,U="";else{U=+U;var Z=U<0||1/U<0;if(U=isNaN(U)?f:C(Math.abs(U),x),F&&(U=vee(U)),Z&&+U==0&&o!=="+"&&(Z=!1),X=(Z?o==="("?o:d:o==="-"||o==="("?"":o)+X,j=(k==="s"?Hk[8+AR/3]:"")+j+(Z&&o==="("?")":""),R){for(G=-1,V=U.length;++G<V;)if(W=U.charCodeAt(G),48>W||W>57){j=(W===46?s+U.slice(G+1):U.slice(G))+j,U=U.slice(0,G);break}}}S&&!L&&(U=t(U,1/0));var q=X.length+U.length+j.length,oe=q<v?new Array(v-q+1).join(w):"";switch(S&&L&&(U=t(oe+U,oe.length?v-j.length:1/0),oe=""),m){case"<":U=X+U+j+oe;break;case"=":U=X+oe+U+j;break;case"^":U=oe.slice(0,q=oe.length>>1)+X+U+j+oe.slice(q);break;default:U=oe+X+U+j;break}return l(U)}return D.toString=function(){return y+""},D}function a(y,w){var m=u((y=kd(y),y.type="f",y)),o=Math.max(-8,Math.min(8,Math.floor(Iu(w)/3)))*3,b=Math.pow(10,-o),L=Hk[8+o/3];return function(v){return m(b*v)+L}}return{format:u,formatPrefix:a}}var b_,o4,e7;xee({thousands:",",grouping:[3],currency:["$",""]});function xee(e){return b_=OR(e),o4=b_.format,e7=b_.formatPrefix,b_}function NR(e){return Math.max(0,-Iu(Math.abs(e)))}function CR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(t)/3)))*3-Iu(Math.abs(e)))}function RR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iu(t)-Iu(e))+1}var ze=1e-6,pg=1e-12,bt=Math.PI,vn=bt/2,gg=bt/4,Zi=bt*2,xn=180/bt,yt=bt/180,kt=Math.abs,hh=Math.atan,ir=Math.atan2,qe=Math.cos,T_=Math.ceil,PR=Math.exp,AL=Math.hypot,yg=Math.log,N6=Math.pow,De=Math.sin,Xs=Math.sign||function(e){return e>0?1:e<0?-1:0},Qi=Math.sqrt,t7=Math.tan;function DR(e){return e>1?0:e<-1?bt:Math.acos(e)}function ys(e){return e>1?vn:e<-1?-vn:Math.asin(e)}function di(){}function mg(e,t){e&&jk.hasOwnProperty(e.type)&&jk[e.type](e,t)}var zk={Feature:function(e,t){mg(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,s=n.length;++i<s;)mg(n[i].geometry,t)}},jk={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,s=n.length;++i<s;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){OL(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,s=n.length;++i<s;)OL(n[i],t,0)},Polygon:function(e,t){qk(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,s=n.length;++i<s;)qk(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,s=n.length;++i<s;)mg(n[i],t)}};function OL(e,t,n){var i=-1,s=e.length-n,l;for(t.lineStart();++i<s;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function qk(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)OL(e[n],t,1);t.polygonEnd()}function So(e,t){e&&zk.hasOwnProperty(e.type)?zk[e.type](e,t):mg(e,t)}var wg=new Xi,Lg=new Xi,UR,$R,NL,CL,RL,$a={point:di,lineStart:di,lineEnd:di,polygonStart:function(){wg=new Xi,$a.lineStart=kee,$a.lineEnd=Bee},polygonEnd:function(){var e=+wg;Lg.add(e<0?Zi+e:e),this.lineStart=this.lineEnd=this.point=di},sphere:function(){Lg.add(Zi)}};function kee(){$a.point=Fee}function Bee(){HR(UR,$R)}function Fee(e,t){$a.point=HR,UR=e,$R=t,e*=yt,t*=yt,NL=e,CL=qe(t=t/2+gg),RL=De(t)}function HR(e,t){e*=yt,t*=yt,t=t/2+gg;var n=e-NL,i=n>=0?1:-1,s=i*n,l=qe(t),c=De(t),d=RL*c,f=CL*l+d*qe(s),u=d*i*De(s);wg.add(ir(u,f)),NL=e,CL=l,RL=c}function Iee(e){return Lg=new Xi,So(e,$a),Lg*2}function bg(e){return[ir(e[1],e[0]),ys(e[2])]}function Bd(e){var t=e[0],n=e[1],i=qe(n);return[i*qe(t),i*De(t),De(n)]}function E_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Mu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function C6(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function v_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Tg(e){var t=Qi(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var mn,rs,bn,As,jc,zR,jR,ou,D1,hl,zo,Lo={point:PL,lineStart:Vk,lineEnd:Gk,polygonStart:function(){Lo.point=VR,Lo.lineStart=Mee,Lo.lineEnd=Aee,D1=new Xi,$a.polygonStart()},polygonEnd:function(){$a.polygonEnd(),Lo.point=PL,Lo.lineStart=Vk,Lo.lineEnd=Gk,wg<0?(mn=-(bn=180),rs=-(As=90)):D1>ze?As=90:D1<-ze&&(rs=-90),zo[0]=mn,zo[1]=bn},sphere:function(){mn=-(bn=180),rs=-(As=90)}};function PL(e,t){hl.push(zo=[mn=e,bn=e]),t<rs&&(rs=t),t>As&&(As=t)}function qR(e,t){var n=Bd([e*yt,t*yt]);if(ou){var i=Mu(ou,n),s=[i[1],-i[0],0],l=Mu(s,i);Tg(l),l=bg(l);var c=e-jc,d=c>0?1:-1,f=l[0]*xn*d,u,a=kt(c)>180;a^(d*jc<f&&f<d*e)?(u=l[1]*xn,u>As&&(As=u)):(f=(f+360)%360-180,a^(d*jc<f&&f<d*e)?(u=-l[1]*xn,u<rs&&(rs=u)):(t<rs&&(rs=t),t>As&&(As=t))),a?e<jc?Fs(mn,e)>Fs(mn,bn)&&(bn=e):Fs(e,bn)>Fs(mn,bn)&&(mn=e):bn>=mn?(e<mn&&(mn=e),e>bn&&(bn=e)):e>jc?Fs(mn,e)>Fs(mn,bn)&&(bn=e):Fs(e,bn)>Fs(mn,bn)&&(mn=e)}else hl.push(zo=[mn=e,bn=e]);t<rs&&(rs=t),t>As&&(As=t),ou=n,jc=e}function Vk(){Lo.point=qR}function Gk(){zo[0]=mn,zo[1]=bn,Lo.point=PL,ou=null}function VR(e,t){if(ou){var n=e-jc;D1.add(kt(n)>180?n+(n>0?360:-360):n)}else zR=e,jR=t;$a.point(e,t),qR(e,t)}function Mee(){$a.lineStart()}function Aee(){VR(zR,jR),$a.lineEnd(),kt(D1)>ze&&(mn=-(bn=180)),zo[0]=mn,zo[1]=bn,ou=null}function Fs(e,t){return(t-=e)<0?t+360:t}function Oee(e,t){return e[0]-t[0]}function Wk(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Nee(e){var t,n,i,s,l,c,d;if(As=bn=-(mn=rs=1/0),hl=[],So(e,Lo),n=hl.length){for(hl.sort(Oee),t=1,i=hl[0],l=[i];t<n;++t)s=hl[t],Wk(i,s[0])||Wk(i,s[1])?(Fs(i[0],s[1])>Fs(i[0],i[1])&&(i[1]=s[1]),Fs(s[0],i[1])>Fs(i[0],i[1])&&(i[0]=s[0])):l.push(i=s);for(c=-1/0,n=l.length-1,t=0,i=l[n];t<=n;i=s,++t)s=l[t],(d=Fs(i[1],s[0]))>c&&(c=d,mn=s[0],bn=i[1])}return hl=zo=null,mn===1/0||rs===1/0?[[NaN,NaN],[NaN,NaN]]:[[mn,rs],[bn,As]]}var _1,Eg,vg,Sg,xg,kg,Bg,Fg,DL,UL,$L,GR,WR,ji,qi,Vi,Ar={sphere:di,point:n7,lineStart:Yk,lineEnd:Xk,polygonStart:function(){Ar.lineStart=Pee,Ar.lineEnd=Dee},polygonEnd:function(){Ar.lineStart=Yk,Ar.lineEnd=Xk}};function n7(e,t){e*=yt,t*=yt;var n=qe(t);f0(n*qe(e),n*De(e),De(t))}function f0(e,t,n){++_1,vg+=(e-vg)/_1,Sg+=(t-Sg)/_1,xg+=(n-xg)/_1}function Yk(){Ar.point=Cee}function Cee(e,t){e*=yt,t*=yt;var n=qe(t);ji=n*qe(e),qi=n*De(e),Vi=De(t),Ar.point=Ree,f0(ji,qi,Vi)}function Ree(e,t){e*=yt,t*=yt;var n=qe(t),i=n*qe(e),s=n*De(e),l=De(t),c=ir(Qi((c=qi*l-Vi*s)*c+(c=Vi*i-ji*l)*c+(c=ji*s-qi*i)*c),ji*i+qi*s+Vi*l);Eg+=c,kg+=c*(ji+(ji=i)),Bg+=c*(qi+(qi=s)),Fg+=c*(Vi+(Vi=l)),f0(ji,qi,Vi)}function Xk(){Ar.point=n7}function Pee(){Ar.point=Uee}function Dee(){YR(GR,WR),Ar.point=n7}function Uee(e,t){GR=e,WR=t,e*=yt,t*=yt,Ar.point=YR;var n=qe(t);ji=n*qe(e),qi=n*De(e),Vi=De(t),f0(ji,qi,Vi)}function YR(e,t){e*=yt,t*=yt;var n=qe(t),i=n*qe(e),s=n*De(e),l=De(t),c=qi*l-Vi*s,d=Vi*i-ji*l,f=ji*s-qi*i,u=AL(c,d,f),a=ys(u),y=u&&-a/u;DL.add(y*c),UL.add(y*d),$L.add(y*f),Eg+=a,kg+=a*(ji+(ji=i)),Bg+=a*(qi+(qi=s)),Fg+=a*(Vi+(Vi=l)),f0(ji,qi,Vi)}function $ee(e){_1=Eg=vg=Sg=xg=kg=Bg=Fg=0,DL=new Xi,UL=new Xi,$L=new Xi,So(e,Ar);var t=+DL,n=+UL,i=+$L,s=AL(t,n,i);return s<pg&&(t=kg,n=Bg,i=Fg,Eg<ze&&(t=vg,n=Sg,i=xg),s=AL(t,n,i),s<pg)?[NaN,NaN]:[ir(n,t)*xn,ys(i/s)*xn]}function HL(e,t){function n(i,s){return i=e(i,s),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,s){return i=t.invert(i,s),i&&e.invert(i[0],i[1])}),n}function zL(e,t){return kt(e)>bt&&(e-=Math.round(e/Zi)*Zi),[e,t]}zL.invert=zL;function XR(e,t,n){return(e%=Zi)?t||n?HL(Zk(e),Qk(t,n)):Zk(e):t||n?Qk(t,n):zL}function Kk(e){return function(t,n){return t+=e,kt(t)>bt&&(t-=Math.round(t/Zi)*Zi),[t,n]}}function Zk(e){var t=Kk(e);return t.invert=Kk(-e),t}function Qk(e,t){var n=qe(e),i=De(e),s=qe(t),l=De(t);function c(d,f){var u=qe(f),a=qe(d)*u,y=De(d)*u,w=De(f),m=w*n+a*i;return[ir(y*s-m*l,a*n-w*i),ys(m*s+y*l)]}return c.invert=function(d,f){var u=qe(f),a=qe(d)*u,y=De(d)*u,w=De(f),m=w*s-y*l;return[ir(y*s+w*l,a*n+m*i),ys(m*n-a*i)]},c}function Hee(e){e=XR(e[0]*yt,e[1]*yt,e.length>2?e[2]*yt:0);function t(n){return n=e(n[0]*yt,n[1]*yt),n[0]*=xn,n[1]*=xn,n}return t.invert=function(n){return n=e.invert(n[0]*yt,n[1]*yt),n[0]*=xn,n[1]*=xn,n},t}function zee(e,t,n,i,s,l){if(n){var c=qe(t),d=De(t),f=i*n;s==null?(s=t+i*Zi,l=t-f/2):(s=Jk(c,s),l=Jk(c,l),(i>0?s<l:s>l)&&(s+=i*Zi));for(var u,a=s;i>0?a>l:a<l;a-=f)u=bg([c,-d*qe(a),-d*De(a)]),e.point(u[0],u[1])}}function Jk(e,t){t=Bd(t),t[0]-=e,Tg(t);var n=DR(-t[1]);return((-t[2]<0?-n:n)+Zi-ze)%Zi}function KR(){var e=[],t;return{point:function(n,i,s){t.push([n,i,s])},lineStart:function(){e.push(t=[])},lineEnd:di,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function pp(e,t){return kt(e[0]-t[0])<ze&&kt(e[1]-t[1])<ze}function S_(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ZR(e,t,n,i,s){var l=[],c=[],d,f;if(e.forEach(function(o){if(!((b=o.length-1)<=0)){var b,L=o[0],v=o[b],S;if(pp(L,v)){if(!L[2]&&!v[2]){for(s.lineStart(),d=0;d<b;++d)s.point((L=o[d])[0],L[1]);s.lineEnd();return}v[0]+=2*ze}l.push(S=new S_(L,o,null,!0)),c.push(S.o=new S_(L,null,S,!1)),l.push(S=new S_(v,o,null,!1)),c.push(S.o=new S_(v,null,S,!0))}}),!!l.length){for(c.sort(t),eB(l),eB(c),d=0,f=c.length;d<f;++d)c[d].e=n=!n;for(var u=l[0],a,y;;){for(var w=u,m=!0;w.v;)if((w=w.n)===u)return;a=w.z,s.lineStart();do{if(w.v=w.o.v=!0,w.e){if(m)for(d=0,f=a.length;d<f;++d)s.point((y=a[d])[0],y[1]);else i(w.x,w.n.x,1,s);w=w.n}else{if(m)for(a=w.p.z,d=a.length-1;d>=0;--d)s.point((y=a[d])[0],y[1]);else i(w.x,w.p.x,-1,s);w=w.p}w=w.o,a=w.z,m=!m}while(!w.v);s.lineEnd()}}}function eB(e){if(t=e.length){for(var t,n=0,i=e[0],s;++n<t;)i.n=s=e[n],s.p=i,i=s;i.n=s=e[0],s.p=i}}function R6(e){return kt(e[0])<=bt?e[0]:Xs(e[0])*((kt(e[0])+bt)%Zi-bt)}function jee(e,t){var n=R6(t),i=t[1],s=De(i),l=[De(n),-qe(n),0],c=0,d=0,f=new Xi;s===1?i=vn+ze:s===-1&&(i=-vn-ze);for(var u=0,a=e.length;u<a;++u)if(w=(y=e[u]).length)for(var y,w,m=y[w-1],o=R6(m),b=m[1]/2+gg,L=De(b),v=qe(b),S=0;S<w;++S,o=F,L=A,v=M,m=x){var x=y[S],F=R6(x),k=x[1]/2+gg,A=De(k),M=qe(k),C=F-o,R=C>=0?1:-1,D=R*C,U=D>bt,X=L*A;if(f.add(ir(X*R*De(D),v*M+X*qe(D))),c+=U?C+R*Zi:C,U^o>=n^F>=n){var j=Mu(Bd(m),Bd(x));Tg(j);var G=Mu(l,j);Tg(G);var V=(U^C>=0?-1:1)*ys(G[2]);(i>V||i===V&&(j[0]||j[1]))&&(d+=U^C>=0?1:-1)}}return(c<-ze||c<ze&&f<-pg)^d&1}function QR(e,t,n,i){return function(s){var l=t(s),c=KR(),d=t(c),f=!1,u,a,y,w={point:m,lineStart:b,lineEnd:L,polygonStart:function(){w.point=v,w.lineStart=S,w.lineEnd=x,a=[],u=[]},polygonEnd:function(){w.point=m,w.lineStart=b,w.lineEnd=L,a=KC(a);var F=jee(u,i);a.length?(f||(s.polygonStart(),f=!0),ZR(a,Vee,F,n,s)):F&&(f||(s.polygonStart(),f=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),f&&(s.polygonEnd(),f=!1),a=u=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function m(F,k){e(F,k)&&s.point(F,k)}function o(F,k){l.point(F,k)}function b(){w.point=o,l.lineStart()}function L(){w.point=m,l.lineEnd()}function v(F,k){y.push([F,k]),d.point(F,k)}function S(){d.lineStart(),y=[]}function x(){v(y[0][0],y[0][1]),d.lineEnd();var F=d.clean(),k=c.result(),A,M=k.length,C,R,D;if(y.pop(),u.push(y),y=null,!!M){if(F&1){if(R=k[0],(C=R.length-1)>0){for(f||(s.polygonStart(),f=!0),s.lineStart(),A=0;A<C;++A)s.point((D=R[A])[0],D[1]);s.lineEnd()}return}M>1&&F&2&&k.push(k.pop().concat(k.shift())),a.push(k.filter(qee))}}return w}}function qee(e){return e.length>1}function Vee(e,t){return((e=e.x)[0]<0?e[1]-vn-ze:vn-e[1])-((t=t.x)[0]<0?t[1]-vn-ze:vn-t[1])}const tB=QR(function(){return!0},Gee,Yee,[-bt,-vn]);function Gee(e){var t=NaN,n=NaN,i=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(l,c){var d=l>0?bt:-bt,f=kt(l-t);kt(f-bt)<ze?(e.point(t,n=(n+c)/2>0?vn:-vn),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(d,n),e.point(l,n),s=0):i!==d&&f>=bt&&(kt(t-i)<ze&&(t-=i*ze),kt(l-d)<ze&&(l-=d*ze),n=Wee(t,n,l,c),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(d,n),s=0),e.point(t=l,n=c),i=d},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-s}}}function Wee(e,t,n,i){var s,l,c=De(e-n);return kt(c)>ze?hh((De(t)*(l=qe(i))*De(n)-De(i)*(s=qe(t))*De(e))/(s*l*c)):(t+i)/2}function Yee(e,t,n,i){var s;if(e==null)s=n*vn,i.point(-bt,s),i.point(0,s),i.point(bt,s),i.point(bt,0),i.point(bt,-s),i.point(0,-s),i.point(-bt,-s),i.point(-bt,0),i.point(-bt,s);else if(kt(e[0]-t[0])>ze){var l=e[0]<t[0]?bt:-bt;s=n*l/2,i.point(-l,s),i.point(0,s),i.point(l,s)}else i.point(t[0],t[1])}function Xee(e){var t=qe(e),n=6*yt,i=t>0,s=kt(t)>ze;function l(a,y,w,m){zee(m,e,n,w,a,y)}function c(a,y){return qe(a)*qe(y)>t}function d(a){var y,w,m,o,b;return{lineStart:function(){o=m=!1,b=1},point:function(L,v){var S=[L,v],x,F=c(L,v),k=i?F?0:u(L,v):F?u(L+(L<0?bt:-bt),v):0;if(!y&&(o=m=F)&&a.lineStart(),F!==m&&(x=f(y,S),(!x||pp(y,x)||pp(S,x))&&(S[2]=1)),F!==m)b=0,F?(a.lineStart(),x=f(S,y),a.point(x[0],x[1])):(x=f(y,S),a.point(x[0],x[1],2),a.lineEnd()),y=x;else if(s&&y&&i^F){var A;!(k&w)&&(A=f(S,y,!0))&&(b=0,i?(a.lineStart(),a.point(A[0][0],A[0][1]),a.point(A[1][0],A[1][1]),a.lineEnd()):(a.point(A[1][0],A[1][1]),a.lineEnd(),a.lineStart(),a.point(A[0][0],A[0][1],3)))}F&&(!y||!pp(y,S))&&a.point(S[0],S[1]),y=S,m=F,w=k},lineEnd:function(){m&&a.lineEnd(),y=null},clean:function(){return b|(o&&m)<<1}}}function f(a,y,w){var m=Bd(a),o=Bd(y),b=[1,0,0],L=Mu(m,o),v=E_(L,L),S=L[0],x=v-S*S;if(!x)return!w&&a;var F=t*v/x,k=-t*S/x,A=Mu(b,L),M=v_(b,F),C=v_(L,k);C6(M,C);var R=A,D=E_(M,R),U=E_(R,R),X=D*D-U*(E_(M,M)-1);if(!(X<0)){var j=Qi(X),G=v_(R,(-D-j)/U);if(C6(G,M),G=bg(G),!w)return G;var V=a[0],W=y[0],Z=a[1],q=y[1],oe;W<V&&(oe=V,V=W,W=oe);var fe=W-V,ne=kt(fe-bt)<ze,xe=ne||fe<ze;if(!ne&&q<Z&&(oe=Z,Z=q,q=oe),xe?ne?Z+q>0^G[1]<(kt(G[0]-V)<ze?Z:q):Z<=G[1]&&G[1]<=q:fe>bt^(V<=G[0]&&G[0]<=W)){var le=v_(R,(-D+j)/U);return C6(le,M),[G,bg(le)]}}}function u(a,y){var w=i?e:bt-e,m=0;return a<-w?m|=1:a>w&&(m|=2),y<-w?m|=4:y>w&&(m|=8),m}return QR(c,d,l,i?[0,-e]:[-bt,e-bt])}function Kee(e,t,n,i,s,l){var c=e[0],d=e[1],f=t[0],u=t[1],a=0,y=1,w=f-c,m=u-d,o;if(o=n-c,!(!w&&o>0)){if(o/=w,w<0){if(o<a)return;o<y&&(y=o)}else if(w>0){if(o>y)return;o>a&&(a=o)}if(o=s-c,!(!w&&o<0)){if(o/=w,w<0){if(o>y)return;o>a&&(a=o)}else if(w>0){if(o<a)return;o<y&&(y=o)}if(o=i-d,!(!m&&o>0)){if(o/=m,m<0){if(o<a)return;o<y&&(y=o)}else if(m>0){if(o>y)return;o>a&&(a=o)}if(o=l-d,!(!m&&o<0)){if(o/=m,m<0){if(o>y)return;o>a&&(a=o)}else if(m>0){if(o<a)return;o<y&&(y=o)}return a>0&&(e[0]=c+a*w,e[1]=d+a*m),y<1&&(t[0]=c+y*w,t[1]=d+y*m),!0}}}}}var p1=1e9,x_=-p1;function JR(e,t,n,i){function s(u,a){return e<=u&&u<=n&&t<=a&&a<=i}function l(u,a,y,w){var m=0,o=0;if(u==null||(m=c(u,y))!==(o=c(a,y))||f(u,a)<0^y>0)do w.point(m===0||m===3?e:n,m>1?i:t);while((m=(m+y+4)%4)!==o);else w.point(a[0],a[1])}function c(u,a){return kt(u[0]-e)<ze?a>0?0:3:kt(u[0]-n)<ze?a>0?2:1:kt(u[1]-t)<ze?a>0?1:0:a>0?3:2}function d(u,a){return f(u.x,a.x)}function f(u,a){var y=c(u,1),w=c(a,1);return y!==w?y-w:y===0?a[1]-u[1]:y===1?u[0]-a[0]:y===2?u[1]-a[1]:a[0]-u[0]}return function(u){var a=u,y=KR(),w,m,o,b,L,v,S,x,F,k,A,M={point:C,lineStart:X,lineEnd:j,polygonStart:D,polygonEnd:U};function C(V,W){s(V,W)&&a.point(V,W)}function R(){for(var V=0,W=0,Z=m.length;W<Z;++W)for(var q=m[W],oe=1,fe=q.length,ne=q[0],xe,le,Se=ne[0],Ae=ne[1];oe<fe;++oe)xe=Se,le=Ae,ne=q[oe],Se=ne[0],Ae=ne[1],le<=i?Ae>i&&(Se-xe)*(i-le)>(Ae-le)*(e-xe)&&++V:Ae<=i&&(Se-xe)*(i-le)<(Ae-le)*(e-xe)&&--V;return V}function D(){a=y,w=[],m=[],A=!0}function U(){var V=R(),W=A&&V,Z=(w=KC(w)).length;(W||Z)&&(u.polygonStart(),W&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),Z&&ZR(w,d,V,l,u),u.polygonEnd()),a=u,w=m=o=null}function X(){M.point=G,m&&m.push(o=[]),k=!0,F=!1,S=x=NaN}function j(){w&&(G(b,L),v&&F&&y.rejoin(),w.push(y.result())),M.point=C,F&&a.lineEnd()}function G(V,W){var Z=s(V,W);if(m&&o.push([V,W]),k)b=V,L=W,v=Z,k=!1,Z&&(a.lineStart(),a.point(V,W));else if(Z&&F)a.point(V,W);else{var q=[S=Math.max(x_,Math.min(p1,S)),x=Math.max(x_,Math.min(p1,x))],oe=[V=Math.max(x_,Math.min(p1,V)),W=Math.max(x_,Math.min(p1,W))];Kee(q,oe,e,t,n,i)?(F||(a.lineStart(),a.point(q[0],q[1])),a.point(oe[0],oe[1]),Z||a.lineEnd(),A=!1):Z&&(a.lineStart(),a.point(V,W),A=!1)}S=V,x=W,F=Z}return M}}function nB(e,t,n){var i=Ns(e,t-ze,n).concat(t);return function(s){return i.map(function(l){return[s,l]})}}function iB(e,t,n){var i=Ns(e,t-ze,n).concat(t);return function(s){return i.map(function(l){return[l,s]})}}function Zee(){var e,t,n,i,s,l,c,d,f=10,u=f,a=90,y=360,w,m,o,b,L=2.5;function v(){return{type:"MultiLineString",coordinates:S()}}function S(){return Ns(T_(i/a)*a,n,a).map(o).concat(Ns(T_(d/y)*y,c,y).map(b)).concat(Ns(T_(t/f)*f,e,f).filter(function(x){return kt(x%a)>ze}).map(w)).concat(Ns(T_(l/u)*u,s,u).filter(function(x){return kt(x%y)>ze}).map(m))}return v.lines=function(){return S().map(function(x){return{type:"LineString",coordinates:x}})},v.outline=function(){return{type:"Polygon",coordinates:[o(i).concat(b(c).slice(1),o(n).reverse().slice(1),b(d).reverse().slice(1))]}},v.extent=function(x){return arguments.length?v.extentMajor(x).extentMinor(x):v.extentMinor()},v.extentMajor=function(x){return arguments.length?(i=+x[0][0],n=+x[1][0],d=+x[0][1],c=+x[1][1],i>n&&(x=i,i=n,n=x),d>c&&(x=d,d=c,c=x),v.precision(L)):[[i,d],[n,c]]},v.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],l=+x[0][1],s=+x[1][1],t>e&&(x=t,t=e,e=x),l>s&&(x=l,l=s,s=x),v.precision(L)):[[t,l],[e,s]]},v.step=function(x){return arguments.length?v.stepMajor(x).stepMinor(x):v.stepMinor()},v.stepMajor=function(x){return arguments.length?(a=+x[0],y=+x[1],v):[a,y]},v.stepMinor=function(x){return arguments.length?(f=+x[0],u=+x[1],v):[f,u]},v.precision=function(x){return arguments.length?(L=+x,w=nB(l,s,90),m=iB(t,e,L),o=nB(d,c,90),b=iB(i,n,L),v):L},v.extentMajor([[-180,-90+ze],[180,90-ze]]).extentMinor([[-180,-80-ze],[180,80+ze]])}const y2=e=>e;var P6=new Xi,jL=new Xi,eP,tP,qL,VL,wl={point:di,lineStart:di,lineEnd:di,polygonStart:function(){wl.lineStart=Qee,wl.lineEnd=ete},polygonEnd:function(){wl.lineStart=wl.lineEnd=wl.point=di,P6.add(kt(jL)),jL=new Xi},result:function(){var e=P6/2;return P6=new Xi,e}};function Qee(){wl.point=Jee}function Jee(e,t){wl.point=nP,eP=qL=e,tP=VL=t}function nP(e,t){jL.add(VL*e-qL*t),qL=e,VL=t}function ete(){nP(eP,tP)}const sB=wl;var Au=1/0,Ig=Au,m2=-Au,Mg=m2,tte={point:nte,lineStart:di,lineEnd:di,polygonStart:di,polygonEnd:di,result:function(){var e=[[Au,Ig],[m2,Mg]];return m2=Mg=-(Ig=Au=1/0),e}};function nte(e,t){e<Au&&(Au=e),e>m2&&(m2=e),t<Ig&&(Ig=t),t>Mg&&(Mg=t)}const Ag=tte;var GL=0,WL=0,g1=0,Og=0,Ng=0,Vf=0,YL=0,XL=0,y1=0,iP,sP,Ta,Ea,Br={point:Fd,lineStart:rB,lineEnd:aB,polygonStart:function(){Br.lineStart=rte,Br.lineEnd=ate},polygonEnd:function(){Br.point=Fd,Br.lineStart=rB,Br.lineEnd=aB},result:function(){var e=y1?[YL/y1,XL/y1]:Vf?[Og/Vf,Ng/Vf]:g1?[GL/g1,WL/g1]:[NaN,NaN];return GL=WL=g1=Og=Ng=Vf=YL=XL=y1=0,e}};function Fd(e,t){GL+=e,WL+=t,++g1}function rB(){Br.point=ite}function ite(e,t){Br.point=ste,Fd(Ta=e,Ea=t)}function ste(e,t){var n=e-Ta,i=t-Ea,s=Qi(n*n+i*i);Og+=s*(Ta+e)/2,Ng+=s*(Ea+t)/2,Vf+=s,Fd(Ta=e,Ea=t)}function aB(){Br.point=Fd}function rte(){Br.point=ote}function ate(){rP(iP,sP)}function ote(e,t){Br.point=rP,Fd(iP=Ta=e,sP=Ea=t)}function rP(e,t){var n=e-Ta,i=t-Ea,s=Qi(n*n+i*i);Og+=s*(Ta+e)/2,Ng+=s*(Ea+t)/2,Vf+=s,s=Ea*e-Ta*t,YL+=s*(Ta+e),XL+=s*(Ea+t),y1+=s*3,Fd(Ta=e,Ea=t)}const oB=Br;function aP(e){this._context=e}aP.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Zi);break}}},result:di};var KL=new Xi,D6,oP,lP,m1,w1,Cg={point:di,lineStart:function(){Cg.point=lte},lineEnd:function(){D6&&cP(oP,lP),Cg.point=di},polygonStart:function(){D6=!0},polygonEnd:function(){D6=null},result:function(){var e=+KL;return KL=new Xi,e}};function lte(e,t){Cg.point=cP,oP=m1=e,lP=w1=t}function cP(e,t){m1-=e,w1-=t,KL.add(Qi(m1*m1+w1*w1)),m1=e,w1=t}const lB=Cg;let cB,Rg,dB,fB;class uB{constructor(t){this._append=t==null?dP:cte(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==dB||this._append!==Rg){const i=this._radius,s=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,dB=i,Rg=this._append,fB=this._,this._=s}this._+=fB;break}}}result(){const t=this._;return this._="",t.length?t:null}}function dP(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cte(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return dP;if(t!==cB){const n=10**t;cB=t,Rg=function(s){let l=1;this._+=s[0];for(const c=s.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+s[l]}}return Rg}function fP(e,t){let n=3,i=4.5,s,l;function c(d){return d&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),So(d,s(l))),l.result()}return c.area=function(d){return So(d,s(sB)),sB.result()},c.measure=function(d){return So(d,s(lB)),lB.result()},c.bounds=function(d){return So(d,s(Ag)),Ag.result()},c.centroid=function(d){return So(d,s(oB)),oB.result()},c.projection=function(d){return arguments.length?(s=d==null?(e=null,y2):(e=d).stream,c):e},c.context=function(d){return arguments.length?(l=d==null?(t=null,new uB(n)):new aP(t=d),typeof i!="function"&&l.pointRadius(i),c):t},c.pointRadius=function(d){return arguments.length?(i=typeof d=="function"?d:(l.pointRadius(+d),+d),c):i},c.digits=function(d){if(!arguments.length)return n;if(d==null)n=null;else{const f=Math.floor(d);if(!(f>=0))throw new RangeError(`invalid digits: ${d}`);n=f}return t===null&&(l=new uB(n)),c},c.projection(e).digits(n).context(t)}function l4(e){return function(t){var n=new ZL;for(var i in e)n[i]=e[i];return n.stream=t,n}}function ZL(){}ZL.prototype={constructor:ZL,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function i7(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),So(n,e.stream(Ag)),t(Ag.result()),i!=null&&e.clipExtent(i),e}function c4(e,t,n){return i7(e,function(i){var s=t[1][0]-t[0][0],l=t[1][1]-t[0][1],c=Math.min(s/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),d=+t[0][0]+(s-c*(i[1][0]+i[0][0]))/2,f=+t[0][1]+(l-c*(i[1][1]+i[0][1]))/2;e.scale(150*c).translate([d,f])},n)}function s7(e,t,n){return c4(e,[[0,0],t],n)}function r7(e,t,n){return i7(e,function(i){var s=+t,l=s/(i[1][0]-i[0][0]),c=(s-l*(i[1][0]+i[0][0]))/2,d=-l*i[0][1];e.scale(150*l).translate([c,d])},n)}function a7(e,t,n){return i7(e,function(i){var s=+t,l=s/(i[1][1]-i[0][1]),c=-l*i[0][0],d=(s-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([c,d])},n)}var hB=16,dte=qe(30*yt);function _B(e,t){return+t?ute(e,t):fte(e)}function fte(e){return l4({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function ute(e,t){function n(i,s,l,c,d,f,u,a,y,w,m,o,b,L){var v=u-i,S=a-s,x=v*v+S*S;if(x>4*t&&b--){var F=c+w,k=d+m,A=f+o,M=Qi(F*F+k*k+A*A),C=ys(A/=M),R=kt(kt(A)-1)<ze||kt(l-y)<ze?(l+y)/2:ir(k,F),D=e(R,C),U=D[0],X=D[1],j=U-i,G=X-s,V=S*j-v*G;(V*V/x>t||kt((v*j+S*G)/x-.5)>.3||c*w+d*m+f*o<dte)&&(n(i,s,l,c,d,f,U,X,R,F/=M,k/=M,A,b,L),L.point(U,X),n(U,X,R,F,k,A,u,a,y,w,m,o,b,L))}}return function(i){var s,l,c,d,f,u,a,y,w,m,o,b,L={point:v,lineStart:S,lineEnd:F,polygonStart:function(){i.polygonStart(),L.lineStart=k},polygonEnd:function(){i.polygonEnd(),L.lineStart=S}};function v(C,R){C=e(C,R),i.point(C[0],C[1])}function S(){y=NaN,L.point=x,i.lineStart()}function x(C,R){var D=Bd([C,R]),U=e(C,R);n(y,w,a,m,o,b,y=U[0],w=U[1],a=C,m=D[0],o=D[1],b=D[2],hB,i),i.point(y,w)}function F(){L.point=v,i.lineEnd()}function k(){S(),L.point=A,L.lineEnd=M}function A(C,R){x(s=C,R),l=y,c=w,d=m,f=o,u=b,L.point=x}function M(){n(y,w,a,m,o,b,l,c,s,d,f,u,hB,i),L.lineEnd=F,F()}return L}}var hte=l4({point:function(e,t){this.stream.point(e*yt,t*yt)}});function _te(e){return l4({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function pte(e,t,n,i,s){function l(c,d){return c*=i,d*=s,[t+e*c,n-e*d]}return l.invert=function(c,d){return[(c-t)/e*i,(n-d)/e*s]},l}function pB(e,t,n,i,s,l){if(!l)return pte(e,t,n,i,s);var c=qe(l),d=De(l),f=c*e,u=d*e,a=c/e,y=d/e,w=(d*n-c*t)/e,m=(d*t+c*n)/e;function o(b,L){return b*=i,L*=s,[f*b-u*L+t,n-u*b-f*L]}return o.invert=function(b,L){return[i*(a*b-y*L+w),s*(m-y*b-a*L)]},o}function Qa(e){return uP(function(){return e})()}function uP(e){var t,n=150,i=480,s=250,l=0,c=0,d=0,f=0,u=0,a,y=0,w=1,m=1,o=null,b=tB,L=null,v,S,x,F=y2,k=.5,A,M,C,R,D;function U(V){return C(V[0]*yt,V[1]*yt)}function X(V){return V=C.invert(V[0],V[1]),V&&[V[0]*xn,V[1]*xn]}U.stream=function(V){return R&&D===V?R:R=hte(_te(a)(b(A(F(D=V)))))},U.preclip=function(V){return arguments.length?(b=V,o=void 0,G()):b},U.postclip=function(V){return arguments.length?(F=V,L=v=S=x=null,G()):F},U.clipAngle=function(V){return arguments.length?(b=+V?Xee(o=V*yt):(o=null,tB),G()):o*xn},U.clipExtent=function(V){return arguments.length?(F=V==null?(L=v=S=x=null,y2):JR(L=+V[0][0],v=+V[0][1],S=+V[1][0],x=+V[1][1]),G()):L==null?null:[[L,v],[S,x]]},U.scale=function(V){return arguments.length?(n=+V,j()):n},U.translate=function(V){return arguments.length?(i=+V[0],s=+V[1],j()):[i,s]},U.center=function(V){return arguments.length?(l=V[0]%360*yt,c=V[1]%360*yt,j()):[l*xn,c*xn]},U.rotate=function(V){return arguments.length?(d=V[0]%360*yt,f=V[1]%360*yt,u=V.length>2?V[2]%360*yt:0,j()):[d*xn,f*xn,u*xn]},U.angle=function(V){return arguments.length?(y=V%360*yt,j()):y*xn},U.reflectX=function(V){return arguments.length?(w=V?-1:1,j()):w<0},U.reflectY=function(V){return arguments.length?(m=V?-1:1,j()):m<0},U.precision=function(V){return arguments.length?(A=_B(M,k=V*V),G()):Qi(k)},U.fitExtent=function(V,W){return c4(U,V,W)},U.fitSize=function(V,W){return s7(U,V,W)},U.fitWidth=function(V,W){return r7(U,V,W)},U.fitHeight=function(V,W){return a7(U,V,W)};function j(){var V=pB(n,0,0,w,m,y).apply(null,t(l,c)),W=pB(n,i-V[0],s-V[1],w,m,y);return a=XR(d,f,u),M=HL(t,W),C=HL(a,M),A=_B(M,k),G()}function G(){return R=D=null,U}return function(){return t=e.apply(this,arguments),U.invert=t.invert&&X,j()}}function o7(e){var t=0,n=bt/3,i=uP(e),s=i(t,n);return s.parallels=function(l){return arguments.length?i(t=l[0]*yt,n=l[1]*yt):[t*xn,n*xn]},s}function gte(e){var t=qe(e);function n(i,s){return[i*t,De(s)/t]}return n.invert=function(i,s){return[i/t,ys(s*t)]},n}function yte(e,t){var n=De(e),i=(n+De(t))/2;if(kt(i)<ze)return gte(e);var s=1+n*(2*i-n),l=Qi(s)/i;function c(d,f){var u=Qi(s-2*i*De(f))/i;return[u*De(d*=i),l-u*qe(d)]}return c.invert=function(d,f){var u=l-f,a=ir(d,kt(u))*Xs(u);return u*i<0&&(a-=bt*Xs(d)*Xs(u)),[a/i,ys((s-(d*d+u*u)*i*i)/(2*i))]},c}function Pg(){return o7(yte).scale(155.424).center([0,33.6442])}function hP(){return Pg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function mte(e){var t=e.length;return{point:function(n,i){for(var s=-1;++s<t;)e[s].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function wte(){var e,t,n=hP(),i,s=Pg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,c=Pg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d,f,u={point:function(w,m){f=[w,m]}};function a(w){var m=w[0],o=w[1];return f=null,i.point(m,o),f||(l.point(m,o),f)||(d.point(m,o),f)}a.invert=function(w){var m=n.scale(),o=n.translate(),b=(w[0]-o[0])/m,L=(w[1]-o[1])/m;return(L>=.12&&L<.234&&b>=-.425&&b<-.214?s:L>=.166&&L<.234&&b>=-.214&&b<-.115?c:n).invert(w)},a.stream=function(w){return e&&t===w?e:e=mte([n.stream(t=w),s.stream(w),c.stream(w)])},a.precision=function(w){return arguments.length?(n.precision(w),s.precision(w),c.precision(w),y()):n.precision()},a.scale=function(w){return arguments.length?(n.scale(w),s.scale(w*.35),c.scale(w),a.translate(n.translate())):n.scale()},a.translate=function(w){if(!arguments.length)return n.translate();var m=n.scale(),o=+w[0],b=+w[1];return i=n.translate(w).clipExtent([[o-.455*m,b-.238*m],[o+.455*m,b+.238*m]]).stream(u),l=s.translate([o-.307*m,b+.201*m]).clipExtent([[o-.425*m+ze,b+.12*m+ze],[o-.214*m-ze,b+.234*m-ze]]).stream(u),d=c.translate([o-.205*m,b+.212*m]).clipExtent([[o-.214*m+ze,b+.166*m+ze],[o-.115*m-ze,b+.234*m-ze]]).stream(u),y()},a.fitExtent=function(w,m){return c4(a,w,m)},a.fitSize=function(w,m){return s7(a,w,m)},a.fitWidth=function(w,m){return r7(a,w,m)},a.fitHeight=function(w,m){return a7(a,w,m)};function y(){return e=t=null,a}return a.scale(1070)}function _P(e){return function(t,n){var i=qe(t),s=qe(n),l=e(i*s);return l===1/0?[2,0]:[l*s*De(t),l*De(n)]}}function u0(e){return function(t,n){var i=Qi(t*t+n*n),s=e(i),l=De(s),c=qe(s);return[ir(t*l,i*c),ys(i&&n*l/i)]}}var pP=_P(function(e){return Qi(2/(1+e))});pP.invert=u0(function(e){return 2*ys(e/2)});function Lte(){return Qa(pP).scale(124.75).clipAngle(180-.001)}var gP=_P(function(e){return(e=DR(e))&&e/De(e)});gP.invert=u0(function(e){return e});function bte(){return Qa(gP).scale(79.4188).clipAngle(180-.001)}function d4(e,t){return[e,yg(t7((vn+t)/2))]}d4.invert=function(e,t){return[e,2*hh(PR(t))-vn]};function Tte(){return yP(d4).scale(961/Zi)}function yP(e){var t=Qa(e),n=t.center,i=t.scale,s=t.translate,l=t.clipExtent,c=null,d,f,u;t.scale=function(y){return arguments.length?(i(y),a()):i()},t.translate=function(y){return arguments.length?(s(y),a()):s()},t.center=function(y){return arguments.length?(n(y),a()):n()},t.clipExtent=function(y){return arguments.length?(y==null?c=d=f=u=null:(c=+y[0][0],d=+y[0][1],f=+y[1][0],u=+y[1][1]),a()):c==null?null:[[c,d],[f,u]]};function a(){var y=bt*i(),w=t(Hee(t.rotate()).invert([0,0]));return l(c==null?[[w[0]-y,w[1]-y],[w[0]+y,w[1]+y]]:e===d4?[[Math.max(w[0]-y,c),d],[Math.min(w[0]+y,f),u]]:[[c,Math.max(w[1]-y,d)],[f,Math.min(w[1]+y,u)]])}return a()}function k_(e){return t7((vn+e)/2)}function Ete(e,t){var n=qe(e),i=e===t?De(e):yg(n/qe(t))/yg(k_(t)/k_(e)),s=n*N6(k_(e),i)/i;if(!i)return d4;function l(c,d){s>0?d<-vn+ze&&(d=-vn+ze):d>vn-ze&&(d=vn-ze);var f=s/N6(k_(d),i);return[f*De(i*c),s-f*qe(i*c)]}return l.invert=function(c,d){var f=s-d,u=Xs(i)*Qi(c*c+f*f),a=ir(c,kt(f))*Xs(f);return f*i<0&&(a-=bt*Xs(c)*Xs(f)),[a/i,2*hh(N6(s/u,1/i))-vn]},l}function vte(){return o7(Ete).scale(109.5).parallels([30,30])}function Dg(e,t){return[e,t]}Dg.invert=Dg;function Ste(){return Qa(Dg).scale(152.63)}function xte(e,t){var n=qe(e),i=e===t?De(e):(n-qe(t))/(t-e),s=n/i+e;if(kt(i)<ze)return Dg;function l(c,d){var f=s-d,u=i*c;return[f*De(u),s-f*qe(u)]}return l.invert=function(c,d){var f=s-d,u=ir(c,kt(f))*Xs(f);return f*i<0&&(u-=bt*Xs(c)*Xs(f)),[u/i,s-Xs(i)*Qi(c*c+f*f)]},l}function kte(){return o7(xte).scale(131.154).center([0,13.9389])}var U1=1.340264,$1=-.081106,H1=893e-6,z1=.003796,Ug=Qi(3)/2,Bte=12;function mP(e,t){var n=ys(Ug*De(t)),i=n*n,s=i*i*i;return[e*qe(n)/(Ug*(U1+3*$1*i+s*(7*H1+9*z1*i))),n*(U1+$1*i+s*(H1+z1*i))]}mP.invert=function(e,t){for(var n=t,i=n*n,s=i*i*i,l=0,c,d,f;l<Bte&&(d=n*(U1+$1*i+s*(H1+z1*i))-t,f=U1+3*$1*i+s*(7*H1+9*z1*i),n-=c=d/f,i=n*n,s=i*i*i,!(kt(c)<pg));++l);return[Ug*e*(U1+3*$1*i+s*(7*H1+9*z1*i))/qe(n),ys(De(n)/Ug)]};function Fte(){return Qa(mP).scale(177.158)}function wP(e,t){var n=qe(t),i=qe(e)*n;return[n*De(e)/i,De(t)/i]}wP.invert=u0(hh);function Ite(){return Qa(wP).scale(144.049).clipAngle(60)}function Mte(){var e=1,t=0,n=0,i=1,s=1,l=0,c,d,f=null,u,a,y,w=1,m=1,o=l4({point:function(F,k){var A=x([F,k]);this.stream.point(A[0],A[1])}}),b=y2,L,v;function S(){return w=e*i,m=e*s,L=v=null,x}function x(F){var k=F[0]*w,A=F[1]*m;if(l){var M=A*c-k*d;k=k*c+A*d,A=M}return[k+t,A+n]}return x.invert=function(F){var k=F[0]-t,A=F[1]-n;if(l){var M=A*c+k*d;k=k*c-A*d,A=M}return[k/w,A/m]},x.stream=function(F){return L&&v===F?L:L=o(b(v=F))},x.postclip=function(F){return arguments.length?(b=F,f=u=a=y=null,S()):b},x.clipExtent=function(F){return arguments.length?(b=F==null?(f=u=a=y=null,y2):JR(f=+F[0][0],u=+F[0][1],a=+F[1][0],y=+F[1][1]),S()):f==null?null:[[f,u],[a,y]]},x.scale=function(F){return arguments.length?(e=+F,S()):e},x.translate=function(F){return arguments.length?(t=+F[0],n=+F[1],S()):[t,n]},x.angle=function(F){return arguments.length?(l=F%360*yt,d=De(l),c=qe(l),S()):l*xn},x.reflectX=function(F){return arguments.length?(i=F?-1:1,S()):i<0},x.reflectY=function(F){return arguments.length?(s=F?-1:1,S()):s<0},x.fitExtent=function(F,k){return c4(x,F,k)},x.fitSize=function(F,k){return s7(x,F,k)},x.fitWidth=function(F,k){return r7(x,F,k)},x.fitHeight=function(F,k){return a7(x,F,k)},x}function LP(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),t*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}LP.invert=function(e,t){var n=t,i=25,s;do{var l=n*n,c=l*l;n-=s=(n*(1.007226+l*(.015085+c*(-.044475+.028874*l-.005916*c)))-t)/(1.007226+l*(.015085*3+c*(-.044475*7+.028874*9*l-.005916*11*c)))}while(kt(s)>ze&&--i>0);return[e/(.8707+(l=n*n)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),n]};function Ate(){return Qa(LP).scale(175.295)}function bP(e,t){return[qe(t)*De(e),De(t)]}bP.invert=u0(ys);function Ote(){return Qa(bP).scale(249.5).clipAngle(90+ze)}function TP(e,t){var n=qe(t),i=1+qe(e)*n;return[n*De(e)/i,De(t)/i]}TP.invert=u0(function(e){return 2*hh(e)});function Nte(){return Qa(TP).scale(250).clipAngle(142)}function EP(e,t){return[yg(t7((vn+t)/2)),-e]}EP.invert=function(e,t){return[-t,2*hh(PR(e))-vn]};function Cte(){var e=yP(EP),t=e.center,n=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):(i=t(),[i[1],-i[0]])},e.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function Rte(e,t){return e.parent===t.parent?1:2}function Pte(e){return e.reduce(Dte,0)/e.length}function Dte(e,t){return e+t.x}function Ute(e){return 1+e.reduce($te,0)}function $te(e,t){return Math.max(e,t.y)}function Hte(e){for(var t;t=e.children;)e=t[0];return e}function zte(e){for(var t;t=e.children;)e=t[t.length-1];return e}function jte(){var e=Rte,t=1,n=1,i=!1;function s(l){var c,d=0;l.eachAfter(function(w){var m=w.children;m?(w.x=Pte(m),w.y=Ute(m)):(w.x=c?d+=e(w,c):0,w.y=0,c=w)});var f=Hte(l),u=zte(l),a=f.x-e(f,u)/2,y=u.x+e(u,f)/2;return l.eachAfter(i?function(w){w.x=(w.x-l.x)*t,w.y=(l.y-w.y)*n}:function(w){w.x=(w.x-a)/(y-a)*t,w.y=(1-(l.y?w.y/l.y:1))*n})}return s.separation=function(l){return arguments.length?(e=l,s):e},s.size=function(l){return arguments.length?(i=!1,t=+l[0],n=+l[1],s):i?null:[t,n]},s.nodeSize=function(l){return arguments.length?(i=!0,t=+l[0],n=+l[1],s):i?[t,n]:null},s}function qte(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else for(;--i>=0;)t+=n[i].value;e.value=t}function Vte(){return this.eachAfter(qte)}function Gte(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}function Wte(e,t){for(var n=this,i=[n],s,l,c=-1;n=i.pop();)if(e.call(t,n,++c,this),s=n.children)for(l=s.length-1;l>=0;--l)i.push(s[l]);return this}function Yte(e,t){for(var n=this,i=[n],s=[],l,c,d,f=-1;n=i.pop();)if(s.push(n),l=n.children)for(c=0,d=l.length;c<d;++c)i.push(l[c]);for(;n=s.pop();)e.call(t,n,++f,this);return this}function Xte(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}function Kte(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,s=i&&i.length;--s>=0;)n+=i[s].value;t.value=n})}function Zte(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Qte(e){for(var t=this,n=Jte(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var s=i.length;e!==n;)i.splice(s,0,e),e=e.parent;return i}function Jte(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),s=null;for(e=n.pop(),t=i.pop();e===t;)s=e,e=n.pop(),t=i.pop();return s}function ene(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function tne(){return Array.from(this)}function nne(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function ine(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*sne(){var e=this,t,n=[e],i,s,l;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(s=0,l=i.length;s<l;++s)n.push(i[s]);while(n.length)}function l7(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=one)):t===void 0&&(t=ane);for(var n=new Ou(e),i,s=[n],l,c,d,f;i=s.pop();)if((c=t(i.data))&&(f=(c=Array.from(c)).length))for(i.children=c,d=f-1;d>=0;--d)s.push(l=c[d]=new Ou(c[d])),l.parent=i,l.depth=i.depth+1;return n.eachBefore(vP)}function rne(){return l7(this).eachBefore(lne)}function ane(e){return e.children}function one(e){return Array.isArray(e)?e[1]:null}function lne(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function vP(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ou(e){this.data=e,this.depth=this.height=0,this.parent=null}Ou.prototype=l7.prototype={constructor:Ou,count:Vte,each:Gte,eachAfter:Yte,eachBefore:Wte,find:Xte,sum:Kte,sort:Zte,path:Qte,ancestors:ene,descendants:tne,leaves:nne,links:ine,copy:rne,[Symbol.iterator]:sne};function gp(e){return e==null?null:SP(e)}function SP(e){if(typeof e!="function")throw new Error;return e}function Gc(){return 0}function Hf(e){return function(){return e}}const cne=1664525,dne=1013904223,gB=4294967296;function fne(){let e=1;return()=>(e=(cne*e+dne)%gB)/gB}function une(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hne(e,t){let n=e.length,i,s;for(;n;)s=t()*n--|0,i=e[n],e[n]=e[s],e[s]=i;return e}function _ne(e,t){for(var n=0,i=(e=hne(Array.from(e),t)).length,s=[],l,c;n<i;)l=e[n],c&&xP(c,l)?++n:(c=gne(s=pne(s,l)),n=0);return c}function pne(e,t){var n,i;if(U6(t,e))return[t];for(n=0;n<e.length;++n)if(B_(t,e[n])&&U6(L1(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(B_(L1(e[n],e[i]),t)&&B_(L1(e[n],t),e[i])&&B_(L1(e[i],t),e[n])&&U6(kP(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function B_(e,t){var n=e.r-t.r,i=t.x-e.x,s=t.y-e.y;return n<0||n*n<i*i+s*s}function xP(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,i=t.x-e.x,s=t.y-e.y;return n>0&&n*n>i*i+s*s}function U6(e,t){for(var n=0;n<t.length;++n)if(!xP(e,t[n]))return!1;return!0}function gne(e){switch(e.length){case 1:return yne(e[0]);case 2:return L1(e[0],e[1]);case 3:return kP(e[0],e[1],e[2])}}function yne(e){return{x:e.x,y:e.y,r:e.r}}function L1(e,t){var n=e.x,i=e.y,s=e.r,l=t.x,c=t.y,d=t.r,f=l-n,u=c-i,a=d-s,y=Math.sqrt(f*f+u*u);return{x:(n+l+f/y*a)/2,y:(i+c+u/y*a)/2,r:(y+s+d)/2}}function kP(e,t,n){var i=e.x,s=e.y,l=e.r,c=t.x,d=t.y,f=t.r,u=n.x,a=n.y,y=n.r,w=i-c,m=i-u,o=s-d,b=s-a,L=f-l,v=y-l,S=i*i+s*s-l*l,x=S-c*c-d*d+f*f,F=S-u*u-a*a+y*y,k=m*o-w*b,A=(o*F-b*x)/(k*2)-i,M=(b*L-o*v)/k,C=(m*x-w*F)/(k*2)-s,R=(w*v-m*L)/k,D=M*M+R*R-1,U=2*(l+A*M+C*R),X=A*A+C*C-l*l,j=-(Math.abs(D)>1e-6?(U+Math.sqrt(U*U-4*D*X))/(2*D):X/U);return{x:i+A+M*j,y:s+C+R*j,r:j}}function yB(e,t,n){var i=e.x-t.x,s,l,c=e.y-t.y,d,f,u=i*i+c*c;u?(l=t.r+n.r,l*=l,f=e.r+n.r,f*=f,l>f?(s=(u+f-l)/(2*u),d=Math.sqrt(Math.max(0,f/u-s*s)),n.x=e.x-s*i-d*c,n.y=e.y-s*c+d*i):(s=(u+l-f)/(2*u),d=Math.sqrt(Math.max(0,l/u-s*s)),n.x=t.x+s*i-d*c,n.y=t.y+s*c+d*i)):(n.x=t.x+n.r,n.y=t.y)}function mB(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,s=t.y-e.y;return n>0&&n*n>i*i+s*s}function wB(e){var t=e._,n=e.next._,i=t.r+n.r,s=(t.x*n.r+n.x*t.r)/i,l=(t.y*n.r+n.y*t.r)/i;return s*s+l*l}function F_(e){this._=e,this.next=null,this.previous=null}function mne(e,t){if(!(l=(e=une(e)).length))return 0;var n,i,s,l,c,d,f,u,a,y,w;if(n=e[0],n.x=0,n.y=0,!(l>1))return n.r;if(i=e[1],n.x=-i.r,i.x=n.r,i.y=0,!(l>2))return n.r+i.r;yB(i,n,s=e[2]),n=new F_(n),i=new F_(i),s=new F_(s),n.next=s.previous=i,i.next=n.previous=s,s.next=i.previous=n;e:for(f=3;f<l;++f){yB(n._,i._,s=e[f]),s=new F_(s),u=i.next,a=n.previous,y=i._.r,w=n._.r;do if(y<=w){if(mB(u._,s._)){i=u,n.next=i,i.previous=n,--f;continue e}y+=u._.r,u=u.next}else{if(mB(a._,s._)){n=a,n.next=i,i.previous=n,--f;continue e}w+=a._.r,a=a.previous}while(u!==a.next);for(s.previous=n,s.next=i,n.next=i.previous=i=s,c=wB(n);(s=s.next)!==i;)(d=wB(s))<c&&(n=s,c=d);i=n.next}for(n=[i._],s=i;(s=s.next)!==i;)n.push(s._);for(s=_ne(n,t),f=0;f<l;++f)n=e[f],n.x-=s.x,n.y-=s.y;return s.r}function wne(e){return Math.sqrt(e.value)}function Lne(){var e=null,t=1,n=1,i=Gc;function s(l){const c=fne();return l.x=t/2,l.y=n/2,e?l.eachBefore(LB(e)).eachAfter($6(i,.5,c)).eachBefore(bB(1)):l.eachBefore(LB(wne)).eachAfter($6(Gc,1,c)).eachAfter($6(i,l.r/Math.min(t,n),c)).eachBefore(bB(Math.min(t,n)/(2*l.r))),l}return s.radius=function(l){return arguments.length?(e=gp(l),s):e},s.size=function(l){return arguments.length?(t=+l[0],n=+l[1],s):[t,n]},s.padding=function(l){return arguments.length?(i=typeof l=="function"?l:Hf(+l),s):i},s}function LB(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function $6(e,t,n){return function(i){if(s=i.children){var s,l,c=s.length,d=e(i)*t||0,f;if(d)for(l=0;l<c;++l)s[l].r+=d;if(f=mne(s,n),d)for(l=0;l<c;++l)s[l].r-=d;i.r=f+d}}}function bB(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function BP(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function h0(e,t,n,i,s){for(var l=e.children,c,d=-1,f=l.length,u=e.value&&(i-t)/e.value;++d<f;)c=l[d],c.y0=n,c.y1=s,c.x0=t,c.x1=t+=c.value*u}function bne(){var e=1,t=1,n=0,i=!1;function s(c){var d=c.height+1;return c.x0=c.y0=n,c.x1=e,c.y1=t/d,c.eachBefore(l(t,d)),i&&c.eachBefore(BP),c}function l(c,d){return function(f){f.children&&h0(f,f.x0,c*(f.depth+1)/d,f.x1,c*(f.depth+2)/d);var u=f.x0,a=f.y0,y=f.x1-n,w=f.y1-n;y<u&&(u=y=(u+y)/2),w<a&&(a=w=(a+w)/2),f.x0=u,f.y0=a,f.x1=y,f.y1=w}}return s.round=function(c){return arguments.length?(i=!!c,s):i},s.size=function(c){return arguments.length?(e=+c[0],t=+c[1],s):[e,t]},s.padding=function(c){return arguments.length?(n=+c,s):n},s}var Tne={depth:-1},TB={},H6={};function Ene(e){return e.id}function vne(e){return e.parentId}function EB(){var e=Ene,t=vne,n;function i(s){var l=Array.from(s),c=e,d=t,f,u,a,y,w,m,o,b,L=new Map;if(n!=null){const v=l.map((F,k)=>Sne(n(F,k,s))),S=v.map(vB),x=new Set(v).add("");for(const F of S)x.has(F)||(x.add(F),v.push(F),S.push(vB(F)),l.push(H6));c=(F,k)=>v[k],d=(F,k)=>S[k]}for(a=0,f=l.length;a<f;++a)u=l[a],m=l[a]=new Ou(u),(o=c(u,a,s))!=null&&(o+="")&&(b=m.id=o,L.set(b,L.has(b)?TB:m)),(o=d(u,a,s))!=null&&(o+="")&&(m.parent=o);for(a=0;a<f;++a)if(m=l[a],o=m.parent){if(w=L.get(o),!w)throw new Error("missing: "+o);if(w===TB)throw new Error("ambiguous: "+o);w.children?w.children.push(m):w.children=[m],m.parent=w}else{if(y)throw new Error("multiple roots");y=m}if(!y)throw new Error("no root");if(n!=null){for(;y.data===H6&&y.children.length===1;)y=y.children[0],--f;for(let v=l.length-1;v>=0&&(m=l[v],m.data===H6);--v)m.data=null}if(y.parent=Tne,y.eachBefore(function(v){v.depth=v.parent.depth+1,--f}).eachBefore(vP),y.parent=null,f>0)throw new Error("cycle");return y}return i.id=function(s){return arguments.length?(e=gp(s),i):e},i.parentId=function(s){return arguments.length?(t=gp(s),i):t},i.path=function(s){return arguments.length?(n=gp(s),i):n},i}function Sne(e){e=`${e}`;let t=e.length;return QL(e,t-1)&&!QL(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function vB(e){let t=e.length;if(t<2)return"";for(;--t>1&&!QL(e,t););return e.slice(0,t)}function QL(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function xne(e,t){return e.parent===t.parent?1:2}function z6(e){var t=e.children;return t?t[0]:e.t}function j6(e){var t=e.children;return t?t[t.length-1]:e.t}function kne(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Bne(e){for(var t=0,n=0,i=e.children,s=i.length,l;--s>=0;)l=i[s],l.z+=t,l.m+=t,t+=l.s+(n+=l.c)}function Fne(e,t,n){return e.a.parent===t.parent?e.a:n}function yp(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}yp.prototype=Object.create(Ou.prototype);function Ine(e){for(var t=new yp(e,0),n,i=[t],s,l,c,d;n=i.pop();)if(l=n._.children)for(n.children=new Array(d=l.length),c=d-1;c>=0;--c)i.push(s=n.children[c]=new yp(l[c],c)),s.parent=n;return(t.parent=new yp(null,0)).children=[t],t}function Mne(){var e=xne,t=1,n=1,i=null;function s(u){var a=Ine(u);if(a.eachAfter(l),a.parent.m=-a.z,a.eachBefore(c),i)u.eachBefore(f);else{var y=u,w=u,m=u;u.eachBefore(function(S){S.x<y.x&&(y=S),S.x>w.x&&(w=S),S.depth>m.depth&&(m=S)});var o=y===w?1:e(y,w)/2,b=o-y.x,L=t/(w.x+o+b),v=n/(m.depth||1);u.eachBefore(function(S){S.x=(S.x+b)*L,S.y=S.depth*v})}return u}function l(u){var a=u.children,y=u.parent.children,w=u.i?y[u.i-1]:null;if(a){Bne(u);var m=(a[0].z+a[a.length-1].z)/2;w?(u.z=w.z+e(u._,w._),u.m=u.z-m):u.z=m}else w&&(u.z=w.z+e(u._,w._));u.parent.A=d(u,w,u.parent.A||y[0])}function c(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function d(u,a,y){if(a){for(var w=u,m=u,o=a,b=w.parent.children[0],L=w.m,v=m.m,S=o.m,x=b.m,F;o=j6(o),w=z6(w),o&&w;)b=z6(b),m=j6(m),m.a=u,F=o.z+S-w.z-L+e(o._,w._),F>0&&(kne(Fne(o,u,y),u,F),L+=F,v+=F),S+=o.m,L+=w.m,x+=b.m,v+=m.m;o&&!j6(m)&&(m.t=o,m.m+=S-v),w&&!z6(b)&&(b.t=w,b.m+=L-x,y=u)}return y}function f(u){u.x*=t,u.y=u.depth*n}return s.separation=function(u){return arguments.length?(e=u,s):e},s.size=function(u){return arguments.length?(i=!1,t=+u[0],n=+u[1],s):i?null:[t,n]},s.nodeSize=function(u){return arguments.length?(i=!0,t=+u[0],n=+u[1],s):i?[t,n]:null},s}function f4(e,t,n,i,s){for(var l=e.children,c,d=-1,f=l.length,u=e.value&&(s-n)/e.value;++d<f;)c=l[d],c.x0=t,c.x1=i,c.y0=n,c.y1=n+=c.value*u}var FP=(1+Math.sqrt(5))/2;function IP(e,t,n,i,s,l){for(var c=[],d=t.children,f,u,a=0,y=0,w=d.length,m,o,b=t.value,L,v,S,x,F,k,A;a<w;){m=s-n,o=l-i;do L=d[y++].value;while(!L&&y<w);for(v=S=L,k=Math.max(o/m,m/o)/(b*e),A=L*L*k,F=Math.max(S/A,A/v);y<w;++y){if(L+=u=d[y].value,u<v&&(v=u),u>S&&(S=u),A=L*L*k,x=Math.max(S/A,A/v),x>F){L-=u;break}F=x}c.push(f={value:L,dice:m<o,children:d.slice(a,y)}),f.dice?h0(f,n,i,s,b?i+=o*L/b:l):f4(f,n,i,b?n+=m*L/b:s,l),b-=L,a=y}return c}const MP=function e(t){function n(i,s,l,c,d){IP(t,i,s,l,c,d)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(FP);function Ane(){var e=MP,t=!1,n=1,i=1,s=[0],l=Gc,c=Gc,d=Gc,f=Gc,u=Gc;function a(w){return w.x0=w.y0=0,w.x1=n,w.y1=i,w.eachBefore(y),s=[0],t&&w.eachBefore(BP),w}function y(w){var m=s[w.depth],o=w.x0+m,b=w.y0+m,L=w.x1-m,v=w.y1-m;L<o&&(o=L=(o+L)/2),v<b&&(b=v=(b+v)/2),w.x0=o,w.y0=b,w.x1=L,w.y1=v,w.children&&(m=s[w.depth+1]=l(w)/2,o+=u(w)-m,b+=c(w)-m,L-=d(w)-m,v-=f(w)-m,L<o&&(o=L=(o+L)/2),v<b&&(b=v=(b+v)/2),e(w,o,b,L,v))}return a.round=function(w){return arguments.length?(t=!!w,a):t},a.size=function(w){return arguments.length?(n=+w[0],i=+w[1],a):[n,i]},a.tile=function(w){return arguments.length?(e=SP(w),a):e},a.padding=function(w){return arguments.length?a.paddingInner(w).paddingOuter(w):a.paddingInner()},a.paddingInner=function(w){return arguments.length?(l=typeof w=="function"?w:Hf(+w),a):l},a.paddingOuter=function(w){return arguments.length?a.paddingTop(w).paddingRight(w).paddingBottom(w).paddingLeft(w):a.paddingTop()},a.paddingTop=function(w){return arguments.length?(c=typeof w=="function"?w:Hf(+w),a):c},a.paddingRight=function(w){return arguments.length?(d=typeof w=="function"?w:Hf(+w),a):d},a.paddingBottom=function(w){return arguments.length?(f=typeof w=="function"?w:Hf(+w),a):f},a.paddingLeft=function(w){return arguments.length?(u=typeof w=="function"?w:Hf(+w),a):u},a}function One(e,t,n,i,s){var l=e.children,c,d=l.length,f,u=new Array(d+1);for(u[0]=f=c=0;c<d;++c)u[c+1]=f+=l[c].value;a(0,d,e.value,t,n,i,s);function a(y,w,m,o,b,L,v){if(y>=w-1){var S=l[y];S.x0=o,S.y0=b,S.x1=L,S.y1=v;return}for(var x=u[y],F=m/2+x,k=y+1,A=w-1;k<A;){var M=k+A>>>1;u[M]<F?k=M+1:A=M}F-u[k-1]<u[k]-F&&y+1<k&&--k;var C=u[k]-x,R=m-C;if(L-o>v-b){var D=m?(o*R+L*C)/m:L;a(y,k,C,o,b,D,v),a(k,w,R,D,b,L,v)}else{var U=m?(b*R+v*C)/m:v;a(y,k,C,o,b,L,U),a(k,w,R,o,U,L,v)}}}function Nne(e,t,n,i,s){(e.depth&1?f4:h0)(e,t,n,i,s)}const Cne=function e(t){function n(i,s,l,c,d){if((f=i._squarify)&&f.ratio===t)for(var f,u,a,y,w=-1,m,o=f.length,b=i.value;++w<o;){for(u=f[w],a=u.children,y=u.value=0,m=a.length;y<m;++y)u.value+=a[y].value;u.dice?h0(u,s,l,c,b?l+=(d-l)*u.value/b:d):f4(u,s,l,b?s+=(c-s)*u.value/b:c,d),b-=u.value}else i._squarify=f=IP(t,i,s,l,c,d),f.ratio=t}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(FP);function Ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const JL=Symbol("implicit");function c7(){var e=new fk,t=[],n=[],i=JL;function s(l){let c=e.get(l);if(c===void 0){if(i!==JL)return i;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new fk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.copy=function(){return c7(t,n).unknown(i)},Ja.apply(s,arguments),s}function Rne(e){return function(){return e}}function e5(e){return+e}var SB=[0,1];function ds(e){return e}function t5(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rne(isNaN(t)?NaN:.5)}function Pne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Dne(e,t,n){var i=e[0],s=e[1],l=t[0],c=t[1];return s<i?(i=t5(s,i),l=n(c,l)):(i=t5(i,s),l=n(l,c)),function(d){return l(i(d))}}function Une(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),l=new Array(i),c=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<i;)s[c]=t5(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=o0(e,d,1,i)-1;return l[f](s[f](d))}}function _0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function u4(){var e=SB,t=SB,n=cc,i,s,l,c=ds,d,f,u;function a(){var w=Math.min(e.length,t.length);return c!==ds&&(c=Pne(e[0],e[w-1])),d=w>2?Une:Dne,f=u=null,y}function y(w){return w==null||isNaN(w=+w)?l:(f||(f=d(e.map(i),t,n)))(i(c(w)))}return y.invert=function(w){return c(s((u||(u=d(t,e.map(i),vr)))(w)))},y.domain=function(w){return arguments.length?(e=Array.from(w,e5),a()):e.slice()},y.range=function(w){return arguments.length?(t=Array.from(w),a()):t.slice()},y.rangeRound=function(w){return t=Array.from(w),n=c0,a()},y.clamp=function(w){return arguments.length?(c=w?!0:ds,a()):c!==ds},y.interpolate=function(w){return arguments.length?(n=w,a()):n},y.unknown=function(w){return arguments.length?(l=w,y):l},function(w,m){return i=w,s=m,a()}}function AP(){return u4()(ds,ds)}function OP(e,t,n,i){var s=Hl(e,t,n),l;switch(i=kd(i??",f"),i.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=CR(s,c))&&(i.precision=l),e7(i,c)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=RR(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=NR(s))&&(i.precision=l-(i.type==="%")*2);break}}return o4(i)}function Qd(e){var t=e.domain;return e.ticks=function(n){var i=t();return LL(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return OP(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,l=i.length-1,c=i[s],d=i[l],f,u,a=10;for(d<c&&(u=c,c=d,d=u,u=s,s=l,l=u);a-- >0;){if(u=bL(c,d,n),u===f)return i[s]=c,i[l]=d,t(i);if(u>0)c=Math.floor(c/u)*u,d=Math.ceil(d/u)*u;else if(u<0)c=Math.ceil(c*u)/u,d=Math.floor(d*u)/u;else break;f=u}return e},e}function d7(){var e=AP();return e.copy=function(){return _0(e,d7())},Ja.apply(e,arguments),Qd(e)}function NP(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,e5),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return NP(e).unknown(t)},e=arguments.length?Array.from(e,e5):[0,1],Qd(n)}function CP(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],l=e[i],c;return l<s&&(c=n,n=i,i=c,c=s,s=l,l=c),e[n]=t.floor(s),e[i]=t.ceil(l),e}function xB(e){return Math.log(e)}function kB(e){return Math.exp(e)}function $ne(e){return-Math.log(-e)}function Hne(e){return-Math.exp(-e)}function zne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jne(e){return e===10?zne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BB(e){return(t,n)=>-e(-t,n)}function f7(e){const t=e(xB,kB),n=t.domain;let i=10,s,l;function c(){return s=qne(i),l=jne(i),n()[0]<0?(s=BB(s),l=BB(l),e($ne,Hne)):e(xB,kB),t}return t.base=function(d){return arguments.length?(i=+d,c()):i},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let u=f[0],a=f[f.length-1];const y=a<u;y&&([u,a]=[a,u]);let w=s(u),m=s(a),o,b;const L=d==null?10:+d;let v=[];if(!(i%1)&&m-w<L){if(w=Math.floor(w),m=Math.ceil(m),u>0){for(;w<=m;++w)for(o=1;o<i;++o)if(b=w<0?o/l(-w):o*l(w),!(b<u)){if(b>a)break;v.push(b)}}else for(;w<=m;++w)for(o=i-1;o>=1;--o)if(b=w>0?o/l(-w):o*l(w),!(b<u)){if(b>a)break;v.push(b)}v.length*2<L&&(v=LL(u,a,L))}else v=LL(w,m,Math.min(m-w,L)).map(l);return y?v.reverse():v},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=kd(f)).precision==null&&(f.trim=!0),f=o4(f)),d===1/0)return f;const u=Math.max(1,i*d/t.ticks().length);return a=>{let y=a/l(Math.round(s(a)));return y*i<i-.5&&(y*=i),y<=u?f(a):""}},t.nice=()=>n(CP(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function RP(){const e=f7(u4()).domain([1,10]);return e.copy=()=>_0(e,RP()).base(e.base()),Ja.apply(e,arguments),e}function FB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u7(e){var t=1,n=e(FB(t),IB(t));return n.constant=function(i){return arguments.length?e(FB(t=+i),IB(t)):t},Qd(n)}function PP(){var e=u7(u4());return e.copy=function(){return _0(e,PP()).constant(e.constant())},Ja.apply(e,arguments)}function MB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gne(e){return e<0?-e*e:e*e}function h7(e){var t=e(ds,ds),n=1;function i(){return n===1?e(ds,ds):n===.5?e(Vne,Gne):e(MB(n),MB(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},Qd(t)}function _7(){var e=h7(u4());return e.copy=function(){return _0(e,_7()).exponent(e.exponent())},Ja.apply(e,arguments),e}function Wne(){return _7.apply(null,arguments).exponent(.5)}function DP(){var e=[],t=[],n=[],i;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=YC(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?i:t[o0(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ao),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(i=c,l):i},l.quantiles=function(){return n.slice()},l.copy=function(){return DP().domain(e).range(t).unknown(i)},Ja.apply(l,arguments)}function UP(){var e=0,t=1,n=1,i=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[o0(i,f,0,n)]:l}function d(){var f=-1;for(i=new Array(n);++f<n;)i[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var u=s.indexOf(f);return u<0?[NaN,NaN]:u<1?[e,i[0]]:u>=n?[i[n-1],t]:[i[u-1],i[u]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return i.slice()},c.copy=function(){return UP().domain([e,t]).range(s).unknown(l)},Ja.apply(Qd(c),arguments)}function $P(){var e=[.5],t=[0,1],n,i=1;function s(l){return l!=null&&l<=l?t[o0(e,l,0,i)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return $P().domain(e).range(t).unknown(n)},Ja.apply(s,arguments)}const q6=new Date,V6=new Date;function zn(e,t,n,i){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let u;do f.push(u=new Date(+l)),t(l,d),e(l);while(u<l&&l<c);return f},s.filter=l=>zn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(q6.setTime(+l),V6.setTime(+c),e(q6),e(V6),Math.floor(n(q6,V6))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(i?c=>i(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Nu=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Nu);Nu.range;const ko=1e3,Ks=ko*60,Bo=Ks*60,jo=Bo*24,p7=jo*7,AB=jo*30,G6=jo*365,Fo=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ko)},(e,t)=>(t-e)/ko,e=>e.getUTCSeconds());Fo.range;const h4=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ko)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getMinutes());h4.range;const _4=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getUTCMinutes());_4.range;const p4=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ko-e.getMinutes()*Ks)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getHours());p4.range;const g4=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCHours());g4.range;const No=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ks)/jo,e=>e.getDate()-1);No.range;const Ml=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>e.getUTCDate()-1);Ml.range;const HP=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>Math.floor(e/jo));HP.range;function Jd(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ks)/p7)}const _h=Jd(0),$g=Jd(1),Yne=Jd(2),Xne=Jd(3),Cu=Jd(4),Kne=Jd(5),Zne=Jd(6);_h.range;$g.range;Yne.range;Xne.range;Cu.range;Kne.range;Zne.range;function ef(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/p7)}const ph=ef(0),Hg=ef(1),Qne=ef(2),Jne=ef(3),Ru=ef(4),eie=ef(5),tie=ef(6);ph.range;Hg.range;Qne.range;Jne.range;Ru.range;eie.range;tie.range;const w2=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w2.range;const L2=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());L2.range;const Ha=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ha.range;const za=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});za.range;function zP(e,t,n,i,s,l){const c=[[Fo,1,ko],[Fo,5,5*ko],[Fo,15,15*ko],[Fo,30,30*ko],[l,1,Ks],[l,5,5*Ks],[l,15,15*Ks],[l,30,30*Ks],[s,1,Bo],[s,3,3*Bo],[s,6,6*Bo],[s,12,12*Bo],[i,1,jo],[i,2,2*jo],[n,1,p7],[t,1,AB],[t,3,3*AB],[e,1,G6]];function d(u,a,y){const w=a<u;w&&([u,a]=[a,u]);const m=y&&typeof y.range=="function"?y:f(u,a,y),o=m?m.range(u,+a+1):[];return w?o.reverse():o}function f(u,a,y){const w=Math.abs(a-u)/y,m=a0(([,,L])=>L).right(c,w);if(m===c.length)return e.every(Hl(u/G6,a/G6,y));if(m===0)return Nu.every(Math.max(Hl(u,a,y),1));const[o,b]=c[w/c[m-1][2]<c[m][2]/w?m-1:m];return o.every(b)}return[d,f]}const[nie,iie]=zP(za,L2,ph,HP,g4,_4),[sie,rie]=zP(Ha,w2,_h,No,p4,h4);function W6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Y6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function jP(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,u=zh(s),a=jh(s),y=zh(l),w=jh(l),m=zh(c),o=jh(c),b=zh(d),L=jh(d),v=zh(f),S=jh(f),x={a:Z,A:q,b:oe,B:fe,c:null,d:DB,e:DB,f:Bie,g:Die,G:$ie,H:Sie,I:xie,j:kie,L:qP,m:Fie,M:Iie,p:ne,q:xe,Q:HB,s:zB,S:Mie,u:Aie,U:Oie,V:Nie,w:Cie,W:Rie,x:null,X:null,y:Pie,Y:Uie,Z:Hie,"%":$B},F={a:le,A:Se,b:Ae,B:Ze,c:null,d:UB,e:UB,f:Vie,g:tse,G:ise,H:zie,I:jie,j:qie,L:GP,m:Gie,M:Wie,p:gt,q:wt,Q:HB,s:zB,S:Yie,u:Xie,U:Kie,V:Zie,w:Qie,W:Jie,x:null,X:null,y:ese,Y:nse,Z:sse,"%":$B},k={a:D,A:U,b:X,B:j,c:G,d:RB,e:RB,f:bie,g:CB,G:NB,H:PB,I:PB,j:yie,L:Lie,m:gie,M:mie,p:R,q:pie,Q:Eie,s:vie,S:wie,u:die,U:fie,V:uie,w:cie,W:hie,x:V,X:W,y:CB,Y:NB,Z:_ie,"%":Tie};x.x=A(n,x),x.X=A(i,x),x.c=A(t,x),F.x=A(n,F),F.X=A(i,F),F.c=A(t,F);function A(_e,H){return function(z){var P=[],K=-1,J=0,re=_e.length,se,pe,Ee;for(z instanceof Date||(z=new Date(+z));++K<re;)_e.charCodeAt(K)===37&&(P.push(_e.slice(J,K)),(pe=OB[se=_e.charAt(++K)])!=null?se=_e.charAt(++K):pe=se==="e"?" ":"0",(Ee=H[se])&&(se=Ee(z,pe)),P.push(se),J=K+1);return P.push(_e.slice(J,K)),P.join("")}}function M(_e,H){return function(z){var P=Hh(1900,void 0,1),K=C(P,_e,z+="",0),J,re;if(K!=z.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(H&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(J=Y6(Hh(P.y,0,1)),re=J.getUTCDay(),J=re>4||re===0?Hg.ceil(J):Hg(J),J=Ml.offset(J,(P.V-1)*7),P.y=J.getUTCFullYear(),P.m=J.getUTCMonth(),P.d=J.getUTCDate()+(P.w+6)%7):(J=W6(Hh(P.y,0,1)),re=J.getDay(),J=re>4||re===0?$g.ceil(J):$g(J),J=No.offset(J,(P.V-1)*7),P.y=J.getFullYear(),P.m=J.getMonth(),P.d=J.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),re="Z"in P?Y6(Hh(P.y,0,1)).getUTCDay():W6(Hh(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(re+5)%7:P.w+P.U*7-(re+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Y6(P)):W6(P)}}function C(_e,H,z,P){for(var K=0,J=H.length,re=z.length,se,pe;K<J;){if(P>=re)return-1;if(se=H.charCodeAt(K++),se===37){if(se=H.charAt(K++),pe=k[se in OB?H.charAt(K++):se],!pe||(P=pe(_e,z,P))<0)return-1}else if(se!=z.charCodeAt(P++))return-1}return P}function R(_e,H,z){var P=u.exec(H.slice(z));return P?(_e.p=a.get(P[0].toLowerCase()),z+P[0].length):-1}function D(_e,H,z){var P=m.exec(H.slice(z));return P?(_e.w=o.get(P[0].toLowerCase()),z+P[0].length):-1}function U(_e,H,z){var P=y.exec(H.slice(z));return P?(_e.w=w.get(P[0].toLowerCase()),z+P[0].length):-1}function X(_e,H,z){var P=v.exec(H.slice(z));return P?(_e.m=S.get(P[0].toLowerCase()),z+P[0].length):-1}function j(_e,H,z){var P=b.exec(H.slice(z));return P?(_e.m=L.get(P[0].toLowerCase()),z+P[0].length):-1}function G(_e,H,z){return C(_e,t,H,z)}function V(_e,H,z){return C(_e,n,H,z)}function W(_e,H,z){return C(_e,i,H,z)}function Z(_e){return c[_e.getDay()]}function q(_e){return l[_e.getDay()]}function oe(_e){return f[_e.getMonth()]}function fe(_e){return d[_e.getMonth()]}function ne(_e){return s[+(_e.getHours()>=12)]}function xe(_e){return 1+~~(_e.getMonth()/3)}function le(_e){return c[_e.getUTCDay()]}function Se(_e){return l[_e.getUTCDay()]}function Ae(_e){return f[_e.getUTCMonth()]}function Ze(_e){return d[_e.getUTCMonth()]}function gt(_e){return s[+(_e.getUTCHours()>=12)]}function wt(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var H=A(_e+="",x);return H.toString=function(){return _e},H},parse:function(_e){var H=M(_e+="",!1);return H.toString=function(){return _e},H},utcFormat:function(_e){var H=A(_e+="",F);return H.toString=function(){return _e},H},utcParse:function(_e){var H=M(_e+="",!0);return H.toString=function(){return _e},H}}}var OB={"-":"",_:" ",0:"0"},si=/^\s*\d+/,aie=/^%/,oie=/[\\^$*+?|[\]().{}]/g;function Rt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",l=s.length;return i+(l<n?new Array(n-l+1).join(t)+s:s)}function lie(e){return e.replace(oie,"\\$&")}function zh(e){return new RegExp("^(?:"+e.map(lie).join("|")+")","i")}function jh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cie(e,t,n){var i=si.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function die(e,t,n){var i=si.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function fie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function uie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function hie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function NB(e,t,n){var i=si.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function CB(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function _ie(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function pie(e,t,n){var i=si.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function gie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function RB(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function yie(e,t,n){var i=si.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function PB(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function mie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function wie(e,t,n){var i=si.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Lie(e,t,n){var i=si.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function bie(e,t,n){var i=si.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Tie(e,t,n){var i=aie.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Eie(e,t,n){var i=si.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function vie(e,t,n){var i=si.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function DB(e,t){return Rt(e.getDate(),t,2)}function Sie(e,t){return Rt(e.getHours(),t,2)}function xie(e,t){return Rt(e.getHours()%12||12,t,2)}function kie(e,t){return Rt(1+No.count(Ha(e),e),t,3)}function qP(e,t){return Rt(e.getMilliseconds(),t,3)}function Bie(e,t){return qP(e,t)+"000"}function Fie(e,t){return Rt(e.getMonth()+1,t,2)}function Iie(e,t){return Rt(e.getMinutes(),t,2)}function Mie(e,t){return Rt(e.getSeconds(),t,2)}function Aie(e){var t=e.getDay();return t===0?7:t}function Oie(e,t){return Rt(_h.count(Ha(e)-1,e),t,2)}function VP(e){var t=e.getDay();return t>=4||t===0?Cu(e):Cu.ceil(e)}function Nie(e,t){return e=VP(e),Rt(Cu.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function Cie(e){return e.getDay()}function Rie(e,t){return Rt($g.count(Ha(e)-1,e),t,2)}function Pie(e,t){return Rt(e.getFullYear()%100,t,2)}function Die(e,t){return e=VP(e),Rt(e.getFullYear()%100,t,2)}function Uie(e,t){return Rt(e.getFullYear()%1e4,t,4)}function $ie(e,t){var n=e.getDay();return e=n>=4||n===0?Cu(e):Cu.ceil(e),Rt(e.getFullYear()%1e4,t,4)}function Hie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rt(t/60|0,"0",2)+Rt(t%60,"0",2)}function UB(e,t){return Rt(e.getUTCDate(),t,2)}function zie(e,t){return Rt(e.getUTCHours(),t,2)}function jie(e,t){return Rt(e.getUTCHours()%12||12,t,2)}function qie(e,t){return Rt(1+Ml.count(za(e),e),t,3)}function GP(e,t){return Rt(e.getUTCMilliseconds(),t,3)}function Vie(e,t){return GP(e,t)+"000"}function Gie(e,t){return Rt(e.getUTCMonth()+1,t,2)}function Wie(e,t){return Rt(e.getUTCMinutes(),t,2)}function Yie(e,t){return Rt(e.getUTCSeconds(),t,2)}function Xie(e){var t=e.getUTCDay();return t===0?7:t}function Kie(e,t){return Rt(ph.count(za(e)-1,e),t,2)}function WP(e){var t=e.getUTCDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function Zie(e,t){return e=WP(e),Rt(Ru.count(za(e),e)+(za(e).getUTCDay()===4),t,2)}function Qie(e){return e.getUTCDay()}function Jie(e,t){return Rt(Hg.count(za(e)-1,e),t,2)}function ese(e,t){return Rt(e.getUTCFullYear()%100,t,2)}function tse(e,t){return e=WP(e),Rt(e.getUTCFullYear()%100,t,2)}function nse(e,t){return Rt(e.getUTCFullYear()%1e4,t,4)}function ise(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),Rt(e.getUTCFullYear()%1e4,t,4)}function sse(){return"+0000"}function $B(){return"%"}function HB(e){return+e}function zB(e){return Math.floor(+e/1e3)}var bf,g7,YP,y7,XP;rse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rse(e){return bf=jP(e),g7=bf.format,YP=bf.parse,y7=bf.utcFormat,XP=bf.utcParse,bf}function ase(e){return new Date(e)}function ose(e){return e instanceof Date?+e:+new Date(+e)}function m7(e,t,n,i,s,l,c,d,f,u){var a=AP(),y=a.invert,w=a.domain,m=u(".%L"),o=u(":%S"),b=u("%I:%M"),L=u("%I %p"),v=u("%a %d"),S=u("%b %d"),x=u("%B"),F=u("%Y");function k(A){return(f(A)<A?m:d(A)<A?o:c(A)<A?b:l(A)<A?L:i(A)<A?s(A)<A?v:S:n(A)<A?x:F)(A)}return a.invert=function(A){return new Date(y(A))},a.domain=function(A){return arguments.length?w(Array.from(A,ose)):w().map(ase)},a.ticks=function(A){var M=w();return e(M[0],M[M.length-1],A??10)},a.tickFormat=function(A,M){return M==null?k:u(M)},a.nice=function(A){var M=w();return(!A||typeof A.range!="function")&&(A=t(M[0],M[M.length-1],A??10)),A?w(CP(M,A)):a},a.copy=function(){return _0(a,m7(e,t,n,i,s,l,c,d,f,u))},a}function KP(){return Ja.apply(m7(sie,rie,Ha,w2,_h,No,p4,h4,Fo,g7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lse(){return Ja.apply(m7(nie,iie,za,L2,ph,Ml,g4,_4,Fo,y7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function y4(){var e=0,t=1,n,i,s,l,c=ds,d=!1,f;function u(y){return y==null||isNaN(y=+y)?f:c(s===0?.5:(y=(l(y)-n)*s,d?Math.max(0,Math.min(1,y)):y))}u.domain=function(y){return arguments.length?([e,t]=y,n=l(e=+e),i=l(t=+t),s=n===i?0:1/(i-n),u):[e,t]},u.clamp=function(y){return arguments.length?(d=!!y,u):d},u.interpolator=function(y){return arguments.length?(c=y,u):c};function a(y){return function(w){var m,o;return arguments.length?([m,o]=w,c=y(m,o),u):[c(0),c(1)]}}return u.range=a(cc),u.rangeRound=a(c0),u.unknown=function(y){return arguments.length?(f=y,u):f},function(y){return l=y,n=y(e),i=y(t),s=n===i?0:1/(i-n),u}}function fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w7(){var e=Qd(y4()(ds));return e.copy=function(){return fc(e,w7())},dc.apply(e,arguments)}function ZP(){var e=f7(y4()).domain([1,10]);return e.copy=function(){return fc(e,ZP()).base(e.base())},dc.apply(e,arguments)}function QP(){var e=u7(y4());return e.copy=function(){return fc(e,QP()).constant(e.constant())},dc.apply(e,arguments)}function L7(){var e=h7(y4());return e.copy=function(){return fc(e,L7()).exponent(e.exponent())},dc.apply(e,arguments)}function cse(){return L7.apply(null,arguments).exponent(.5)}function m4(){var e=0,t=.5,n=1,i=1,s,l,c,d,f,u=ds,a,y=!1,w;function m(b){return isNaN(b=+b)?w:(b=.5+((b=+a(b))-l)*(i*b<i*l?d:f),u(y?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,n]=b,s=a(e=+e),l=a(t=+t),c=a(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),i=l<s?-1:1,m):[e,t,n]},m.clamp=function(b){return arguments.length?(y=!!b,m):y},m.interpolator=function(b){return arguments.length?(u=b,m):u};function o(b){return function(L){var v,S,x;return arguments.length?([v,S,x]=L,u=W9(b,[v,S,x]),m):[u(0),u(.5),u(1)]}}return m.range=o(cc),m.rangeRound=o(c0),m.unknown=function(b){return arguments.length?(w=b,m):w},function(b){return a=b,s=b(e),l=b(t),c=b(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),i=l<s?-1:1,m}}function JP(){var e=Qd(m4()(ds));return e.copy=function(){return fc(e,JP())},dc.apply(e,arguments)}function eD(){var e=f7(m4()).domain([.1,1,10]);return e.copy=function(){return fc(e,eD()).base(e.base())},dc.apply(e,arguments)}function tD(){var e=u7(m4());return e.copy=function(){return fc(e,tD()).constant(e.constant())},dc.apply(e,arguments)}function b7(){var e=h7(m4());return e.copy=function(){return fc(e,b7()).exponent(e.exponent())},dc.apply(e,arguments)}function dse(){return b7.apply(null,arguments).exponent(.5)}function qt(e){return function(){return e}}const jB=Math.abs,wi=Math.atan2,vc=Math.cos,fse=Math.max,X6=Math.min,aa=Math.sin,od=Math.sqrt,Li=1e-12,Pu=Math.PI,zg=Pu/2,nD=2*Pu;function use(e){return e>1?0:e<-1?Pu:Math.acos(e)}function qB(e){return e>=1?zg:e<=-1?-zg:Math.asin(e)}function w4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new X9(t)}function hse(e){return e.innerRadius}function _se(e){return e.outerRadius}function pse(e){return e.startAngle}function gse(e){return e.endAngle}function yse(e){return e&&e.padAngle}function mse(e,t,n,i,s,l,c,d){var f=n-e,u=i-t,a=c-s,y=d-l,w=y*f-a*u;if(!(w*w<Li))return w=(a*(t-l)-y*(e-s))/w,[e+w*f,t+w*u]}function I_(e,t,n,i,s,l,c){var d=e-n,f=t-i,u=(c?l:-l)/od(d*d+f*f),a=u*f,y=-u*d,w=e+a,m=t+y,o=n+a,b=i+y,L=(w+o)/2,v=(m+b)/2,S=o-w,x=b-m,F=S*S+x*x,k=s-l,A=w*b-o*m,M=(x<0?-1:1)*od(fse(0,k*k*F-A*A)),C=(A*x-S*M)/F,R=(-A*S-x*M)/F,D=(A*x+S*M)/F,U=(-A*S+x*M)/F,X=C-L,j=R-v,G=D-L,V=U-v;return X*X+j*j>G*G+V*V&&(C=D,R=U),{cx:C,cy:R,x01:-a,y01:-y,x11:C*(s/k-1),y11:R*(s/k-1)}}function wse(){var e=hse,t=_se,n=qt(0),i=null,s=pse,l=gse,c=yse,d=null,f=w4(u);function u(){var a,y,w=+e.apply(this,arguments),m=+t.apply(this,arguments),o=s.apply(this,arguments)-zg,b=l.apply(this,arguments)-zg,L=jB(b-o),v=b>o;if(d||(d=a=f()),m<w&&(y=m,m=w,w=y),!(m>Li))d.moveTo(0,0);else if(L>nD-Li)d.moveTo(m*vc(o),m*aa(o)),d.arc(0,0,m,o,b,!v),w>Li&&(d.moveTo(w*vc(b),w*aa(b)),d.arc(0,0,w,b,o,v));else{var S=o,x=b,F=o,k=b,A=L,M=L,C=c.apply(this,arguments)/2,R=C>Li&&(i?+i.apply(this,arguments):od(w*w+m*m)),D=X6(jB(m-w)/2,+n.apply(this,arguments)),U=D,X=D,j,G;if(R>Li){var V=qB(R/w*aa(C)),W=qB(R/m*aa(C));(A-=V*2)>Li?(V*=v?1:-1,F+=V,k-=V):(A=0,F=k=(o+b)/2),(M-=W*2)>Li?(W*=v?1:-1,S+=W,x-=W):(M=0,S=x=(o+b)/2)}var Z=m*vc(S),q=m*aa(S),oe=w*vc(k),fe=w*aa(k);if(D>Li){var ne=m*vc(x),xe=m*aa(x),le=w*vc(F),Se=w*aa(F),Ae;if(L<Pu)if(Ae=mse(Z,q,le,Se,ne,xe,oe,fe)){var Ze=Z-Ae[0],gt=q-Ae[1],wt=ne-Ae[0],_e=xe-Ae[1],H=1/aa(use((Ze*wt+gt*_e)/(od(Ze*Ze+gt*gt)*od(wt*wt+_e*_e)))/2),z=od(Ae[0]*Ae[0]+Ae[1]*Ae[1]);U=X6(D,(w-z)/(H-1)),X=X6(D,(m-z)/(H+1))}else U=X=0}M>Li?X>Li?(j=I_(le,Se,Z,q,m,X,v),G=I_(ne,xe,oe,fe,m,X,v),d.moveTo(j.cx+j.x01,j.cy+j.y01),X<D?d.arc(j.cx,j.cy,X,wi(j.y01,j.x01),wi(G.y01,G.x01),!v):(d.arc(j.cx,j.cy,X,wi(j.y01,j.x01),wi(j.y11,j.x11),!v),d.arc(0,0,m,wi(j.cy+j.y11,j.cx+j.x11),wi(G.cy+G.y11,G.cx+G.x11),!v),d.arc(G.cx,G.cy,X,wi(G.y11,G.x11),wi(G.y01,G.x01),!v))):(d.moveTo(Z,q),d.arc(0,0,m,S,x,!v)):d.moveTo(Z,q),!(w>Li)||!(A>Li)?d.lineTo(oe,fe):U>Li?(j=I_(oe,fe,ne,xe,w,-U,v),G=I_(Z,q,le,Se,w,-U,v),d.lineTo(j.cx+j.x01,j.cy+j.y01),U<D?d.arc(j.cx,j.cy,U,wi(j.y01,j.x01),wi(G.y01,G.x01),!v):(d.arc(j.cx,j.cy,U,wi(j.y01,j.x01),wi(j.y11,j.x11),!v),d.arc(0,0,w,wi(j.cy+j.y11,j.cx+j.x11),wi(G.cy+G.y11,G.cx+G.x11),v),d.arc(G.cx,G.cy,U,wi(G.y11,G.x11),wi(G.y01,G.x01),!v))):d.arc(0,0,w,k,F,v)}if(d.closePath(),a)return d=null,a+""||null}return u.centroid=function(){var a=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,y=(+s.apply(this,arguments)+ +l.apply(this,arguments))/2-Pu/2;return[vc(y)*a,aa(y)*a]},u.innerRadius=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),u):e},u.outerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:qt(+a),u):t},u.cornerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:qt(+a),u):n},u.padRadius=function(a){return arguments.length?(i=a==null?null:typeof a=="function"?a:qt(+a),u):i},u.startAngle=function(a){return arguments.length?(s=typeof a=="function"?a:qt(+a),u):s},u.endAngle=function(a){return arguments.length?(l=typeof a=="function"?a:qt(+a),u):l},u.padAngle=function(a){return arguments.length?(c=typeof a=="function"?a:qt(+a),u):c},u.context=function(a){return arguments.length?(d=a??null,u):d},u}function iD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sD(e){this._context=e}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function T7(e){return new sD(e)}function rD(e){return e[0]}function aD(e){return e[1]}function oD(e,t){var n=qt(!0),i=null,s=T7,l=null,c=w4(d);e=typeof e=="function"?e:e===void 0?rD:qt(e),t=typeof t=="function"?t:t===void 0?aD:qt(t);function d(f){var u,a=(f=iD(f)).length,y,w=!1,m;for(i==null&&(l=s(m=c())),u=0;u<=a;++u)!(u<a&&n(y=f[u],u,f))===w&&((w=!w)?l.lineStart():l.lineEnd()),w&&l.point(+e(y,u,f),+t(y,u,f));if(m)return l=null,m+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),d):s},d.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),d):i},d}function lD(e,t,n){var i=null,s=qt(!0),l=null,c=T7,d=null,f=w4(u);e=typeof e=="function"?e:e===void 0?rD:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aD:qt(+n);function u(y){var w,m,o,b=(y=iD(y)).length,L,v=!1,S,x=new Array(b),F=new Array(b);for(l==null&&(d=c(S=f())),w=0;w<=b;++w){if(!(w<b&&s(L=y[w],w,y))===v)if(v=!v)m=w,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),o=w-1;o>=m;--o)d.point(x[o],F[o]);d.lineEnd(),d.areaEnd()}v&&(x[w]=+e(L,w,y),F[w]=+t(L,w,y),d.point(i?+i(L,w,y):x[w],n?+n(L,w,y):F[w]))}if(S)return d=null,S+""||null}function a(){return oD().defined(s).curve(c).context(l)}return u.x=function(y){return arguments.length?(e=typeof y=="function"?y:qt(+y),i=null,u):e},u.x0=function(y){return arguments.length?(e=typeof y=="function"?y:qt(+y),u):e},u.x1=function(y){return arguments.length?(i=y==null?null:typeof y=="function"?y:qt(+y),u):i},u.y=function(y){return arguments.length?(t=typeof y=="function"?y:qt(+y),n=null,u):t},u.y0=function(y){return arguments.length?(t=typeof y=="function"?y:qt(+y),u):t},u.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:qt(+y),u):n},u.lineX0=u.lineY0=function(){return a().x(e).y(t)},u.lineY1=function(){return a().x(e).y(n)},u.lineX1=function(){return a().x(i).y(t)},u.defined=function(y){return arguments.length?(s=typeof y=="function"?y:qt(!!y),u):s},u.curve=function(y){return arguments.length?(c=y,l!=null&&(d=c(l)),u):c},u.context=function(y){return arguments.length?(y==null?l=d=null:d=c(l=y),u):l},u}const Lse={draw(e,t){const n=od(t/Pu);e.moveTo(n,0),e.arc(0,0,n,0,nD)}};function bse(e,t){let n=null,i=w4(s);e=typeof e=="function"?e:qt(e||Lse),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let l;if(n||(n=l=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:qt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function jl(){}function jg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function L4(e){this._context=e}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tse(e){return new L4(e)}function cD(e){this._context=e}cD.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ese(e){return new cD(e)}function dD(e){this._context=e}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vse(e){return new dD(e)}function fD(e,t){this._basis=new L4(e),this._beta=t}fD.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],s=t[0],l=e[n]-i,c=t[n]-s,d=-1,f;++d<=n;)f=d/n,this._basis.point(this._beta*e[d]+(1-this._beta)*(i+f*l),this._beta*t[d]+(1-this._beta)*(s+f*c));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Sse=function e(t){function n(i){return t===1?new L4(i):new fD(i,t)}return n.beta=function(i){return e(+i)},n}(.85);function qg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function E7(e,t){this._context=e,this._k=(1-t)/6}E7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xse=function e(t){function n(i){return new E7(i,t)}return n.tension=function(i){return e(+i)},n}(0);function v7(e,t){this._context=e,this._k=(1-t)/6}v7.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kse=function e(t){function n(i){return new v7(i,t)}return n.tension=function(i){return e(+i)},n}(0);function S7(e,t){this._context=e,this._k=(1-t)/6}S7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bse=function e(t){function n(i){return new S7(i,t)}return n.tension=function(i){return e(+i)},n}(0);function x7(e,t,n){var i=e._x1,s=e._y1,l=e._x2,c=e._y2;if(e._l01_a>Li){var d=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*d-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,s=(s*d-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>Li){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,a=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*u+e._x1*e._l23_2a-t*e._l12_2a)/a,c=(c*u+e._y1*e._l23_2a-n*e._l12_2a)/a}e._context.bezierCurveTo(i,s,l,c,e._x2,e._y2)}function uD(e,t){this._context=e,this._alpha=t}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:x7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fse=function e(t){function n(i){return t?new uD(i,t):new E7(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function hD(e,t){this._context=e,this._alpha=t}hD.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:x7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ise=function e(t){function n(i){return t?new hD(i,t):new v7(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function _D(e,t){this._context=e,this._alpha=t}_D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:x7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Mse=function e(t){function n(i){return t?new _D(i,t):new S7(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function pD(e){this._context=e}pD.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ase(e){return new pD(e)}function VB(e){return e<0?-1:1}function GB(e,t,n){var i=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(i||s<0&&-0),c=(n-e._y1)/(s||i<0&&-0),d=(l*s+c*i)/(i+s);return(VB(l)+VB(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function WB(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function K6(e,t,n){var i=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-i)/3;e._context.bezierCurveTo(i+d,s+d*t,l-d,c-d*n,l,c)}function Vg(e){this._context=e}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K6(this,this._t0,WB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,K6(this,WB(this,n=GB(this,e,t)),n);break;default:K6(this,this._t0,n=GB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function gD(e){this._context=new yD(e)}(gD.prototype=Object.create(Vg.prototype)).point=function(e,t){Vg.prototype.point.call(this,t,e)};function yD(e){this._context=e}yD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,l){this._context.bezierCurveTo(t,e,i,n,l,s)}};function Ose(e){return new Vg(e)}function Nse(e){return new gD(e)}function mD(e){this._context=e}mD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=YB(e),s=YB(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(i[0][l],s[0][l],i[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YB(e){var t,n=e.length-1,i,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/l[t-1],l[t]-=i,c[t]-=i*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function Cse(e){return new mD(e)}function b4(e,t){this._context=e,this._t=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Rse(e){return new b4(e,.5)}function Pse(e){return new b4(e,0)}function Dse(e){return new b4(e,1)}function b1(e,t,n){this.k=e,this.x=t,this.y=n}b1.prototype={constructor:b1,scale:function(e){return e===1?this:new b1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new b1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};b1.prototype;function*wD(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)i=t(i,++n,e),i!=null&&i!==""&&(i=+i)>=i&&(yield i)}}function k7(e,t,n){const i=Float64Array.from(wD(e,n));return i.sort(Ao),t.map(s=>YC(i,s))}function B7(e,t){return k7(e,[.25,.5,.75],t)}function F7(e,t){const n=e.length,i=_Q(e,t),s=B7(e,t),l=(s[2]-s[0])/1.34;return 1.06*(Math.min(i,l)||i||Math.abs(s[0])||1)*Math.pow(n,-.2)}function I7(e){const t=e.maxbins||20,n=e.base||10,i=Math.log(n),s=e.divide||[5,2];let l=e.extent[0],c=e.extent[1],d,f,u,a,y,w;const m=e.span||c-l||Math.abs(l)||1;if(e.step)d=e.step;else if(e.steps){for(a=m/t,y=0,w=e.steps.length;y<w&&e.steps[y]<a;++y);d=e.steps[Math.max(0,y-1)]}else{for(f=Math.ceil(Math.log(t)/i),u=e.minstep||0,d=Math.max(u,Math.pow(n,Math.round(Math.log(m)/i)-f));Math.ceil(m/d)>t;)d*=n;for(y=0,w=s.length;y<w;++y)a=d/s[y],a>=u&&m/a<=t&&(d=a)}a=Math.log(d);const o=a>=0?0:~~(-a/i)+1,b=Math.pow(n,-o-1);return(e.nice||e.nice===void 0)&&(a=Math.floor(l/d+b)*d,l=l<a?a-d:a,c=Math.ceil(c/d)*d),{start:l,stop:c===l?l+d:c,step:d}}var sr=Math.random;function Use(e){sr=e}function LD(e,t,n,i){if(!e.length)return[void 0,void 0];const s=Float64Array.from(wD(e,i)),l=s.length,c=t;let d,f,u,a;for(u=0,a=Array(c);u<c;++u){for(d=0,f=0;f<l;++f)d+=s[~~(sr()*l)];a[u]=d/l}return a.sort(Ao),[EL(a,n/2),EL(a,1-n/2)]}function bD(e,t,n,i){i=i||(w=>w);const s=e.length,l=new Float64Array(s);let c=0,d=1,f=i(e[0]),u=f,a=f+t,y;for(;d<s;++d){if(y=i(e[d]),y>=a){for(u=(f+u)/2;c<d;++c)l[c]=u;a=y+t,f=y}u=y}for(u=(f+u)/2;c<d;++c)l[c]=u;return n?$se(l,t+t/4):l}function $se(e,t){const n=e.length;let i=0,s=1,l,c;for(;e[i]===e[s];)++s;for(;s<n;){for(l=s+1;e[s]===e[l];)++l;if(e[s]-e[s-1]<t){for(c=s+(i+l-s-s>>1);c<s;)e[c++]=e[s];for(;c>s;)e[c--]=e[i]}i=s,s=l}return e}function Hse(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function zse(e,t){t==null&&(t=e,e=0);let n,i,s;const l={min(c){return arguments.length?(n=c||0,s=i-n,l):n},max(c){return arguments.length?(i=c||0,s=i-n,l):i},sample(){return n+Math.floor(s*sr())},pdf(c){return c===Math.floor(c)&&c>=n&&c<i?1/s:0},cdf(c){const d=Math.floor(c);return d<n?0:d>=i?1:(d-n+1)/s},icdf(c){return c>=0&&c<=1?n-1+Math.floor(c*s):NaN}};return l.min(e).max(t)}const TD=Math.sqrt(2*Math.PI),jse=Math.SQRT2;let qh=NaN;function T4(e,t){e=e||0,t=t??1;let n=0,i=0,s,l;if(qh===qh)n=qh,qh=NaN;else{do n=sr()*2-1,i=sr()*2-1,s=n*n+i*i;while(s===0||s>1);l=Math.sqrt(-2*Math.log(s)/s),n*=l,qh=i*l}return e+n*t}function M7(e,t,n){n=n??1;const i=(e-(t||0))/n;return Math.exp(-.5*i*i)/(n*TD)}function E4(e,t,n){t=t||0,n=n??1;const i=(e-t)/n,s=Math.abs(i);let l;if(s>37)l=0;else{const c=Math.exp(-s*s/2);let d;s<7.07106781186547?(d=.0352624965998911*s+.700383064443688,d=d*s+6.37396220353165,d=d*s+33.912866078383,d=d*s+112.079291497871,d=d*s+221.213596169931,d=d*s+220.206867912376,l=c*d,d=.0883883476483184*s+1.75566716318264,d=d*s+16.064177579207,d=d*s+86.7807322029461,d=d*s+296.564248779674,d=d*s+637.333633378831,d=d*s+793.826512519948,d=d*s+440.413735824752,l=l/d):(d=s+.65,d=s+4/d,d=s+3/d,d=s+2/d,d=s+1/d,l=c/d/2.506628274631)}return i>0?1-l:l}function v4(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*jse*qse(2*e-1)}function qse(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function A7(e,t){let n,i;const s={mean(l){return arguments.length?(n=l||0,s):n},stdev(l){return arguments.length?(i=l??1,s):i},sample:()=>T4(n,i),pdf:l=>M7(l,n,i),cdf:l=>E4(l,n,i),icdf:l=>v4(l,n,i)};return s.mean(e).stdev(t)}function O7(e,t){const n=A7();let i=0;const s={data(l){return arguments.length?(e=l,i=l?l.length:0,s.bandwidth(t)):e},bandwidth(l){return arguments.length?(t=l,!t&&e&&(t=F7(e)),s):t},sample(){return e[~~(sr()*i)]+t*n.sample()},pdf(l){let c=0,d=0;for(;d<i;++d)c+=n.pdf((l-e[d])/t);return c/t/i},cdf(l){let c=0,d=0;for(;d<i;++d)c+=n.cdf((l-e[d])/t);return c/i},icdf(){throw Error("KDE icdf not supported.")}};return s.data(e)}function N7(e,t){return e=e||0,t=t??1,Math.exp(e+T4()*t)}function C7(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*TD*e)}function R7(e,t,n){return E4(Math.log(e),t,n)}function P7(e,t,n){return Math.exp(v4(e,t,n))}function ED(e,t){let n,i;const s={mean(l){return arguments.length?(n=l||0,s):n},stdev(l){return arguments.length?(i=l??1,s):i},sample:()=>N7(n,i),pdf:l=>C7(l,n,i),cdf:l=>R7(l,n,i),icdf:l=>P7(l,n,i)};return s.mean(e).stdev(t)}function vD(e,t){let n=0,i;function s(c){const d=[];let f=0,u;for(u=0;u<n;++u)f+=d[u]=c[u]==null?1:+c[u];for(u=0;u<n;++u)d[u]/=f;return d}const l={weights(c){return arguments.length?(i=s(t=c||[]),l):t},distributions(c){return arguments.length?(c?(n=c.length,e=c):(n=0,e=[]),l.weights(t)):e},sample(){const c=sr();let d=e[n-1],f=i[0],u=0;for(;u<n-1;f+=i[++u])if(c<f){d=e[u];break}return d.sample()},pdf(c){let d=0,f=0;for(;f<n;++f)d+=i[f]*e[f].pdf(c);return d},cdf(c){let d=0,f=0;for(;f<n;++f)d+=i[f]*e[f].cdf(c);return d},icdf(){throw Error("Mixture icdf not supported.")}};return l.distributions(e).weights(t)}function D7(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*sr()}function U7(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function $7(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function H7(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function SD(e,t){let n,i;const s={min(l){return arguments.length?(n=l||0,s):n},max(l){return arguments.length?(i=l??1,s):i},sample:()=>D7(n,i),pdf:l=>U7(l,n,i),cdf:l=>$7(l,n,i),icdf:l=>H7(l,n,i)};return t==null&&(t=e??1,e=0),s.min(e).max(t)}function z7(e,t,n){let i=0,s=0;for(const l of e){const c=n(l);t(l)==null||c==null||isNaN(c)||(i+=(c-i)/++s)}return{coef:[i],predict:()=>i,rSquared:0}}function p0(e,t,n,i){const s=i-e*e,l=Math.abs(s)<1e-24?0:(n-e*t)/s;return[t-l*e,l]}function S4(e,t,n,i){e=e.filter(m=>{let o=t(m),b=n(m);return o!=null&&(o=+o)>=o&&b!=null&&(b=+b)>=b}),i&&e.sort((m,o)=>t(m)-t(o));const s=e.length,l=new Float64Array(s),c=new Float64Array(s);let d=0,f=0,u=0,a,y,w;for(w of e)l[d]=a=+t(w),c[d]=y=+n(w),++d,f+=(a-f)/d,u+=(y-u)/d;for(d=0;d<s;++d)l[d]-=f,c[d]-=u;return[l,c,f,u]}function g0(e,t,n,i){let s=-1,l,c;for(const d of e)l=t(d),c=n(d),l!=null&&(l=+l)>=l&&c!=null&&(c=+c)>=c&&i(l,c,++s)}function gh(e,t,n,i,s){let l=0,c=0;return g0(e,t,n,(d,f)=>{const u=f-s(d),a=f-i;l+=u*u,c+=a*a}),1-l/c}function j7(e,t,n){let i=0,s=0,l=0,c=0,d=0;g0(e,t,n,(a,y)=>{++d,i+=(a-i)/d,s+=(y-s)/d,l+=(a*y-l)/d,c+=(a*a-c)/d});const f=p0(i,s,l,c),u=a=>f[0]+f[1]*a;return{coef:f,predict:u,rSquared:gh(e,t,n,s,u)}}function xD(e,t,n){let i=0,s=0,l=0,c=0,d=0;g0(e,t,n,(a,y)=>{++d,a=Math.log(a),i+=(a-i)/d,s+=(y-s)/d,l+=(a*y-l)/d,c+=(a*a-c)/d});const f=p0(i,s,l,c),u=a=>f[0]+f[1]*Math.log(a);return{coef:f,predict:u,rSquared:gh(e,t,n,s,u)}}function kD(e,t,n){const[i,s,l,c]=S4(e,t,n);let d=0,f=0,u=0,a=0,y=0,w,m,o;g0(e,t,n,(S,x)=>{w=i[y++],m=Math.log(x),o=w*x,d+=(x*m-d)/y,f+=(o-f)/y,u+=(o*m-u)/y,a+=(w*o-a)/y});const[b,L]=p0(f/c,d/c,u/c,a/c),v=S=>Math.exp(b+L*(S-l));return{coef:[Math.exp(b-L*l),L],predict:v,rSquared:gh(e,t,n,c,v)}}function BD(e,t,n){let i=0,s=0,l=0,c=0,d=0,f=0;g0(e,t,n,(y,w)=>{const m=Math.log(y),o=Math.log(w);++f,i+=(m-i)/f,s+=(o-s)/f,l+=(m*o-l)/f,c+=(m*m-c)/f,d+=(w-d)/f});const u=p0(i,s,l,c),a=y=>u[0]*Math.pow(y,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:a,rSquared:gh(e,t,n,d,a)}}function q7(e,t,n){const[i,s,l,c]=S4(e,t,n),d=i.length;let f=0,u=0,a=0,y=0,w=0,m,o,b,L;for(m=0;m<d;)o=i[m],b=s[m++],L=o*o,f+=(L-f)/m,u+=(L*o-u)/m,a+=(L*L-a)/m,y+=(o*b-y)/m,w+=(L*b-w)/m;const v=a-f*f,S=f*v-u*u,x=(w*f-y*u)/S,F=(y*v-w*u)/S,k=-x*f,A=M=>(M=M-l,x*M*M+F*M+k+c);return{coef:[k-F*l+x*l*l+c,F-2*x*l,x],predict:A,rSquared:gh(e,t,n,c,A)}}function FD(e,t,n,i){if(i===0)return z7(e,t,n);if(i===1)return j7(e,t,n);if(i===2)return q7(e,t,n);const[s,l,c,d]=S4(e,t,n),f=s.length,u=[],a=[],y=i+1;let w,m,o,b,L;for(w=0;w<y;++w){for(o=0,b=0;o<f;++o)b+=Math.pow(s[o],w)*l[o];for(u.push(b),L=new Float64Array(y),m=0;m<y;++m){for(o=0,b=0;o<f;++o)b+=Math.pow(s[o],w+m);L[m]=b}a.push(L)}a.push(u);const v=Gse(a),S=x=>{x-=c;let F=d+v[0]+v[1]*x+v[2]*x*x;for(w=3;w<y;++w)F+=v[w]*Math.pow(x,w);return F};return{coef:Vse(y,v,-c,d),predict:S,rSquared:gh(e,t,n,d,S)}}function Vse(e,t,n,i){const s=Array(e);let l,c,d,f;for(l=0;l<e;++l)s[l]=0;for(l=e-1;l>=0;--l)for(d=t[l],f=1,s[l]+=d,c=1;c<=l;++c)f*=(l+1-c)/c,s[l-c]+=d*Math.pow(n,c)*f;return s[0]+=i,s}function Gse(e){const t=e.length-1,n=[];let i,s,l,c,d;for(i=0;i<t;++i){for(c=i,s=i+1;s<t;++s)Math.abs(e[i][s])>Math.abs(e[i][c])&&(c=s);for(l=i;l<t+1;++l)d=e[l][i],e[l][i]=e[l][c],e[l][c]=d;for(s=i+1;s<t;++s)for(l=t;l>=i;l--)e[l][s]-=e[l][i]*e[i][s]/e[i][i]}for(s=t-1;s>=0;--s){for(d=0,l=s+1;l<t;++l)d+=e[l][s]*n[l];n[s]=(e[t][s]-d)/e[s][s]}return n}const XB=2,KB=1e-12;function ID(e,t,n,i){const[s,l,c,d]=S4(e,t,n,!0),f=s.length,u=Math.max(2,~~(i*f)),a=new Float64Array(f),y=new Float64Array(f),w=new Float64Array(f).fill(1);for(let m=-1;++m<=XB;){const o=[0,u-1];for(let L=0;L<f;++L){const v=s[L],S=o[0],x=o[1],F=v-s[S]>s[x]-v?S:x;let k=0,A=0,M=0,C=0,R=0;const D=1/Math.abs(s[F]-v||1);for(let j=S;j<=x;++j){const G=s[j],V=l[j],W=Wse(Math.abs(v-G)*D)*w[j],Z=G*W;k+=W,A+=Z,M+=V*W,C+=V*Z,R+=G*Z}const[U,X]=p0(A/k,M/k,C/k,R/k);a[L]=U+X*v,y[L]=Math.abs(l[L]-a[L]),Yse(s,L+1,o)}if(m===XB)break;const b=XC(y);if(Math.abs(b)<KB)break;for(let L=0,v,S;L<f;++L)v=y[L]/(6*b),w[L]=v>=1?KB:(S=1-v*v)*S}return Xse(s,a,c,d)}function Wse(e){return(e=1-e*e*e)*e*e}function Yse(e,t,n){const i=e[t];let s=n[0],l=n[1]+1;if(!(l>=e.length))for(;t>s&&e[l]-i<=i-e[s];)n[0]=++s,n[1]=l,++l}function Xse(e,t,n,i){const s=e.length,l=[];let c=0,d=0,f=[],u;for(;c<s;++c)u=e[c]+n,f[0]===u?f[1]+=(t[c]-f[1])/++d:(d=0,f[1]+=i,f=[u,t[c]],l.push(f));return f[1]+=i,l}const Kse=.5*Math.PI/180;function x4(e,t,n,i){n=n||25,i=Math.max(n,i||200);const s=b=>[b,e(b)],l=t[0],c=t[1],d=c-l,f=d/i,u=[s(l)],a=[];if(n===i){for(let b=1;b<i;++b)u.push(s(l+b/n*d));return u.push(s(c)),u}else{a.push(s(c));for(let b=n;--b>0;)a.push(s(l+b/n*d))}let y=u[0],w=a[a.length-1];const m=1/d,o=Zse(y[1],a);for(;w;){const b=s((y[0]+w[0])/2);b[0]-y[0]>=f&&Qse(y,b,w,m,o)>Kse?a.push(b):(y=w,u.push(w),a.pop()),w=a[a.length-1]}return u}function Zse(e,t){let n=e,i=e;const s=t.length;for(let l=0;l<s;++l){const c=t[l][1];c<n&&(n=c),c>i&&(i=c)}return 1/(i-n)}function Qse(e,t,n,i,s){const l=Math.atan2(s*(n[1]-e[1]),i*(n[0]-e[0])),c=Math.atan2(s*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(l-c)}function M_(e){return e.length}function Gf(e){const t=new Map(e.map((n,i)=>[n,i]));return n=>t.get(n)}function j1({start:e,step:t,stop:n}){return(n-e)/t}function Jse(e,t,n=!1){return n?MD(e,t):I7({maxbins:e,extent:t})}function MD(e,t){const n=(t[1]-t[0])/e,i=t[0],s=t[t.length-1];return console.log(n,i,s),{start:i,stop:s,step:n}}function ere(e,t,n=!1){if(console.log("hit"),n)return MD(e,t);const s=KP().domain(t).ticks(e),l=s[0].getTime(),c=s[s.length-1].getTime(),d=(c-l)/s.length;return{start:l,stop:c,step:d}}function tre(e,t,n=!1){return(e.time?ere:Jse)(e.bins,t,n)}function nre(e){let t=[],n=e.start,i=n+e.step;for(;i<=e.stop;)t.push({binStart:n,binEnd:i}),n=i,i+=e.step;return t}function ire(e,t){const n=sre(e,t);return i=>[n(i[0]),n(i[1])]}function sre(e,t,n=Math.floor){const i=[1,t],s=e,l=d7().domain(s).range(i);return l.clamp(!0),c=>{const d=l(c);return n(d)}}function ZB(e,...t){return new Map(Array.from(e.entries()).filter(([n,i])=>!t.includes(n)))}function rre(e,{start:t,step:n,stop:i},s=c=>`${c}`,l=!0){const c=j1({start:t,step:n,stop:i}),d=`FLOOR((${e} - ${s(t)}) / ${s(n)})`,f=s(c-1);return l?`cast(${`CASE WHEN ${d} >= ${f} THEN ${f} ELSE ${d} END`} as int)`:`cast(${`LEAST(${f}, ${d})`} as int)`}function are({start:e,stop:t},n){return(t-e)/n}function ore(e){return e.replace(/\s+/g," ").trim()}class lre{constructor(){this.views=[]}remove(t){const n=this.views.findIndex(i=>i==t);n!==-1&&this.views.splice(n,1)}add(t){this.views.findIndex(i=>i==t)===-1&&this.views.push(t)}get passive(){return this.views.filter(t=>!t.isActive)}get active(){const t=this.views.find(n=>n.isActive);if(t)return t}get size(){return this.views.length}forEach(t){this.views.forEach(t)}[Symbol.iterator](){return this.views[Symbol.iterator]()}}class AD{constructor(t){this.isActive=!1,this.linkTogetherWithOtherViews(t),this.onChangeListeners=new Set}linkTogetherWithOtherViews(t){this.falcon=t}onChange(t){return this.onChangeListeners.add(t),()=>this.onChangeListeners.delete(t)}addOnChangeListener(t){return this.onChange(t)}signalOnChange(t){this.onChangeListeners.forEach(n=>{n(t)})}markThisViewActive(){this.falcon.views.forEach(t=>{t.isActive=!1}),this.isActive=!0}}class _l extends AD{constructor(t){super(t),this.state={total:null,filter:null}}async all(){const t=await this.falcon.db.length(this.falcon.filters.size>0?this.falcon.filters:void 0);return this.state.total=t,this.state.filter=t,this.signalOnChange(this.state),this}async countFromActiveContinuous1D(t){const n=await this.falcon.index.get(this);if(n===void 0)throw Error("Cannot count for undefined index in 0D");if(!t)this.state.filter=n.noFilter.get(0);else{const i=n.filter.get(t[0]),s=n.filter.get(t[1]);this.state.filter=s-i}this.signalOnChange(this.state)}async countFromActiveCategorical1D(t,n){const i=await this.falcon.index.get(this);if(i===void 0)throw Error("Cannot count for undefined index in 0D");if(t===void 0)this.state.filter=i.noFilter.get(0);else{const s=Gf(n);let l=0;for(const c of t){const d=s(c);d!==void 0&&(l+=i.filter.get(d))}this.state.filter=l}this.signalOnChange(this.state)}async attach(){this.falcon.views.add(this),await this.falcon.link()}async detach(){this.falcon.views.remove(this),this.falcon.index.delete(this)}}class pa extends AD{constructor(t,n){super(t),this.dimension=n,this.state={total:null,filter:null,bin:null},this.toPixels=()=>[0,0]}async update(t){this.dimension=t,await this.falcon.link()}async createBins(){var t;if(((t=this.dimension)==null?void 0:t.range)===void 0&&(this.dimension.range=await this.falcon.db.range(this.dimension)),this.dimension.type==="continuous"){const n=this.dimension.binConfig!==void 0;if(n)this.dimension.range=[this.dimension.binConfig.start,this.dimension.binConfig.stop];else if(!n)this.dimension.bins=this.dimension.bins??await this.falcon.db.estimateNumBins(this.dimension,200,15),this.dimension.binConfig=tre(this.dimension,this.dimension.range,this.dimension.exact??!1);else throw Error("Invalid bin config or bins not specified");const{start:i,stop:s}=this.dimension.binConfig;this.toPixels=ire([i,s],this.dimension.resolution)}this.dimension.type==="continuous"?this.state.bin=nre(this.dimension.binConfig):this.state.bin=this.dimension.range}async all(){await this.createBins();const t=await this.falcon.db.histogramView1D(this,this.falcon.filters.size>0?this.falcon.otherFilters(this):void 0);return this.state.total=t.noFilter.data,this.state.filter=t.filter.data,this.signalOnChange(this.state),this}async computeIndex(t=!1){(!this.isActive||t)&&(await this.falcon.views.forEach(async n=>{n instanceof pa&&(!("range"in n.dimension)||n.dimension.type==="continuous"&&!("binConfig"in n.dimension))&&await n.all()}),this.markThisViewActive(),this.falcon.index=this.falcon.db.falconIndexView1D(this,this.falcon.views.passive,this.falcon.passiveFilters))}async activate(){await this.computeIndex()}async select(t,n=!1){if(t)if(this.dimension.type==="continuous"){if(this.lastFilter&&this.lastFilter[0]===t[0]&&this.lastFilter[1]===t[1]&&n===!1)return;this.falcon.filters.set(this.dimension,t);let s=this.toPixels(t);this.isActive&&this.falcon.views.passive.forEach(async l=>{await l.countFromActiveContinuous1D(s)}),this.lastFilter=t}else this.falcon.filters.set(this.dimension,t),this.isActive&&this.falcon.views.passive.forEach(async i=>{await i.countFromActiveCategorical1D(t,this.dimension.range)}),this.lastFilter=t;else if(this.isActive)if(this.dimension.type==="continuous"){if(this.lastFilter===t)return;this.falcon.filters.delete(this.dimension),this.falcon.views.passive.forEach(async s=>{await s.countFromActiveContinuous1D()}),this.lastFilter=t}else this.falcon.filters.delete(this.dimension),this.falcon.views.passive.forEach(async i=>{await i.countFromActiveCategorical1D()}),this.lastFilter=t}async countFromActiveContinuous1D(t){const n=await this.falcon.index.get(this);if(n===void 0)throw Error("Index not defined for 1D passive view");if(!t)this.state.filter=n.noFilter.data;else{const i=n.filter.slice(t[0],null),l=n.filter.slice(t[1],null).sub(i);this.state.filter=l.data}this.signalOnChange(this.state)}async countFromActiveCategorical1D(t,n){const i=await this.falcon.index.get(this);if(i===void 0)throw Error("Index not defined for 1D passive view");if(!t)this.state.filter=i.noFilter.data;else{let s;this.dimension.type==="continuous"?s=Ws.allocCounts(j1(this.dimension.binConfig)):s=Ws.allocCounts(this.dimension.range.length),s.data.fill(0);const l=Gf(n);for(const c of t){const d=l(c);if(d!==void 0){const f=i.filter.slice(d,null);s.addToItself(f)}}this.state.filter=s.data}this.signalOnChange(this.state)}async attach(){this.falcon.views.add(this),await this.falcon.link()}async detach(){this.falcon.views.remove(this),this.falcon.index.delete(this),this.isActive&&await this.falcon.link()}}class cre{constructor(t,n){this.table=t,this.nameMap=n}castBins(t){return`${t}`}castTime(t){return`epoch(${t})*1000`}getName(t){var i;let n=((i=this.nameMap)==null?void 0:i.get(t.name))??t.name;return t.type==="continuous"&&t.time&&(n=this.castTime(n)),n}async dimensionExists(t){const n=await this.query(`SELECT EXISTS 
      (SELECT 0 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = '${this.table}' AND COLUMN_NAME = '${t.name}') as _exists`),{_exists:i}=this.getASValues(n);return i}async tableExists(){const t=await this.query(`SELECT EXISTS 
      (SELECT 0 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = '${this.table}') as _exists`),{_exists:n}=this.getASValues(t);return n}async entries(t=0,n=1/0,i){var d;const s=i?[...this.filtersToSQLWhereClauses(i).values()].join(" AND "):void 0,l=((d=this.nameMap)==null?void 0:d.values())??[];return await this.query(`SELECT *, ${Array.from(l)}
              FROM ${this.table}
              ${s?`WHERE ${s}`:""}
              ${n>=0&&n<1/0?`LIMIT ${n}`:""}
              OFFSET ${t}`)}async estimateNumBins(t,n=200,i=15){if(await this.length()<=1)return 1;if(t.range){const l=await this.query(`SELECT STDDEV(${this.getName(t)}) AS standardDeviation FROM ${this.table}`),{standardDeviation:c}=this.getASValues(l),[d,f]=t.range,u=vZ(d,f,c);return Math.min(u,n)}return i}async length(t){let n="";t&&(n=[...this.filtersToSQLWhereClauses(t).values()].join(" AND "));const i=await this.query(`SELECT count(*) AS _count
       FROM ${this.table}
       ${n?`WHERE ${n}`:""}`),{_count:s}=this.getASValues(i);return s}async range(t){const n=this.getName(t);if(t.type==="continuous"){const i=await this.query(`SELECT  MIN(${n}) AS _min, MAX(${n}) AS _max
        FROM ${this.table}`),{_min:s,_max:l}=this.getASValues(i);return[Number(s),Number(l)]}else{const i=await this.query(`SELECT DISTINCT "${n}" AS _unique FROM ${this.table}`);let s=[];for(const{_unique:l}of i)s.push(l);return s.filter(l=>l!==null)}}async histogramView1D(t,n){let i,s,l;t.dimension.type==="continuous"?(i=j1(t.dimension.binConfig),s=this.binSQL(t.dimension,t.dimension.binConfig),l=a=>a):(i=M_(t.dimension.range),s=this.binSQLCategorical(t.dimension,t.dimension.range),l=Gf(t.dimension.range));const c=Ws.allocCounts(i),d=n&&n.size>0,f=d?Ws.allocCounts(i):c,u=await this.query(`SELECT ${s.select}
       AS binIndex, count(*) AS binCount
       FROM ${this.table} 
       WHERE ${s.where} 
       GROUP BY binIndex`);for(const{binIndex:a,binCount:y}of u)c.set(l(a),y);if(d){const a=[...this.filtersToSQLWhereClauses(n).values()].join(" AND "),y=`SELECT ${s.select}
         AS binIndex, count(*) AS binCount
         FROM ${this.table}
         WHERE ${s.where} AND ${a} 
         GROUP BY binIndex`,w=await this.query(y);for(const{binIndex:m,binCount:o}of w)f.set(m,o)}return{filter:f,noFilter:c}}falconIndexView1D(t,n,i){const s=performance.now(),l=this.filtersToSQLWhereClauses(i),c=new Map;if(t.dimension.type==="continuous"){const d=t.dimension.resolution,f=this.binSQLPixel(t.dimension,t.dimension.binConfig,d),u=d+1,a=[];n.forEach(y=>{const w=this.cubeSlice1DContinuous(y,l,f,u);a.push(w),c.set(y,w)}),Promise.all(a).then(()=>{console.info(`Build index: ${performance.now()-s}ms`)})}else{const d=this.binSQLCategorical(t.dimension,t.dimension.range),f=M_(t.dimension.range),u=Gf(t.dimension.range),a=[];n.forEach(y=>{const w=this.cubeSlice1DCategorical(y,l,d,u,f);a.push(w),c.set(y,w)}),Promise.all(a).then(()=>{console.info(`Build index: ${performance.now()-s}ms`)})}return c}async cubeSlice1DCategorical(t,n,i,s,l){let c,d;const f=new Map(n);t instanceof _l||t instanceof pa&&f.delete(t.dimension);const u=[...f.values()].join(" AND ");let a="",y=o=>o;const w=`CASE WHEN ${i.where} 
     THEN ${i.select}
     ELSE -1 END AS "keyActive",
     count(*) AS cnt`;if(t instanceof _l)d=Ws.allocCounts(l),c=Ws.allocCounts(1,[1]),a=`SELECT ${w}
         FROM ${this.table} 
         ${u?`WHERE ${u}`:""} 
         GROUP BY "keyActive"`;else if(t instanceof pa){let o,b;if(t.dimension.type==="continuous"){const L=t.dimension.binConfig;b=j1(L),o=this.binSQL(t.dimension,t.dimension.binConfig)}else y=Gf(t.dimension.range),b=M_(t.dimension.range),o=this.binSQLCategorical(t.dimension,t.dimension.range);d=Ws.allocCounts(l*b,[l,b]),c=Ws.allocCounts(b,[b]),a=`SELECT ${w}, 
       ${o.select} AS key 
       FROM ${this.table} 
       WHERE ${o.where} ${u?`AND ${u}`:""} 
       GROUP BY "keyActive", key`}else throw Error("no 2d view here");const m=await this.query(a);if(t instanceof _l)for(const{keyActive:o,cnt:b}of m){const L=s(o);L>=0&&d.set(L,b),c.increment([0],b)}else if(t instanceof pa)for(const{keyActive:o,key:b,cnt:L}of m){const v=s(o),S=y(b);v>=0&&d.set(v,S,L),c.increment([S],L)}else throw Error();return{noFilter:c,filter:d}}async cubeSlice1DContinuous(t,n,i,s){let l,c;const d=new Map(n);t instanceof _l||t instanceof pa&&d.delete(t.dimension);const f=[...d.values()].join(" AND ");let u,a=m=>m;const y=`CASE
     WHEN ${i.where} 
     THEN ${i.select}
     ELSE -1 END AS "keyActive",
     count(*) AS cnt`;if(t instanceof _l)c=Ws.allocCumulative(s),l=Ws.allocCounts(1,[1]),u=`SELECT ${y}
         FROM ${this.table} 
         ${f?`WHERE ${f}`:""} 
         GROUP BY "keyActive"`;else if(t instanceof pa){let m,o;if(t.dimension.type==="continuous"){const b=t.dimension.binConfig;m=this.binSQL(t.dimension,b),o=j1(b)}else m=this.binSQLCategorical(t.dimension,t.dimension.range),o=M_(t.dimension.range),a=Gf(t.dimension.range);c=Ws.allocCumulative(s*o,[s,o]),l=Ws.allocCounts(o,[o]),u=`SELECT ${y}, 
       ${m.select} AS key 
       FROM ${this.table} 
       WHERE ${m.where} ${f?`AND ${f}`:""} 
       GROUP BY "keyActive", key`}else throw Error("only 0D and 1D views");const w=await this.query(u);if(t instanceof _l){for(const{keyActive:m,cnt:o}of w)m>=0&&c.set(m+1,o),l.increment([0],o);c.cumulativeSum()}else if(t instanceof pa){for(const{keyActive:m,key:o,cnt:b}of w){const L=a(o);m>=0&&c.set(m+1,L,b),l.increment([L],b)}for(let m=0;m<c.shape[1];m++)c.slice(null,m).cumulativeSum()}else throw Error("only 0D and 1D views");return{filter:c,noFilter:l}}getASValues(t){return t[Symbol.iterator]().next().value}binSQLCategorical(t,n){const i=this.getName(t),s=`"${i}"`,l=QB(i,n);return{select:s,where:l}}binSQL(t,n){const i=this.getName(t),s=rre(i,n,this.castBins),l=`${i} BETWEEN ${n.start} AND ${n.stop}`;return{select:s,where:l}}filtersToSQLWhereClauses(t){const n=new Map;for(const[i,s]of t){const l=this.getName(i);let c;i.type==="continuous"?c=`${l} BETWEEN ${s[0]} AND ${s[1]}`:c=QB(l,s),n.set(i,c)}return n}binSQLPixel(t,n,i){const s=i!==void 0?are(n,i):n.step,l=n.start;return this.binSQL(t,{...n,start:l,step:s})}}function QB(e,t){let n=`"${e}" in (`;return t.forEach(s=>{s!==null&&(n+=`'${s}', `)}),n+=")",t.findIndex(s=>s===null)!==-1&&(n+=` OR "${e}" IS NULL`),n}var dre=Object.create,OD=Object.defineProperty,fre=Object.getOwnPropertyDescriptor,ure=Object.getOwnPropertyNames,hre=Object.getPrototypeOf,_re=Object.prototype.hasOwnProperty,pre=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gre=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ure(t))!_re.call(e,s)&&s!==n&&OD(e,s,{get:()=>t[s],enumerable:!(i=fre(t,s))||i.enumerable});return e},yre=(e,t,n)=>(n=e!=null?dre(hre(e)):{},gre(t||!e||!e.__esModule?OD(n,"default",{value:e,enumerable:!0}):n,e)),mre=pre((e,t)=>{t.exports=Worker}),wre=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(wre||{}),Lre=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(Lre||{}),bre=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(bre||{}),Tre=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(Tre||{}),Ere=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(Ere||{}),vre=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(vre||{}),Sre=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},xre=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(xre||{}),kre=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=Bi.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new kn(n)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.startPendingQuery(this._conn,e);for(;t==null;)t=await this._bindings.pollPendingQuery(this._conn);let n=new ND(this._bindings,this._conn,t),i=await Bi.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new Bre(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=RC(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},ND=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},Bre=class{constructor(t,n,i){this.bindings=t,this.connectionId=n,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=Bi.from(n);return console.assert(i.isSync()),console.assert(i.isFile()),new kn(i)}async send(...t){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new ND(this.bindings,this.connectionId,n),s=await Bi.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}},Fre=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(Fre||{}),Ire=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(Ire||{}),It=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,i)=>{this.promiseResolver=n,this.promiseRejecter=i})}};function mp(e){switch(e.typeId){case Q.Binary:return{sqlType:"binary"};case Q.Bool:return{sqlType:"bool"};case Q.Date:return{sqlType:"date"};case Q.DateDay:return{sqlType:"date32[d]"};case Q.DateMillisecond:return{sqlType:"date64[ms]"};case Q.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case Q.Float:return{sqlType:"float"};case Q.Float16:return{sqlType:"float16"};case Q.Float32:return{sqlType:"float32"};case Q.Float64:return{sqlType:"float64"};case Q.Int:return{sqlType:"int32"};case Q.Int16:return{sqlType:"int16"};case Q.Int32:return{sqlType:"int32"};case Q.Int64:return{sqlType:"int64"};case Q.Uint16:return{sqlType:"uint16"};case Q.Uint32:return{sqlType:"uint32"};case Q.Uint64:return{sqlType:"uint64"};case Q.Uint8:return{sqlType:"uint8"};case Q.IntervalDayTime:return{sqlType:"interval[dt]"};case Q.IntervalYearMonth:return{sqlType:"interval[m]"};case Q.List:return{sqlType:"list",valueType:mp(e.valueType)};case Q.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case Q.Null:return{sqlType:"null"};case Q.Utf8:return{sqlType:"utf8"};case Q.Struct:return{sqlType:"struct",fields:e.children.map(t=>n5(t.name,t.type))};case Q.Map:{let t=e;return{sqlType:"map",keyType:mp(t.keyType),valueType:mp(t.valueType)}}case Q.Time:return{sqlType:"time[s]"};case Q.TimeMicrosecond:return{sqlType:"time[us]"};case Q.TimeMillisecond:return{sqlType:"time[ms]"};case Q.TimeNanosecond:return{sqlType:"time[ns]"};case Q.TimeSecond:return{sqlType:"time[s]"};case Q.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case Q.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case Q.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case Q.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case Q.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function n5(e,t){let n=mp(t);return n.name=e,n}var Mre=new TextEncoder,Are=class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let s of this._onInstantiationProgress)s(n.data);return}}let i=this._pendingRequests.get(n.requestId);if(!i){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let s=new Error(n.data.message);s.name=n.data.name,(t=Object.getOwnPropertyDescriptor(s,"stack"))!=null&&t.writable&&(s.stack=n.data.stack),i.promiseRejecter(s);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){i.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){i.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){i.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){i.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){i.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){i.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){i.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){i.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){i.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){i.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){i.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){i.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){i.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(n.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new It("RESET",null);return await this.postTask(e)}async ping(){let e=new It("PING",null);await this.postTask(e)}async dropFile(e){let t=new It("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new It("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new It("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=i=>{}){this._onInstantiationProgress.push(n);let i=new It("INSTANTIATE",[e,t]);return await this.postTask(i)}async getVersion(){let e=new It("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new It("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new It("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new It("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new It("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new kre(this,e)}async disconnect(e){let t=new It("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let n=new It("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t){let n=new It("START_PENDING_QUERY",[e,t]);return await this.postTask(n)}async pollPendingQuery(e){let t=new It("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new It("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new It("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new It("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new It("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new It("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let i=new It("RUN_PREPARED",[e,t,n]);return await this.postTask(i)}async sendPrepared(e,t,n){let i=new It("SEND_PREPARED",[e,t,n]);return await this.postTask(i)}async globFiles(e){let t=new It("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=Mre.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,i){t===void 0&&(t=e);let s=new It("REGISTER_FILE_URL",[e,t,n,i]);await this.postTask(s)}async registerEmptyFileBuffer(e){let t=new It("REGISTER_FILE_BUFFER",[e,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(e,t){let n=new It("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,i){let s=new It("REGISTER_FILE_HANDLE",[e,t,n,i]);await this.postTask(s,[])}async collectFileStatistics(e,t){let n=new It("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new It("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new It("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new It("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let i=new It("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(i,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let s=[];for(let l in n.columns){let c=n.columns[l];s.push(n5(l,c))}n.columnsFlat=s,delete n.columns}let i=new It("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(i)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let s=[];for(let l in n.columns){let c=n.columns[l];s.push(n5(l,c))}n.columnsFlat=s,delete n.columns}let i=new It("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(i)}},Ore=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Nre=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Cre=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Rre=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),V7={name:"@duckdb/duckdb-wasm",version:"1.28.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^13.0.0"},devDependencies:{"@types/emscripten":"^1.39.8","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^6.5.0","@typescript-eslint/parser":"^6.7.3",esbuild:"^0.19.5",eslint:"^8.50.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.33.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.1.1","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.0.2",puppeteer:"^21.1.1",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.2",typescript:"^5.2.2","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},Pre=V7.name,Dre=V7.version,G7=V7.version.split(".");G7[0];G7[1];G7[2];var Ure=()=>typeof navigator>"u";function $re(){let e="https://cdn.jsdelivr.net/npm/".concat(Pre,"@").concat(Dre,"/dist/");return{mvp:{mainModule:"".concat(e,"duckdb-mvp.wasm"),mainWorker:"".concat(e,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(e,"duckdb-eh.wasm"),mainWorker:"".concat(e,"duckdb-browser-eh.worker.js")}}}var Z6=null,Q6=null,J6=null,ew=null,tw=null;async function Hre(){return Z6==null&&(Z6=typeof BigInt64Array<"u"),Q6==null&&(Q6=await Nre()),J6==null&&(J6=await Rre()),ew==null&&(ew=await Cre()),tw==null&&(tw=await Ore()),{bigInt64Array:Z6,crossOriginIsolated:Ure()||globalThis.crossOriginIsolated||!1,wasmExceptions:Q6,wasmSIMD:ew,wasmThreads:J6,wasmBulkMemory:tw}}async function zre(e){let t=await Hre();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}var jre=yre(mre());async function qre(e){let t=new Request(e),n=await fetch(t),i=URL.createObjectURL(await n.blob());return new jre.default(i)}function Vre(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}Vre();var Gre=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(Gre||{});class W7 extends cre{constructor(t,n,i){super(n,i),this.db=t}async query(t){const n=performance.now();t=t.replaceAll("count(*)","count(*)::INT");const i=await this.db.connect(),s=await i.query(t);return i.close(),t=ore(t),console.info(`%c${t}`,"color: #bbb",`
Rows:`,s.numRows,"Execution time:",performance.now()-n,"ms."),s}castTime(t){return`epoch(${t})*1000`}static async fromParquetFile(t,n="data",i,s=!0){const l=await Wre(n,`CREATE TABLE '${n}' AS SELECT * FROM parquet_scan('${s?Yre(t):t}')`);return new W7(l,n,i)}}async function Wre(e,t){const n=$re(),i=await zre(n),s=await qre(i.mainWorker),l=new Sre,c=new Are(l,s);await c.instantiate(i.mainModule,i.pthreadWorker);const d=await c.connect();await d.query(t);const f=await d.query(`PRAGMA table_info('${e}')`);return console.table(f.toArray().map(Object.fromEntries)),d.close(),c}function Yre(e){return`${window.location.href}${e}`}var CD={exports:{}};const Xre=kZ(EZ);(function(e,t){(function(i,s){e.exports=s(Xre)})(xZ,function(n){return(()=>{var i={2190:c=>{c.exports=function(f,u,a){if(f.filter)return f.filter(u,a);if(f==null)throw new TypeError;if(typeof u!="function")throw new TypeError;for(var y=[],w=0;w<f.length;w++)if(d.call(f,w)){var m=f[w];u.call(a,m,w,f)&&y.push(m)}return y};var d=Object.prototype.hasOwnProperty},6314:(c,d,f)=>{var u=f(2190);c.exports=function(){return u(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(y){return typeof f.g[y]=="function"})}},7123:(c,d,f)=>{f.r(d),f.d(d,{DbCon:()=>wt,default:()=>_e,Client:()=>L.Client,Processor:()=>L.Processor});var u=f(6729),a=f.n(u),y=f(2003),w=f(9539),m=f.n(w),o=f(2818),b=f(2607),L=f(4221),v=f(9262),S=f(5141),x=f(2033),M={};for(const H in o)["default","DbCon","Client","Processor"].indexOf(H)<0&&(M[H]=()=>o[H]);f.d(d,M);var F=f(4494),M={};for(const H in F)["default","DbCon","Client","Processor"].indexOf(H)<0&&(M[H]=()=>F[H]);f.d(d,M);var k=f(1396),M={};for(const H in k)["default","DbCon","Client","Processor"].indexOf(H)<0&&(M[H]=()=>k[H]);f.d(d,M);var M={};for(const H in b)["default","DbCon","Client","Processor"].indexOf(H)<0&&(M[H]=()=>b[H]);f.d(d,M);var A=f(3962),M={};for(const H in A)["default","DbCon","Client","Processor"].indexOf(H)<0&&(M[H]=()=>A[H]);f.d(d,M);var C=f(8764).Buffer;function R(H,z){var P=Object.keys(H);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);z&&(K=K.filter(function(J){return Object.getOwnPropertyDescriptor(H,J).enumerable})),P.push.apply(P,K)}return P}function D(H){for(var z=1;z<arguments.length;z++){var P=arguments[z]!=null?arguments[z]:{};z%2?R(Object(P),!0).forEach(function(K){ne(H,K,P[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(P)):R(Object(P)).forEach(function(K){Object.defineProperty(H,K,Object.getOwnPropertyDescriptor(P,K))})}return H}function U(H){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(P){return typeof P}:U=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},U(H)}function X(H,z){return Z(H)||W(H,z)||G(H,z)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(H,z){if(H){if(typeof H=="string")return V(H,z);var P=Object.prototype.toString.call(H).slice(8,-1);if(P==="Object"&&H.constructor&&(P=H.constructor.name),P==="Map"||P==="Set")return Array.from(H);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return V(H,z)}}function V(H,z){(z==null||z>H.length)&&(z=H.length);for(var P=0,K=new Array(z);P<z;P++)K[P]=H[P];return K}function W(H,z){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(H)))){var P=[],K=!0,J=!1,re=void 0;try{for(var se=H[Symbol.iterator](),pe;!(K=(pe=se.next()).done)&&(P.push(pe.value),!(z&&P.length===z));K=!0);}catch(Ee){J=!0,re=Ee}finally{try{!K&&se.return!=null&&se.return()}finally{if(J)throw re}}return P}}function Z(H){if(Array.isArray(H))return H}function q(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function")}function oe(H,z){for(var P=0;P<z.length;P++){var K=z[P];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}function fe(H,z,P){return z&&oe(H.prototype,z),P&&oe(H,P),H}function ne(H,z,P){return z in H?Object.defineProperty(H,z,{value:P,enumerable:!0,configurable:!0,writable:!0}):H[z]=P,H}var xe=3;function le(H){return Array.isArray(H)?H:[H]}function Se(H,z,P){var K=this;v.XHRConnection.call(this,H,z,P),P.headers["Content-Type"]==="application/vnd.apache.thrift.binary"&&(this.flush=function(){if(K.url===void 0||K.url==="")return K.send_buf;var J=K.getXmlHttpRequestObject();J.responseType="arraybuffer",J.onreadystatechange=function(){J.readyState===4&&J.status===200&&K.setRecvBuffer(J.response)},J.open("POST",K.url,!0),Object.keys(K.headers).forEach(function(re){J.setRequestHeader(re,K.headers[re])}),J.send(K.send_buf)})}m().inherits(Se,v.XHRConnection),Se.prototype.getXmlHttpRequestObject=function(){var H=v.XHRConnection.prototype.getXmlHttpRequestObject.call(this);return H.withCredentials=Se.withCredentials,H};function Ae(){for(var H=arguments.length,z=new Array(H),P=0;P<H;P++)z[P]=arguments[P];v.TJSONProtocol.apply(this,z)}m().inherits(Ae,v.TJSONProtocol),Ae.prototype.writeString=function(H){return H instanceof C||(H=String(H)),v.TJSONProtocol.prototype.writeString.call(this,H)},Ae.prototype.readI64=function(){var H=v.TJSONProtocol.prototype.readI64.call(this);return H.toNumber(!0)},Ae.prototype.readBinary=function(){return v.TJSONProtocol.prototype.readString.call(this)};function Ze(){for(var H=arguments.length,z=new Array(H),P=0;P<H;P++)z[P]=arguments[P];v.TBinaryProtocol.apply(this,z)}m().inherits(Ze,v.TBinaryProtocol),Ze.prototype.writeString=function(H){return H instanceof C||(H=String(H)),v.TBinaryProtocol.prototype.writeString.call(this,H)},Ze.prototype.readI64=function(){var H=v.TBinaryProtocol.prototype.readI64.call(this);return H.toNumber(!0)},Ze.prototype.readBinary=function(){return v.TBinaryProtocol.prototype.readBinary.call(this).toString("base64")};function gt(H,z){var P=new URL(H),K=P.protocol,J=P.hostname,re=P.port;re===""&&(re=K==="https:"?"443":"80");var se=null;{var pe=new Se(J,re,{transport:v.TBufferedTransport,protocol:z?Ze:Ae,path:"/",headers:{"Content-Type":"application/vnd.apache.thrift.".concat(z?"binary":"json")},https:K==="https:"});pe.on("error",console.error),se=(0,v.createXHRClient)(L,pe)}return se}var wt=function(){function H(){var z=this;return q(this,H),ne(this,"updateQueryTimes",function(P,K,J,re){z.queryTimes[K]=re}),ne(this,"events",new(a())),ne(this,"EVENT_NAMES",{ERROR:"error",METHOD_CALLED:"method-called"}),ne(this,"handleErrors",function(P){return function(){for(var K=arguments.length,J=new Array(K),re=0;re<K;re++)J[re]=arguments[re];return P.apply(z,J).catch(function(se){throw z.events.emit(z.EVENT_NAMES.ERROR,se),se})}}),ne(this,"callbackify",function(P,K){return function(){for(var J=null,re=arguments.length,se=new Array(re),pe=0;pe<re;pe++)se[pe]=arguments[pe];se.length===K+1&&(J=se.pop());var Ee=z[P].apply(z,se);return J&&Ee.catch(function(We){return J(We)}).then(function(We){return J(null,We)}),Ee}}),ne(this,"overSingleClient","SINGLE_CLIENT"),ne(this,"overAllClients","ALL_CLIENTS"),ne(this,"wrapThrift",function(P,K,J){return function(){if(z._sessionId){for(var re=arguments.length,se=new Array(re),pe=0;pe<re;pe++)se[pe]=arguments[pe];var Ee=J(se);return z.events.emit(z.EVENT_NAMES.METHOD_CALLED,P),K===z.overSingleClient?z._client[0][P].apply(z._client[0],[z._sessionId[0]].concat(Ee)):Promise.all(z._client.map(function(We,Ht){return We[P].apply(We,[z._sessionId[Ht]].concat(Ee))}))}else return Promise.reject(new Error("You are not connected to a server. Try running the connect method first."))}}),ne(this,"connect",this.callbackify("connectAsync",0)),ne(this,"disconnectAsync",this.handleErrors(function(){return Promise.all(z._client.map(function(P,K){return P.disconnect(z._sessionId[K]).catch(function(J){if(J&&!z.isTimeoutError(J))throw J})})).then(function(){return z._sessionId=null,z._client=null,z._numConnections=0,z.serverPingTimes=null,z})})),ne(this,"disconnect",this.callbackify("disconnectAsync",0)),ne(this,"getStatusAsync",this.handleErrors(this.wrapThrift("get_status",this.overSingleClient,function(P){return P}))),ne(this,"getStatus",this.callbackify("getStatusAsync",0)),ne(this,"getHardwareInfoAsync",this.handleErrors(this.wrapThrift("get_hardware_info",this.overSingleClient,function(P){return P}))),ne(this,"getHardwareInfo",this.callbackify("getHardwareInfoAsync",0)),ne(this,"getFirstGeoFileInArchiveAsync",this.handleErrors(this.wrapThrift("get_first_geo_file_in_archive",this.overSingleClient,function(P){return P}))),ne(this,"getFilesInArchiveAsync",this.handleErrors(this.wrapThrift("get_all_files_in_archive",this.overSingleClient,function(P){return P}))),ne(this,"getUsersAsync",this.handleErrors(this.wrapThrift("get_users",this.overSingleClient,function(P){return P}))),ne(this,"importTableStatusAsync",this.handleErrors(this.wrapThrift("import_table_status",this.overSingleClient,function(P){return P}))),ne(this,"getRolesAsync",this.handleErrors(this.wrapThrift("get_roles",this.overSingleClient,function(P){return P}))),ne(this,"getDashboardsAsync",this.handleErrors(this.wrapThrift("get_dashboards",this.overSingleClient,function(P){return P}))),ne(this,"getDashboardAsync",this.handleErrors(this.wrapThrift("get_dashboard",this.overSingleClient,function(P){return P}))),ne(this,"createDashboardAsync",this.handleErrors(this.wrapThrift("create_dashboard",this.overAllClients,function(P){return P}))),ne(this,"replaceDashboardAsync",this.handleErrors(this.wrapThrift("replace_dashboard",this.overAllClients,function(P){return P}))),ne(this,"deleteDashboardAsync",this.handleErrors(this.wrapThrift("delete_dashboard",this.overAllClients,function(P){return P}))),ne(this,"deleteDashboardsAsync",this.handleErrors(this.wrapThrift("delete_dashboards",this.overAllClients,function(P){return P}))),ne(this,"shareDashboardAsync",this.handleErrors(this.wrapThrift("share_dashboard",this.overAllClients,function(P){var K=X(P,4),J=K[0],re=K[1],se=K[2],pe=K[3];return[J,re,se,new b.TDashboardPermissions(pe)]}))),ne(this,"shareDashboardsAsync",this.handleErrors(this.wrapThrift("share_dashboards",this.overAllClients,function(P){var K=X(P,3),J=K[0],re=K[1],se=K[2];return[J,re,new b.TDashboardPermissions(se)]}))),ne(this,"unshareDashboardAsync",this.handleErrors(this.wrapThrift("unshare_dashboard",this.overAllClients,function(P){var K=X(P,4),J=K[0],re=K[1],se=K[2],pe=K[3];return[J,re,se,new b.TDashboardPermissions(pe)]}))),ne(this,"unshareDashboardsAsync",this.handleErrors(this.wrapThrift("unshare_dashboards",this.overAllClients,function(P){var K=X(P,3),J=K[0],re=K[1],se=K[2];return[J,re,new b.TDashboardPermissions(se)]}))),ne(this,"getDashboardGranteesAsync",this.handleErrors(this.wrapThrift("get_dashboard_grantees",this.overSingleClient,function(P){return P}))),ne(this,"getDbObjectsForGranteeAsync",this.handleErrors(this.wrapThrift("get_db_objects_for_grantee",this.overSingleClient,function(P){return P}))),ne(this,"getDbObjectPrivsAsync",this.handleErrors(this.wrapThrift("get_db_object_privs",this.overSingleClient,function(P){var K=X(P,2),J=K[0],re=K[1];return[J,b.TDBObjectType[re]]}))),ne(this,"getAllRolesForUserAsync",this.handleErrors(this.wrapThrift("get_all_roles_for_user",this.overSingleClient,function(P){return P}))),ne(this,"getAllEffectiveRolesForUserAsync",this.handleErrors(this.wrapThrift("get_all_effective_roles_for_user",this.overSingleClient,function(P){return P}))),ne(this,"hasObjectPrivilegesAsync",this.handleErrors(this.wrapThrift("has_object_privilege",this.overSingleClient,function(P){return P}))),ne(this,"hasDbPrivilegesAsync",function(P,K,J){return z.hasObjectPrivilegesAsync(P,K,b.TDBObjectType.DatabaseDBObjectType,new b.TDBObjectPermissions({database_permissions_:new b.TDatabasePermissions(J)}))}),ne(this,"getSessionInfoAsync",this.handleErrors(this.wrapThrift("get_session_info",this.overSingleClient,function(P){return P}))),ne(this,"createCustomExpressionAsync",this.handleErrors(this.wrapThrift("create_custom_expression",this.overSingleClient,function(P){return P}))),ne(this,"getCustomExpressionsAsync",this.handleErrors(this.wrapThrift("get_custom_expressions",this.overSingleClient,function(P){return P}))),ne(this,"updateCustomExpressionAsync",this.handleErrors(this.wrapThrift("update_custom_expression",this.overSingleClient,function(P){return P}))),ne(this,"deleteCustomExpressionsAsync",this.handleErrors(this.wrapThrift("delete_custom_expressions",this.overSingleClient,function(P){return P}))),ne(this,"detectColumnTypesAsync",this.handleErrors(function(P,K){var J=z.wrapThrift("detect_column_types",z.overSingleClient,function(){return[P,x.Dq(K)]});return J().then(function(re){return z.importerRowDesc=re.row_set.row_desc,re})})),ne(this,"queryAsync",this.handleErrors(function(P,K){var J=!0,re=!1,se=null,pe=!1,Ee=-1,We=(z._nonce++).toString();K&&(J=K.hasOwnProperty("columnarResults")?K.columnarResults:J,re=K.hasOwnProperty("eliminateNullRows")?K.eliminateNullRows:re,se=K.hasOwnProperty("queryId")?K.queryId:se,pe=K.hasOwnProperty("returnTiming")?K.returnTiming:pe,Ee=K.hasOwnProperty("limit")?K.limit:Ee,We=K.hasOwnProperty("logValues")?U(K.logValues)==="object"?JSON.stringify(K.logValues):K.logValues:We);var Ht=se in z.queryTimes?z.queryTimes[se]:z.DEFAULT_QUERY_TIME,ln=0,Ot={returnTiming:pe,eliminateNullRows:re,query:P,queryId:se,conId:ln,estimatedQueryTime:Ht,startTime:Date.now()},ai=-1,Pi=z.wrapThrift("sql_execute",z.overSingleClient,function(ue){return ue}),Mn=function ue(){return Pi(P,J,We,Ee,ai).catch(function(oi){if(oi.name==="NetworkError"){if(z.removeConnection(0),z._numConnections===0)throw oi.msg="No remaining database connections",oi;return ue()}throw oi})};return z.processResults(Ot,Mn())})),ne(this,"query",this.callbackify("queryAsync",2)),ne(this,"queryDFAsync",this.handleErrors(function(P,K){var J=0,re=-1,se=z.wrapThrift("sql_execute_df",z.overSingleClient,function(){return[P,o.TDeviceType.CPU,J,re,b.TArrowTransport.WIRE]});return se().then(function(pe){z._logging&&console.log(P,"on Server",0,"- Execution Time:",pe.execution_time_ms,"ms");var Ee=C.from(pe.df_buffer,"base64"),We=(0,y.tableFromIPC)(Ee);return K&&K.returnTiming&&(We={results:We,timing:{execution_time_ms:pe.execution_time_ms}}),We})})),ne(this,"queryDF",this.callbackify("queryDFAsync",2)),ne(this,"validateQuery",this.handleErrors(function(P){var K=z.wrapThrift("sql_validate",z.overSingleClient,function(J){return J});return K(P).then(function(J){var re=J.reduce(function(se,pe){return se[pe.col_name]=pe,se},{});return z.convertFromThriftTypes(re)})})),ne(this,"getTablesAsync",this.handleErrors(function(){var P=z.wrapThrift("get_tables",z.overSingleClient,function(K){return K});return P().then(function(K){return K.map(function(J){return{name:J,label:"obs"}})})})),ne(this,"getTables",this.callbackify("getTablesAsync",0)),ne(this,"getTablesWithMetaAsync",this.handleErrors(function(){var P=z.wrapThrift("get_tables_meta",z.overSingleClient,function(K){return K});return P().then(function(K){return K.map(function(J){return{name:J.table_name,num_cols:Number(J.num_cols.toString()),col_datum_types:J.col_types.map(function(re){return z._datumEnum[re.type]}),is_view:J.is_view,is_replicated:J.is_replicated,shard_count:Number(J.shard_count.toString()),max_rows:isFinite(J.max_rows)?Number(J.max_rows.toString()):-1}})})})),ne(this,"getTablesWithMeta",this.callbackify("getTablesWithMetaAsync",0)),ne(this,"getTablesMetaAsync",this.handleErrors(this.wrapThrift("get_tables_meta",this.overSingleClient,function(P){return P}))),ne(this,"getTablesMeta",this.callbackify("getTablesMetaAsync",0)),ne(this,"getTableEpochByNameAsync",this.handleErrors(this.wrapThrift("get_table_epoch_by_name",this.overSingleClient,function(P){return P}))),ne(this,"getTableEpochByName",this.callbackify("getTableEpochByNameAsync",0)),ne(this,"getTableFunctionNamesAsync",this.handleErrors(this.wrapThrift("get_table_function_names",this.overSingleClient,function(P){return P}))),ne(this,"getTableFunctionNames",this.callbackify("getTableFunctionNamesAsync",0)),ne(this,"getRuntimeTableFunctionNamesAsync",this.handleErrors(this.wrapThrift("get_runtime_table_function_names",this.overSingleClient,function(P){return P}))),ne(this,"getRuntimeTableFunctionNames",this.callbackify("getRuntimeTableFunctionNamesAsync",0)),ne(this,"getTableFunctionDetailsAsync",this.handleErrors(this.wrapThrift("get_table_function_details",this.overSingleClient,function(P){return P}))),ne(this,"getTableFunctionDetails",this.callbackify("getTableFunctionDetailsAsync",0)),ne(this,"getCompletionHintsAsync",this.handleErrors(this.wrapThrift("get_completion_hints",this.overSingleClient,function(P){var K=X(P,2),J=K[0],re=K[1].cursor;return[J,re]}))),ne(this,"getCompletionHints",this.callbackify("getCompletionHintsAsync",2)),ne(this,"buildTFileTypeMap",function(){for(var P in b.TFileType)b.TFileType.hasOwnProperty(P)&&(z.TFileTypeMap[b.TFileType[P]]=P)}),ne(this,"buildTImportHeaderRowMap",function(){for(var P in b.TImportHeaderRow)b.TImportHeaderRow.hasOwnProperty(P)&&(z.TImportHeaderRowMap[b.TImportHeaderRow[P]]=P)}),ne(this,"buildTEncodingTypeMap",function(){for(var P in o.TEncodingType)o.TEncodingType.hasOwnProperty(P)&&(z.TEncodingTypeMap[o.TEncodingType[P]]=P)}),ne(this,"buildTRasterPointTypeMap",function(){for(var P in b.TRasterPointType)b.TRasterPointType.hasOwnProperty(P)&&(z.TRasterPointTypeMap[b.TRasterPointType[P]]=P)}),ne(this,"buildTRasterPointTransformMap",function(){for(var P in b.TRasterPointTransform)b.TRasterPointTransform.hasOwnProperty(P)&&(z.TRasterPointTransformMap[b.TRasterPointTransform[P]]=P)}),ne(this,"buildTSourceTypeMap",function(){for(var P in b.TSourceType)b.TSourceType.hasOwnProperty(P)&&(z.TSourceTypeMap[b.TSourceType[P]]=P)}),ne(this,"getFieldsAsync",this.handleErrors(function(P){var K=z.wrapThrift("get_table_details",z.overSingleClient,function(J){return J});return K(P).then(function(J){if(J){var re=J.row_desc.reduce(function(se,pe){return se[pe.col_name]=pe,se},{});return D(D({},J),{},{columns:z.convertFromThriftTypes(re)})}else throw new Error("Table (".concat(P,") not found"))})})),ne(this,"getFields",this.callbackify("getFieldsAsync",1)),ne(this,"createTableAsync",this.handleErrors(this.wrapThrift("create_table",this.overAllClients,function(P){var K=X(P,3),J=K[0],re=K[1],se=K[2];return[J,x.HP(re,z.importerRowDesc),se]}))),ne(this,"createTable",this.callbackify("createTableAsync",4)),ne(this,"importTableAsync",this.handleErrors(this.wrapThrift("import_table",this.overAllClients,function(P){var K=X(P,3),J=K[0],re=K[1],se=K[2];return[J,re,x.Dq(se)]}))),ne(this,"importTableGeoAsync",this.handleErrors(this.wrapThrift("import_geo_table",this.overAllClients,function(P){var K=X(P,4),J=K[0],re=K[1],se=K[2],pe=K[3];return[J,re,x.Dq(se),x.HP(pe,z.importerRowDesc),new b.TCreateParams]}))),ne(this,"renderVegaAsync",this.handleErrors(function(P,K,J){var re=null,se=xe;J&&(re=J.hasOwnProperty("queryId")?J.queryId:re,se=J.hasOwnProperty("compressionLevel")?J.compressionLevel:se);var pe=re in z.queryTimes?z.queryTimes[re]:z.DEFAULT_QUERY_TIME,Ee=(z._nonce++).toString();J&&(Ee=J.hasOwnProperty("logValues")?U(J.logValues)==="object"?JSON.stringify(J.logValues):J.logValues:Ee);var We=0;z._lastRenderCon=We;var Ht={isImage:!0,query:"render: ".concat(K),queryId:re,conId:We,estimatedQueryTime:pe},ln=z.wrapThrift("render_vega",z.overSingleClient,function(Ot){return Ot});return z.processResults(Ht,ln(P,K,se,Ee))})),ne(this,"renderVega",this.callbackify("renderVegaAsync",3)),ne(this,"getResultRowForPixelAsync",this.handleErrors(function(P,K,J){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2;K instanceof b.TPixel||(K=new b.TPixel(K));var se=!0,pe=(z._nonce++).toString();return z._client[z._lastRenderCon].get_result_row_for_pixel(z._sessionId[z._lastRenderCon],P,K,J,se,re,pe).then(function(Ee){Ee=Array.isArray(Ee)?Ee.pixel_rows:[Ee];for(var We={isImage:!1,eliminateNullRows:!1,query:"pixel request",queryId:-2},Ht=(0,S.Z)(z._logging,z.updateQueryTimes),ln=Ee.length,Ot=0;Ot<ln;Ot++)Ee[Ot].row_set=Ht(We,z._datumEnum,Ee[Ot]);return Ee})})),ne(this,"getResultRowForPixel",this.callbackify("getResultRowForPixelAsync",4)),this._useBinaryProtocol=!1,this._host=null,this._user=null,this._password=null,this._port=null,this._dbName=null,this._client=null,this._sessionId=null,this._protocol=null,this._disableAutoReconnect=!1,this._datumEnum={},this.TFileTypeMap={},this.TEncodingTypeMap={},this.TImportHeaderRowMap={},this.TRasterPointTypeMap={},this.TRasterPointTransformMap={},this.TSourceTypeMap={},this._logging=!1,this._platform="heavydb",this._nonce=0,this._balanceStrategy="adaptive",this._numConnections=0,this._lastRenderCon=0,this.queryTimes={},this.serverQueueTimes=null,this.serverPingTimes=null,this.pingCount=null,this.DEFAULT_QUERY_TIME=50,this.NUM_PINGS_PER_SERVER=4,this.importerRowDesc=null,this.invertDatumTypes(),this.buildTFileTypeMap(),this.buildTEncodingTypeMap(),this.buildTImportHeaderRowMap(),this.buildTRasterPointTypeMap(),this.buildTRasterPointTransformMap(),this.buildTSourceTypeMap(),this.processResults=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1?arguments[1]:void 0;return K.catch(function(J){throw z._logging&&P.query&&console.error(P.query,`
`,J),J}).then(function(J){var re=(0,S.Z)(z._logging,z.updateQueryTimes),se=re(P,z._datumEnum,J);return se})},this}return fe(H,[{key:"removeConnection",value:function(P){if(P<0||P>=this.numConnections){var K={msg:"Remove connection id invalid"};throw K}this._client.splice(P,1),this._sessionId.splice(P,1),this._numConnections--}},{key:"xhrWithCredentials",value:function(P){Se.withCredentials=!!P}},{key:"initClients",value:function(){var P=Array.isArray(this._host)&&Array.isArray(this._port)&&Array.isArray(this._dbName);if(!P)throw new Error("Host, port, and dbName must be arrays.");if(this._client=[],this._sessionId=[],this._host[0]){if(!this._port[0])throw new Error("Please enter a port.")}else throw new Error("Please enter a host name.");var K=this._host.length;if(K<1)throw new Error("Must have at least one server to connect to.");if(K!==this._port.length)throw new Error("Array connection parameters must be of equal length.");this._protocol||(this._protocol=this._host.map(function(){return window.location.protocol.replace(":","")}));for(var J=this.getEndpoints(),re=[],se=0;se<K;se++){var pe=gt(J[se],this._useBinaryProtocol);re.push(pe)}return this._client=re,this._numConnections=this._client.length,this}},{key:"connectAsync",value:function(){var P=this;if(!Array.isArray(this._user)||!Array.isArray(this._password))return Promise.reject("Username and password must be arrays.");if(this._dbName[0])if(this._user[0]){if(!this._password[0])return Promise.reject("Please enter a password.")}else return Promise.reject("Please enter a username.");else return Promise.reject("Please enter a database.");var K=this._host.length;if(K<1)return Promise.reject("Must have at least one server to connect to.");if(K!==this._port.length||K!==this._user.length||K!==this._password.length||K!==this._dbName.length)return Promise.reject("Array connection parameters must be of equal length.");var J=[];return this.initClients(),J=this._client,this._client=[],Promise.all(J.map(function(re,se){return re.connect(P._user[se],P._password[se],P._dbName[se]).then(function(pe){return P._client.push(re),P._sessionId.push(pe),null})})).then(function(){return P})}},{key:"convertFromThriftTypes",value:function(P){var K=[];for(var J in P)P.hasOwnProperty(J)&&K.push({name:J,type:this._datumEnum[P[J].col_type.type],precision:P[J].col_type.precision,is_array:P[J].col_type.is_array,is_dict:P[J].col_type.encoding===o.TEncodingType.DICT});return K}},{key:"invertDatumTypes",value:function(){var P=o.TDatumType;for(var K in P)P.hasOwnProperty(K)&&(this._datumEnum[P[K]]=K)}},{key:"importTableAsyncWrapper",value:function(P){return P?this.importTableGeoAsync.bind(this):this.importTableAsync.bind(this)}},{key:"importTable",value:function(P,K,J,re,se,pe){if(se){var Ee=this.callbackify("importTableGeoAsync",4);return Ee(P,K,J,re,pe)}else{var We=this.callbackify("importTableAsync",3);return We(P,K,J,pe)}}},{key:"sessionId",value:function(P){return arguments.length?(this._sessionId=le(P),this):this._sessionId}},{key:"useBinaryProtocol",value:function(P){return arguments.length?(this._useBinaryProtocol=!!P,this):this._useBinaryProtocol}},{key:"host",value:function(P){return arguments.length?(this._host=le(P),this):this._host}},{key:"port",value:function(P){return arguments.length?(this._port=le(P),this):this._port}},{key:"user",value:function(P){return arguments.length?(this._user=le(P),this):this._user}},{key:"password",value:function(P){return arguments.length?(this._password=le(P),this):this._password}},{key:"dbName",value:function(P){return arguments.length?(this._dbName=le(P),this):this._dbName}},{key:"logging",value:function(P){if(typeof P>"u")return this._logging;if(typeof P!="boolean")return"logging can only be set with boolean values";this._logging=P;var K=P?"enabled":"disabled";return"SQL logging is now ".concat(K)}},{key:"platform",value:function(P){return arguments.length?(this._platform=P,this):this._platform}},{key:"numConnections",value:function(){return this._numConnections}},{key:"protocol",value:function(P){return arguments.length?(this._protocol=le(P),this):this._protocol}},{key:"disableAutoReconnect",value:function(P){return arguments.length?(this._disableAutoReconnect=P,this):this._disableAutoReconnect}},{key:"getEndpoints",value:function(){var P=this;return this._host.map(function(K,J){return"".concat(P._protocol[J],"://").concat(K,":").concat(P._port[J])})}},{key:"setLicenseKey",value:function(P,K){var J=K.protocol,re=K.host,se=K.port,pe=Array.isArray(this._client)&&this._client[0],Ee=this._sessionId&&this._sessionId[0];if(!pe){var We="".concat(J,"://").concat(re,":").concat(se);pe=gt(We,this._useBinaryProtocol),Ee=""}return pe.set_license_key(Ee,P,this._nonce++)}},{key:"getLicenseClaims",value:function(P){var K=P.protocol,J=P.host,re=P.port,se=Array.isArray(this._client)&&this._client[0],pe=this._sessionId&&this._sessionId[0];if(!se){var Ee="".concat(K,"://").concat(J,":").concat(re);se=gt(Ee,this._useBinaryProtocol),pe=""}return se.get_license_claims(pe,this._nonce++)}},{key:"isTimeoutError",value:function(P){return P instanceof b.TDBException&&(String(P.error_msg).indexOf("Session not valid.")!==-1||String(P.error_msg).indexOf("User should re-authenticate.")!==-1)}}]),H}();const _e=wt},2033:(c,d,f)=>{f.d(d,{Dq:()=>a,HP:()=>y,RK:()=>w,kS:()=>m});var u=f(2607),a=function(b){return new u.TCopyParams(b)},y=function(b,L){return b.forEach(function(v,S){L[S].col_name=v.clean_col_name,L[S].col_type.encoding=v.col_type.encoding,L[S].col_type.precision=v.col_type.precision,L[S].col_type.comp_param=v.col_type.comp_param,L[S].col_type.scale=v.col_type.scale,L[S].col_type.type=v.col_type.type}),L};function w(o,b){var L=Math.pow(10,b-3),v=o/L;return v}function m(o){return o.toNumber?!!o.toNumber(!0):!!o}},5141:(c,d,f)=>{f.d(d,{Z:()=>w});var u=f(2033);function a(m,o,b){var L={fields:[],results:[]},v=m.row_desc.length,S=typeof m.columns[0]>"u"?0:m.columns[0].nulls.length;L.fields=m.row_desc.map(function(Z){return{name:Z.col_name,type:b[Z.col_type.type],is_array:Z.col_type.is_array}});for(var x=0;x<S;x++){if(o){for(var F=!1,k=0;k<v;k++)if(m.columns[k].nulls[x]){F=!0;break}if(F)continue}for(var A={},M=0;M<v;M++){var C=L.fields[M].name,R=L.fields[M].type,D=L.fields[M].is_array,U=m.columns[M].nulls[x],X=m.row_desc[M].col_type.precision;if(U){A[C]=null;continue}if(D){A[C]=[];for(var j=m.columns[M].data.arr_col[x].nulls.length,G=0;G<j;G++){if(m.columns[M].data.arr_col[x].nulls[G]){A[C].push("NULL");continue}switch(R){case"BOOL":A[C].push((0,u.kS)(m.columns[M].data.arr_col[x].data.int_col[G]));break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C].push(m.columns[M].data.arr_col[x].data.int_col[G]);break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C].push(m.columns[M].data.arr_col[x].data.real_col[G]);break;case"STR":A[C].push(m.columns[M].data.arr_col[x].data.str_col[G]);break;case"TIME":case"TIMESTAMP":case"DATE":var V=(0,u.RK)(m.columns[M].data.int_col[x],X);A[C].push(V);break;default:throw new Error("Unrecognized array field type: ".concat(R))}}}else switch(R){case"BOOL":A[C]=(0,u.kS)(m.columns[M].data.int_col[x]);break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C]=m.columns[M].data.int_col[x];break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C]=m.columns[M].data.real_col[x];break;case"STR":A[C]=m.columns[M].data.str_col[x];break;case"TIME":case"TIMESTAMP":case"DATE":var W=(0,u.RK)(m.columns[M].data.int_col[x],X);A[C]=new Date(W);break;case"POINT":case"LINESTRING":case"POLYGON":case"MULTIPOLYGON":A[C]=m.columns[M].data.str_col[x];break;default:throw new Error("Unrecognized field type: ".concat(R))}}L.results.push(A)}return L}function y(m,o,b){var L=m.row_desc.length,v={fields:[],results:[]};v.fields=m.row_desc.map(function(q){return{name:q.col_name,type:b[q.col_type.type],is_array:q.col_type.is_array}}),v.results=[];var S=0;typeof m.rows<"u"&&m.rows!==null&&(S=m.rows.length);for(var x=0;x<S;x++){if(o){for(var F=!1,k=0;k<L;k++)if(m.rows[x].columns[k].is_null){F=!0;break}if(F)continue}for(var A={},M=0;M<L;M++){var C=v.fields[M].name,R=v.fields[M].type,D=v.fields[M].is_array,U=m.row_desc[M].col_type.precision;if(D){if(m.rows[x].cols[M].is_null){A[C]="NULL";continue}A[C]=[];for(var X=m.rows[x].cols[M].val.arr_val.length,j=0;j<X;j++){var G=m.rows[x].cols[M].val.arr_val[j];if(G.is_null){A[C].push("NULL");continue}switch(R){case"BOOL":A[C].push((0,u.kS)(G.val.int_val));break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C].push(G.val.int_val);break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C].push(G.val.real_val);break;case"STR":A[C].push(G.val.str_val);break;case"TIME":case"TIMESTAMP":case"DATE":var V=(0,u.RK)(G.val.int_val,U);A[C].push(V);break;default:throw new Error("Unrecognized array field type: ".concat(R))}}}else{var W=m.rows[x].cols[M];if(W.is_null){A[C]="NULL";continue}switch(R){case"BOOL":A[C]=(0,u.kS)(W.val.int_val);break;case"SMALLINT":case"INT":case"BIGINT":case"TINYINT":A[C]=W.val.int_val;break;case"FLOAT":case"DOUBLE":case"DECIMAL":A[C]=W.val.real_val;break;case"STR":A[C]=W.val.str_val;break;case"TIME":case"TIMESTAMP":case"DATE":var Z=(0,u.RK)(W.val.int_val,U);A[C]=new Date(Z);break;case"POINT":case"LINESTRING":case"POLYGON":case"MULTIPOLYGON":A[C]=W.val.str_val;break;default:throw new Error("Unrecognized field type: ".concat(R))}}}v.results.push(A)}return v}function w(m,o){return function(b,L,v){var S=!1,x=!1,F=null,k=null,A=null,M=null;if(typeof b<"u"&&(S=b.isImage?b.isImage:!1,x=b.eliminateNullRows?b.eliminateNullRows:!1,F=b.query?b.query:null,k=b.queryId?b.queryId:null,A=typeof b.conId>"u"?null:b.conId,M=typeof b.estimatedQueryTime>"u"?null:b.estimatedQueryTime),v.execution_time_ms&&A!==null&&M!==null&&o(A,k,M,v.execution_time_ms),m&&v.execution_time_ms&&console.log(F,"on Server",A,"- Execution Time:",v.execution_time_ms,"ms, Total Time:",v.total_time_ms,"ms, Real Time:",b.startTime?Date.now()-b.startTime:void 0,"ms"),S)return v;var C=null;if(!v.row_set)throw new Error("No result to process");return v.row_set.is_columnar?C=a(v.row_set,x,L):C=y(v.row_set,x,L),C.timing={execution_time_ms:v.execution_time_ms,total_time_ms:v.total_time_ms},b.returnTiming?C:C.results}}},9742:(c,d)=>{d.byteLength=b,d.toByteArray=v,d.fromByteArray=F;for(var f=[],u=[],a=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,m=y.length;w<m;++w)f[w]=y[w],u[y.charCodeAt(w)]=w;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63;function o(k){var A=k.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=k.indexOf("=");M===-1&&(M=A);var C=M===A?0:4-M%4;return[M,C]}function b(k){var A=o(k),M=A[0],C=A[1];return(M+C)*3/4-C}function L(k,A,M){return(A+M)*3/4-M}function v(k){var A,M=o(k),C=M[0],R=M[1],D=new a(L(k,C,R)),U=0,X=R>0?C-4:C,j;for(j=0;j<X;j+=4)A=u[k.charCodeAt(j)]<<18|u[k.charCodeAt(j+1)]<<12|u[k.charCodeAt(j+2)]<<6|u[k.charCodeAt(j+3)],D[U++]=A>>16&255,D[U++]=A>>8&255,D[U++]=A&255;return R===2&&(A=u[k.charCodeAt(j)]<<2|u[k.charCodeAt(j+1)]>>4,D[U++]=A&255),R===1&&(A=u[k.charCodeAt(j)]<<10|u[k.charCodeAt(j+1)]<<4|u[k.charCodeAt(j+2)]>>2,D[U++]=A>>8&255,D[U++]=A&255),D}function S(k){return f[k>>18&63]+f[k>>12&63]+f[k>>6&63]+f[k&63]}function x(k,A,M){for(var C,R=[],D=A;D<M;D+=3)C=(k[D]<<16&16711680)+(k[D+1]<<8&65280)+(k[D+2]&255),R.push(S(C));return R.join("")}function F(k){for(var A,M=k.length,C=M%3,R=[],D=16383,U=0,X=M-C;U<X;U+=D)R.push(x(k,U,U+D>X?X:U+D));return C===1?(A=k[M-1],R.push(f[A>>2]+f[A<<4&63]+"==")):C===2&&(A=(k[M-2]<<8)+k[M-1],R.push(f[A>>10]+f[A>>4&63]+f[A<<2&63]+"=")),R.join("")}},3818:(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u=typeof window<"u"&&typeof window.document<"u",a=(typeof self>"u"?"undefined":f(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",y=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,w=function(){return typeof window<"u"&&window.name==="nodejs"||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")};d.isBrowser=u,d.isWebWorker=a,d.isNode=y,d.isJsDom=w},8764:(c,d,f)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const u=f(9742),a=f(645),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=b,d.SlowBuffer=D,d.INSPECT_MAX_BYTES=50;const w=2147483647;d.kMaxLength=w,b.TYPED_ARRAY_SUPPORT=m(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const N=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(N,I),N.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function o(N){if(N>w)throw new RangeError('The value "'+N+'" is invalid for option "size"');const I=new Uint8Array(N);return Object.setPrototypeOf(I,b.prototype),I}function b(N,I,O){if(typeof N=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(N)}return L(N,I,O)}b.poolSize=8192;function L(N,I,O){if(typeof N=="string")return F(N,I);if(ArrayBuffer.isView(N))return A(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Tt(N,ArrayBuffer)||N&&Tt(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tt(N,SharedArrayBuffer)||N&&Tt(N.buffer,SharedArrayBuffer)))return M(N,I,O);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=N.valueOf&&N.valueOf();if($!=null&&$!==N)return b.from($,I,O);const Y=C(N);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return b.from(N[Symbol.toPrimitive]("string"),I,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}b.from=function(N,I,O){return L(N,I,O)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function v(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function S(N,I,O){return v(N),N<=0?o(N):I!==void 0?typeof O=="string"?o(N).fill(I,O):o(N).fill(I):o(N)}b.alloc=function(N,I,O){return S(N,I,O)};function x(N){return v(N),o(N<0?0:R(N)|0)}b.allocUnsafe=function(N){return x(N)},b.allocUnsafeSlow=function(N){return x(N)};function F(N,I){if((typeof I!="string"||I==="")&&(I="utf8"),!b.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const O=U(N,I)|0;let $=o(O);const Y=$.write(N,I);return Y!==O&&($=$.slice(0,Y)),$}function k(N){const I=N.length<0?0:R(N.length)|0,O=o(I);for(let $=0;$<I;$+=1)O[$]=N[$]&255;return O}function A(N){if(Tt(N,Uint8Array)){const I=new Uint8Array(N);return M(I.buffer,I.byteOffset,I.byteLength)}return k(N)}function M(N,I,O){if(I<0||N.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<I+(O||0))throw new RangeError('"length" is outside of buffer bounds');let $;return I===void 0&&O===void 0?$=new Uint8Array(N):O===void 0?$=new Uint8Array(N,I):$=new Uint8Array(N,I,O),Object.setPrototypeOf($,b.prototype),$}function C(N){if(b.isBuffer(N)){const I=R(N.length)|0,O=o(I);return O.length===0||N.copy(O,0,0,I),O}if(N.length!==void 0)return typeof N.length!="number"||nn(N.length)?o(0):k(N);if(N.type==="Buffer"&&Array.isArray(N.data))return k(N.data)}function R(N){if(N>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return N|0}function D(N){return+N!=N&&(N=0),b.alloc(+N)}b.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==b.prototype},b.compare=function(I,O){if(Tt(I,Uint8Array)&&(I=b.from(I,I.offset,I.byteLength)),Tt(O,Uint8Array)&&(O=b.from(O,O.offset,O.byteLength)),!b.isBuffer(I)||!b.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===O)return 0;let $=I.length,Y=O.length;for(let te=0,ie=Math.min($,Y);te<ie;++te)if(I[te]!==O[te]){$=I[te],Y=O[te];break}return $<Y?-1:Y<$?1:0},b.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(I,O){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return b.alloc(0);let $;if(O===void 0)for(O=0,$=0;$<I.length;++$)O+=I[$].length;const Y=b.allocUnsafe(O);let te=0;for($=0;$<I.length;++$){let ie=I[$];if(Tt(ie,Uint8Array))te+ie.length>Y.length?(b.isBuffer(ie)||(ie=b.from(ie)),ie.copy(Y,te)):Uint8Array.prototype.set.call(Y,ie,te);else if(b.isBuffer(ie))ie.copy(Y,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ie.length}return Y};function U(N,I){if(b.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Tt(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const O=N.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&O===0)return 0;let Y=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Mn(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Ft(N).length;default:if(Y)return $?-1:Mn(N).length;I=(""+I).toLowerCase(),Y=!0}}b.byteLength=U;function X(N,I,O){let $=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,I>>>=0,O<=I))return"";for(N||(N="utf8");;)switch(N){case"hex":return gt(this,I,O);case"utf8":case"utf-8":return xe(this,I,O);case"ascii":return Ae(this,I,O);case"latin1":case"binary":return Ze(this,I,O);case"base64":return ne(this,I,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wt(this,I,O);default:if($)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),$=!0}}b.prototype._isBuffer=!0;function j(N,I,O){const $=N[I];N[I]=N[O],N[O]=$}b.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<I;O+=2)j(this,O,O+1);return this},b.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<I;O+=4)j(this,O,O+3),j(this,O+1,O+2);return this},b.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<I;O+=8)j(this,O,O+7),j(this,O+1,O+6),j(this,O+2,O+5),j(this,O+3,O+4);return this},b.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?xe(this,0,I):X.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(I){if(!b.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:b.compare(this,I)===0},b.prototype.inspect=function(){let I="";const O=d.INSPECT_MAX_BYTES;return I=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(I+=" ... "),"<Buffer "+I+">"},y&&(b.prototype[y]=b.prototype.inspect),b.prototype.compare=function(I,O,$,Y,te){if(Tt(I,Uint8Array)&&(I=b.from(I,I.offset,I.byteLength)),!b.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(O===void 0&&(O=0),$===void 0&&($=I?I.length:0),Y===void 0&&(Y=0),te===void 0&&(te=this.length),O<0||$>I.length||Y<0||te>this.length)throw new RangeError("out of range index");if(Y>=te&&O>=$)return 0;if(Y>=te)return-1;if(O>=$)return 1;if(O>>>=0,$>>>=0,Y>>>=0,te>>>=0,this===I)return 0;let ie=te-Y,Me=$-O;const $e=Math.min(ie,Me),He=this.slice(Y,te),Xe=I.slice(O,$);for(let Ke=0;Ke<$e;++Ke)if(He[Ke]!==Xe[Ke]){ie=He[Ke],Me=Xe[Ke];break}return ie<Me?-1:Me<ie?1:0};function G(N,I,O,$,Y){if(N.length===0)return-1;if(typeof O=="string"?($=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,nn(O)&&(O=Y?0:N.length-1),O<0&&(O=N.length+O),O>=N.length){if(Y)return-1;O=N.length-1}else if(O<0)if(Y)O=0;else return-1;if(typeof I=="string"&&(I=b.from(I,$)),b.isBuffer(I))return I.length===0?-1:V(N,I,O,$,Y);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(N,I,O):Uint8Array.prototype.lastIndexOf.call(N,I,O):V(N,[I],O,$,Y);throw new TypeError("val must be string, number or Buffer")}function V(N,I,O,$,Y){let te=1,ie=N.length,Me=I.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(N.length<2||I.length<2)return-1;te=2,ie/=2,Me/=2,O/=2}function $e(Xe,Ke){return te===1?Xe[Ke]:Xe.readUInt16BE(Ke*te)}let He;if(Y){let Xe=-1;for(He=O;He<ie;He++)if($e(N,He)===$e(I,Xe===-1?0:He-Xe)){if(Xe===-1&&(Xe=He),He-Xe+1===Me)return Xe*te}else Xe!==-1&&(He-=He-Xe),Xe=-1}else for(O+Me>ie&&(O=ie-Me),He=O;He>=0;He--){let Xe=!0;for(let Ke=0;Ke<Me;Ke++)if($e(N,He+Ke)!==$e(I,Ke)){Xe=!1;break}if(Xe)return He}return-1}b.prototype.includes=function(I,O,$){return this.indexOf(I,O,$)!==-1},b.prototype.indexOf=function(I,O,$){return G(this,I,O,$,!0)},b.prototype.lastIndexOf=function(I,O,$){return G(this,I,O,$,!1)};function W(N,I,O,$){O=Number(O)||0;const Y=N.length-O;$?($=Number($),$>Y&&($=Y)):$=Y;const te=I.length;$>te/2&&($=te/2);let ie;for(ie=0;ie<$;++ie){const Me=parseInt(I.substr(ie*2,2),16);if(nn(Me))return ie;N[O+ie]=Me}return ie}function Z(N,I,O,$){return Yt(Mn(I,N.length-O),N,O,$)}function q(N,I,O,$){return Yt(ue(I),N,O,$)}function oe(N,I,O,$){return Yt(Ft(I),N,O,$)}function fe(N,I,O,$){return Yt(oi(I,N.length-O),N,O,$)}b.prototype.write=function(I,O,$,Y){if(O===void 0)Y="utf8",$=this.length,O=0;else if($===void 0&&typeof O=="string")Y=O,$=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite($)?($=$>>>0,Y===void 0&&(Y="utf8")):(Y=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-O;if(($===void 0||$>te)&&($=te),I.length>0&&($<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ie=!1;for(;;)switch(Y){case"hex":return W(this,I,O,$);case"utf8":case"utf-8":return Z(this,I,O,$);case"ascii":case"latin1":case"binary":return q(this,I,O,$);case"base64":return oe(this,I,O,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,I,O,$);default:if(ie)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ie=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(N,I,O){return I===0&&O===N.length?u.fromByteArray(N):u.fromByteArray(N.slice(I,O))}function xe(N,I,O){O=Math.min(N.length,O);const $=[];let Y=I;for(;Y<O;){const te=N[Y];let ie=null,Me=te>239?4:te>223?3:te>191?2:1;if(Y+Me<=O){let $e,He,Xe,Ke;switch(Me){case 1:te<128&&(ie=te);break;case 2:$e=N[Y+1],($e&192)===128&&(Ke=(te&31)<<6|$e&63,Ke>127&&(ie=Ke));break;case 3:$e=N[Y+1],He=N[Y+2],($e&192)===128&&(He&192)===128&&(Ke=(te&15)<<12|($e&63)<<6|He&63,Ke>2047&&(Ke<55296||Ke>57343)&&(ie=Ke));break;case 4:$e=N[Y+1],He=N[Y+2],Xe=N[Y+3],($e&192)===128&&(He&192)===128&&(Xe&192)===128&&(Ke=(te&15)<<18|($e&63)<<12|(He&63)<<6|Xe&63,Ke>65535&&Ke<1114112&&(ie=Ke))}}ie===null?(ie=65533,Me=1):ie>65535&&(ie-=65536,$.push(ie>>>10&1023|55296),ie=56320|ie&1023),$.push(ie),Y+=Me}return Se($)}const le=4096;function Se(N){const I=N.length;if(I<=le)return String.fromCharCode.apply(String,N);let O="",$=0;for(;$<I;)O+=String.fromCharCode.apply(String,N.slice($,$+=le));return O}function Ae(N,I,O){let $="";O=Math.min(N.length,O);for(let Y=I;Y<O;++Y)$+=String.fromCharCode(N[Y]&127);return $}function Ze(N,I,O){let $="";O=Math.min(N.length,O);for(let Y=I;Y<O;++Y)$+=String.fromCharCode(N[Y]);return $}function gt(N,I,O){const $=N.length;(!I||I<0)&&(I=0),(!O||O<0||O>$)&&(O=$);let Y="";for(let te=I;te<O;++te)Y+=sn[N[te]];return Y}function wt(N,I,O){const $=N.slice(I,O);let Y="";for(let te=0;te<$.length-1;te+=2)Y+=String.fromCharCode($[te]+$[te+1]*256);return Y}b.prototype.slice=function(I,O){const $=this.length;I=~~I,O=O===void 0?$:~~O,I<0?(I+=$,I<0&&(I=0)):I>$&&(I=$),O<0?(O+=$,O<0&&(O=0)):O>$&&(O=$),O<I&&(O=I);const Y=this.subarray(I,O);return Object.setPrototypeOf(Y,b.prototype),Y};function _e(N,I,O){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+I>O)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(I,O,$){I=I>>>0,O=O>>>0,$||_e(I,O,this.length);let Y=this[I],te=1,ie=0;for(;++ie<O&&(te*=256);)Y+=this[I+ie]*te;return Y},b.prototype.readUintBE=b.prototype.readUIntBE=function(I,O,$){I=I>>>0,O=O>>>0,$||_e(I,O,this.length);let Y=this[I+--O],te=1;for(;O>0&&(te*=256);)Y+=this[I+--O]*te;return Y},b.prototype.readUint8=b.prototype.readUInt8=function(I,O){return I=I>>>0,O||_e(I,1,this.length),this[I]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(I,O){return I=I>>>0,O||_e(I,2,this.length),this[I]|this[I+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(I,O){return I=I>>>0,O||_e(I,2,this.length),this[I]<<8|this[I+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},b.prototype.readBigUInt64LE=Zt(function(I){I=I>>>0,ln(I,"offset");const O=this[I],$=this[I+7];(O===void 0||$===void 0)&&Ot(I,this.length-8);const Y=O+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,te=this[++I]+this[++I]*2**8+this[++I]*2**16+$*2**24;return BigInt(Y)+(BigInt(te)<<BigInt(32))}),b.prototype.readBigUInt64BE=Zt(function(I){I=I>>>0,ln(I,"offset");const O=this[I],$=this[I+7];(O===void 0||$===void 0)&&Ot(I,this.length-8);const Y=O*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],te=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+$;return(BigInt(Y)<<BigInt(32))+BigInt(te)}),b.prototype.readIntLE=function(I,O,$){I=I>>>0,O=O>>>0,$||_e(I,O,this.length);let Y=this[I],te=1,ie=0;for(;++ie<O&&(te*=256);)Y+=this[I+ie]*te;return te*=128,Y>=te&&(Y-=Math.pow(2,8*O)),Y},b.prototype.readIntBE=function(I,O,$){I=I>>>0,O=O>>>0,$||_e(I,O,this.length);let Y=O,te=1,ie=this[I+--Y];for(;Y>0&&(te*=256);)ie+=this[I+--Y]*te;return te*=128,ie>=te&&(ie-=Math.pow(2,8*O)),ie},b.prototype.readInt8=function(I,O){return I=I>>>0,O||_e(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},b.prototype.readInt16LE=function(I,O){I=I>>>0,O||_e(I,2,this.length);const $=this[I]|this[I+1]<<8;return $&32768?$|4294901760:$},b.prototype.readInt16BE=function(I,O){I=I>>>0,O||_e(I,2,this.length);const $=this[I+1]|this[I]<<8;return $&32768?$|4294901760:$},b.prototype.readInt32LE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},b.prototype.readInt32BE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},b.prototype.readBigInt64LE=Zt(function(I){I=I>>>0,ln(I,"offset");const O=this[I],$=this[I+7];(O===void 0||$===void 0)&&Ot(I,this.length-8);const Y=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+($<<24);return(BigInt(Y)<<BigInt(32))+BigInt(O+this[++I]*256+this[++I]*65536+this[++I]*16777216)}),b.prototype.readBigInt64BE=Zt(function(I){I=I>>>0,ln(I,"offset");const O=this[I],$=this[I+7];(O===void 0||$===void 0)&&Ot(I,this.length-8);const Y=(O<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(Y)<<BigInt(32))+BigInt(this[++I]*16777216+this[++I]*65536+this[++I]*256+$)}),b.prototype.readFloatLE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),a.read(this,I,!0,23,4)},b.prototype.readFloatBE=function(I,O){return I=I>>>0,O||_e(I,4,this.length),a.read(this,I,!1,23,4)},b.prototype.readDoubleLE=function(I,O){return I=I>>>0,O||_e(I,8,this.length),a.read(this,I,!0,52,8)},b.prototype.readDoubleBE=function(I,O){return I=I>>>0,O||_e(I,8,this.length),a.read(this,I,!1,52,8)};function H(N,I,O,$,Y,te){if(!b.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>Y||I<te)throw new RangeError('"value" argument is out of bounds');if(O+$>N.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(I,O,$,Y){if(I=+I,O=O>>>0,$=$>>>0,!Y){const Me=Math.pow(2,8*$)-1;H(this,I,O,$,Me,0)}let te=1,ie=0;for(this[O]=I&255;++ie<$&&(te*=256);)this[O+ie]=I/te&255;return O+$},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(I,O,$,Y){if(I=+I,O=O>>>0,$=$>>>0,!Y){const Me=Math.pow(2,8*$)-1;H(this,I,O,$,Me,0)}let te=$-1,ie=1;for(this[O+te]=I&255;--te>=0&&(ie*=256);)this[O+te]=I/ie&255;return O+$},b.prototype.writeUint8=b.prototype.writeUInt8=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,1,255,0),this[O]=I&255,O+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,2,65535,0),this[O]=I&255,this[O+1]=I>>>8,O+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,2,65535,0),this[O]=I>>>8,this[O+1]=I&255,O+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,4,4294967295,0),this[O+3]=I>>>24,this[O+2]=I>>>16,this[O+1]=I>>>8,this[O]=I&255,O+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,4,4294967295,0),this[O]=I>>>24,this[O+1]=I>>>16,this[O+2]=I>>>8,this[O+3]=I&255,O+4};function z(N,I,O,$,Y){Ht(I,$,Y,N,O,7);let te=Number(I&BigInt(4294967295));N[O++]=te,te=te>>8,N[O++]=te,te=te>>8,N[O++]=te,te=te>>8,N[O++]=te;let ie=Number(I>>BigInt(32)&BigInt(4294967295));return N[O++]=ie,ie=ie>>8,N[O++]=ie,ie=ie>>8,N[O++]=ie,ie=ie>>8,N[O++]=ie,O}function P(N,I,O,$,Y){Ht(I,$,Y,N,O,7);let te=Number(I&BigInt(4294967295));N[O+7]=te,te=te>>8,N[O+6]=te,te=te>>8,N[O+5]=te,te=te>>8,N[O+4]=te;let ie=Number(I>>BigInt(32)&BigInt(4294967295));return N[O+3]=ie,ie=ie>>8,N[O+2]=ie,ie=ie>>8,N[O+1]=ie,ie=ie>>8,N[O]=ie,O+8}b.prototype.writeBigUInt64LE=Zt(function(I,O=0){return z(this,I,O,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Zt(function(I,O=0){return P(this,I,O,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(I,O,$,Y){if(I=+I,O=O>>>0,!Y){const $e=Math.pow(2,8*$-1);H(this,I,O,$,$e-1,-$e)}let te=0,ie=1,Me=0;for(this[O]=I&255;++te<$&&(ie*=256);)I<0&&Me===0&&this[O+te-1]!==0&&(Me=1),this[O+te]=(I/ie>>0)-Me&255;return O+$},b.prototype.writeIntBE=function(I,O,$,Y){if(I=+I,O=O>>>0,!Y){const $e=Math.pow(2,8*$-1);H(this,I,O,$,$e-1,-$e)}let te=$-1,ie=1,Me=0;for(this[O+te]=I&255;--te>=0&&(ie*=256);)I<0&&Me===0&&this[O+te+1]!==0&&(Me=1),this[O+te]=(I/ie>>0)-Me&255;return O+$},b.prototype.writeInt8=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,1,127,-128),I<0&&(I=255+I+1),this[O]=I&255,O+1},b.prototype.writeInt16LE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,2,32767,-32768),this[O]=I&255,this[O+1]=I>>>8,O+2},b.prototype.writeInt16BE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,2,32767,-32768),this[O]=I>>>8,this[O+1]=I&255,O+2},b.prototype.writeInt32LE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,4,2147483647,-2147483648),this[O]=I&255,this[O+1]=I>>>8,this[O+2]=I>>>16,this[O+3]=I>>>24,O+4},b.prototype.writeInt32BE=function(I,O,$){return I=+I,O=O>>>0,$||H(this,I,O,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[O]=I>>>24,this[O+1]=I>>>16,this[O+2]=I>>>8,this[O+3]=I&255,O+4},b.prototype.writeBigInt64LE=Zt(function(I,O=0){return z(this,I,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Zt(function(I,O=0){return P(this,I,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(N,I,O,$,Y,te){if(O+$>N.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function J(N,I,O,$,Y){return I=+I,O=O>>>0,Y||K(N,I,O,4),a.write(N,I,O,$,23,4),O+4}b.prototype.writeFloatLE=function(I,O,$){return J(this,I,O,!0,$)},b.prototype.writeFloatBE=function(I,O,$){return J(this,I,O,!1,$)};function re(N,I,O,$,Y){return I=+I,O=O>>>0,Y||K(N,I,O,8),a.write(N,I,O,$,52,8),O+8}b.prototype.writeDoubleLE=function(I,O,$){return re(this,I,O,!0,$)},b.prototype.writeDoubleBE=function(I,O,$){return re(this,I,O,!1,$)},b.prototype.copy=function(I,O,$,Y){if(!b.isBuffer(I))throw new TypeError("argument should be a Buffer");if($||($=0),!Y&&Y!==0&&(Y=this.length),O>=I.length&&(O=I.length),O||(O=0),Y>0&&Y<$&&(Y=$),Y===$||I.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),I.length-O<Y-$&&(Y=I.length-O+$);const te=Y-$;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,$,Y):Uint8Array.prototype.set.call(I,this.subarray($,Y),O),te},b.prototype.fill=function(I,O,$,Y){if(typeof I=="string"){if(typeof O=="string"?(Y=O,O=0,$=this.length):typeof $=="string"&&(Y=$,$=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!b.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(I.length===1){const ie=I.charCodeAt(0);(Y==="utf8"&&ie<128||Y==="latin1")&&(I=ie)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(O<0||this.length<O||this.length<$)throw new RangeError("Out of range index");if($<=O)return this;O=O>>>0,$=$===void 0?this.length:$>>>0,I||(I=0);let te;if(typeof I=="number")for(te=O;te<$;++te)this[te]=I;else{const ie=b.isBuffer(I)?I:b.from(I,Y),Me=ie.length;if(Me===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(te=0;te<$-O;++te)this[te+O]=ie[te%Me]}return this};const se={};function pe(N,I,O){se[N]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(N,I){return`The "${N}" argument must be of type number. Received type ${typeof I}`},TypeError),pe("ERR_OUT_OF_RANGE",function(N,I,O){let $=`The value of "${N}" is out of range.`,Y=O;return Number.isInteger(O)&&Math.abs(O)>4294967296?Y=Ee(String(O)):typeof O=="bigint"&&(Y=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(Y=Ee(Y)),Y+="n"),$+=` It must be ${I}. Received ${Y}`,$},RangeError);function Ee(N){let I="",O=N.length;const $=N[0]==="-"?1:0;for(;O>=$+4;O-=3)I=`_${N.slice(O-3,O)}${I}`;return`${N.slice(0,O)}${I}`}function We(N,I,O){ln(I,"offset"),(N[I]===void 0||N[I+O]===void 0)&&Ot(I,N.length-(O+1))}function Ht(N,I,O,$,Y,te){if(N>O||N<I){const ie=typeof I=="bigint"?"n":"";let Me;throw te>3?I===0||I===BigInt(0)?Me=`>= 0${ie} and < 2${ie} ** ${(te+1)*8}${ie}`:Me=`>= -(2${ie} ** ${(te+1)*8-1}${ie}) and < 2 ** ${(te+1)*8-1}${ie}`:Me=`>= ${I}${ie} and <= ${O}${ie}`,new se.ERR_OUT_OF_RANGE("value",Me,N)}We($,Y,te)}function ln(N,I){if(typeof N!="number")throw new se.ERR_INVALID_ARG_TYPE(I,"number",N)}function Ot(N,I,O){throw Math.floor(N)!==N?(ln(N,O),new se.ERR_OUT_OF_RANGE(O||"offset","an integer",N)):I<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(O||"offset",`>= ${O?1:0} and <= ${I}`,N)}const ai=/[^+/0-9A-Za-z-_]/g;function Pi(N){if(N=N.split("=")[0],N=N.trim().replace(ai,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function Mn(N,I){I=I||1/0;let O;const $=N.length;let Y=null;const te=[];for(let ie=0;ie<$;++ie){if(O=N.charCodeAt(ie),O>55295&&O<57344){if(!Y){if(O>56319){(I-=3)>-1&&te.push(239,191,189);continue}else if(ie+1===$){(I-=3)>-1&&te.push(239,191,189);continue}Y=O;continue}if(O<56320){(I-=3)>-1&&te.push(239,191,189),Y=O;continue}O=(Y-55296<<10|O-56320)+65536}else Y&&(I-=3)>-1&&te.push(239,191,189);if(Y=null,O<128){if((I-=1)<0)break;te.push(O)}else if(O<2048){if((I-=2)<0)break;te.push(O>>6|192,O&63|128)}else if(O<65536){if((I-=3)<0)break;te.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((I-=4)<0)break;te.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return te}function ue(N){const I=[];for(let O=0;O<N.length;++O)I.push(N.charCodeAt(O)&255);return I}function oi(N,I){let O,$,Y;const te=[];for(let ie=0;ie<N.length&&!((I-=2)<0);++ie)O=N.charCodeAt(ie),$=O>>8,Y=O%256,te.push(Y),te.push($);return te}function Ft(N){return u.toByteArray(Pi(N))}function Yt(N,I,O,$){let Y;for(Y=0;Y<$&&!(Y+O>=I.length||Y>=N.length);++Y)I[Y+O]=N[Y];return Y}function Tt(N,I){return N instanceof I||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===I.name}function nn(N){return N!==N}const sn=function(){const N="0123456789abcdef",I=new Array(256);for(let O=0;O<16;++O){const $=O*16;for(let Y=0;Y<16;++Y)I[$+Y]=N[O]+N[Y]}return I}();function Zt(N){return typeof BigInt>"u"?yn:N}function yn(){throw new Error("BigInt not supported")}},8769:(c,d,f)=>{var u,a=TypeError,y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var w=function(){throw new a},m=y?function(){try{return arguments.callee,w}catch{try{return y(arguments,"callee").get}catch{return w}}}():w,o=f(1405)(),b=Object.getPrototypeOf||function(U){return U.__proto__},L=u,v=u,S=u,x=typeof Uint8Array>"u"?u:b(Uint8Array),F={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?u:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":o?b([][Symbol.iterator]()):u,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":v,"%AsyncFunctionPrototype%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":S,"%AsyncGeneratorPrototype%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?u:DataView,"%DataViewPrototype%":typeof DataView>"u"?u:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?u:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?u:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":u,"%GeneratorFunction%":L,"%GeneratorPrototype%":u,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?u:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?u:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?u:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o?b(b([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%JSONParse%":typeof JSON=="object"?JSON.parse:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!o?u:b(new Map()[Symbol.iterator]()),"%MapPrototype%":typeof Map>"u"?u:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%PromisePrototype%":typeof Promise>"u"?u:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?u:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?u:Promise.all,"%Promise_reject%":typeof Promise>"u"?u:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?u:Promise.resolve,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!o?u:b(new Set()[Symbol.iterator]()),"%SetPrototype%":typeof Set>"u"?u:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":o?b(""[Symbol.iterator]()):u,"%StringPrototype%":String.prototype,"%Symbol%":o?Symbol:u,"%SymbolPrototype%":o?Symbol.prototype:u,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypedArrayPrototype%":x?x.prototype:u,"%TypeError%":a,"%TypeErrorPrototype%":a.prototype,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?u:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?u:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?u:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?u:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?u:WeakSet.prototype},k=f(8612),A=k.call(Function.call,String.prototype.replace),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,R=function(X){var j=[];return A(X,M,function(G,V,W,Z){j[j.length]=W?A(Z,C,"$1"):V||G}),j},D=function(X,j){if(!(X in F))throw new SyntaxError("intrinsic "+X+" does not exist!");if(typeof F[X]>"u"&&!j)throw new a("intrinsic "+X+" exists, but is not available. Please file an issue!");return F[X]};c.exports=function(X,j){if(typeof X!="string"||X.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof j!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var G=R(X),V=D("%"+(G.length>0?G[0]:"")+"%",j),W=1;W<G.length;W+=1)if(V!=null)if(y&&W+1>=G.length){var Z=y(V,G[W]);if(!j&&!(G[W]in V))throw new a("base intrinsic for "+X+" exists, but the property is not available.");V=Z&&"get"in Z&&!("originalValue"in Z.get)?Z.get:V[G[W]]}else V=V[G[W]];return V}},4147:(c,d,f)=>{var u=f(8612),a=f(8769),y=a("%Function.prototype.apply%"),w=a("%Function.prototype.call%"),m=a("%Reflect.apply%",!0)||u.call(w,y),o=a("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch{o=null}c.exports=function(){return m(u,w,arguments)};var b=function(){return m(u,y,arguments)};o?o(c.exports,"apply",{value:b}):c.exports.apply=b},8914:(c,d,f)=>{var u=f(8769),a=f(4147),y=a(u("String.prototype.indexOf"));c.exports=function(m,o){var b=u(m,!!o);return typeof b=="function"&&y(m,".prototype.")?a(b):b}},4079:(c,d,f)=>{var u=f(8769),a=u("%Object.getOwnPropertyDescriptor%");if(a)try{a([],"length")}catch{a=null}c.exports=a},6729:c=>{var d=Object.prototype.hasOwnProperty,f="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(f=!1));function a(o,b,L){this.fn=o,this.context=b,this.once=L||!1}function y(o,b,L,v,S){if(typeof L!="function")throw new TypeError("The listener must be a function");var x=new a(L,v||o,S),F=f?f+b:b;return o._events[F]?o._events[F].fn?o._events[F]=[o._events[F],x]:o._events[F].push(x):(o._events[F]=x,o._eventsCount++),o}function w(o,b){--o._eventsCount===0?o._events=new u:delete o._events[b]}function m(){this._events=new u,this._eventsCount=0}m.prototype.eventNames=function(){var b=[],L,v;if(this._eventsCount===0)return b;for(v in L=this._events)d.call(L,v)&&b.push(f?v.slice(1):v);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(L)):b},m.prototype.listeners=function(b){var L=f?f+b:b,v=this._events[L];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,x=v.length,F=new Array(x);S<x;S++)F[S]=v[S].fn;return F},m.prototype.listenerCount=function(b){var L=f?f+b:b,v=this._events[L];return v?v.fn?1:v.length:0},m.prototype.emit=function(b,L,v,S,x,F){var k=f?f+b:b;if(!this._events[k])return!1;var A=this._events[k],M=arguments.length,C,R;if(A.fn){switch(A.once&&this.removeListener(b,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,L),!0;case 3:return A.fn.call(A.context,L,v),!0;case 4:return A.fn.call(A.context,L,v,S),!0;case 5:return A.fn.call(A.context,L,v,S,x),!0;case 6:return A.fn.call(A.context,L,v,S,x,F),!0}for(R=1,C=new Array(M-1);R<M;R++)C[R-1]=arguments[R];A.fn.apply(A.context,C)}else{var D=A.length,U;for(R=0;R<D;R++)switch(A[R].once&&this.removeListener(b,A[R].fn,void 0,!0),M){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,L);break;case 3:A[R].fn.call(A[R].context,L,v);break;case 4:A[R].fn.call(A[R].context,L,v,S);break;default:if(!C)for(U=1,C=new Array(M-1);U<M;U++)C[U-1]=arguments[U];A[R].fn.apply(A[R].context,C)}}return!0},m.prototype.on=function(b,L,v){return y(this,b,L,v,!1)},m.prototype.once=function(b,L,v){return y(this,b,L,v,!0)},m.prototype.removeListener=function(b,L,v,S){var x=f?f+b:b;if(!this._events[x])return this;if(!L)return w(this,x),this;var F=this._events[x];if(F.fn)F.fn===L&&(!S||F.once)&&(!v||F.context===v)&&w(this,x);else{for(var k=0,A=[],M=F.length;k<M;k++)(F[k].fn!==L||S&&!F[k].once||v&&F[k].context!==v)&&A.push(F[k]);A.length?this._events[x]=A.length===1?A[0]:A:w(this,x)}return this},m.prototype.removeAllListeners=function(b){var L;return b?(L=f?f+b:b,this._events[L]&&w(this,L)):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=f,m.EventEmitter=m,c.exports=m},7187:c=>{var d=typeof Reflect=="object"?Reflect:null,f=d&&typeof d.apply=="function"?d.apply:function(D,U,X){return Function.prototype.apply.call(D,U,X)},u;d&&typeof d.ownKeys=="function"?u=d.ownKeys:Object.getOwnPropertySymbols?u=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:u=function(D){return Object.getOwnPropertyNames(D)};function a(R){console&&console.warn&&console.warn(R)}var y=Number.isNaN||function(D){return D!==D};function w(){w.init.call(this)}c.exports=w,c.exports.once=C,w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var m=10;function o(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(R){if(typeof R!="number"||R<0||y(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");m=R}}),w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||y(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function b(R){return R._maxListeners===void 0?w.defaultMaxListeners:R._maxListeners}w.prototype.getMaxListeners=function(){return b(this)},w.prototype.emit=function(D){for(var U=[],X=1;X<arguments.length;X++)U.push(arguments[X]);var j=D==="error",G=this._events;if(G!==void 0)j=j&&G.error===void 0;else if(!j)return!1;if(j){var V;if(U.length>0&&(V=U[0]),V instanceof Error)throw V;var W=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw W.context=V,W}var Z=G[D];if(Z===void 0)return!1;if(typeof Z=="function")f(Z,this,U);else for(var q=Z.length,oe=k(Z,q),X=0;X<q;++X)f(oe[X],this,U);return!0};function L(R,D,U,X){var j,G,V;if(o(U),G=R._events,G===void 0?(G=R._events=Object.create(null),R._eventsCount=0):(G.newListener!==void 0&&(R.emit("newListener",D,U.listener?U.listener:U),G=R._events),V=G[D]),V===void 0)V=G[D]=U,++R._eventsCount;else if(typeof V=="function"?V=G[D]=X?[U,V]:[V,U]:X?V.unshift(U):V.push(U),j=b(R),j>0&&V.length>j&&!V.warned){V.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+V.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=R,W.type=D,W.count=V.length,a(W)}return R}w.prototype.addListener=function(D,U){return L(this,D,U,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(D,U){return L(this,D,U,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(R,D,U){var X={fired:!1,wrapFn:void 0,target:R,type:D,listener:U},j=v.bind(X);return j.listener=U,X.wrapFn=j,j}w.prototype.once=function(D,U){return o(U),this.on(D,S(this,D,U)),this},w.prototype.prependOnceListener=function(D,U){return o(U),this.prependListener(D,S(this,D,U)),this},w.prototype.removeListener=function(D,U){var X,j,G,V,W;if(o(U),j=this._events,j===void 0)return this;if(X=j[D],X===void 0)return this;if(X===U||X.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete j[D],j.removeListener&&this.emit("removeListener",D,X.listener||U));else if(typeof X!="function"){for(G=-1,V=X.length-1;V>=0;V--)if(X[V]===U||X[V].listener===U){W=X[V].listener,G=V;break}if(G<0)return this;G===0?X.shift():A(X,G),X.length===1&&(j[D]=X[0]),j.removeListener!==void 0&&this.emit("removeListener",D,W||U)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(D){var U,X,j;if(X=this._events,X===void 0)return this;if(X.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):X[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete X[D]),this;if(arguments.length===0){var G=Object.keys(X),V;for(j=0;j<G.length;++j)V=G[j],V!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=X[D],typeof U=="function")this.removeListener(D,U);else if(U!==void 0)for(j=U.length-1;j>=0;j--)this.removeListener(D,U[j]);return this};function x(R,D,U){var X=R._events;if(X===void 0)return[];var j=X[D];return j===void 0?[]:typeof j=="function"?U?[j.listener||j]:[j]:U?M(j):k(j,j.length)}w.prototype.listeners=function(D){return x(this,D,!0)},w.prototype.rawListeners=function(D){return x(this,D,!1)},w.listenerCount=function(R,D){return typeof R.listenerCount=="function"?R.listenerCount(D):F.call(R,D)},w.prototype.listenerCount=F;function F(R){var D=this._events;if(D!==void 0){var U=D[R];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}w.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function k(R,D){for(var U=new Array(D),X=0;X<D;++X)U[X]=R[X];return U}function A(R,D){for(;D+1<R.length;D++)R[D]=R[D+1];R.pop()}function M(R){for(var D=new Array(R.length),U=0;U<D.length;++U)D[U]=R[U].listener||R[U];return D}function C(R,D){return new Promise(function(U,X){function j(){G!==void 0&&R.removeListener("error",G),U([].slice.call(arguments))}var G;D!=="error"&&(G=function(W){R.removeListener(D,j),X(W)},R.once("error",G)),R.once(D,j)})}},9804:c=>{var d=Object.prototype.hasOwnProperty,f=Object.prototype.toString;c.exports=function(a,y,w){if(f.call(y)!=="[object Function]")throw new TypeError("iterator must be a function");var m=a.length;if(m===+m)for(var o=0;o<m;o++)y.call(w,a[o],o,a);else for(var b in a)d.call(a,b)&&y.call(w,a[b],b,a)}},7648:c=>{var d="Function.prototype.bind called on incompatible ",f=Array.prototype.slice,u=Object.prototype.toString,a="[object Function]";c.exports=function(w){var m=this;if(typeof m!="function"||u.call(m)!==a)throw new TypeError(d+m);for(var o=f.call(arguments,1),b,L=function(){if(this instanceof b){var k=m.apply(this,o.concat(f.call(arguments)));return Object(k)===k?k:this}else return m.apply(w,o.concat(f.call(arguments)))},v=Math.max(0,m.length-o.length),S=[],x=0;x<v;x++)S.push("$"+x);if(b=Function("binder","return function ("+S.join(",")+"){ return binder.apply(this,arguments); }")(L),m.prototype){var F=function(){};F.prototype=m.prototype,b.prototype=new F,F.prototype=null}return b}},8612:(c,d,f)=>{var u=f(7648);c.exports=Function.prototype.bind||u},1405:(c,d,f)=>{var u=f.g.Symbol,a=f(5419);c.exports=function(){return typeof u!="function"||typeof Symbol!="function"||typeof u("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()}},5419:c=>{c.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},u=Symbol("test"),a=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var y=42;f[u]=y;for(u in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var w=Object.getOwnPropertySymbols(f);if(w.length!==1||w[0]!==u||!Object.prototype.propertyIsEnumerable.call(f,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(f,u);if(m.value!==y||m.enumerable!==!0)return!1}return!0}},645:(c,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(f,u,a,y,w){var m,o,b=w*8-y-1,L=(1<<b)-1,v=L>>1,S=-7,x=a?w-1:0,F=a?-1:1,k=f[u+x];for(x+=F,m=k&(1<<-S)-1,k>>=-S,S+=b;S>0;m=m*256+f[u+x],x+=F,S-=8);for(o=m&(1<<-S)-1,m>>=-S,S+=y;S>0;o=o*256+f[u+x],x+=F,S-=8);if(m===0)m=1-v;else{if(m===L)return o?NaN:(k?-1:1)*(1/0);o=o+Math.pow(2,y),m=m-v}return(k?-1:1)*o*Math.pow(2,m-y)},d.write=function(f,u,a,y,w,m){var o,b,L,v=m*8-w-1,S=(1<<v)-1,x=S>>1,F=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=y?0:m-1,A=y?1:-1,M=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(b=isNaN(u)?1:0,o=S):(o=Math.floor(Math.log(u)/Math.LN2),u*(L=Math.pow(2,-o))<1&&(o--,L*=2),o+x>=1?u+=F/L:u+=F*Math.pow(2,1-x),u*L>=2&&(o++,L/=2),o+x>=S?(b=0,o=S):o+x>=1?(b=(u*L-1)*Math.pow(2,w),o=o+x):(b=u*Math.pow(2,x-1)*Math.pow(2,w),o=0));w>=8;f[a+k]=b&255,k+=A,b/=256,w-=8);for(o=o<<w|b,v+=w;v>0;f[a+k]=o&255,k+=A,o/=256,v-=8);f[a+k-A]|=M*128}},5717:c=>{typeof Object.create=="function"?c.exports=function(f,u){u&&(f.super_=u,f.prototype=Object.create(u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(f,u){if(u){f.super_=u;var a=function(){};a.prototype=u.prototype,f.prototype=new a,f.prototype.constructor=f}}},2584:c=>{var d=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",f=Object.prototype.toString,u=function(m){return d&&m&&typeof m=="object"&&Symbol.toStringTag in m?!1:f.call(m)==="[object Arguments]"},a=function(m){return u(m)?!0:m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&f.call(m)!=="[object Array]"&&f.call(m.callee)==="[object Function]"},y=function(){return u(arguments)}();u.isLegacyArguments=a,c.exports=y?u:a},8662:c=>{var d=Object.prototype.toString,f=Function.prototype.toString,u=/^\s*(?:function)?\*/,a=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",y=Object.getPrototypeOf,w=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}},m=w(),o=m?y(m):{};c.exports=function(L){if(typeof L!="function")return!1;if(u.test(f.call(L)))return!0;if(!a){var v=d.call(L);return v==="[object GeneratorFunction]"}return y(L)===o}},5692:(c,d,f)=>{var u=f(9804),a=f(6314),y=f(8914),w=y("Object.prototype.toString"),m=f(1405)(),o=m&&typeof Symbol.toStringTag=="symbol",b=a(),L=y("Array.prototype.indexOf",!0)||function(M,C){for(var R=0;R<M.length;R+=1)if(M[R]===C)return R;return-1},v=y("String.prototype.slice"),S={},x=f(4079),F=Object.getPrototypeOf;o&&x&&F&&u(b,function(A){var M=new f.g[A];if(!(Symbol.toStringTag in M))throw new EvalError("this engine has support for Symbol.toStringTag, but "+A+" does not have the property! Please report this.");var C=F(M),R=x(C,Symbol.toStringTag);if(!R){var D=F(C);R=x(D,Symbol.toStringTag)}S[A]=R.get});var k=function(M){var C=!1;return u(S,function(R,D){if(!C)try{C=R.call(M)===D}catch{}}),C};c.exports=function(M){if(!M||typeof M!="object")return!1;if(!o){var C=v(w(M),8,-1);return L(b,C)>-1}return x?k(M):!1}},6792:(c,d,f)=>{var u=null;typeof WebSocket<"u"?u=WebSocket:typeof MozWebSocket<"u"?u=MozWebSocket:typeof f.g<"u"?u=f.g.WebSocket||f.g.MozWebSocket:typeof window<"u"?u=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(u=self.WebSocket||self.MozWebSocket),c.exports=u},135:(c,d,f)=>{for(var u=f(8764).Buffer,a=4294967296,y=[],w=0;w<256;w++)y[w]=(w>15?"":"0")+w.toString(16);var m=c.exports=function(o,b){o instanceof u?(this.buffer=o,this.offset=b||0):Object.prototype.toString.call(o)=="[object Uint8Array]"?(this.buffer=new u(o),this.offset=b||0):(this.buffer=this.buffer||new u(8),this.offset=0,this.setValue.apply(this,arguments))};m.MAX_INT=Math.pow(2,53),m.MIN_INT=-Math.pow(2,53),m.prototype={constructor:m,_2scomp:function(){for(var o=this.buffer,b=this.offset,L=1,v=b+7;v>=b;v--){var S=(o[v]^255)+L;o[v]=S&255,L=S>>8}},setValue:function(o,b){var L=!1;if(arguments.length==1)if(typeof o=="number"){if(L=o<0,o=Math.abs(o),b=o%a,o=o/a,o>a)throw new RangeError(o+" is outside Int64 range");o=o|0}else if(typeof o=="string")o=(o+"").replace(/^0x/,""),b=o.substr(-8),o=o.length>8?o.substr(0,o.length-8):"",o=parseInt(o,16),b=parseInt(b,16);else throw new Error(o+" must be a Number or String");for(var v=this.buffer,S=this.offset,x=7;x>=0;x--)v[S+x]=b&255,b=x==4?o:b>>>8;L&&this._2scomp()},toNumber:function(o){for(var b=this.buffer,L=this.offset,v=b[L]&128,S=0,x=1,F=7,k=1;F>=0;F--,k*=256){var A=b[L+F];v&&(A=(A^255)+x,x=A>>8,A=A&255),S+=A*k}return!o&&S>=m.MAX_INT?v?-1/0:1/0:v?-S:S},valueOf:function(){return this.toNumber(!1)},toString:function(o){return this.valueOf().toString(o||10)},toOctetString:function(o){for(var b=new Array(8),L=this.buffer,v=this.offset,S=0;S<8;S++)b[S]=y[L[v+S]];return b.join(o||"")},toBuffer:function(o){if(o&&this.offset===0)return this.buffer;var b=new u(8);return this.buffer.copy(b,0,this.offset,this.offset+8),b},copy:function(o,b){this.buffer.copy(o,b||0,this.offset,this.offset+8)},compare:function(o){if((this.buffer[this.offset]&128)!=(o.buffer[o.offset]&128))return o.buffer[o.offset]-this.buffer[this.offset];for(var b=0;b<8;b++)if(this.buffer[this.offset+b]!==o.buffer[o.offset+b])return this.buffer[this.offset+b]-o.buffer[o.offset+b];return 0},equals:function(o){return this.compare(o)===0},inspect:function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"}}},8486:c=>{/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(d){typeof bootstrap=="function"?bootstrap("promise",d):c.exports=d()})(function(){var d=!1;try{throw new Error}catch(N){d=!!N.stack}var f=W(),u,a=function(){},y=function(){var N={task:void 0,next:null},I=N,O=!1,$=void 0,Y=!1,te=[];function ie(){for(var Xe,Ke;N.next;)N=N.next,Xe=N.task,N.task=void 0,Ke=N.domain,Ke&&(N.domain=void 0,Ke.enter()),Me(Xe,Ke);for(;te.length;)Xe=te.pop(),Me(Xe);O=!1}function Me(Xe,Ke){try{Xe()}catch(rl){if(Y)throw Ke&&Ke.exit(),setTimeout(ie,0),Ke&&Ke.enter(),rl;setTimeout(function(){throw rl},0)}Ke&&Ke.exit()}if(y=function(Xe){I=I.next={task:Xe,domain:Y&&process.domain,next:null},O||(O=!0,$())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)Y=!0,$=function(){process.nextTick(ie)};else if(typeof setImmediate=="function")typeof window<"u"?$=setImmediate.bind(window,ie):$=function(){setImmediate(ie)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel;$e.port1.onmessage=function(){$=He,$e.port1.onmessage=ie,ie()};var He=function(){$e.port2.postMessage(0)};$=function(){setTimeout(ie,0),He()}}else $=function(){setTimeout(ie,0)};return y.runAfter=function(Xe){te.push(Xe),O||(O=!0,$())},y}(),w=Function.call;function m(N){return function(){return w.apply(N,arguments)}}var o=m(Array.prototype.slice),b=m(Array.prototype.reduce||function(N,I){var O=0,$=this.length;if(arguments.length===1)do{if(O in this){I=this[O++];break}if(++O>=$)throw new TypeError}while(1);for(;O<$;O++)O in this&&(I=N(I,this[O],O));return I}),L=m(Array.prototype.indexOf||function(N){for(var I=0;I<this.length;I++)if(this[I]===N)return I;return-1}),v=m(Array.prototype.map||function(N,I){var O=this,$=[];return b(O,function(Y,te,ie){$.push(N.call(I,te,ie,O))},void 0),$}),S=Object.create||function(N){function I(){}return I.prototype=N,new I},x=Object.defineProperty||function(N,I,O){return N[I]=O.value,N},F=m(Object.prototype.hasOwnProperty),k=Object.keys||function(N){var I=[];for(var O in N)F(N,O)&&I.push(O);return I},A=m(Object.prototype.toString);function M(N){return N===Object(N)}function C(N){return A(N)==="[object StopIteration]"||N instanceof R}var R;typeof ReturnValue<"u"?R=ReturnValue:R=function(N){this.value=N};var D="From previous event:";function U(N,I){if(d&&I.stack&&typeof N=="object"&&N!==null&&N.stack){for(var O=[],$=I;$;$=$.source)$.stack&&(!N.__minimumStackCounter__||N.__minimumStackCounter__>$.stackCounter)&&(x(N,"__minimumStackCounter__",{value:$.stackCounter,configurable:!0}),O.unshift($.stack));O.unshift(N.stack);var Y=O.join(`
`+D+`
`),te=X(Y);x(N,"stack",{value:te,configurable:!0})}}function X(N){for(var I=N.split(`
`),O=[],$=0;$<I.length;++$){var Y=I[$];!V(Y)&&!j(Y)&&Y&&O.push(Y)}return O.join(`
`)}function j(N){return N.indexOf("(module.js:")!==-1||N.indexOf("(node.js:")!==-1}function G(N){var I=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(N);if(I)return[I[1],Number(I[2])];var O=/at ([^ ]+):(\d+):(?:\d+)$/.exec(N);if(O)return[O[1],Number(O[2])];var $=/.*@(.+):(\d+)$/.exec(N);if($)return[$[1],Number($[2])]}function V(N){var I=G(N);if(!I)return!1;var O=I[0],$=I[1];return O===u&&$>=f&&$<=yn}function W(){if(d)try{throw new Error}catch($){var N=$.stack.split(`
`),I=N[0].indexOf("@")>0?N[1]:N[2],O=G(I);return O?(u=O[0],O[1]):void 0}}function Z(N,I,O){return function(){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(I+" is deprecated, use "+O+" instead.",new Error("").stack),N.apply(N,arguments)}}function q(N){return N instanceof le?N:gt(N)?Ht(N):We(N)}q.resolve=q,q.nextTick=y,q.longStackSupport=!1;var oe=1;typeof process=="object"&&process&&{BROWSER:!0}&&{BROWSER:!0}.Q_DEBUG&&(q.longStackSupport=!0),q.defer=fe;function fe(){var N=[],I=[],O,$=S(fe.prototype),Y=S(le.prototype);if(Y.promiseDispatch=function(ie,Me,$e){var He=o(arguments);N?(N.push(He),Me==="when"&&$e[1]&&I.push($e[1])):q.nextTick(function(){O.promiseDispatch.apply(O,He)})},Y.valueOf=function(){if(N)return Y;var ie=Ae(O);return Ze(ie)&&(O=ie),ie},Y.inspect=function(){return O?O.inspect():{state:"pending"}},q.longStackSupport&&d)try{throw new Error}catch(ie){Y.stack=ie.stack.substring(ie.stack.indexOf(`
`)+1),Y.stackCounter=oe++}function te(ie){O=ie,q.longStackSupport&&d&&(Y.source=ie),b(N,function(Me,$e){q.nextTick(function(){ie.promiseDispatch.apply(ie,$e)})},void 0),N=void 0,I=void 0}return $.promise=Y,$.resolve=function(ie){O||te(q(ie))},$.fulfill=function(ie){O||te(We(ie))},$.reject=function(ie){O||te(Ee(ie))},$.notify=function(ie){O||b(I,function(Me,$e){q.nextTick(function(){$e(ie)})},void 0)},$}fe.prototype.makeNodeResolver=function(){var N=this;return function(I,O){I?N.reject(I):arguments.length>2?N.resolve(o(arguments,1)):N.resolve(O)}},q.Promise=ne,q.promise=ne;function ne(N){if(typeof N!="function")throw new TypeError("resolver must be a function.");var I=fe();try{N(I.resolve,I.reject,I.notify)}catch(O){I.reject(O)}return I.promise}ne.race=xe,ne.all=Ft,ne.reject=Ee,ne.resolve=q,q.passByCopy=function(N){return N},le.prototype.passByCopy=function(){return this},q.join=function(N,I){return q(N).join(I)},le.prototype.join=function(N){return q([this,N]).spread(function(I,O){if(I===O)return I;throw new Error("Q can't join: not the same: "+I+" "+O)})},q.race=xe;function xe(N){return ne(function(I,O){for(var $=0,Y=N.length;$<Y;$++)q(N[$]).then(I,O)})}le.prototype.race=function(){return this.then(q.race)},q.makePromise=le;function le(N,I,O){I===void 0&&(I=function(te){return Ee(new Error("Promise does not support operation: "+te))}),O===void 0&&(O=function(){return{state:"unknown"}});var $=S(le.prototype);if($.promiseDispatch=function(te,ie,Me){var $e;try{N[ie]?$e=N[ie].apply($,Me):$e=I.call($,ie,Me)}catch(He){$e=Ee(He)}te&&te($e)},$.inspect=O,O){var Y=O();Y.state==="rejected"&&($.exception=Y.reason),$.valueOf=function(){var te=O();return te.state==="pending"||te.state==="rejected"?$:te.value}}return $}le.prototype.toString=function(){return"[object Promise]"},le.prototype.then=function(N,I,O){var $=this,Y=fe(),te=!1;function ie(He){try{return typeof N=="function"?N(He):He}catch(Xe){return Ee(Xe)}}function Me(He){if(typeof I=="function"){U(He,$);try{return I(He)}catch(Xe){return Ee(Xe)}}return Ee(He)}function $e(He){return typeof O=="function"?O(He):He}return q.nextTick(function(){$.promiseDispatch(function(He){te||(te=!0,Y.resolve(ie(He)))},"when",[function(He){te||(te=!0,Y.resolve(Me(He)))}])}),$.promiseDispatch(void 0,"when",[void 0,function(He){var Xe,Ke=!1;try{Xe=$e(He)}catch(rl){if(Ke=!0,q.onerror)q.onerror(rl);else throw rl}Ke||Y.notify(Xe)}]),Y.promise},q.tap=function(N,I){return q(N).tap(I)},le.prototype.tap=function(N){return N=q(N),this.then(function(I){return N.fcall(I).thenResolve(I)})},q.when=Se;function Se(N,I,O,$){return q(N).then(I,O,$)}le.prototype.thenResolve=function(N){return this.then(function(){return N})},q.thenResolve=function(N,I){return q(N).thenResolve(I)},le.prototype.thenReject=function(N){return this.then(function(){throw N})},q.thenReject=function(N,I){return q(N).thenReject(I)},q.nearer=Ae;function Ae(N){if(Ze(N)){var I=N.inspect();if(I.state==="fulfilled")return I.value}return N}q.isPromise=Ze;function Ze(N){return N instanceof le}q.isPromiseAlike=gt;function gt(N){return M(N)&&typeof N.then=="function"}q.isPending=wt;function wt(N){return Ze(N)&&N.inspect().state==="pending"}le.prototype.isPending=function(){return this.inspect().state==="pending"},q.isFulfilled=_e;function _e(N){return!Ze(N)||N.inspect().state==="fulfilled"}le.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},q.isRejected=H;function H(N){return Ze(N)&&N.inspect().state==="rejected"}le.prototype.isRejected=function(){return this.inspect().state==="rejected"};var z=[],P=[],K=[],J=!0;function re(){z.length=0,P.length=0,J||(J=!0)}function se(N,I){J&&(typeof process=="object"&&typeof process.emit=="function"&&q.nextTick.runAfter(function(){L(P,N)!==-1&&(process.emit("unhandledRejection",I,N),K.push(N))}),P.push(N),I&&typeof I.stack<"u"?z.push(I.stack):z.push("(no stack) "+I))}function pe(N){if(J){var I=L(P,N);I!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&q.nextTick.runAfter(function(){var O=L(K,N);O!==-1&&(process.emit("rejectionHandled",z[I],N),K.splice(O,1))}),P.splice(I,1),z.splice(I,1))}}q.resetUnhandledRejections=re,q.getUnhandledReasons=function(){return z.slice()},q.stopUnhandledRejectionTracking=function(){re(),J=!1},re(),q.reject=Ee;function Ee(N){var I=le({when:function(O){return O&&pe(this),O?O(N):this}},function(){return this},function(){return{state:"rejected",reason:N}});return se(I,N),I}q.fulfill=We;function We(N){return le({when:function(){return N},get:function(I){return N[I]},set:function(I,O){N[I]=O},delete:function(I){delete N[I]},post:function(I,O){return I==null?N.apply(void 0,O):N[I].apply(N,O)},apply:function(I,O){return N.apply(I,O)},keys:function(){return k(N)}},void 0,function(){return{state:"fulfilled",value:N}})}function Ht(N){var I=fe();return q.nextTick(function(){try{N.then(I.resolve,I.reject,I.notify)}catch(O){I.reject(O)}}),I.promise}q.master=ln;function ln(N){return le({isDef:function(){}},function(O,$){return oi(N,O,$)},function(){return q(N).inspect()})}q.spread=Ot;function Ot(N,I,O){return q(N).spread(I,O)}le.prototype.spread=function(N,I){return this.all().then(function(O){return N.apply(void 0,O)},I)},q.async=ai;function ai(N){return function(){function I(te,ie){var Me;if(typeof StopIteration>"u"){try{Me=O[te](ie)}catch($e){return Ee($e)}return Me.done?q(Me.value):Se(Me.value,$,Y)}else{try{Me=O[te](ie)}catch($e){return C($e)?q($e.value):Ee($e)}return Se(Me,$,Y)}}var O=N.apply(this,arguments),$=I.bind(I,"next"),Y=I.bind(I,"throw");return $()}}q.spawn=Pi;function Pi(N){q.done(q.async(N)())}q.return=Mn;function Mn(N){throw new R(N)}q.promised=ue;function ue(N){return function(){return Ot([this,Ft(arguments)],function(I,O){return N.apply(I,O)})}}q.dispatch=oi;function oi(N,I,O){return q(N).dispatch(I,O)}le.prototype.dispatch=function(N,I){var O=this,$=fe();return q.nextTick(function(){O.promiseDispatch($.resolve,N,I)}),$.promise},q.get=function(N,I){return q(N).dispatch("get",[I])},le.prototype.get=function(N){return this.dispatch("get",[N])},q.set=function(N,I,O){return q(N).dispatch("set",[I,O])},le.prototype.set=function(N,I){return this.dispatch("set",[N,I])},q.del=q.delete=function(N,I){return q(N).dispatch("delete",[I])},le.prototype.del=le.prototype.delete=function(N){return this.dispatch("delete",[N])},q.mapply=q.post=function(N,I,O){return q(N).dispatch("post",[I,O])},le.prototype.mapply=le.prototype.post=function(N,I){return this.dispatch("post",[N,I])},q.send=q.mcall=q.invoke=function(N,I){return q(N).dispatch("post",[I,o(arguments,2)])},le.prototype.send=le.prototype.mcall=le.prototype.invoke=function(N){return this.dispatch("post",[N,o(arguments,1)])},q.fapply=function(N,I){return q(N).dispatch("apply",[void 0,I])},le.prototype.fapply=function(N){return this.dispatch("apply",[void 0,N])},q.try=q.fcall=function(N){return q(N).dispatch("apply",[void 0,o(arguments,1)])},le.prototype.fcall=function(){return this.dispatch("apply",[void 0,o(arguments)])},q.fbind=function(N){var I=q(N),O=o(arguments,1);return function(){return I.dispatch("apply",[this,O.concat(o(arguments))])}},le.prototype.fbind=function(){var N=this,I=o(arguments);return function(){return N.dispatch("apply",[this,I.concat(o(arguments))])}},q.keys=function(N){return q(N).dispatch("keys",[])},le.prototype.keys=function(){return this.dispatch("keys",[])},q.all=Ft;function Ft(N){return Se(N,function(I){var O=0,$=fe();return b(I,function(Y,te,ie){var Me;Ze(te)&&(Me=te.inspect()).state==="fulfilled"?I[ie]=Me.value:(++O,Se(te,function($e){I[ie]=$e,--O===0&&$.resolve(I)},$.reject,function($e){$.notify({index:ie,value:$e})}))},void 0),O===0&&$.resolve(I),$.promise})}le.prototype.all=function(){return Ft(this)},q.any=Yt;function Yt(N){if(N.length===0)return q.resolve();var I=q.defer(),O=0;return b(N,function($,Y,te){var ie=N[te];O++,Se(ie,Me,$e,He);function Me(Xe){I.resolve(Xe)}function $e(Xe){if(O--,O===0){var Ke=Xe||new Error(""+Xe);Ke.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+Ke.message,I.reject(Ke)}}function He(Xe){I.notify({index:te,value:Xe})}},void 0),I.promise}le.prototype.any=function(){return Yt(this)},q.allResolved=Z(Tt,"allResolved","allSettled");function Tt(N){return Se(N,function(I){return I=v(I,q),Se(Ft(v(I,function(O){return Se(O,a,a)})),function(){return I})})}le.prototype.allResolved=function(){return Tt(this)},q.allSettled=nn;function nn(N){return q(N).allSettled()}le.prototype.allSettled=function(){return this.then(function(N){return Ft(v(N,function(I){I=q(I);function O(){return I.inspect()}return I.then(O,O)}))})},q.fail=q.catch=function(N,I){return q(N).then(void 0,I)},le.prototype.fail=le.prototype.catch=function(N){return this.then(void 0,N)},q.progress=sn;function sn(N,I){return q(N).then(void 0,void 0,I)}le.prototype.progress=function(N){return this.then(void 0,void 0,N)},q.fin=q.finally=function(N,I){return q(N).finally(I)},le.prototype.fin=le.prototype.finally=function(N){if(!N||typeof N.apply!="function")throw new Error("Q can't apply finally callback");return N=q(N),this.then(function(I){return N.fcall().then(function(){return I})},function(I){return N.fcall().then(function(){throw I})})},q.done=function(N,I,O,$){return q(N).done(I,O,$)},le.prototype.done=function(N,I,O){var $=function(te){q.nextTick(function(){if(U(te,Y),q.onerror)q.onerror(te);else throw te})},Y=N||I||O?this.then(N,I,O):this;typeof process=="object"&&process&&process.domain&&($=process.domain.bind($)),Y.then(void 0,$)},q.timeout=function(N,I,O){return q(N).timeout(I,O)},le.prototype.timeout=function(N,I){var O=fe(),$=setTimeout(function(){(!I||typeof I=="string")&&(I=new Error(I||"Timed out after "+N+" ms"),I.code="ETIMEDOUT"),O.reject(I)},N);return this.then(function(Y){clearTimeout($),O.resolve(Y)},function(Y){clearTimeout($),O.reject(Y)},O.notify),O.promise},q.delay=function(N,I){return I===void 0&&(I=N,N=void 0),q(N).delay(I)},le.prototype.delay=function(N){return this.then(function(I){var O=fe();return setTimeout(function(){O.resolve(I)},N),O.promise})},q.nfapply=function(N,I){return q(N).nfapply(I)},le.prototype.nfapply=function(N){var I=fe(),O=o(N);return O.push(I.makeNodeResolver()),this.fapply(O).fail(I.reject),I.promise},q.nfcall=function(N){var I=o(arguments,1);return q(N).nfapply(I)},le.prototype.nfcall=function(){var N=o(arguments),I=fe();return N.push(I.makeNodeResolver()),this.fapply(N).fail(I.reject),I.promise},q.nfbind=q.denodeify=function(N){if(N===void 0)throw new Error("Q can't wrap an undefined function");var I=o(arguments,1);return function(){var O=I.concat(o(arguments)),$=fe();return O.push($.makeNodeResolver()),q(N).fapply(O).fail($.reject),$.promise}},le.prototype.nfbind=le.prototype.denodeify=function(){var N=o(arguments);return N.unshift(this),q.denodeify.apply(void 0,N)},q.nbind=function(N,I){var O=o(arguments,2);return function(){var $=O.concat(o(arguments)),Y=fe();$.push(Y.makeNodeResolver());function te(){return N.apply(I,arguments)}return q(te).fapply($).fail(Y.reject),Y.promise}},le.prototype.nbind=function(){var N=o(arguments,0);return N.unshift(this),q.nbind.apply(void 0,N)},q.nmapply=q.npost=function(N,I,O){return q(N).npost(I,O)},le.prototype.nmapply=le.prototype.npost=function(N,I){var O=o(I||[]),$=fe();return O.push($.makeNodeResolver()),this.dispatch("post",[N,O]).fail($.reject),$.promise},q.nsend=q.nmcall=q.ninvoke=function(N,I){var O=o(arguments,2),$=fe();return O.push($.makeNodeResolver()),q(N).dispatch("post",[I,O]).fail($.reject),$.promise},le.prototype.nsend=le.prototype.nmcall=le.prototype.ninvoke=function(N){var I=o(arguments,1),O=fe();return I.push(O.makeNodeResolver()),this.dispatch("post",[N,I]).fail(O.reject),O.promise},q.nodeify=Zt;function Zt(N,I){return q(N).nodeify(I)}le.prototype.nodeify=function(N){if(N)this.then(function(I){q.nextTick(function(){N(null,I)})},function(I){q.nextTick(function(){N(I)})});else return this},q.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var yn=W();return q})},7533:(c,d)=>{var f=Math.pow(2,8),u=Math.pow(2,16),a=Math.pow(2,24),y=Math.pow(2,32),w=Math.pow(2,40),m=Math.pow(2,48),o=Math.pow(2,52),b=Math.pow(2,1022);d.readByte=function(L){return L>127?L-256:L},d.readI16=function(L,v){v=v||0;var S=L[v+1];return S+=L[v]<<8,L[v]&128&&(S-=u),S},d.readI32=function(L,v){v=v||0;var S=L[v+3];return S+=L[v+2]<<8,S+=L[v+1]<<16,S+=L[v]*a,L[v]&128&&(S-=y),S},d.writeI16=function(L,v){return L[1]=v&255,v>>=8,L[0]=v&255,L},d.writeI32=function(L,v){return L[3]=v&255,v>>=8,L[2]=v&255,v>>=8,L[1]=v&255,v>>=8,L[0]=v&255,L},d.readDouble=function(L,v){v=v||0;var S=L[v]&128,x=(L[v+1]&240)>>4;x+=(L[v]&127)<<4;var F=L[v+7];switch(F+=L[v+6]<<8,F+=L[v+5]<<16,F+=L[v+4]*a,F+=L[v+3]*y,F+=L[v+2]*w,F+=(L[v+1]&15)*m,x){case 0:x=-1022;break;case 2047:return F?NaN:S?-1/0:1/0;default:F+=o,x-=1023}return S&&(F*=-1),F*Math.pow(2,x-52)},d.writeDouble=function(L,v){var S,x,F;return L[0]=v<0?128:0,v=Math.abs(v),v!==v?(S=0x8000000000000,x=2047):v===1/0?(S=0,x=2047):(x=Math.floor(Math.log(v)/Math.LN2),F=Math.pow(2,-x),v*F<1&&(x--,F*=2),x+1023>=2047?(S=0,x=2047):x+1023>=1?(S=(v*F-1)*o,x+=1023):(S=v*b*o,x=0)),L[1]=x<<4&240,L[0]|=x>>4&127,L[7]=S&255,S=Math.floor(S/f),L[6]=S&255,S=Math.floor(S/f),L[5]=S&255,S=Math.floor(S/f),L[4]=S&255,S>>=8,L[3]=S&255,S>>=8,L[2]=S&255,S>>=8,L[1]|=S&15,L}},4711:(c,d,f)=>{var u=f(8764).Buffer,a=f(1291),y=f(7533),w=f(135),m=f(5406),o=m.Type;c.exports=S;var b=-65536,L=-2147418112,v=255;S.VERSION_MASK=b,S.VERSION_1=L,S.TYPE_MASK=v;function S(x,F,k){this.trans=x,this.strictRead=F!==void 0?F:!1,this.strictWrite=k!==void 0?k:!0,this._seqid=null}S.prototype.flush=function(){return this.trans.flush()},S.prototype.writeMessageBegin=function(x,F,k){this.strictWrite?(this.writeI32(L|F),this.writeString(x),this.writeI32(k)):(this.writeString(x),this.writeByte(F),this.writeI32(k)),this._seqid!==null?a.warning("SeqId already set",{name:x}):(this._seqid=k,this.trans.setCurrSeqId(k))},S.prototype.writeMessageEnd=function(){this._seqid!==null?this._seqid=null:a.warning("No seqid to unset")},S.prototype.writeStructBegin=function(x){},S.prototype.writeStructEnd=function(){},S.prototype.writeFieldBegin=function(x,F,k){this.writeByte(F),this.writeI16(k)},S.prototype.writeFieldEnd=function(){},S.prototype.writeFieldStop=function(){this.writeByte(o.STOP)},S.prototype.writeMapBegin=function(x,F,k){this.writeByte(x),this.writeByte(F),this.writeI32(k)},S.prototype.writeMapEnd=function(){},S.prototype.writeListBegin=function(x,F){this.writeByte(x),this.writeI32(F)},S.prototype.writeListEnd=function(){},S.prototype.writeSetBegin=function(x,F){this.writeByte(x),this.writeI32(F)},S.prototype.writeSetEnd=function(){},S.prototype.writeBool=function(x){x?this.writeByte(1):this.writeByte(0)},S.prototype.writeByte=function(x){this.trans.write(new u([x]))},S.prototype.writeI16=function(x){this.trans.write(y.writeI16(new u(2),x))},S.prototype.writeI32=function(x){this.trans.write(y.writeI32(new u(4),x))},S.prototype.writeI64=function(x){x.buffer?this.trans.write(x.buffer):this.trans.write(new w(x).buffer)},S.prototype.writeDouble=function(x){this.trans.write(y.writeDouble(new u(8),x))},S.prototype.writeStringOrBinary=function(x,F,k){if(typeof k=="string")this.writeI32(u.byteLength(k,F)),this.trans.write(new u(k,F));else if(k instanceof u||Object.prototype.toString.call(k)=="[object Uint8Array]")this.writeI32(k.length),this.trans.write(k);else throw new Error(x+" called without a string/Buffer argument: "+k)},S.prototype.writeString=function(x){this.writeStringOrBinary("writeString","utf8",x)},S.prototype.writeBinary=function(x){this.writeStringOrBinary("writeBinary","binary",x)},S.prototype.readMessageBegin=function(){var x=this.readI32(),F,k,A;if(x<0){var M=x&b;if(M!=L)throw new m.TProtocolException(m.TProtocolExceptionType.BAD_VERSION,"Bad version in readMessageBegin: "+x);F=x&v,k=this.readString(),A=this.readI32()}else{if(this.strictRead)throw new m.TProtocolException(m.TProtocolExceptionType.BAD_VERSION,"No protocol version header");k=this.trans.read(x),F=this.readByte(),A=this.readI32()}return{fname:k,mtype:F,rseqid:A}},S.prototype.readMessageEnd=function(){},S.prototype.readStructBegin=function(){return{fname:""}},S.prototype.readStructEnd=function(){},S.prototype.readFieldBegin=function(){var x=this.readByte();if(x==o.STOP)return{fname:null,ftype:x,fid:0};var F=this.readI16();return{fname:null,ftype:x,fid:F}},S.prototype.readFieldEnd=function(){},S.prototype.readMapBegin=function(){var x=this.readByte(),F=this.readByte(),k=this.readI32();return{ktype:x,vtype:F,size:k}},S.prototype.readMapEnd=function(){},S.prototype.readListBegin=function(){var x=this.readByte(),F=this.readI32();return{etype:x,size:F}},S.prototype.readListEnd=function(){},S.prototype.readSetBegin=function(){var x=this.readByte(),F=this.readI32();return{etype:x,size:F}},S.prototype.readSetEnd=function(){},S.prototype.readBool=function(){var x=this.readByte();return x!==0},S.prototype.readByte=function(){return this.trans.readByte()},S.prototype.readI16=function(){return this.trans.readI16()},S.prototype.readI32=function(){return this.trans.readI32()},S.prototype.readI64=function(){var x=this.trans.read(8);return new w(x)},S.prototype.readDouble=function(){return this.trans.readDouble()},S.prototype.readBinary=function(){var x=this.readI32();if(x===0)return new u(0);if(x<0)throw new m.TProtocolException(m.TProtocolExceptionType.NEGATIVE_SIZE,"Negative binary size");return this.trans.read(x)},S.prototype.readString=function(){var x=this.readI32();if(x===0)return"";if(x<0)throw new m.TProtocolException(m.TProtocolExceptionType.NEGATIVE_SIZE,"Negative string size");return this.trans.readString(x)},S.prototype.getTransport=function(){return this.trans},S.prototype.skip=function(x){switch(x){case o.BOOL:this.readBool();break;case o.BYTE:this.readByte();break;case o.I16:this.readI16();break;case o.I32:this.readI32();break;case o.I64:this.readI64();break;case o.DOUBLE:this.readDouble();break;case o.STRING:this.readString();break;case o.STRUCT:for(this.readStructBegin();;){var F=this.readFieldBegin();if(F.ftype===o.STOP)break;this.skip(F.ftype),this.readFieldEnd()}this.readStructEnd();break;case o.MAP:for(var k=this.readMapBegin(),A=0;A<k.size;++A)this.skip(k.ktype),this.skip(k.vtype);this.readMapEnd();break;case o.SET:for(var M=this.readSetBegin(),C=0;C<M.size;++C)this.skip(M.etype);this.readSetEnd();break;case o.LIST:for(var R=this.readListBegin(),D=0;D<R.size;++D)this.skip(R.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+x)}}},9262:(c,d,f)=>{d.Thrift=f(5406);var u=f(5455);d.WSConnection=u.WSConnection,d.createWSConnection=u.createWSConnection,d.createWSClient=u.createWSClient;var a=f(4050);d.XHRConnection=a.XHRConnection,d.createXHRConnection=a.createXHRConnection,d.createXHRClient=a.createXHRClient,d.Int64=f(135),d.Q=f(8486);var y=f(4184);d.Multiplexer=y.Multiplexer,d.TBufferedTransport=f(8869),d.TFramedTransport=f(7584),d.TWebSocketTransport=f(5764),d.Protocol=f(5086),d.TJSONProtocol=f(5086),d.TBinaryProtocol=f(4711),d.TCompactProtocol=f(9277)},8869:(c,d,f)=>{var u=f(8764).Buffer,a=f(7533),y=f(3590),w=f(5190);c.exports=m;function m(o,b){this.defaultReadBufferSize=1024,this.writeBufferSize=512,this.inBuf=new u(this.defaultReadBufferSize),this.readCursor=0,this.writeCursor=0,this.outBuffers=[],this.outCount=0,this.onFlush=b}m.prototype=new w,m.prototype.reset=function(){this.inBuf=new u(this.defaultReadBufferSize),this.readCursor=0,this.writeCursor=0,this.outBuffers=[],this.outCount=0},m.receiver=function(o,b){var L=new m;return function(v){if(L.writeCursor+v.length>L.inBuf.length){var S=new u(L.writeCursor+v.length);L.inBuf.copy(S,0,0,L.writeCursor),L.inBuf=S}v.copy(L.inBuf,L.writeCursor,0),L.writeCursor+=v.length,o(L,b)}},m.prototype.commitPosition=function(){var o=this.writeCursor-this.readCursor,b=o*2>this.defaultReadBufferSize?o*2:this.defaultReadBufferSize,L=new u(b);o>0&&this.inBuf.copy(L,0,this.readCursor,this.writeCursor),this.readCursor=0,this.writeCursor=o,this.inBuf=L},m.prototype.rollbackPosition=function(){this.readCursor=0},m.prototype.isOpen=function(){return!0},m.prototype.open=function(){},m.prototype.close=function(){},m.prototype.setCurrSeqId=function(o){this._seqid=o},m.prototype.ensureAvailable=function(o){if(this.readCursor+o>this.writeCursor)throw new y},m.prototype.read=function(o){this.ensureAvailable(o);var b=new u(o);return this.inBuf.copy(b,0,this.readCursor,this.readCursor+o),this.readCursor+=o,b},m.prototype.readByte=function(){return this.ensureAvailable(1),a.readByte(this.inBuf[this.readCursor++])},m.prototype.readI16=function(){this.ensureAvailable(2);var o=a.readI16(this.inBuf,this.readCursor);return this.readCursor+=2,o},m.prototype.readI32=function(){this.ensureAvailable(4);var o=a.readI32(this.inBuf,this.readCursor);return this.readCursor+=4,o},m.prototype.readDouble=function(){this.ensureAvailable(8);var o=a.readDouble(this.inBuf,this.readCursor);return this.readCursor+=8,o},m.prototype.readString=function(o){this.ensureAvailable(o);var b=this.inBuf.toString("utf8",this.readCursor,this.readCursor+o);return this.readCursor+=o,b},m.prototype.borrow=function(){var o={buf:this.inBuf,readIndex:this.readCursor,writeIndex:this.writeCursor};return o},m.prototype.consume=function(o){this.readCursor+=o},m.prototype.write=function(o){typeof o=="string"&&(o=new u(o,"utf8")),this.outBuffers.push(o),this.outCount+=o.length},m.prototype.flush=function(){var o=this._seqid;if(this._seqid=null,!(this.outCount<1)){var b=new u(this.outCount),L=0;this.outBuffers.forEach(function(v){v.copy(b,L,0),L+=v.length}),this.onFlush&&this.onFlush(b,o),this.outBuffers=[],this.outCount=0}}},9277:(c,d,f)=>{var u=f(8764).Buffer,a=f(1291),y=f(135),w=f(5406),m=w.Type;c.exports=k;var o=Math.pow(2,8),b=Math.pow(2,24),L=Math.pow(2,32),v=Math.pow(2,40),S=Math.pow(2,48),x=Math.pow(2,52),F=Math.pow(2,1022);function k(A){this.trans=A,this.lastField_=[],this.lastFieldId_=0,this.string_limit_=0,this.string_buf_=null,this.string_buf_size_=0,this.container_limit_=0,this.booleanField_={name:null,hasBoolValue:!1},this.boolValue_={hasBoolValue:!1,boolValue:!1}}k.PROTOCOL_ID=-126,k.VERSION_N=1,k.VERSION_MASK=31,k.TYPE_MASK=-32,k.TYPE_BITS=7,k.TYPE_SHIFT_AMOUNT=5,k.Types={CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12},k.TTypeToCType=[k.Types.CT_STOP,0,k.Types.CT_BOOLEAN_TRUE,k.Types.CT_BYTE,k.Types.CT_DOUBLE,0,k.Types.CT_I16,0,k.Types.CT_I32,0,k.Types.CT_I64,k.Types.CT_BINARY,k.Types.CT_STRUCT,k.Types.CT_MAP,k.Types.CT_SET,k.Types.CT_LIST],k.prototype.getTransport=function(){return this.trans},k.prototype.getCompactType=function(A){return k.TTypeToCType[A]},k.prototype.getTType=function(A){switch(A){case m.STOP:return m.STOP;case k.Types.CT_BOOLEAN_FALSE:case k.Types.CT_BOOLEAN_TRUE:return m.BOOL;case k.Types.CT_BYTE:return m.BYTE;case k.Types.CT_I16:return m.I16;case k.Types.CT_I32:return m.I32;case k.Types.CT_I64:return m.I64;case k.Types.CT_DOUBLE:return m.DOUBLE;case k.Types.CT_BINARY:return m.STRING;case k.Types.CT_LIST:return m.LIST;case k.Types.CT_SET:return m.SET;case k.Types.CT_MAP:return m.MAP;case k.Types.CT_STRUCT:return m.STRUCT;default:throw new w.TProtocolException(w.TProtocolExceptionType.INVALID_DATA,"Unknown type: "+A)}return m.STOP},k.prototype.flush=function(){return this.trans.flush()},k.prototype.writeMessageBegin=function(A,M,C){this.writeByte(k.PROTOCOL_ID),this.writeByte(k.VERSION_N&k.VERSION_MASK|M<<k.TYPE_SHIFT_AMOUNT&k.TYPE_MASK),this.writeVarint32(C),this.writeString(A),this._seqid?a.warning("SeqId already set",{name:A}):(this._seqid=C,this.trans.setCurrSeqId(C))},k.prototype.writeMessageEnd=function(){},k.prototype.writeStructBegin=function(A){this.lastField_.push(this.lastFieldId_),this.lastFieldId_=0},k.prototype.writeStructEnd=function(){this.lastFieldId_=this.lastField_.pop()},k.prototype.writeFieldBegin=function(A,M,C){if(M!=m.BOOL)return this.writeFieldBeginInternal(A,M,C,-1);this.booleanField_.name=A,this.booleanField_.fieldType=M,this.booleanField_.fieldId=C},k.prototype.writeFieldEnd=function(){},k.prototype.writeFieldStop=function(){this.writeByte(k.Types.CT_STOP)},k.prototype.writeMapBegin=function(A,M,C){C===0?this.writeByte(0):(this.writeVarint32(C),this.writeByte(this.getCompactType(A)<<4|this.getCompactType(M)))},k.prototype.writeMapEnd=function(){},k.prototype.writeListBegin=function(A,M){this.writeCollectionBegin(A,M)},k.prototype.writeListEnd=function(){},k.prototype.writeSetBegin=function(A,M){this.writeCollectionBegin(A,M)},k.prototype.writeSetEnd=function(){},k.prototype.writeBool=function(A){this.booleanField_.name!==null?(this.writeFieldBeginInternal(this.booleanField_.name,this.booleanField_.fieldType,this.booleanField_.fieldId,A?k.Types.CT_BOOLEAN_TRUE:k.Types.CT_BOOLEAN_FALSE),this.booleanField_.name=null):this.writeByte(A?k.Types.CT_BOOLEAN_TRUE:k.Types.CT_BOOLEAN_FALSE)},k.prototype.writeByte=function(A){this.trans.write(new u([A]))},k.prototype.writeI16=function(A){this.writeVarint32(this.i32ToZigzag(A))},k.prototype.writeI32=function(A){this.writeVarint32(this.i32ToZigzag(A))},k.prototype.writeI64=function(A){this.writeVarint64(this.i64ToZigzag(A))},k.prototype.writeDouble=function(A){var M=new u(8),C,R,D;M[7]=A<0?128:0,A=Math.abs(A),A!==A?(C=0x8000000000000,R=2047):A===1/0?(C=0,R=2047):(R=Math.floor(Math.log(A)/Math.LN2),D=Math.pow(2,-R),A*D<1&&(R--,D*=2),R+1023>=2047?(C=0,R=2047):R+1023>=1?(C=(A*D-1)*x,R+=1023):(C=A*F*x,R=0)),M[6]=R<<4&240,M[7]|=R>>4&127,M[0]=C&255,C=Math.floor(C/o),M[1]=C&255,C=Math.floor(C/o),M[2]=C&255,C=Math.floor(C/o),M[3]=C&255,C>>=8,M[4]=C&255,C>>=8,M[5]=C&255,C>>=8,M[6]|=C&15,this.trans.write(M)},k.prototype.writeStringOrBinary=function(A,M,C){if(typeof C=="string")this.writeVarint32(u.byteLength(C,M)),this.trans.write(new u(C,M));else if(C instanceof u||Object.prototype.toString.call(C)=="[object Uint8Array]")this.writeVarint32(C.length),this.trans.write(C);else throw new Error(A+" called without a string/Buffer argument: "+C)},k.prototype.writeString=function(A){this.writeStringOrBinary("writeString","utf8",A)},k.prototype.writeBinary=function(A){this.writeStringOrBinary("writeBinary","binary",A)},k.prototype.writeFieldBeginInternal=function(A,M,C,R){var D=R==-1?this.getCompactType(M):R;C>this.lastFieldId_&&C-this.lastFieldId_<=15?this.writeByte(C-this.lastFieldId_<<4|D):(this.writeByte(D),this.writeI16(C)),this.lastFieldId_=C},k.prototype.writeCollectionBegin=function(A,M){M<=14?this.writeByte(M<<4|this.getCompactType(A)):(this.writeByte(240|this.getCompactType(A)),this.writeVarint32(M))},k.prototype.writeVarint32=function(A){for(var M=new u(5),C=0;;)if(A&-128)M[C++]=A&127|128,A=A>>>7;else{M[C++]=A;break}var R=new u(C);M.copy(R,0,0,C),this.trans.write(R)},k.prototype.writeVarint64=function(A){if(typeof A=="number"&&(A=new y(A)),!(A instanceof y))throw new w.TProtocolException(w.TProtocolExceptionType.INVALID_DATA,"Expected Int64 or Number, found: "+A);for(var M=new u(10),C=0,R=A.buffer.readUInt32BE(0,!0),D=A.buffer.readUInt32BE(4,!0),U=0;;)if(!(D&-128)&&R===0){M[C++]=D;break}else M[C++]=D&127|128,U=R<<25,D=D>>>7,R=R>>>7,D=D|U;var X=new u(C);M.copy(X,0,0,C),this.trans.write(X)},k.prototype.i64ToZigzag=function(A){if(typeof A=="string"?A=new y(parseInt(A,10)):typeof A=="number"&&(A=new y(A)),!(A instanceof y))throw new w.TProtocolException(w.TProtocolExceptionType.INVALID_DATA,"Expected Int64 or Number, found: "+A);var M=A.buffer.readUInt32BE(0,!0),C=A.buffer.readUInt32BE(4,!0),R=M>>>31;return M=(M<<1|C>>>31)^(R?4294967295:0),C=C<<1^(R?4294967295:0),new y(M,C)},k.prototype.i32ToZigzag=function(A){return A<<1^(A&2147483648?4294967295:0)},k.prototype.readMessageBegin=function(){var A=this.trans.readByte();if(A!=k.PROTOCOL_ID)throw new w.TProtocolException(w.TProtocolExceptionType.BAD_VERSION,"Bad protocol identifier "+A);var M=this.trans.readByte(),C=M&k.VERSION_MASK;if(C!=k.VERSION_N)throw new w.TProtocolException(w.TProtocolExceptionType.BAD_VERSION,"Bad protocol version "+C);var R=M>>k.TYPE_SHIFT_AMOUNT&k.TYPE_BITS,D=this.readVarint32(),U=this.readString();return{fname:U,mtype:R,rseqid:D}},k.prototype.readMessageEnd=function(){},k.prototype.readStructBegin=function(){return this.lastField_.push(this.lastFieldId_),this.lastFieldId_=0,{fname:""}},k.prototype.readStructEnd=function(){this.lastFieldId_=this.lastField_.pop()},k.prototype.readFieldBegin=function(){var A=0,M=this.trans.readByte(M),C=M&15;if(C==k.Types.CT_STOP)return{fname:null,ftype:w.Type.STOP,fid:0};var R=(M&240)>>>4;R===0?A=this.readI16():A=this.lastFieldId_+R;var D=this.getTType(C);return(C==k.Types.CT_BOOLEAN_TRUE||C==k.Types.CT_BOOLEAN_FALSE)&&(this.boolValue_.hasBoolValue=!0,this.boolValue_.boolValue=C==k.Types.CT_BOOLEAN_TRUE),this.lastFieldId_=A,{fname:null,ftype:D,fid:A}},k.prototype.readFieldEnd=function(){},k.prototype.readMapBegin=function(){var A=this.readVarint32();if(A<0)throw new w.TProtocolException(w.TProtocolExceptionType.NEGATIVE_SIZE,"Negative map size");var M=0;A!==0&&(M=this.trans.readByte());var C=this.getTType((M&240)>>>4),R=this.getTType(M&15);return{ktype:C,vtype:R,size:A}},k.prototype.readMapEnd=function(){},k.prototype.readListBegin=function(){var A=this.trans.readByte(),M=A>>>4&15;if(M==15&&(M=this.readVarint32()),M<0)throw new w.TProtocolException(w.TProtocolExceptionType.NEGATIVE_SIZE,"Negative list size");var C=this.getTType(A&15);return{etype:C,size:M}},k.prototype.readListEnd=function(){},k.prototype.readSetBegin=function(){return this.readListBegin()},k.prototype.readSetEnd=function(){},k.prototype.readBool=function(){var A=!1;if(this.boolValue_.hasBoolValue===!0)A=this.boolValue_.boolValue,this.boolValue_.hasBoolValue=!1;else{var M=this.trans.readByte();M.rsize,A=M.value==k.Types.CT_BOOLEAN_TRUE}return A},k.prototype.readByte=function(){return this.trans.readByte()},k.prototype.readI16=function(){return this.readI32()},k.prototype.readI32=function(){return this.zigzagToI32(this.readVarint32())},k.prototype.readI64=function(){return this.zigzagToI64(this.readVarint64())},k.prototype.readDouble=function(){var A=this.trans.read(8),M=0,C=A[M+7]&128,R=(A[M+6]&240)>>4;R+=(A[M+7]&127)<<4;var D=A[M];switch(D+=A[M+1]<<8,D+=A[M+2]<<16,D+=A[M+3]*b,D+=A[M+4]*L,D+=A[M+5]*v,D+=(A[M+6]&15)*S,R){case 0:R=-1022;break;case 2047:return D?NaN:C?-1/0:1/0;default:D+=x,R-=1023}return C&&(D*=-1),D*Math.pow(2,R-52)},k.prototype.readBinary=function(){var A=this.readVarint32();if(A===0)return new u(0);if(A<0)throw new w.TProtocolException(w.TProtocolExceptionType.NEGATIVE_SIZE,"Negative binary size");return this.trans.read(A)},k.prototype.readString=function(){var A=this.readVarint32();if(A===0)return"";if(A<0)throw new w.TProtocolException(w.TProtocolExceptionType.NEGATIVE_SIZE,"Negative string size");return this.trans.readString(A)},k.prototype.readVarint32=function(){return this.readVarint64().toNumber()},k.prototype.readVarint64=function(){for(var A=0,M=0,C=0,R=0;;){var D=this.trans.readByte();if(A++,R<=25?M=M|(D&127)<<R:25<R&&R<32?(M=M|(D&127)<<R,C=C|(D&127)>>>32-R):C=C|(D&127)<<R-32,R+=7,!(D&128))break;if(A>=10)throw new w.TProtocolException(w.TProtocolExceptionType.INVALID_DATA,"Variable-length int over 10 bytes.")}return new y(C,M)},k.prototype.zigzagToI32=function(A){return A>>>1^-1*(A&1)},k.prototype.zigzagToI64=function(A){var M=A.buffer.readUInt32BE(0,!0),C=A.buffer.readUInt32BE(4,!0),R=new y(M&0,C&1);R._2scomp();var D=R.buffer.readUInt32BE(0,!0),U=R.buffer.readUInt32BE(4,!0),X=M<<31;return M=M>>>1^D,C=(C>>>1|X)^U,new y(M,C)},k.prototype.skip=function(A){switch(A){case m.BOOL:this.readBool();break;case m.BYTE:this.readByte();break;case m.I16:this.readI16();break;case m.I32:this.readI32();break;case m.I64:this.readI64();break;case m.DOUBLE:this.readDouble();break;case m.STRING:this.readString();break;case m.STRUCT:for(this.readStructBegin();;){var M=this.readFieldBegin();if(M.ftype===m.STOP)break;this.skip(M.ftype),this.readFieldEnd()}this.readStructEnd();break;case m.MAP:for(var C=this.readMapBegin(),R=0;R<C.size;++R)this.skip(C.ktype),this.skip(C.vtype);this.readMapEnd();break;case m.SET:for(var D=this.readSetBegin(),U=0;U<D.size;++U)this.skip(D.etype);this.readSetEnd();break;case m.LIST:for(var X=this.readListBegin(),j=0;j<X.size;++j)this.skip(X.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+A)}}},6243:c=>{c.exports=d;function d(f,u){f.Client&&(f=f.Client);var a=function(m,o){u.write(m,o)},y=new u.transport(void 0,a),w=new f(y,u.protocol);return y.client=w,u.client=w,w}},7584:(c,d,f)=>{var u=f(8764).Buffer,a=f(7533),y=f(3590),w=f(5190);c.exports=m;function m(o,b){this.inBuf=o||new u(0),this.outBuffers=[],this.outCount=0,this.readPos=0,this.onFlush=b}m.prototype=new w,m.receiver=function(o,b){var L=null;return function(v){for(L&&(v=u.concat([L,v]),L=null);v.length;){if(v.length<4){L=v;return}var S=a.readI32(v,0);if(v.length<4+S){L=v;return}var x=v.slice(4,4+S);L=v.slice(4+S),o(new m(x),b),v=L,L=null}}},m.prototype.commitPosition=function(){},m.prototype.rollbackPosition=function(){},m.prototype.isOpen=function(){return!0},m.prototype.open=function(){},m.prototype.close=function(){},m.prototype.setCurrSeqId=function(o){this._seqid=o},m.prototype.ensureAvailable=function(o){if(this.readPos+o>this.inBuf.length)throw new y},m.prototype.read=function(o){this.ensureAvailable(o);var b=this.readPos+o;if(this.inBuf.length<b)throw new Error("read("+o+") failed - not enough data");var L=this.inBuf.slice(this.readPos,b);return this.readPos=b,L},m.prototype.readByte=function(){return this.ensureAvailable(1),a.readByte(this.inBuf[this.readPos++])},m.prototype.readI16=function(){this.ensureAvailable(2);var o=a.readI16(this.inBuf,this.readPos);return this.readPos+=2,o},m.prototype.readI32=function(){this.ensureAvailable(4);var o=a.readI32(this.inBuf,this.readPos);return this.readPos+=4,o},m.prototype.readDouble=function(){this.ensureAvailable(8);var o=a.readDouble(this.inBuf,this.readPos);return this.readPos+=8,o},m.prototype.readString=function(o){this.ensureAvailable(o);var b=this.inBuf.toString("utf8",this.readPos,this.readPos+o);return this.readPos+=o,b},m.prototype.borrow=function(){return{buf:this.inBuf,readIndex:this.readPos,writeIndex:this.inBuf.length}},m.prototype.consume=function(o){this.readPos+=o},m.prototype.write=function(o,b){typeof o=="string"&&(o=new u(o,b||"utf8")),this.outBuffers.push(o),this.outCount+=o.length},m.prototype.flush=function(){var o=this._seqid;this._seqid=null;var b=new u(this.outCount),L=0;if(this.outBuffers.forEach(function(S){S.copy(b,L,0),L+=S.length}),this.onFlush){var v=new u(b.length+4);a.writeI32(v,b.length),b.copy(v,4,0,b.length),this.onFlush&&this.onFlush(v,o)}this.outBuffers=[],this.outCount=0}},5190:(c,d,f)=>{var u=f(8764).Buffer,a=f(9539),y=f(9277),w=f(4711),m=f(3590);function o(W){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=W}a.inherits(o,Error),c.exports=U;var b=0,L=1,v=0,S=32/8,x=48/8,F=64/8,k=96/8,A=112/8,M=4095,C=1,R=1073741823;function D(W){var Z=f(8869);this.outputBuffer=null;var q=this;this.transport=new Z(null,function(oe){q.outputBuffer=oe}),this.transport.inBuf=W||u.alloc(0),this.transport.writeCursor=this.transport.inBuf.length,this.protocol=new y(this.transport)}D.prototype.readVarint32=function(){return this.protocol.readVarint32()},D.prototype.writeVarint32=function(W){this.protocol.writeVarint32(W)},D.prototype.readString=function(){return this.protocol.readString()},D.prototype.writeString=function(W){this.protocol.writeString(W)},D.prototype.getOutCount=function(){return this.transport.outCount},D.prototype.write=function(W){this.transport.write(W)},D.prototype.toBuffer=function(){return this.transport.flush(),this.outputBuffer},U.SubprotocolId={BINARY:0,JSON:1,COMPACT:2};function U(){this.maxFrameSize=R,this.protocolId=U.SubprotocolId.BINARY,this.rheaders={},this.wheaders={},this.inBuf=u.alloc(0),this.outCount=0,this.flags=null,this.seqid=0,this.shouldWriteHeaders=!0}var X=function(W,Z){if(typeof W!="string"||typeof Z!="string")throw new o("Header key and values must be strings")},j=function(W){for(var Z=Object.keys(U.SubprotocolId),q=0;q<Z.length;q++)if(W===U.SubprotocolId[Z[q]])return!0;throw new Error(W+" is not a valid protocol id")};U.prototype.setSeqId=function(W){this.seqid=W},U.prototype.getSeqId=function(W){return this.seqid},U.prototype.setFlags=function(W){this.flags=W},U.prototype.getReadHeaders=function(){return this.rheaders},U.prototype.setReadHeader=function(W,Z){X(W,Z),this.rheaders[W]=Z},U.prototype.clearReadHeaders=function(){this.rheaders={}},U.prototype.getWriteHeaders=function(){return this.wheaders},U.prototype.setWriteHeader=function(W,Z){X(W,Z),this.wheaders[W]=Z},U.prototype.clearWriteHeaders=function(){this.wheaders={}},U.prototype.setMaxFrameSize=function(W){this.maxFrameSize=W},U.prototype.setProtocolId=function(W){j(W),this.protocolId=W},U.prototype.getProtocolId=function(){return this.protocolId};var G=function(W){var Z=W.readInt32BE();return(Z&w.VERSION_MASK)===w.VERSION_1},V=function(W){var Z=W.readInt8(b),q=W.readInt8(L);return Z===y.PROTOCOL_ID&&(q&y.VERSION_MASK)===y.VERSION_N};U.prototype.readHeaders=function(){var W=this.inBuf,Z=!1;if(G(W)&&(this.setProtocolId(U.SubprotocolId.BINARY),Z=!0),V(W)&&(this.setProtocolId(U.SubprotocolId.COMPACT),Z=!0),Z){this.shouldWriteHeaders=!1;return}var q=W.readInt32BE(v);if(q>this.maxFrameSize)throw new o("Frame exceeds maximum frame size");var oe=W.readInt16BE(S);if(this.shouldWriteHeaders=oe===M,!!this.shouldWriteHeaders){this.setFlags(W.readInt16BE(x)),this.setSeqId(W.readInt32BE(F));var fe=W.readInt16BE(k)*4,ne=A+fe;if(ne>W.length)throw new o("Header size is greater than frame size");var xe=u.alloc(fe);W.copy(xe,0,A,ne);var le=new D(xe);this.setProtocolId(le.readVarint32());var Se=le.readVarint32();if(Se>0)throw new o("Transforms are not yet supported");for(;;)try{var Ae=le.readVarint32();if(Ae!==C)break;for(var Ze=le.readVarint32(),gt=0;gt<Ze;gt++){var wt=le.readString(),_e=le.readString();this.setReadHeader(wt,_e)}}catch(H){if(H instanceof m)break;throw H}return this.read(ne),this.getReadHeaders()}},U.prototype.writeHeaders=function(){if(this.shouldWriteHeaders){var W=this.getWriteHeaders(),Z=new D;Z.writeVarint32(this.protocolId),Z.writeVarint32(0);var q=Object.keys(W);if(q.length>0){Z.writeVarint32(C),Z.writeVarint32(q.length);for(var oe=0;oe<q.length;oe++){var fe=q[oe],ne=W[fe];Z.writeString(fe),Z.writeString(ne)}}var xe=Z.getOutCount(),le=(4-xe%4)%4,Se=u.alloc(2);Se.writeInt16BE(Math.floor((xe+le)/4));var Ae=u.alloc(le);Ae.fill(0),Z.write(Ae);var Ze=Z.toBuffer(),gt=u.alloc(4);gt.writeInt32BE(10+this.outCount+Ze.length);var wt=u.alloc(2);wt.writeInt16BE(M);var _e=u.alloc(2);_e.writeInt16BE(0);var H=u.alloc(4);H.writeInt32BE(this.getSeqId());var z=u.concat([gt,wt,_e,H,Se,Ze]);this.outBuffers.unshift(z),this.outCount+=z.length}}},3590:(c,d,f)=>{var u=f(9539);c.exports=a;function a(y){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=y}u.inherits(a,Error)},5197:(c,d,f)=>{var u=f(8764).Buffer,a=f(135),y=c.exports={},w=Math.pow(2,24),m=Math.pow(2,31),o=Math.pow(2,32),b=Math.pow(10,11);y.toDecimalString=function(L){var v=L.buffer,S=L.offset;if(!v[S]&&!(v[S+1]&224)||!~v[S]&&!~(v[S+1]&224))return L.toString();var x=v[S]&128;if(x){for(var F=!1,k=new u(8),A=7;A>=0;--A)k[A]=~v[S+A]+(F?0:1)&255,F|=v[S+A];v=k}var M=v[S+1]+(v[S]<<8),C=v[S+7]+(v[S+6]<<8)+(v[S+5]<<16)+v[S+4]*w+(v[S+3]+(v[S+2]<<8))*o+M*74976710656,R=Math.floor(C/b)+M*2814;return C=("00000000000"+String(C%b)).slice(-11),(x?"-":"")+String(R)+C},y.fromDecimalString=function(L){var v=L.charAt(0)==="-";if(L.length<(v?17:16))return new a(+L);if(L.length>(v?20:19))throw new RangeError("Too many digits for Int64: "+L);var S=+L.slice(v?1:0,-15),x=+L.slice(-15)+S*2764472320,F=Math.floor(x/o)+S*232830;if(x=x%o,F>=m&&!(v&&F==m&&x==0))throw new RangeError("The magnitude is too large for Int64.");return v&&(F=~F,x===0?F=F+1&4294967295:x=~x+1,F=2147483648|F),new a(F,x)}},6502:(c,d,f)=>{var u=f(135);f(5197),c.exports=function(){var a,y,w={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},m,o=function(M){throw new SyntaxError(M)},b=function(M){return M&&M!==y&&o("Expected '"+M+"' instead of '"+y+"'"),y=m.charAt(a),a+=1,y},L=function(){var M,C="";for(y==="-"&&(C="-",b("-"));y>="0"&&y<="9";)C+=y,b();if(y===".")for(C+=".";b()&&y>="0"&&y<="9";)C+=y;if(y==="e"||y==="E")for(C+=y,b(),(y==="-"||y==="+")&&(C+=y,b());y>="0"&&y<="9";)C+=y,b();if(M=+C,!isFinite(M))o("Bad number");else return M>=u.MAX_INT||M<=u.MIN_INT?C:M},v=function(){var M,C,R="",D;if(y==='"')for(;b();){if(y==='"')return b(),R;if(y==="\\")if(b(),y==="u"){for(D=0,C=0;C<4&&(M=parseInt(b(),16),!!isFinite(M));C+=1)D=D*16+M;R+=String.fromCharCode(D)}else if(typeof w[y]=="string")R+=w[y];else break;else R+=y}o("Bad string")},S=function(){for(;y&&y<=" ";)b()},x=function(){switch(y){case"t":return b("t"),b("r"),b("u"),b("e"),!0;case"f":return b("f"),b("a"),b("l"),b("s"),b("e"),!1;case"n":return b("n"),b("u"),b("l"),b("l"),null}o("Unexpected '"+y+"'")},F,k=function(){var M=[];if(y==="["){if(b("["),S(),y==="]")return b("]"),M;for(;y;){if(M.push(F()),S(),y==="]")return b("]"),M;b(","),S()}}o("Bad array")},A=function(){var M,C={};if(y==="{"){if(b("{"),S(),y==="}")return b("}"),C;for(;y;){if(M=v(),S(),b(":"),Object.hasOwnProperty.call(C,M)&&o('Duplicate key "'+M+'"'),C[M]=F(),S(),y==="}")return b("}"),C;b(","),S()}}o("Bad object")};return F=function(){switch(S(),y){case"{":return A();case"[":return k();case'"':return v();case"-":return L();default:return y>="0"&&y<="9"?L():x()}},function(M){var C;return m=M,a=0,y=" ",C=F(),S(),y&&o("Syntax error"),C}}()},5086:(c,d,f)=>{var u=f(8764).Buffer,a=f(135),y=f(5406),w=y.Type;f(9539);var m=f(5197),o=f(6502),b=f(3590);c.exports=L;function L(v){this.tstack=[],this.tpos=[],this.trans=v}L.Type={},L.Type[w.BOOL]='"tf"',L.Type[w.BYTE]='"i8"',L.Type[w.I16]='"i16"',L.Type[w.I32]='"i32"',L.Type[w.I64]='"i64"',L.Type[w.DOUBLE]='"dbl"',L.Type[w.STRUCT]='"rec"',L.Type[w.STRING]='"str"',L.Type[w.MAP]='"map"',L.Type[w.LIST]='"lst"',L.Type[w.SET]='"set"',L.RType={},L.RType.tf=w.BOOL,L.RType.i8=w.BYTE,L.RType.i16=w.I16,L.RType.i32=w.I32,L.RType.i64=w.I64,L.RType.dbl=w.DOUBLE,L.RType.rec=w.STRUCT,L.RType.str=w.STRING,L.RType.map=w.MAP,L.RType.lst=w.LIST,L.RType.set=w.SET,L.Version=1,L.prototype.flush=function(){return this.writeToTransportIfStackIsFlushable(),this.trans.flush()},L.prototype.writeToTransportIfStackIsFlushable=function(){this.tstack.length===1&&this.trans.write(this.tstack.pop())},L.prototype.writeMessageBegin=function(v,S,x){this.tstack.push([L.Version,'"'+v+'"',S,x])},L.prototype.writeMessageEnd=function(){var v=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(v),this.wbuf="["+this.wobj.join(",")+"]",this.trans.write(this.wbuf)},L.prototype.writeStructBegin=function(v){this.tpos.push(this.tstack.length),this.tstack.push({})},L.prototype.writeStructEnd=function(){var v=this.tpos.pop(),S=this.tstack[v],x="{",F=!0;for(var k in S)F?F=!1:x+=",",x+=k+":"+S[k];x+="}",this.tstack[v]=x,this.writeToTransportIfStackIsFlushable()},L.prototype.writeFieldBegin=function(v,S,x){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+x+'"',fieldType:L.Type[S]})},L.prototype.writeFieldEnd=function(){var v=this.tstack.pop(),S=this.tstack.pop();":"+v==":[object Object]"?this.tstack[this.tstack.length-1][S.fieldId]="{"+S.fieldType+":"+JSON.stringify(v)+"}":this.tstack[this.tstack.length-1][S.fieldId]="{"+S.fieldType+":"+v+"}",this.tpos.pop(),this.writeToTransportIfStackIsFlushable()},L.prototype.writeFieldStop=function(){},L.prototype.writeMapBegin=function(v,S,x){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[v],L.Type[S],0])},L.prototype.writeMapEnd=function(){var v=this.tpos.pop();if(v!=this.tstack.length){(this.tstack.length-v-1)%2!==0&&this.tstack.push("");var S=(this.tstack.length-v-1)/2;this.tstack[v][this.tstack[v].length-1]=S;for(var x="}",F=!0;this.tstack.length>v+1;){var k=this.tstack.pop(),A=this.tstack.pop();F?F=!1:x=","+x,isNaN(A)||(A='"'+A+'"'),x=A+":"+k+x}x="{"+x,this.tstack[v].push(x),this.tstack[v]="["+this.tstack[v].join(",")+"]",this.writeToTransportIfStackIsFlushable()}},L.prototype.writeListBegin=function(v,S){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[v],S])},L.prototype.writeListEnd=function(){for(var v=this.tpos.pop();this.tstack.length>v+1;){var S=this.tstack[v+1];this.tstack.splice(v+1,1),this.tstack[v].push(S)}this.tstack[v]="["+this.tstack[v].join(",")+"]",this.writeToTransportIfStackIsFlushable()},L.prototype.writeSetBegin=function(v,S){this.tpos.push(this.tstack.length),this.tstack.push([L.Type[v],S])},L.prototype.writeSetEnd=function(){for(var v=this.tpos.pop();this.tstack.length>v+1;){var S=this.tstack[v+1];this.tstack.splice(v+1,1),this.tstack[v].push(S)}this.tstack[v]="["+this.tstack[v].join(",")+"]",this.writeToTransportIfStackIsFlushable()},L.prototype.writeBool=function(v){this.tstack.push(v?1:0)},L.prototype.writeByte=function(v){this.tstack.push(v)},L.prototype.writeI16=function(v){this.tstack.push(v)},L.prototype.writeI32=function(v){this.tstack.push(v)},L.prototype.writeI64=function(v){v instanceof a?this.tstack.push(m.toDecimalString(v)):this.tstack.push(v)},L.prototype.writeDouble=function(v){this.tstack.push(v)},L.prototype.writeString=function(v){if(v===null)this.tstack.push(null);else{if(typeof v=="string")var S=v;else if(v instanceof u)var S=v.toString("utf8");else throw new Error("writeString called without a string/Buffer argument: "+v);for(var x="",F=0;F<S.length;F++){var k=S.charAt(F);k==='"'?x+='\\"':k==="\\"?x+="\\\\":k==="\b"?x+="\\b":k==="\f"?x+="\\f":k===`
`?x+="\\n":k==="\r"?x+="\\r":k==="	"?x+="\\t":x+=k}this.tstack.push('"'+x+'"')}},L.prototype.writeBinary=function(v){if(typeof v=="string")var S=new u(v,"binary");else if(v instanceof u||Object.prototype.toString.call(v)=="[object Uint8Array]")var S=v;else throw new Error("writeBinary called without a string/Buffer argument: "+v);this.tstack.push('"'+S.toString("base64")+'"')},L.prototype.readMessageBegin=function(){this.rstack=[],this.rpos=[];var v=this.trans.borrow();if(v.readIndex>=v.writeIndex)throw new b;var S=v.readIndex;if(v.buf[S]!==91)throw new Error("Malformed JSON input, no opening bracket");S++;for(var x=1,F=!1;S<v.writeIndex;S++){var k=v.buf[S];if(F)k===34?F=!1:k===92&&(S+=1);else if(k===91)x+=1;else if(k===93){if(x-=1,x===0)break}else k===34&&(F=!0)}if(x!==0)throw new b;this.robj=o(v.buf.slice(v.readIndex,S+1).toString()),this.trans.consume(S+1-v.readIndex);var A=this.robj.shift();if(A!=L.Version)throw new Error("Wrong thrift protocol version: "+A);var M={};return M.fname=this.robj.shift(),M.mtype=this.robj.shift(),M.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),M},L.prototype.readMessageEnd=function(){},L.prototype.readStructBegin=function(){var v={};return v.fname="",this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),v},L.prototype.readStructEnd=function(){this.rstack.pop()},L.prototype.readFieldBegin=function(){var v={},S=-1,x=w.STOP;for(var F in this.rstack[this.rstack.length-1])if(F!==null){S=parseInt(F,10),this.rpos.push(this.rstack.length);var k=this.rstack[this.rstack.length-1][S];delete this.rstack[this.rstack.length-1][S],this.rstack.push(k);break}if(S!=-1)for(var A in this.rstack[this.rstack.length-1])L.RType[A]!==null&&(x=L.RType[A],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][A]);return v.fname="",v.ftype=x,v.fid=S,v},L.prototype.readFieldEnd=function(){for(var v=this.rpos.pop();this.rstack.length>v;)this.rstack.pop()},L.prototype.readMapBegin=function(){var v=this.rstack.pop(),S=v.shift();S instanceof Array&&(this.rstack.push(v),v=S,S=v.shift());var x={};return x.ktype=L.RType[S],x.vtype=L.RType[v.shift()],x.size=v.shift(),this.rpos.push(this.rstack.length),this.rstack.push(v.shift()),x},L.prototype.readMapEnd=function(){this.readFieldEnd()},L.prototype.readListBegin=function(){var v=this.rstack[this.rstack.length-1],S={};return S.etype=L.RType[v.shift()],S.size=v.shift(),this.rpos.push(this.rstack.length),this.rstack.push(v.shift()),S},L.prototype.readListEnd=function(){var v=this.rpos.pop()-2,S=this.rstack;S.pop(),S instanceof Array&&S.length>v&&S[v].length>0&&S.push(S[v].shift())},L.prototype.readSetBegin=function(){return this.readListBegin()},L.prototype.readSetEnd=function(){return this.readListEnd()},L.prototype.readBool=function(){return this.readValue()=="1"},L.prototype.readByte=function(){return this.readI32()},L.prototype.readI16=function(){return this.readI32()},L.prototype.readI32=function(v){return+this.readValue()},L.prototype.readValue=function(v){v===void 0&&(v=this.rstack[this.rstack.length-1]);var S={};if(v instanceof Array)v.length===0?S.value=void 0:S.value=v.shift();else if(!(v instanceof a)&&v instanceof Object){for(var x in v)if(x!==null){this.rstack.push(v[x]),delete v[x],S.value=x;break}}else S.value=v,this.rstack.pop();return S.value},L.prototype.readI64=function(){var v=this.readValue();return typeof v=="string"?m.fromDecimalString(v):new a(v)},L.prototype.readDouble=function(){return this.readI32()},L.prototype.readBinary=function(){return new u(this.readValue(),"base64")},L.prototype.readString=function(){return this.readValue()},L.prototype.getTransport=function(){return this.trans},L.prototype.skip=function(v){switch(v){case w.BOOL:this.readBool();break;case w.BYTE:this.readByte();break;case w.I16:this.readI16();break;case w.I32:this.readI32();break;case w.I64:this.readI64();break;case w.DOUBLE:this.readDouble();break;case w.STRING:this.readString();break;case w.STRUCT:for(this.readStructBegin();;){var S=this.readFieldBegin();if(S.ftype===w.STOP)break;this.skip(S.ftype),this.readFieldEnd()}this.readStructEnd();break;case w.MAP:for(var x=this.readMapBegin(),F=0;F<x.size;++F)this.skip(x.ktype),this.skip(x.vtype);this.readMapEnd();break;case w.SET:for(var k=this.readSetBegin(),A=0;A<k.size;++A)this.skip(k.etype);this.readSetEnd();break;case w.LIST:for(var M=this.readListBegin(),C=0;C<M.size;++C)this.skip(M.etype);this.readListEnd();break;default:throw new Error("Invalid type: "+v)}}},1291:(c,d,f)=>{var u=f(9539),a=function(){},y=console.log,w="error";function m(F){return function(){var k=["thrift: ["+F+"] "].concat(Array.from(arguments));return y(u.format.apply(null,k))}}var o=a,b=a,L=a,v=a,S=a;d.setLogFunc=function(F){y=F};var x=d.setLogLevel=function(F){switch(o=b=L=v=S=a,w=F,w){case"trace":o=m("TRACE");case"debug":b=m("DEBUG");case"error":L=m("ERROR");case"warning":v=m("WARN");case"info":S=m("INFO")}};x(w),d.getLogLevel=function(){return w},d.trace=function(){return o.apply(null,arguments)},d.debug=function(){return b.apply(null,arguments)},d.error=function(){return L.apply(null,arguments)},d.warning=function(){return v.apply(null,arguments)},d.info=function(){return S.apply(null,arguments)}},4184:(c,d,f)=>{var u=f(9539),a=f(5406);d.Multiplexer=w;function y(m,o,b){function L(v,S,x){o.call(this,v,S,x)}return u.inherits(L,o),L.prototype.writeMessageBegin=function(v,S,x){S==a.MessageType.CALL||S==a.MessageType.ONEWAY?(b.seqId2Service[x]=m,L.super_.prototype.writeMessageBegin.call(this,m+":"+v,S,x)):L.super_.prototype.writeMessageBegin.call(this,v,S,x)},L}function w(){this.seqid=0}w.prototype.createClient=function(m,o,b){o.Client&&(o=o.Client);var L=function(k,A){b.write(k,A)},v=new b.transport(void 0,L),S=new y(m,b.protocol,b),x=new o(v,S),F=this;return x.new_seqid=function(){return F.seqid+=1,F.seqid},typeof b.client!="object"&&(b.client={}),b.client[m]=x,x}},5406:(c,d,f)=>{var u=f(9539),a=d.Type={STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17};d.MessageType={CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},d.TException=y;function y(v){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=v}u.inherits(y,Error);var w=d.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5,INTERNAL_ERROR:6,PROTOCOL_ERROR:7,INVALID_TRANSFORM:8,INVALID_PROTOCOL:9,UNSUPPORTED_CLIENT_TYPE:10};d.TApplicationException=m;function m(v,S){y.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.type=v||w.UNKNOWN,this.name=this.constructor.name,this.message=S}u.inherits(m,y),m.prototype.read=function(v){for(var S=v.readStructBegin("TApplicationException");S=v.readFieldBegin(),S.ftype!=a.STOP;){switch(S.fid){case 1:S.ftype==a.STRING?(S=v.readString(),this.message=S):S=v.skip(S.ftype);break;case 2:S.ftype==a.I32?(S=v.readI32(),this.type=S):S=v.skip(S.ftype);break;default:S=v.skip(S.ftype);break}v.readFieldEnd()}v.readStructEnd()},m.prototype.write=function(v){v.writeStructBegin("TApplicationException"),this.message&&(v.writeFieldBegin("message",a.STRING,1),v.writeString(this.message),v.writeFieldEnd()),this.code&&(v.writeFieldBegin("type",a.I32,2),v.writeI32(this.code),v.writeFieldEnd()),v.writeFieldStop(),v.writeStructEnd()},d.TProtocolExceptionType={UNKNOWN:0,INVALID_DATA:1,NEGATIVE_SIZE:2,SIZE_LIMIT:3,BAD_VERSION:4,NOT_IMPLEMENTED:5,DEPTH_LIMIT:6},d.TProtocolException=o;function o(v,S){Error.call(this),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.type=v,this.message=S}u.inherits(o,Error),d.objectLength=function(v){return Object.keys(v).length},d.inherits=function(v,S){u.inherits(v,S)};var b,L;b=function(v,S){if(!v)return v;var x;S.shift===void 0?x=S:x=S[0];var F=x,k=v.length,A=[],M,C;for(M=0;M<k;M++)C=v[M],x===null?A.push(C):x===L||x===b?A.push(x(C,S.slice(1))):A.push(new F(C));return A},L=function(v,S){if(!v)return v;var x;S.shift===void 0?x=S:x=S[0];var F=x,k={},A;for(var M in v)v.hasOwnProperty(M)&&(A=v[M],x===null?k[M]=A:x===L||x===b?k[M]=x(A,S.slice(1)):k[M]=new F(A));return k},c.exports.copyMap=L,c.exports.copyList=b},5455:(c,d,f)=>{var u=f(8764).Buffer,a=f(9539),y=f(6792),w=f(7187).EventEmitter,m=f(5406),o=f(8869),b=f(5086),L=f(3590),v=f(6243),S=f(3818);d.WSConnection=x;function x(F,k,A){w.call(this),this.options=A||{},this.host=F,this.port=k,this.secure=this.options.secure||!1,this.transport=this.options.transport||o,this.protocol=this.options.protocol||b,this.path=this.options.path,this.send_pending=[],this.seqId2Service={},this.wsOptions={host:this.host,port:this.port||80,path:this.options.path||"/",headers:this.options.headers||{}};for(var M in this.options.wsOptions)this.wsOptions[M]=this.options.wsOptions[M]}a.inherits(x,w),x.prototype.__reset=function(){this.socket=null,this.send_pending=[]},x.prototype.__onOpen=function(){this.emit("open"),this.send_pending.length>0&&(this.send_pending.forEach(function(F){this.socket.send(F)},this),this.send_pending=[])},x.prototype.__onClose=function(F){this.emit("close"),this.__reset()},x.prototype.__decodeCallback=function(F){var k=new this.protocol(F);try{for(;;){var A=k.readMessageBegin(),M=A.rseqid*-1,C=this.client,R=this.seqId2Service[A.rseqid];R&&(C=this.client[R],delete this.seqId2Service[A.rseqid]),C._reqs[M]=function(D,U){F.commitPosition();var X=C._reqs[A.rseqid];delete C._reqs[A.rseqid],X&&X(D,U)},C["recv_"+A.fname]?C["recv_"+A.fname](k,A.mtype,M):(delete C._reqs[M],this.emit("error",new m.TApplicationException(m.TApplicationExceptionType.WRONG_METHOD_NAME,"Received a response to an unknown RPC function")))}}catch(D){if(D instanceof L)F.rollbackPosition();else throw D}},x.prototype.__onData=function(F){Object.prototype.toString.call(F)==="[object ArrayBuffer]"&&(F=new Uint8Array(F));var k=new u(F);this.transport.receiver(this.__decodeCallback.bind(this))(k)},x.prototype.__onMessage=function(F){this.__onData(F.data)},x.prototype.__onError=function(F){this.emit("error",F),this.socket.close()},x.prototype.isOpen=function(){return this.socket&&this.socket.readyState===this.socket.OPEN},x.prototype.open=function(){this.socket&&this.socket.readyState!==this.socket.CLOSED||(S.isBrowser?this.socket=new y(this.uri()):this.socket=new y(this.uri(),"",this.wsOptions),this.socket.binaryType="arraybuffer",this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},x.prototype.close=function(){this.socket.close()},x.prototype.uri=function(){var F=this.secure?"wss":"ws",k="",A=this.path||"/",M=this.host;return this.port&&(F==="wss"&&this.port!==443||F==="ws"&&this.port!==80)&&(k=":"+this.port),F+"://"+M+k+A},x.prototype.write=function(F){this.isOpen()?this.socket.send(F):this.send_pending.push(F)},d.createWSConnection=function(F,k,A){return new x(F,k,A)},d.createWSClient=v},5764:(c,d,f)=>{var u=f(1291);c.exports=a;function a(y){this.__reset(y)}a.prototype.__reset=function(y){this.url=y,this.socket=null,this.callbacks=[],this.send_pending=[],this.send_buf="",this.recv_buf="",this.rb_wpos=0,this.rb_rpos=0},a.prototype.flush=function(y,w){var m=this;this.isOpen()?(this.socket.send(this.send_buf),this.callbacks.push(function(){var o=w;return function(b){m.setRecvBuffer(b),o()}}())):this.send_pending.push({buf:this.send_buf,cb:w})},a.prototype.__onOpen=function(){var y=this;this.send_pending.length>0&&(this.send_pending.forEach(function(w){y.socket.send(w.buf),y.callbacks.push(function(){var m=w.cb;return function(o){y.setRecvBuffer(o),m()}}())}),this.send_pending=[])},a.prototype.__onClose=function(y){this.__reset(this.url)},a.prototype.__onMessage=function(y){this.callbacks.length&&this.callbacks.shift()(y.data)},a.prototype.__onError=function(y){u.error("websocket: "+y.toString()),this.socket.close()},a.prototype.setRecvBuffer=function(y){this.recv_buf=y,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0},a.prototype.isOpen=function(){return this.socket&&this.socket.readyState==this.socket.OPEN},a.prototype.open=function(){this.socket&&this.socket.readyState!=this.socket.CLOSED||(this.socket=new WebSocket(this.url),this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},a.prototype.close=function(){this.socket.close()},a.prototype.read=function(y){var w=this.wpos-this.rpos;if(w===0)return"";var m=y;w<y&&(m=w);var o=this.read_buf.substr(this.rpos,m);return this.rpos+=m,o},a.prototype.readAll=function(){return this.recv_buf},a.prototype.write=function(y){this.send_buf=y},a.prototype.getSendBuffer=function(){return this.send_buf}},4050:(c,d,f)=>{var u=f(8764).Buffer,a=f(9539),y=f(7187).EventEmitter,w=f(5406),m=f(8869),o=f(5086),b=f(3590),L=f(6243);d.XHRConnection=v;function v(S,x,F){this.options=F||{},this.wpos=0,this.rpos=0,this.useCORS=F&&F.useCORS,this.send_buf="",this.recv_buf="",this.transport=F.transport||m,this.protocol=F.protocol||o,this.headers=F.headers||{},S=S||window.location.host,x=x||window.location.port;var k=F.https?"https://":"http://",A=F.path||"/";x===""&&(x=void 0),!x||x===80||x==="80"?this.url=k+S+A:this.url=k+S+":"+x+A,this.seqId2Service={}}a.inherits(v,y),v.prototype.getXmlHttpRequestObject=function(){try{return new XMLHttpRequest}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}throw"Your browser doesn't support XHR."},v.prototype.flush=function(){var S=this;if(this.url===void 0||this.url==="")return this.send_buf;var x=this.getXmlHttpRequestObject();x.overrideMimeType&&x.overrideMimeType("application/json"),x.onreadystatechange=function(){this.readyState==4&&this.status==200&&S.setRecvBuffer(this.responseText)},x.open("POST",this.url,!0),Object.keys(this.headers).forEach(function(F){x.setRequestHeader(F,S.headers[F])}),x.send(this.send_buf)},v.prototype.setRecvBuffer=function(S){if(this.recv_buf=S,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0,Object.prototype.toString.call(S)=="[object ArrayBuffer]")var x=new Uint8Array(S);var F=new u(x||S);this.transport.receiver(this.__decodeCallback.bind(this))(F)},v.prototype.__decodeCallback=function(S){var x=new this.protocol(S);try{for(;;){var F=x.readMessageBegin(),k=F.rseqid*-1,A=this.client,M=this.seqId2Service[F.rseqid];M&&(A=this.client[M],delete this.seqId2Service[F.rseqid]),A._reqs[k]=function(C,R){S.commitPosition();var D=A._reqs[F.rseqid];delete A._reqs[F.rseqid],D&&D(C,R)},A["recv_"+F.fname]?A["recv_"+F.fname](x,F.mtype,k):(delete A._reqs[k],this.emit("error",new w.TApplicationException(w.TApplicationExceptionType.WRONG_METHOD_NAME,"Received a response to an unknown RPC function")))}}catch(C){if(C instanceof b)S.rollbackPosition();else throw C}},v.prototype.isOpen=function(){return!0},v.prototype.open=function(){},v.prototype.close=function(){},v.prototype.read=function(S){var x=this.wpos-this.rpos;if(x===0)return"";var F=S;x<S&&(F=x);var k=this.read_buf.substr(this.rpos,F);return this.rpos+=F,k},v.prototype.readAll=function(){return this.recv_buf},v.prototype.write=function(S){this.send_buf=S,this.flush()},v.prototype.getSendBuffer=function(){return this.send_buf},d.createXHRConnection=function(S,x,F){return new v(S,x,F)},d.createXHRClient=L},384:c=>{c.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},5955:(c,d,f)=>{var u=f(2584),a=f(8662),y=f(6430),w=f(5692);function m(ue){return ue.call.bind(ue)}var o=typeof BigInt<"u",b=typeof Symbol<"u",L=m(Object.prototype.toString),v=m(Number.prototype.valueOf),S=m(String.prototype.valueOf),x=m(Boolean.prototype.valueOf);if(o)var F=m(BigInt.prototype.valueOf);if(b)var k=m(Symbol.prototype.valueOf);function A(ue,oi){if(typeof ue!="object")return!1;try{return oi(ue),!0}catch{return!1}}d.isArgumentsObject=u,d.isGeneratorFunction=a,d.isTypedArray=w;function M(ue){return typeof Promise<"u"&&ue instanceof Promise||ue!==null&&typeof ue=="object"&&typeof ue.then=="function"&&typeof ue.catch=="function"}d.isPromise=M;function C(ue){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ue):w(ue)||z(ue)}d.isArrayBufferView=C;function R(ue){return y(ue)==="Uint8Array"}d.isUint8Array=R;function D(ue){return y(ue)==="Uint8ClampedArray"}d.isUint8ClampedArray=D;function U(ue){return y(ue)==="Uint16Array"}d.isUint16Array=U;function X(ue){return y(ue)==="Uint32Array"}d.isUint32Array=X;function j(ue){return y(ue)==="Int8Array"}d.isInt8Array=j;function G(ue){return y(ue)==="Int16Array"}d.isInt16Array=G;function V(ue){return y(ue)==="Int32Array"}d.isInt32Array=V;function W(ue){return y(ue)==="Float32Array"}d.isFloat32Array=W;function Z(ue){return y(ue)==="Float64Array"}d.isFloat64Array=Z;function q(ue){return y(ue)==="BigInt64Array"}d.isBigInt64Array=q;function oe(ue){return y(ue)==="BigUint64Array"}d.isBigUint64Array=oe;function fe(ue){return L(ue)==="[object Map]"}fe.working=typeof Map<"u"&&fe(new Map);function ne(ue){return typeof Map>"u"?!1:fe.working?fe(ue):ue instanceof Map}d.isMap=ne;function xe(ue){return L(ue)==="[object Set]"}xe.working=typeof Set<"u"&&xe(new Set);function le(ue){return typeof Set>"u"?!1:xe.working?xe(ue):ue instanceof Set}d.isSet=le;function Se(ue){return L(ue)==="[object WeakMap]"}Se.working=typeof WeakMap<"u"&&Se(new WeakMap);function Ae(ue){return typeof WeakMap>"u"?!1:Se.working?Se(ue):ue instanceof WeakMap}d.isWeakMap=Ae;function Ze(ue){return L(ue)==="[object WeakSet]"}Ze.working=typeof WeakSet<"u"&&Ze(new WeakSet);function gt(ue){return Ze(ue)}d.isWeakSet=gt;function wt(ue){return L(ue)==="[object ArrayBuffer]"}wt.working=typeof ArrayBuffer<"u"&&wt(new ArrayBuffer);function _e(ue){return typeof ArrayBuffer>"u"?!1:wt.working?wt(ue):ue instanceof ArrayBuffer}d.isArrayBuffer=_e;function H(ue){return L(ue)==="[object DataView]"}H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1));function z(ue){return typeof DataView>"u"?!1:H.working?H(ue):ue instanceof DataView}d.isDataView=z;function P(ue){return L(ue)==="[object SharedArrayBuffer]"}P.working=typeof SharedArrayBuffer<"u"&&P(new SharedArrayBuffer);function K(ue){return typeof SharedArrayBuffer>"u"?!1:P.working?P(ue):ue instanceof SharedArrayBuffer}d.isSharedArrayBuffer=K;function J(ue){return L(ue)==="[object AsyncFunction]"}d.isAsyncFunction=J;function re(ue){return L(ue)==="[object Map Iterator]"}d.isMapIterator=re;function se(ue){return L(ue)==="[object Set Iterator]"}d.isSetIterator=se;function pe(ue){return L(ue)==="[object Generator]"}d.isGeneratorObject=pe;function Ee(ue){return L(ue)==="[object WebAssembly.Module]"}d.isWebAssemblyCompiledModule=Ee;function We(ue){return A(ue,v)}d.isNumberObject=We;function Ht(ue){return A(ue,S)}d.isStringObject=Ht;function ln(ue){return A(ue,x)}d.isBooleanObject=ln;function Ot(ue){return o&&A(ue,F)}d.isBigIntObject=Ot;function ai(ue){return b&&A(ue,k)}d.isSymbolObject=ai;function Pi(ue){return We(ue)||Ht(ue)||ln(ue)||Ot(ue)||ai(ue)}d.isBoxedPrimitive=Pi;function Mn(ue){return typeof Uint8Array<"u"&&(_e(ue)||K(ue))}d.isAnyArrayBuffer=Mn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ue){Object.defineProperty(d,ue,{enumerable:!1,value:function(){throw new Error(ue+" is not supported in userland")}})})},9539:(c,d,f)=>{var u=Object.getOwnPropertyDescriptors||function(z){for(var P=Object.keys(z),K={},J=0;J<P.length;J++)K[P[J]]=Object.getOwnPropertyDescriptor(z,P[J]);return K},a=/%[sdj%]/g;d.format=function(H){if(!j(H)){for(var z=[],P=0;P<arguments.length;P++)z.push(o(arguments[P]));return z.join(" ")}for(var P=1,K=arguments,J=K.length,re=String(H).replace(a,function(pe){if(pe==="%%")return"%";if(P>=J)return pe;switch(pe){case"%s":return String(K[P++]);case"%d":return Number(K[P++]);case"%j":try{return JSON.stringify(K[P++])}catch{return"[Circular]"}default:return pe}}),se=K[P];P<J;se=K[++P])D(se)||!Z(se)?re+=" "+se:re+=" "+o(se);return re},d.deprecate=function(H,z){if(typeof process<"u"&&process.noDeprecation===!0)return H;if(typeof process>"u")return function(){return d.deprecate(H,z).apply(this,arguments)};var P=!1;function K(){if(!P){if(process.throwDeprecation)throw new Error(z);process.traceDeprecation?console.trace(z):console.error(z),P=!0}return H.apply(this,arguments)}return K};var y={},w=/^$/;if({BROWSER:!0}.NODE_DEBUG){var m={BROWSER:!0}.NODE_DEBUG;m=m.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+m+"$","i")}d.debuglog=function(H){if(H=H.toUpperCase(),!y[H])if(w.test(H)){var z=process.pid;y[H]=function(){var P=d.format.apply(d,arguments);console.error("%s %d: %s",H,z,P)}}else y[H]=function(){};return y[H]};function o(H,z){var P={seen:[],stylize:L};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),R(z)?P.showHidden=z:z&&d._extend(P,z),V(P.showHidden)&&(P.showHidden=!1),V(P.depth)&&(P.depth=2),V(P.colors)&&(P.colors=!1),V(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=b),S(P,H,P.depth)}d.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(H,z){var P=o.styles[z];return P?"\x1B["+o.colors[P][0]+"m"+H+"\x1B["+o.colors[P][1]+"m":H}function L(H,z){return H}function v(H){var z={};return H.forEach(function(P,K){z[P]=!0}),z}function S(H,z,P){if(H.customInspect&&z&&fe(z.inspect)&&z.inspect!==d.inspect&&!(z.constructor&&z.constructor.prototype===z)){var K=z.inspect(P,H);return j(K)||(K=S(H,K,P)),K}var J=x(H,z);if(J)return J;var re=Object.keys(z),se=v(re);if(H.showHidden&&(re=Object.getOwnPropertyNames(z)),oe(z)&&(re.indexOf("message")>=0||re.indexOf("description")>=0))return F(z);if(re.length===0){if(fe(z)){var pe=z.name?": "+z.name:"";return H.stylize("[Function"+pe+"]","special")}if(W(z))return H.stylize(RegExp.prototype.toString.call(z),"regexp");if(q(z))return H.stylize(Date.prototype.toString.call(z),"date");if(oe(z))return F(z)}var Ee="",We=!1,Ht=["{","}"];if(C(z)&&(We=!0,Ht=["[","]"]),fe(z)){var ln=z.name?": "+z.name:"";Ee=" [Function"+ln+"]"}if(W(z)&&(Ee=" "+RegExp.prototype.toString.call(z)),q(z)&&(Ee=" "+Date.prototype.toUTCString.call(z)),oe(z)&&(Ee=" "+F(z)),re.length===0&&(!We||z.length==0))return Ht[0]+Ee+Ht[1];if(P<0)return W(z)?H.stylize(RegExp.prototype.toString.call(z),"regexp"):H.stylize("[Object]","special");H.seen.push(z);var Ot;return We?Ot=k(H,z,P,se,re):Ot=re.map(function(ai){return A(H,z,P,se,ai,We)}),H.seen.pop(),M(Ot,Ee,Ht)}function x(H,z){if(V(z))return H.stylize("undefined","undefined");if(j(z)){var P="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(P,"string")}if(X(z))return H.stylize(""+z,"number");if(R(z))return H.stylize(""+z,"boolean");if(D(z))return H.stylize("null","null")}function F(H){return"["+Error.prototype.toString.call(H)+"]"}function k(H,z,P,K,J){for(var re=[],se=0,pe=z.length;se<pe;++se)Ze(z,String(se))?re.push(A(H,z,P,K,String(se),!0)):re.push("");return J.forEach(function(Ee){Ee.match(/^\d+$/)||re.push(A(H,z,P,K,Ee,!0))}),re}function A(H,z,P,K,J,re){var se,pe,Ee;if(Ee=Object.getOwnPropertyDescriptor(z,J)||{value:z[J]},Ee.get?Ee.set?pe=H.stylize("[Getter/Setter]","special"):pe=H.stylize("[Getter]","special"):Ee.set&&(pe=H.stylize("[Setter]","special")),Ze(K,J)||(se="["+J+"]"),pe||(H.seen.indexOf(Ee.value)<0?(D(P)?pe=S(H,Ee.value,null):pe=S(H,Ee.value,P-1),pe.indexOf(`
`)>-1&&(re?pe=pe.split(`
`).map(function(We){return"  "+We}).join(`
`).substr(2):pe=`
`+pe.split(`
`).map(function(We){return"   "+We}).join(`
`))):pe=H.stylize("[Circular]","special")),V(se)){if(re&&J.match(/^\d+$/))return pe;se=JSON.stringify(""+J),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.substr(1,se.length-2),se=H.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=H.stylize(se,"string"))}return se+": "+pe}function M(H,z,P){var K=H.reduce(function(J,re){return re.indexOf(`
`)>=0,J+re.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?P[0]+(z===""?"":z+`
 `)+" "+H.join(`,
  `)+" "+P[1]:P[0]+z+" "+H.join(", ")+" "+P[1]}d.types=f(5955);function C(H){return Array.isArray(H)}d.isArray=C;function R(H){return typeof H=="boolean"}d.isBoolean=R;function D(H){return H===null}d.isNull=D;function U(H){return H==null}d.isNullOrUndefined=U;function X(H){return typeof H=="number"}d.isNumber=X;function j(H){return typeof H=="string"}d.isString=j;function G(H){return typeof H=="symbol"}d.isSymbol=G;function V(H){return H===void 0}d.isUndefined=V;function W(H){return Z(H)&&xe(H)==="[object RegExp]"}d.isRegExp=W,d.types.isRegExp=W;function Z(H){return typeof H=="object"&&H!==null}d.isObject=Z;function q(H){return Z(H)&&xe(H)==="[object Date]"}d.isDate=q,d.types.isDate=q;function oe(H){return Z(H)&&(xe(H)==="[object Error]"||H instanceof Error)}d.isError=oe,d.types.isNativeError=oe;function fe(H){return typeof H=="function"}d.isFunction=fe;function ne(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||typeof H>"u"}d.isPrimitive=ne,d.isBuffer=f(384);function xe(H){return Object.prototype.toString.call(H)}function le(H){return H<10?"0"+H.toString(10):H.toString(10)}var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ae(){var H=new Date,z=[le(H.getHours()),le(H.getMinutes()),le(H.getSeconds())].join(":");return[H.getDate(),Se[H.getMonth()],z].join(" ")}d.log=function(){console.log("%s - %s",Ae(),d.format.apply(d,arguments))},d.inherits=f(5717),d._extend=function(H,z){if(!z||!Z(z))return H;for(var P=Object.keys(z),K=P.length;K--;)H[P[K]]=z[P[K]];return H};function Ze(H,z){return Object.prototype.hasOwnProperty.call(H,z)}var gt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;d.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(gt&&z[gt]){var P=z[gt];if(typeof P!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(P,gt,{value:P,enumerable:!1,writable:!1,configurable:!0}),P}function P(){for(var K,J,re=new Promise(function(Ee,We){K=Ee,J=We}),se=[],pe=0;pe<arguments.length;pe++)se.push(arguments[pe]);se.push(function(Ee,We){Ee?J(Ee):K(We)});try{z.apply(this,se)}catch(Ee){J(Ee)}return re}return Object.setPrototypeOf(P,Object.getPrototypeOf(z)),gt&&Object.defineProperty(P,gt,{value:P,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(P,u(z))},d.promisify.custom=gt;function wt(H,z){if(!H){var P=new Error("Promise was rejected with a falsy value");P.reason=H,H=P}return z(H)}function _e(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var P=[],K=0;K<arguments.length;K++)P.push(arguments[K]);var J=P.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var re=this,se=function(){return J.apply(re,arguments)};H.apply(this,P).then(function(pe){process.nextTick(se.bind(null,null,pe))},function(pe){process.nextTick(wt.bind(null,pe,se))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(H)),Object.defineProperties(z,u(H)),z}d.callbackify=_e},6430:(c,d,f)=>{var u=f(9804),a=f(6314),y=f(8914),w=y("Object.prototype.toString"),m=f(1405)(),o=m&&typeof Symbol.toStringTag=="symbol",b=a(),L=y("String.prototype.slice"),v={},S=f(4079),x=Object.getPrototypeOf;o&&S&&x&&u(b,function(A){if(typeof f.g[A]=="function"){var M=new f.g[A];if(!(Symbol.toStringTag in M))throw new EvalError("this engine has support for Symbol.toStringTag, but "+A+" does not have the property! Please report this.");var C=x(M),R=S(C,Symbol.toStringTag);if(!R){var D=x(C);R=S(D,Symbol.toStringTag)}v[A]=R.get}});var F=function(M){var C=!1;return u(v,function(R,D){if(!C)try{var U=R.call(M);U===D&&(C=U)}catch{}}),C},k=f(5692);c.exports=function(M){return k(M)?o?F(M):L(w(M),8,-1):!1}},4221:(c,d,f)=>{const a=f(9262).Thrift;f(135),f(2818);const y=f(4494),w=f(3962),m=f(1396),o=f(2607),b=class{constructor(r){this.user=null,this.passwd=null,this.dbname=null,r&&(r.user!==void 0&&r.user!==null&&(this.user=r.user),r.passwd!==void 0&&r.passwd!==null&&(this.passwd=r.passwd),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.user=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.passwd=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.dbname=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_connect_args"),this.user!==null&&this.user!==void 0&&(r.writeFieldBegin("user",a.Type.STRING,1),r.writeString(this.user),r.writeFieldEnd()),this.passwd!==null&&this.passwd!==void 0&&(r.writeFieldBegin("passwd",a.Type.STRING,2),r.writeString(this.passwd),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",a.Type.STRING,3),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},L=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_connect_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},v=class{constructor(r){this.inputToken=null,this.dbname=null,r&&(r.inputToken!==void 0&&r.inputToken!==null&&(this.inputToken=r.inputToken),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.inputToken=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.dbname=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_krb5_connect_args"),this.inputToken!==null&&this.inputToken!==void 0&&(r.writeFieldBegin("inputToken",a.Type.STRING,1),r.writeString(this.inputToken),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",a.Type.STRING,2),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},S=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TKrb5Session(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TKrb5Session,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_krb5_connect_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},x=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_disconnect_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},F=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_disconnect_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},k=class{constructor(r){this.session=null,this.dbname=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dbname!==void 0&&r.dbname!==null&&(this.dbname=r.dbname))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.dbname=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_switch_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dbname!==null&&this.dbname!==void 0&&(r.writeFieldBegin("dbname",a.Type.STRING,2),r.writeString(this.dbname),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},A=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_switch_database_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},M=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clone_session_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},C=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clone_session_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},R=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_server_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},D=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TServerStatus(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TServerStatus,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_server_status_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},U=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},X=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TServerStatus])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TServerStatus,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_status_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},j=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_hardware_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},G=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TClusterHardwareInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TClusterHardwareInfo,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_hardware_info_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},V=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},W=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Z=class{constructor(r){this.session=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.database_name=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",a.Type.STRING,2),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},q=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_for_database_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},oe=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_physical_tables_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},fe=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_physical_tables_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ne=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_views_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xe=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_views_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},le=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_tables_meta_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Se=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TTableMeta])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TTableMeta,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_tables_meta_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ae=class{constructor(r){this.session=null,this.table_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ze=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TTableDetails,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},gt=class{constructor(r){this.session=null,this.table_name=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.database_name=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",a.Type.STRING,3),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},wt=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TTableDetails,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_details_for_database_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_e=class{constructor(r){this.session=null,this.table_name=null,this.include_system_columns=!0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.include_system_columns!==void 0&&r.include_system_columns!==null&&(this.include_system_columns=r.include_system_columns))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.BOOL?this.include_system_columns=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.include_system_columns!==null&&this.include_system_columns!==void 0&&(r.writeFieldBegin("include_system_columns",a.Type.BOOL,3),r.writeBool(this.include_system_columns),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},H=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TTableDetails,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},z=class{constructor(r){this.session=null,this.table_name=null,this.database_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.database_name!==void 0&&r.database_name!==null&&(this.database_name=r.database_name))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.database_name=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_for_database_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.database_name!==null&&this.database_name!==void 0&&(r.writeFieldBegin("database_name",a.Type.STRING,3),r.writeString(this.database_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},P=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TTableDetails(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TTableDetails,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_internal_table_details_for_database_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},K=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_users_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},J=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_users_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},re=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_databases_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},se=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TDBInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TDBInfo,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_databases_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},pe=class{constructor(r){}read(r){for(r.readStructBegin();;){const _=r.readFieldBegin().ftype;if(_==a.Type.STOP)break;r.skip(_),r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_version_args"),r.writeFieldStop(),r.writeStructEnd()}},Ee=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_version_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},We=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ht=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_heap_profile_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ln=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_stop_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ot=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_stop_heap_profile_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ai=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_heap_profile_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Pi=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_heap_profile_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Mn=class{constructor(r){this.session=null,this.memory_level=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.memory_level!==void 0&&r.memory_level!==null&&(this.memory_level=r.memory_level))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.memory_level=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.memory_level!==null&&this.memory_level!==void 0&&(r.writeFieldBegin("memory_level",a.Type.STRING,2),r.writeString(this.memory_level),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ue=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TNodeMemoryInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TNodeMemoryInfo,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_memory_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},oi=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_cpu_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ft=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_cpu_memory_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Yt=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_gpu_memory_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Tt=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_clear_gpu_memory_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},nn=class{constructor(r){this.parent_session=null,this.leaf_session=null,this.start_time_str=null,this.label=null,this.for_running_query_kernel=null,r&&(r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.label!==void 0&&r.label!==null&&(this.label=r.label),r.for_running_query_kernel!==void 0&&r.for_running_query_kernel!==null&&(this.for_running_query_kernel=r.for_running_query_kernel))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.parent_session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.leaf_session=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.start_time_str=r.readString():r.skip(_);break;case 4:_==a.Type.STRING?this.label=r.readString():r.skip(_);break;case 5:_==a.Type.BOOL?this.for_running_query_kernel=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_cur_session_args"),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",a.Type.STRING,1),r.writeString(this.parent_session),r.writeFieldEnd()),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",a.Type.STRING,2),r.writeString(this.leaf_session),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",a.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),this.label!==null&&this.label!==void 0&&(r.writeFieldBegin("label",a.Type.STRING,4),r.writeString(this.label),r.writeFieldEnd()),this.for_running_query_kernel!==null&&this.for_running_query_kernel!==void 0&&(r.writeFieldBegin("for_running_query_kernel",a.Type.BOOL,5),r.writeBool(this.for_running_query_kernel),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},sn=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_cur_session_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Zt=class{constructor(r){this.parent_session=null,this.leaf_session=null,this.start_time_str=null,this.label=null,this.for_running_query_kernel=null,r&&(r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.label!==void 0&&r.label!==null&&(this.label=r.label),r.for_running_query_kernel!==void 0&&r.for_running_query_kernel!==null&&(this.for_running_query_kernel=r.for_running_query_kernel))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.parent_session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.leaf_session=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.start_time_str=r.readString():r.skip(_);break;case 4:_==a.Type.STRING?this.label=r.readString():r.skip(_);break;case 5:_==a.Type.BOOL?this.for_running_query_kernel=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_invalidate_cur_session_args"),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",a.Type.STRING,1),r.writeString(this.parent_session),r.writeFieldEnd()),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",a.Type.STRING,2),r.writeString(this.leaf_session),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",a.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),this.label!==null&&this.label!==void 0&&(r.writeFieldBegin("label",a.Type.STRING,4),r.writeString(this.label),r.writeFieldEnd()),this.for_running_query_kernel!==null&&this.for_running_query_kernel!==void 0&&(r.writeFieldBegin("for_running_query_kernel",a.Type.BOOL,5),r.writeBool(this.for_running_query_kernel),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},yn=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_invalidate_cur_session_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},N=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,this.new_epoch=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id),r.new_epoch!==void 0&&r.new_epoch!==null&&(this.new_epoch=r.new_epoch))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.db_id=r.readI32():r.skip(_);break;case 3:_==a.Type.I32?this.table_id=r.readI32():r.skip(_);break;case 4:_==a.Type.I32?this.new_epoch=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",a.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",a.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),this.new_epoch!==null&&this.new_epoch!==void 0&&(r.writeFieldBegin("new_epoch",a.Type.I32,4),r.writeI32(this.new_epoch),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},I=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},O=class{constructor(r){this.session=null,this.table_name=null,this.new_epoch=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.new_epoch!==void 0&&r.new_epoch!==null&&(this.new_epoch=r.new_epoch))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.I32?this.new_epoch=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_by_name_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.new_epoch!==null&&this.new_epoch!==void 0&&(r.writeFieldBegin("new_epoch",a.Type.I32,3),r.writeI32(this.new_epoch),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epoch_by_name_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Y=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.db_id=r.readI32():r.skip(_);break;case 3:_==a.Type.I32?this.table_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",a.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",a.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},te=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=r.success)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.I32?this.success=r.readI32():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ie=class{constructor(r){this.session=null,this.table_name=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_by_name_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Me=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=r.success)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.I32?this.success=r.readI32():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epoch_by_name_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$e=class{constructor(r){this.session=null,this.db_id=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.db_id=r.readI32():r.skip(_);break;case 3:_==a.Type.I32?this.table_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_epochs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",a.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",a.Type.I32,3),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},He=class{constructor(r){this.success=null,r&&r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TTableEpochInfo]))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TTableEpochInfo,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_epochs_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Xe=class{constructor(r){this.session=null,this.db_id=null,this.table_epochs=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.db_id!==void 0&&r.db_id!==null&&(this.db_id=r.db_id),r.table_epochs!==void 0&&r.table_epochs!==null&&(this.table_epochs=a.copyList(r.table_epochs,[o.TTableEpochInfo])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.db_id=r.readI32():r.skip(_);break;case 3:if(_==a.Type.LIST){this.table_epochs=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TTableEpochInfo,B.read(r),this.table_epochs.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_set_table_epochs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.db_id!==null&&this.db_id!==void 0&&(r.writeFieldBegin("db_id",a.Type.I32,2),r.writeI32(this.db_id),r.writeFieldEnd()),this.table_epochs!==null&&this.table_epochs!==void 0){r.writeFieldBegin("table_epochs",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.table_epochs.length);for(let g in this.table_epochs)this.table_epochs.hasOwnProperty(g)&&(g=this.table_epochs[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Ke=class{constructor(r){}read(r){for(r.readStructBegin();;){const _=r.readFieldBegin().ftype;if(_==a.Type.STOP)break;r.skip(_),r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_table_epochs_result"),r.writeFieldStop(),r.writeStructEnd()}},rl=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_session_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},J0=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TSessionInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TSessionInfo,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_session_info_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},TS=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_queries_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},e3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TQueryInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TQueryInfo,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_queries_info_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ES=class{constructor(r){this.session=null,this.leaf_info=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.leaf_info!==void 0&&r.leaf_info!==null&&(this.leaf_info=new o.TLeafInfo(r.leaf_info)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRUCT?(this.leaf_info=new o.TLeafInfo,this.leaf_info.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_leaf_info_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.leaf_info!==null&&this.leaf_info!==void 0&&(r.writeFieldBegin("leaf_info",a.Type.STRUCT,2),this.leaf_info.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},t3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_leaf_info_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},vS=class{constructor(r){this.session=null,this.query=null,this.column_format=null,this.nonce=null,this.first_n=-1,this.at_most_n=-1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.column_format!==void 0&&r.column_format!==null&&(this.column_format=r.column_format),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n),r.at_most_n!==void 0&&r.at_most_n!==null&&(this.at_most_n=r.at_most_n))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.query=r.readString():r.skip(_);break;case 3:_==a.Type.BOOL?this.column_format=r.readBool():r.skip(_);break;case 4:_==a.Type.STRING?this.nonce=r.readString():r.skip(_);break;case 5:_==a.Type.I32?this.first_n=r.readI32():r.skip(_);break;case 6:_==a.Type.I32?this.at_most_n=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",a.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.column_format!==null&&this.column_format!==void 0&&(r.writeFieldBegin("column_format",a.Type.BOOL,3),r.writeBool(this.column_format),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",a.Type.STRING,4),r.writeString(this.nonce),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",a.Type.I32,5),r.writeI32(this.first_n),r.writeFieldEnd()),this.at_most_n!==null&&this.at_most_n!==void 0&&(r.writeFieldBegin("at_most_n",a.Type.I32,6),r.writeI32(this.at_most_n),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},n3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TQueryResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TQueryResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},SS=class{constructor(r){this.session=null,this.query=null,this.device_type=null,this.device_id=0,this.first_n=-1,this.transport_method=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.device_type!==void 0&&r.device_type!==null&&(this.device_type=r.device_type),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n),r.transport_method!==void 0&&r.transport_method!==null&&(this.transport_method=r.transport_method))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.query=r.readString():r.skip(_);break;case 3:_==a.Type.I32?this.device_type=r.readI32():r.skip(_);break;case 4:_==a.Type.I32?this.device_id=r.readI32():r.skip(_);break;case 5:_==a.Type.I32?this.first_n=r.readI32():r.skip(_);break;case 6:_==a.Type.I32?this.transport_method=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_df_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",a.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(r.writeFieldBegin("device_type",a.Type.I32,3),r.writeI32(this.device_type),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",a.Type.I32,4),r.writeI32(this.device_id),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",a.Type.I32,5),r.writeI32(this.first_n),r.writeFieldEnd()),this.transport_method!==null&&this.transport_method!==void 0&&(r.writeFieldBegin("transport_method",a.Type.I32,6),r.writeI32(this.transport_method),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},i3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TDataFrame(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TDataFrame,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_df_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xS=class{constructor(r){this.session=null,this.query=null,this.device_id=0,this.first_n=-1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id),r.first_n!==void 0&&r.first_n!==null&&(this.first_n=r.first_n))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.query=r.readString():r.skip(_);break;case 3:_==a.Type.I32?this.device_id=r.readI32():r.skip(_);break;case 4:_==a.Type.I32?this.first_n=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_gdf_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",a.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",a.Type.I32,3),r.writeI32(this.device_id),r.writeFieldEnd()),this.first_n!==null&&this.first_n!==void 0&&(r.writeFieldBegin("first_n",a.Type.I32,4),r.writeI32(this.first_n),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},s3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TDataFrame(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TDataFrame,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_execute_gdf_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},kS=class{constructor(r){this.session=null,this.df=null,this.device_type=null,this.device_id=0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.df!==void 0&&r.df!==null&&(this.df=new o.TDataFrame(r.df)),r.device_type!==void 0&&r.device_type!==null&&(this.device_type=r.device_type),r.device_id!==void 0&&r.device_id!==null&&(this.device_id=r.device_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRUCT?(this.df=new o.TDataFrame,this.df.read(r)):r.skip(_);break;case 3:_==a.Type.I32?this.device_type=r.readI32():r.skip(_);break;case 4:_==a.Type.I32?this.device_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_deallocate_df_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.df!==null&&this.df!==void 0&&(r.writeFieldBegin("df",a.Type.STRUCT,2),this.df.write(r),r.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(r.writeFieldBegin("device_type",a.Type.I32,3),r.writeI32(this.device_type),r.writeFieldEnd()),this.device_id!==null&&this.device_id!==void 0&&(r.writeFieldBegin("device_id",a.Type.I32,4),r.writeI32(this.device_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},r3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_deallocate_df_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},BS=class{constructor(r){this.query_session=null,this.interrupt_session=null,r&&(r.query_session!==void 0&&r.query_session!==null&&(this.query_session=r.query_session),r.interrupt_session!==void 0&&r.interrupt_session!==null&&(this.interrupt_session=r.interrupt_session))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.query_session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.interrupt_session=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_interrupt_args"),this.query_session!==null&&this.query_session!==void 0&&(r.writeFieldBegin("query_session",a.Type.STRING,1),r.writeString(this.query_session),r.writeFieldEnd()),this.interrupt_session!==null&&this.interrupt_session!==void 0&&(r.writeFieldBegin("interrupt_session",a.Type.STRING,2),r.writeString(this.interrupt_session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},a3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_interrupt_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},FS=class{constructor(r){this.session=null,this.query=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.query=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_sql_validate_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",a.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},o3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TColumnType])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumnType,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_sql_validate_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},IS=class{constructor(r){this.session=null,this.sql=null,this.cursor=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.sql!==void 0&&r.sql!==null&&(this.sql=r.sql),r.cursor!==void 0&&r.cursor!==null&&(this.cursor=r.cursor))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.sql=r.readString():r.skip(_);break;case 3:_==a.Type.I32?this.cursor=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_completion_hints_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.sql!==null&&this.sql!==void 0&&(r.writeFieldBegin("sql",a.Type.STRING,2),r.writeString(this.sql),r.writeFieldEnd()),this.cursor!==null&&this.cursor!==void 0&&(r.writeFieldBegin("cursor",a.Type.I32,3),r.writeI32(this.cursor),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},l3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[y.TCompletionHint])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new y.TCompletionHint,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_completion_hints_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},MS=class{constructor(r){this.session=null,this.mode=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.mode!==void 0&&r.mode!==null&&(this.mode=r.mode))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.mode=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_execution_mode_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.mode!==null&&this.mode!==void 0&&(r.writeFieldBegin("mode",a.Type.I32,2),r.writeI32(this.mode),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},c3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_execution_mode_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},AS=class{constructor(r){this.session=null,this.widget_id=null,this.vega_json=null,this.compression_level=null,this.nonce=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.vega_json!==void 0&&r.vega_json!==null&&(this.vega_json=r.vega_json),r.compression_level!==void 0&&r.compression_level!==null&&(this.compression_level=r.compression_level),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I64?this.widget_id=r.readI64():r.skip(_);break;case 3:_==a.Type.STRING?this.vega_json=r.readString():r.skip(_);break;case 4:_==a.Type.I32?this.compression_level=r.readI32():r.skip(_);break;case 5:_==a.Type.STRING?this.nonce=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_render_vega_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",a.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.vega_json!==null&&this.vega_json!==void 0&&(r.writeFieldBegin("vega_json",a.Type.STRING,3),r.writeString(this.vega_json),r.writeFieldEnd()),this.compression_level!==null&&this.compression_level!==void 0&&(r.writeFieldBegin("compression_level",a.Type.I32,4),r.writeI32(this.compression_level),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",a.Type.STRING,5),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},d3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TRenderResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TRenderResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_render_vega_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},OS=class{constructor(r){this.session=null,this.widget_id=null,this.pixel=null,this.table_col_names=null,this.column_format=null,this.pixelRadius=null,this.nonce=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.pixel!==void 0&&r.pixel!==null&&(this.pixel=new o.TPixel(r.pixel)),r.table_col_names!==void 0&&r.table_col_names!==null&&(this.table_col_names=a.copyMap(r.table_col_names,[a.copyList,null])),r.column_format!==void 0&&r.column_format!==null&&(this.column_format=r.column_format),r.pixelRadius!==void 0&&r.pixelRadius!==null&&(this.pixelRadius=r.pixelRadius),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I64?this.widget_id=r.readI64():r.skip(_);break;case 3:_==a.Type.STRUCT?(this.pixel=new o.TPixel,this.pixel.read(r)):r.skip(_);break;case 4:if(_==a.Type.MAP){this.table_col_names={};const p=r.readMapBegin().size||0;for(let E=0;E<p;++E){let B=null,ee=null;B=r.readString(),ee=[];const Ve=r.readListBegin().size||0;for(let fn=0;fn<Ve;++fn){let fo=null;fo=r.readString(),ee.push(fo)}r.readListEnd(),this.table_col_names[B]=ee}r.readMapEnd()}else r.skip(_);break;case 5:_==a.Type.BOOL?this.column_format=r.readBool():r.skip(_);break;case 6:_==a.Type.I32?this.pixelRadius=r.readI32():r.skip(_);break;case 7:_==a.Type.STRING?this.nonce=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_result_row_for_pixel_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",a.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.pixel!==null&&this.pixel!==void 0&&(r.writeFieldBegin("pixel",a.Type.STRUCT,3),this.pixel.write(r),r.writeFieldEnd()),this.table_col_names!==null&&this.table_col_names!==void 0){r.writeFieldBegin("table_col_names",a.Type.MAP,4),r.writeMapBegin(a.Type.STRING,a.Type.LIST,a.objectLength(this.table_col_names));for(let g in this.table_col_names)if(this.table_col_names.hasOwnProperty(g)){let _=this.table_col_names[g];r.writeString(g),r.writeListBegin(a.Type.STRING,_.length);for(let h in _)_.hasOwnProperty(h)&&(h=_[h],r.writeString(h));r.writeListEnd()}r.writeMapEnd(),r.writeFieldEnd()}this.column_format!==null&&this.column_format!==void 0&&(r.writeFieldBegin("column_format",a.Type.BOOL,5),r.writeBool(this.column_format),r.writeFieldEnd()),this.pixelRadius!==null&&this.pixelRadius!==void 0&&(r.writeFieldBegin("pixelRadius",a.Type.I32,6),r.writeI32(this.pixelRadius),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",a.Type.STRING,7),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},f3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TPixelTableRowResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TPixelTableRowResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_result_row_for_pixel_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},NS=class{constructor(r){this.session=null,this.custom_expression=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.custom_expression!==void 0&&r.custom_expression!==null&&(this.custom_expression=new o.TCustomExpression(r.custom_expression)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRUCT?(this.custom_expression=new o.TCustomExpression,this.custom_expression.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_custom_expression_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.custom_expression!==null&&this.custom_expression!==void 0&&(r.writeFieldBegin("custom_expression",a.Type.STRUCT,2),this.custom_expression.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},u3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.I32?this.success=r.readI32():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_custom_expression_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},CS=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_custom_expressions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},h3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TCustomExpression])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TCustomExpression,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_custom_expressions_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},RS=class{constructor(r){this.session=null,this.id=null,this.expression_json=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.id!==void 0&&r.id!==null&&(this.id=r.id),r.expression_json!==void 0&&r.expression_json!==null&&(this.expression_json=r.expression_json))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.id=r.readI32():r.skip(_);break;case 3:_==a.Type.STRING?this.expression_json=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_update_custom_expression_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.id!==null&&this.id!==void 0&&(r.writeFieldBegin("id",a.Type.I32,2),r.writeI32(this.id),r.writeFieldEnd()),this.expression_json!==null&&this.expression_json!==void 0&&(r.writeFieldBegin("expression_json",a.Type.STRING,3),r.writeString(this.expression_json),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_update_custom_expression_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},PS=class{constructor(r){this.session=null,this.custom_expression_ids=null,this.do_soft_delete=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.custom_expression_ids!==void 0&&r.custom_expression_ids!==null&&(this.custom_expression_ids=a.copyList(r.custom_expression_ids,[null])),r.do_soft_delete!==void 0&&r.do_soft_delete!==null&&(this.do_soft_delete=r.do_soft_delete))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.custom_expression_ids=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readI32(),this.custom_expression_ids.push(B)}r.readListEnd()}else r.skip(_);break;case 3:_==a.Type.BOOL?this.do_soft_delete=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_delete_custom_expressions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.custom_expression_ids!==null&&this.custom_expression_ids!==void 0){r.writeFieldBegin("custom_expression_ids",a.Type.LIST,2),r.writeListBegin(a.Type.I32,this.custom_expression_ids.length);for(let g in this.custom_expression_ids)this.custom_expression_ids.hasOwnProperty(g)&&(g=this.custom_expression_ids[g],r.writeI32(g));r.writeListEnd(),r.writeFieldEnd()}this.do_soft_delete!==null&&this.do_soft_delete!==void 0&&(r.writeFieldBegin("do_soft_delete",a.Type.BOOL,3),r.writeBool(this.do_soft_delete),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},p3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_custom_expressions_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},DS=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},g3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TDashboard(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TDashboard,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},US=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},y3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TDashboard])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TDashboard,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_dashboards_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$S=class{constructor(r){this.session=null,this.dashboard_name=null,this.dashboard_state=null,this.image_hash=null,this.dashboard_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_name!==void 0&&r.dashboard_name!==null&&(this.dashboard_name=r.dashboard_name),r.dashboard_state!==void 0&&r.dashboard_state!==null&&(this.dashboard_state=r.dashboard_state),r.image_hash!==void 0&&r.image_hash!==null&&(this.image_hash=r.image_hash),r.dashboard_metadata!==void 0&&r.dashboard_metadata!==null&&(this.dashboard_metadata=r.dashboard_metadata))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.dashboard_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.dashboard_state=r.readString():r.skip(_);break;case 4:_==a.Type.STRING?this.image_hash=r.readString():r.skip(_);break;case 5:_==a.Type.STRING?this.dashboard_metadata=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(r.writeFieldBegin("dashboard_name",a.Type.STRING,2),r.writeString(this.dashboard_name),r.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(r.writeFieldBegin("dashboard_state",a.Type.STRING,3),r.writeString(this.dashboard_state),r.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(r.writeFieldBegin("image_hash",a.Type.STRING,4),r.writeString(this.image_hash),r.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(r.writeFieldBegin("dashboard_metadata",a.Type.STRING,5),r.writeString(this.dashboard_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},m3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.I32?this.success=r.readI32():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_dashboard_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.I32,0),r.writeI32(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},HS=class{constructor(r){this.session=null,this.dashboard_id=null,this.dashboard_name=null,this.dashboard_owner=null,this.dashboard_state=null,this.image_hash=null,this.dashboard_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.dashboard_name!==void 0&&r.dashboard_name!==null&&(this.dashboard_name=r.dashboard_name),r.dashboard_owner!==void 0&&r.dashboard_owner!==null&&(this.dashboard_owner=r.dashboard_owner),r.dashboard_state!==void 0&&r.dashboard_state!==null&&(this.dashboard_state=r.dashboard_state),r.image_hash!==void 0&&r.image_hash!==null&&(this.image_hash=r.image_hash),r.dashboard_metadata!==void 0&&r.dashboard_metadata!==null&&(this.dashboard_metadata=r.dashboard_metadata))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;case 3:_==a.Type.STRING?this.dashboard_name=r.readString():r.skip(_);break;case 4:_==a.Type.STRING?this.dashboard_owner=r.readString():r.skip(_);break;case 5:_==a.Type.STRING?this.dashboard_state=r.readString():r.skip(_);break;case 6:_==a.Type.STRING?this.image_hash=r.readString():r.skip(_);break;case 7:_==a.Type.STRING?this.dashboard_metadata=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_replace_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(r.writeFieldBegin("dashboard_name",a.Type.STRING,3),r.writeString(this.dashboard_name),r.writeFieldEnd()),this.dashboard_owner!==null&&this.dashboard_owner!==void 0&&(r.writeFieldBegin("dashboard_owner",a.Type.STRING,4),r.writeString(this.dashboard_owner),r.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(r.writeFieldBegin("dashboard_state",a.Type.STRING,5),r.writeString(this.dashboard_state),r.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(r.writeFieldBegin("image_hash",a.Type.STRING,6),r.writeString(this.image_hash),r.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(r.writeFieldBegin("dashboard_metadata",a.Type.STRING,7),r.writeString(this.dashboard_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},w3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_replace_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},zS=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},L3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},jS=class{constructor(r){this.session=null,this.dashboard_ids=null,this.groups=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=a.copyList(r.dashboard_ids,[null])),r.groups!==void 0&&r.groups!==null&&(this.groups=a.copyList(r.groups,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new o.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.dashboard_ids=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readI32(),this.dashboard_ids.push(B)}r.readListEnd()}else r.skip(_);break;case 3:if(_==a.Type.LIST){this.groups=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.groups.push(B)}r.readListEnd()}else r.skip(_);break;case 4:_==a.Type.STRUCT?(this.permissions=new o.TDashboardPermissions,this.permissions.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_share_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",a.Type.LIST,2),r.writeListBegin(a.Type.I32,this.dashboard_ids.length);for(let g in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(g)&&(g=this.dashboard_ids[g],r.writeI32(g));r.writeListEnd(),r.writeFieldEnd()}if(this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",a.Type.LIST,3),r.writeListBegin(a.Type.STRING,this.groups.length);for(let g in this.groups)this.groups.hasOwnProperty(g)&&(g=this.groups[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",a.Type.STRUCT,4),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},b3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_share_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},qS=class{constructor(r){this.session=null,this.dashboard_ids=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=a.copyList(r.dashboard_ids,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.dashboard_ids=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readI32(),this.dashboard_ids.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_delete_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",a.Type.LIST,2),r.writeListBegin(a.Type.I32,this.dashboard_ids.length);for(let g in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(g)&&(g=this.dashboard_ids[g],r.writeI32(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},T3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_delete_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},VS=class{constructor(r){this.session=null,this.dashboard_id=null,this.groups=null,this.objects=null,this.permissions=null,this.grant_role=!1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.groups!==void 0&&r.groups!==null&&(this.groups=a.copyList(r.groups,[null])),r.objects!==void 0&&r.objects!==null&&(this.objects=a.copyList(r.objects,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new o.TDashboardPermissions(r.permissions)),r.grant_role!==void 0&&r.grant_role!==null&&(this.grant_role=r.grant_role))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;case 3:if(_==a.Type.LIST){this.groups=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.groups.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.objects=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.objects.push(B)}r.readListEnd()}else r.skip(_);break;case 5:_==a.Type.STRUCT?(this.permissions=new o.TDashboardPermissions,this.permissions.read(r)):r.skip(_);break;case 6:_==a.Type.BOOL?this.grant_role=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_share_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",a.Type.LIST,3),r.writeListBegin(a.Type.STRING,this.groups.length);for(let g in this.groups)this.groups.hasOwnProperty(g)&&(g=this.groups[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}if(this.objects!==null&&this.objects!==void 0){r.writeFieldBegin("objects",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.objects.length);for(let g in this.objects)this.objects.hasOwnProperty(g)&&(g=this.objects[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",a.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),this.grant_role!==null&&this.grant_role!==void 0&&(r.writeFieldBegin("grant_role",a.Type.BOOL,6),r.writeBool(this.grant_role),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},E3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_share_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},GS=class{constructor(r){this.session=null,this.dashboard_id=null,this.groups=null,this.objects=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id),r.groups!==void 0&&r.groups!==null&&(this.groups=a.copyList(r.groups,[null])),r.objects!==void 0&&r.objects!==null&&(this.objects=a.copyList(r.objects,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new o.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;case 3:if(_==a.Type.LIST){this.groups=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.groups.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.objects=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.objects.push(B)}r.readListEnd()}else r.skip(_);break;case 5:_==a.Type.STRUCT?(this.permissions=new o.TDashboardPermissions,this.permissions.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_unshare_dashboard_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",a.Type.LIST,3),r.writeListBegin(a.Type.STRING,this.groups.length);for(let g in this.groups)this.groups.hasOwnProperty(g)&&(g=this.groups[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}if(this.objects!==null&&this.objects!==void 0){r.writeFieldBegin("objects",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.objects.length);for(let g in this.objects)this.objects.hasOwnProperty(g)&&(g=this.objects[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",a.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},v3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_unshare_dashboard_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},WS=class{constructor(r){this.session=null,this.dashboard_ids=null,this.groups=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_ids!==void 0&&r.dashboard_ids!==null&&(this.dashboard_ids=a.copyList(r.dashboard_ids,[null])),r.groups!==void 0&&r.groups!==null&&(this.groups=a.copyList(r.groups,[null])),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new o.TDashboardPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.dashboard_ids=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readI32(),this.dashboard_ids.push(B)}r.readListEnd()}else r.skip(_);break;case 3:if(_==a.Type.LIST){this.groups=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.groups.push(B)}r.readListEnd()}else r.skip(_);break;case 4:_==a.Type.STRUCT?(this.permissions=new o.TDashboardPermissions,this.permissions.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_unshare_dashboards_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_ids!==null&&this.dashboard_ids!==void 0){r.writeFieldBegin("dashboard_ids",a.Type.LIST,2),r.writeListBegin(a.Type.I32,this.dashboard_ids.length);for(let g in this.dashboard_ids)this.dashboard_ids.hasOwnProperty(g)&&(g=this.dashboard_ids[g],r.writeI32(g));r.writeListEnd(),r.writeFieldEnd()}if(this.groups!==null&&this.groups!==void 0){r.writeFieldBegin("groups",a.Type.LIST,3),r.writeListBegin(a.Type.STRING,this.groups.length);for(let g in this.groups)this.groups.hasOwnProperty(g)&&(g=this.groups[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",a.Type.STRUCT,4),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},S3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_unshare_dashboards_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},YS=class{constructor(r){this.session=null,this.dashboard_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.dashboard_id!==void 0&&r.dashboard_id!==null&&(this.dashboard_id=r.dashboard_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.dashboard_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_dashboard_grantees_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(r.writeFieldBegin("dashboard_id",a.Type.I32,2),r.writeI32(this.dashboard_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},x3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TDashboardGrantees])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TDashboardGrantees,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_dashboard_grantees_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},XS=class{constructor(r){this.session=null,this.link=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.link!==void 0&&r.link!==null&&(this.link=r.link))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.link=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_link_view_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.link!==null&&this.link!==void 0&&(r.writeFieldBegin("link",a.Type.STRING,2),r.writeString(this.link),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},k3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TFrontendView(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TFrontendView,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_link_view_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},KS=class{constructor(r){this.session=null,this.view_state=null,this.view_metadata=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.view_state!==void 0&&r.view_state!==null&&(this.view_state=r.view_state),r.view_metadata!==void 0&&r.view_metadata!==null&&(this.view_metadata=r.view_metadata))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.view_state=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.view_metadata=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_link_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.view_state!==null&&this.view_state!==void 0&&(r.writeFieldBegin("view_state",a.Type.STRING,2),r.writeString(this.view_state),r.writeFieldEnd()),this.view_metadata!==null&&this.view_metadata!==void 0&&(r.writeFieldBegin("view_metadata",a.Type.STRING,3),r.writeString(this.view_metadata),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},B3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_link_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ZS=class{constructor(r){this.session=null,this.table_name=null,this.rows=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.rows!==void 0&&r.rows!==null&&(this.rows=a.copyList(r.rows,[o.TRow])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=a.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:if(_==a.Type.LIST){this.rows=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TRow,B.read(r),this.rows.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.column_names=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.column_names.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.rows!==null&&this.rows!==void 0){r.writeFieldBegin("rows",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.rows.length);for(let g in this.rows)this.rows.hasOwnProperty(g)&&(g=this.rows[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.column_names.length);for(let g in this.column_names)this.column_names.hasOwnProperty(g)&&(g=this.column_names[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},F3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},QS=class{constructor(r){this.session=null,this.table_name=null,this.cols=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.cols!==void 0&&r.cols!==null&&(this.cols=a.copyList(r.cols,[o.TColumn])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=a.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:if(_==a.Type.LIST){this.cols=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumn,B.read(r),this.cols.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.column_names=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.column_names.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_columnar_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.cols!==null&&this.cols!==void 0){r.writeFieldBegin("cols",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.cols.length);for(let g in this.cols)this.cols.hasOwnProperty(g)&&(g=this.cols[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.column_names.length);for(let g in this.column_names)this.column_names.hasOwnProperty(g)&&(g=this.column_names[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},I3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_columnar_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},JS=class{constructor(r){this.session=null,this.table_name=null,this.cols=null,this.column_names=[],this.assign_render_groups=!0,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.cols!==void 0&&r.cols!==null&&(this.cols=a.copyList(r.cols,[o.TColumn])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=a.copyList(r.column_names,[null])),r.assign_render_groups!==void 0&&r.assign_render_groups!==null&&(this.assign_render_groups=r.assign_render_groups))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:if(_==a.Type.LIST){this.cols=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumn,B.read(r),this.cols.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.column_names=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.column_names.push(B)}r.readListEnd()}else r.skip(_);break;case 5:_==a.Type.BOOL?this.assign_render_groups=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_binary_columnar_polys_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.cols!==null&&this.cols!==void 0){r.writeFieldBegin("cols",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.cols.length);for(let g in this.cols)this.cols.hasOwnProperty(g)&&(g=this.cols[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.column_names.length);for(let g in this.column_names)this.column_names.hasOwnProperty(g)&&(g=this.column_names[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.assign_render_groups!==null&&this.assign_render_groups!==void 0&&(r.writeFieldBegin("assign_render_groups",a.Type.BOOL,5),r.writeBool(this.assign_render_groups),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},M3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_columnar_polys_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ex=class{constructor(r){this.session=null,this.table_name=null,this.arrow_stream=null,this.use_column_names=!1,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.arrow_stream!==void 0&&r.arrow_stream!==null&&(this.arrow_stream=r.arrow_stream),r.use_column_names!==void 0&&r.use_column_names!==null&&(this.use_column_names=r.use_column_names))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.arrow_stream=r.readBinary():r.skip(_);break;case 4:_==a.Type.BOOL?this.use_column_names=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_arrow_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.arrow_stream!==null&&this.arrow_stream!==void 0&&(r.writeFieldBegin("arrow_stream",a.Type.STRING,3),r.writeBinary(this.arrow_stream),r.writeFieldEnd()),this.use_column_names!==null&&this.use_column_names!==void 0&&(r.writeFieldBegin("use_column_names",a.Type.BOOL,4),r.writeBool(this.use_column_names),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},A3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_binary_arrow_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},tx=class{constructor(r){this.session=null,this.table_name=null,this.rows=null,this.column_names=[],r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.rows!==void 0&&r.rows!==null&&(this.rows=a.copyList(r.rows,[o.TStringRow])),r.column_names!==void 0&&r.column_names!==null&&(this.column_names=a.copyList(r.column_names,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:if(_==a.Type.LIST){this.rows=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TStringRow,B.read(r),this.rows.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.LIST){this.column_names=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.column_names.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_load_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.rows!==null&&this.rows!==void 0){r.writeFieldBegin("rows",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.rows.length);for(let g in this.rows)this.rows.hasOwnProperty(g)&&(g=this.rows[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.column_names!==null&&this.column_names!==void 0){r.writeFieldBegin("column_names",a.Type.LIST,4),r.writeListBegin(a.Type.STRING,this.column_names.length);for(let g in this.column_names)this.column_names.hasOwnProperty(g)&&(g=this.column_names[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},O3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_load_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},nx=class{constructor(r){this.session=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.file_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_detect_column_types_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",a.Type.STRING,2),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},N3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TDetectResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TDetectResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_detect_column_types_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ix=class{constructor(r){this.session=null,this.table_name=null,this.row_desc=null,this.create_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=a.copyList(r.row_desc,[o.TColumnType])),r.create_params!==void 0&&r.create_params!==null&&(this.create_params=new o.TCreateParams(r.create_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:if(_==a.Type.LIST){this.row_desc=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumnType,B.read(r),this.row_desc.push(B)}r.readListEnd()}else r.skip(_);break;case 4:_==a.Type.STRUCT?(this.create_params=new o.TCreateParams,this.create_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_create_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let g in this.row_desc)this.row_desc.hasOwnProperty(g)&&(g=this.row_desc[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.create_params!==null&&this.create_params!==void 0&&(r.writeFieldBegin("create_params",a.Type.STRUCT,4),this.create_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},C3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_create_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},sx=class{constructor(r){this.session=null,this.table_name=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.file_name=r.readString():r.skip(_);break;case 4:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",a.Type.STRING,3),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,4),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},R3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},rx=class{constructor(r){this.session=null,this.table_name=null,this.file_name=null,this.copy_params=null,this.row_desc=null,this.create_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_name!==void 0&&r.table_name!==null&&(this.table_name=r.table_name),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=a.copyList(r.row_desc,[o.TColumnType])),r.create_params!==void 0&&r.create_params!==null&&(this.create_params=new o.TCreateParams(r.create_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.table_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.file_name=r.readString():r.skip(_);break;case 4:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;case 5:if(_==a.Type.LIST){this.row_desc=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumnType,B.read(r),this.row_desc.push(B)}r.readListEnd()}else r.skip(_);break;case 6:_==a.Type.STRUCT?(this.create_params=new o.TCreateParams,this.create_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_import_geo_table_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_name!==null&&this.table_name!==void 0&&(r.writeFieldBegin("table_name",a.Type.STRING,2),r.writeString(this.table_name),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",a.Type.STRING,3),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,4),this.copy_params.write(r),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",a.Type.LIST,5),r.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let g in this.row_desc)this.row_desc.hasOwnProperty(g)&&(g=this.row_desc[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.create_params!==null&&this.create_params!==void 0&&(r.writeFieldBegin("create_params",a.Type.STRUCT,6),this.create_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},P3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_geo_table_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ax=class{constructor(r){this.session=null,this.import_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.import_id!==void 0&&r.import_id!==null&&(this.import_id=r.import_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.import_id=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_status_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.import_id!==null&&this.import_id!==void 0&&(r.writeFieldBegin("import_id",a.Type.STRING,2),r.writeString(this.import_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},D3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TImportStatus(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TImportStatus,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_import_table_status_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ox=class{constructor(r){this.session=null,this.archive_path=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.archive_path!==void 0&&r.archive_path!==null&&(this.archive_path=r.archive_path),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.archive_path=r.readString():r.skip(_);break;case 3:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_first_geo_file_in_archive_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.archive_path!==null&&this.archive_path!==void 0&&(r.writeFieldBegin("archive_path",a.Type.STRING,2),r.writeString(this.archive_path),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},U3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRING?this.success=r.readString():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_first_geo_file_in_archive_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRING,0),r.writeString(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},lx=class{constructor(r){this.session=null,this.archive_path=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.archive_path!==void 0&&r.archive_path!==null&&(this.archive_path=r.archive_path),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.archive_path=r.readString():r.skip(_);break;case 3:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_files_in_archive_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.archive_path!==null&&this.archive_path!==void 0&&(r.writeFieldBegin("archive_path",a.Type.STRING,2),r.writeString(this.archive_path),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},$3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_files_in_archive_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},cx=class{constructor(r){this.session=null,this.file_name=null,this.copy_params=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.file_name!==void 0&&r.file_name!==null&&(this.file_name=r.file_name),r.copy_params!==void 0&&r.copy_params!==null&&(this.copy_params=new o.TCopyParams(r.copy_params)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.file_name=r.readString():r.skip(_);break;case 3:_==a.Type.STRUCT?(this.copy_params=new o.TCopyParams,this.copy_params.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_layers_in_geo_file_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.file_name!==null&&this.file_name!==void 0&&(r.writeFieldBegin("file_name",a.Type.STRING,2),r.writeString(this.file_name),r.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(r.writeFieldBegin("copy_params",a.Type.STRUCT,3),this.copy_params.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},H3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TGeoFileLayerInfo])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TGeoFileLayerInfo,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_layers_in_geo_file_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},dx=class{constructor(r){this.session=null,this.query=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.query!==void 0&&r.query!==null&&(this.query=r.query))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.query=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_query_get_outer_fragment_count_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.query!==null&&this.query!==void 0&&(r.writeFieldBegin("query",a.Type.STRING,2),r.writeString(this.query),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},z3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.I64?this.success=r.readI64():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_query_get_outer_fragment_count_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.I64,0),r.writeI64(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},fx=class{constructor(r){this.session=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.table_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_check_table_consistency_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",a.Type.I32,2),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},j3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TTableMeta(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TTableMeta,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_check_table_consistency_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},ux=class{constructor(r){this.leaf_session=null,this.parent_session=null,this.query_ra=null,this.start_time_str=null,this.just_explain=null,this.outer_fragment_indices=null,r&&(r.leaf_session!==void 0&&r.leaf_session!==null&&(this.leaf_session=r.leaf_session),r.parent_session!==void 0&&r.parent_session!==null&&(this.parent_session=r.parent_session),r.query_ra!==void 0&&r.query_ra!==null&&(this.query_ra=r.query_ra),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str),r.just_explain!==void 0&&r.just_explain!==null&&(this.just_explain=r.just_explain),r.outer_fragment_indices!==void 0&&r.outer_fragment_indices!==null&&(this.outer_fragment_indices=a.copyList(r.outer_fragment_indices,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.leaf_session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.parent_session=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.query_ra=r.readString():r.skip(_);break;case 4:_==a.Type.STRING?this.start_time_str=r.readString():r.skip(_);break;case 5:_==a.Type.BOOL?this.just_explain=r.readBool():r.skip(_);break;case 6:if(_==a.Type.LIST){this.outer_fragment_indices=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readI64(),this.outer_fragment_indices.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_start_query_args"),this.leaf_session!==null&&this.leaf_session!==void 0&&(r.writeFieldBegin("leaf_session",a.Type.STRING,1),r.writeString(this.leaf_session),r.writeFieldEnd()),this.parent_session!==null&&this.parent_session!==void 0&&(r.writeFieldBegin("parent_session",a.Type.STRING,2),r.writeString(this.parent_session),r.writeFieldEnd()),this.query_ra!==null&&this.query_ra!==void 0&&(r.writeFieldBegin("query_ra",a.Type.STRING,3),r.writeString(this.query_ra),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",a.Type.STRING,4),r.writeString(this.start_time_str),r.writeFieldEnd()),this.just_explain!==null&&this.just_explain!==void 0&&(r.writeFieldBegin("just_explain",a.Type.BOOL,5),r.writeBool(this.just_explain),r.writeFieldEnd()),this.outer_fragment_indices!==null&&this.outer_fragment_indices!==void 0){r.writeFieldBegin("outer_fragment_indices",a.Type.LIST,6),r.writeListBegin(a.Type.I64,this.outer_fragment_indices.length);for(let g in this.outer_fragment_indices)this.outer_fragment_indices.hasOwnProperty(g)&&(g=this.outer_fragment_indices[g],r.writeI64(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},q3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TPendingQuery(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TPendingQuery,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_query_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},hx=class{constructor(r){this.pending_query=null,this.subquery_id=null,this.start_time_str=null,r&&(r.pending_query!==void 0&&r.pending_query!==null&&(this.pending_query=new o.TPendingQuery(r.pending_query)),r.subquery_id!==void 0&&r.subquery_id!==null&&(this.subquery_id=r.subquery_id),r.start_time_str!==void 0&&r.start_time_str!==null&&(this.start_time_str=r.start_time_str))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.pending_query=new o.TPendingQuery,this.pending_query.read(r)):r.skip(_);break;case 2:_==a.Type.I64?this.subquery_id=r.readI64():r.skip(_);break;case 3:_==a.Type.STRING?this.start_time_str=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_query_step_args"),this.pending_query!==null&&this.pending_query!==void 0&&(r.writeFieldBegin("pending_query",a.Type.STRUCT,1),this.pending_query.write(r),r.writeFieldEnd()),this.subquery_id!==null&&this.subquery_id!==void 0&&(r.writeFieldBegin("subquery_id",a.Type.I64,2),r.writeI64(this.subquery_id),r.writeFieldEnd()),this.start_time_str!==null&&this.start_time_str!==void 0&&(r.writeFieldBegin("start_time_str",a.Type.STRING,3),r.writeString(this.start_time_str),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},V3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TStepResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TStepResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_query_step_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},_x=class{constructor(r){this.serialized_rows=null,this.row_desc=null,this.query_id=null,this.subquery_id=null,this.is_final_subquery_result=null,r&&(r.serialized_rows!==void 0&&r.serialized_rows!==null&&(this.serialized_rows=new w.TSerializedRows(r.serialized_rows)),r.row_desc!==void 0&&r.row_desc!==null&&(this.row_desc=a.copyList(r.row_desc,[o.TColumnType])),r.query_id!==void 0&&r.query_id!==null&&(this.query_id=r.query_id),r.subquery_id!==void 0&&r.subquery_id!==null&&(this.subquery_id=r.subquery_id),r.is_final_subquery_result!==void 0&&r.is_final_subquery_result!==null&&(this.is_final_subquery_result=r.is_final_subquery_result))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.serialized_rows=new w.TSerializedRows,this.serialized_rows.read(r)):r.skip(_);break;case 2:if(_==a.Type.LIST){this.row_desc=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TColumnType,B.read(r),this.row_desc.push(B)}r.readListEnd()}else r.skip(_);break;case 3:_==a.Type.I64?this.query_id=r.readI64():r.skip(_);break;case 4:_==a.Type.I64?this.subquery_id=r.readI64():r.skip(_);break;case 5:_==a.Type.BOOL?this.is_final_subquery_result=r.readBool():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_broadcast_serialized_rows_args"),this.serialized_rows!==null&&this.serialized_rows!==void 0&&(r.writeFieldBegin("serialized_rows",a.Type.STRUCT,1),this.serialized_rows.write(r),r.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){r.writeFieldBegin("row_desc",a.Type.LIST,2),r.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let g in this.row_desc)this.row_desc.hasOwnProperty(g)&&(g=this.row_desc[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.query_id!==null&&this.query_id!==void 0&&(r.writeFieldBegin("query_id",a.Type.I64,3),r.writeI64(this.query_id),r.writeFieldEnd()),this.subquery_id!==null&&this.subquery_id!==void 0&&(r.writeFieldBegin("subquery_id",a.Type.I64,4),r.writeI64(this.subquery_id),r.writeFieldEnd()),this.is_final_subquery_result!==null&&this.is_final_subquery_result!==void 0&&(r.writeFieldBegin("is_final_subquery_result",a.Type.BOOL,5),r.writeBool(this.is_final_subquery_result),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},G3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_broadcast_serialized_rows_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},px=class{constructor(r){this.session=null,this.widget_id=null,this.node_idx=null,this.vega_json=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.widget_id!==void 0&&r.widget_id!==null&&(this.widget_id=r.widget_id),r.node_idx!==void 0&&r.node_idx!==null&&(this.node_idx=r.node_idx),r.vega_json!==void 0&&r.vega_json!==null&&(this.vega_json=r.vega_json))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I64?this.widget_id=r.readI64():r.skip(_);break;case 3:_==a.Type.I16?this.node_idx=r.readI16():r.skip(_);break;case 4:_==a.Type.STRING?this.vega_json=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_render_query_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.widget_id!==null&&this.widget_id!==void 0&&(r.writeFieldBegin("widget_id",a.Type.I64,2),r.writeI64(this.widget_id),r.writeFieldEnd()),this.node_idx!==null&&this.node_idx!==void 0&&(r.writeFieldBegin("node_idx",a.Type.I16,3),r.writeI16(this.node_idx),r.writeFieldEnd()),this.vega_json!==null&&this.vega_json!==void 0&&(r.writeFieldBegin("vega_json",a.Type.STRING,4),r.writeString(this.vega_json),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},W3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TPendingRenderQuery(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TPendingRenderQuery,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_start_render_query_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},gx=class{constructor(r){this.pending_render=null,this.merged_data=null,r&&(r.pending_render!==void 0&&r.pending_render!==null&&(this.pending_render=new o.TPendingRenderQuery(r.pending_render)),r.merged_data!==void 0&&r.merged_data!==null&&(this.merged_data=a.copyMap(r.merged_data,[a.copyMap,a.copyMap,a.copyMap,a.copyList,o.TRenderDatum])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.pending_render=new o.TPendingRenderQuery,this.pending_render.read(r)):r.skip(_);break;case 2:if(_==a.Type.MAP){this.merged_data={};const p=r.readMapBegin().size||0;for(let E=0;E<p;++E){let B=null,ee=null;B=r.readString(),ee={};const Ve=r.readMapBegin().size||0;for(let fn=0;fn<Ve;++fn){let fo=null,c6=null;fo=r.readString(),c6={};const kW=r.readMapBegin().size||0;for(let Nx=0;Nx<kW;++Nx){let Cx=null,d6=null;Cx=r.readString(),d6={};const BW=r.readMapBegin().size||0;for(let Rx=0;Rx<BW;++Rx){let Px=null,f6=null;Px=r.readString(),f6=[];const FW=r.readListBegin().size||0;for(let Dx=0;Dx<FW;++Dx){let u6=null;u6=new o.TRenderDatum,u6.read(r),f6.push(u6)}r.readListEnd(),d6[Px]=f6}r.readMapEnd(),c6[Cx]=d6}r.readMapEnd(),ee[fo]=c6}r.readMapEnd(),this.merged_data[B]=ee}r.readMapEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_execute_next_render_step_args"),this.pending_render!==null&&this.pending_render!==void 0&&(r.writeFieldBegin("pending_render",a.Type.STRUCT,1),this.pending_render.write(r),r.writeFieldEnd()),this.merged_data!==null&&this.merged_data!==void 0){r.writeFieldBegin("merged_data",a.Type.MAP,2),r.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(this.merged_data));for(let g in this.merged_data)if(this.merged_data.hasOwnProperty(g)){let _=this.merged_data[g];r.writeString(g),r.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(_));for(let h in _)if(_.hasOwnProperty(h)){let T=_[h];r.writeString(h),r.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(T));for(let p in T)if(T.hasOwnProperty(p)){let E=T[p];r.writeString(p),r.writeMapBegin(a.Type.STRING,a.Type.LIST,a.objectLength(E));for(let B in E)if(E.hasOwnProperty(B)){let ee=E[B];r.writeString(B),r.writeListBegin(a.Type.STRUCT,ee.length);for(let ye in ee)ee.hasOwnProperty(ye)&&(ye=ee[ye],ye.write(r));r.writeListEnd()}r.writeMapEnd()}r.writeMapEnd()}r.writeMapEnd()}r.writeMapEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},Y3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TRenderStepResult(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TRenderStepResult,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_execute_next_render_step_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},yx=class{constructor(r){this.session=null,this.insert_data=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.insert_data!==void 0&&r.insert_data!==null&&(this.insert_data=new o.TInsertData(r.insert_data)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRUCT?(this.insert_data=new o.TInsertData,this.insert_data.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_data_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.insert_data!==null&&this.insert_data!==void 0&&(r.writeFieldBegin("insert_data",a.Type.STRUCT,2),this.insert_data.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},X3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_data_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},mx=class{constructor(r){this.session=null,this.insert_chunks=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.insert_chunks!==void 0&&r.insert_chunks!==null&&(this.insert_chunks=new o.TInsertChunks(r.insert_chunks)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRUCT?(this.insert_chunks=new o.TInsertChunks,this.insert_chunks.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_chunks_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.insert_chunks!==null&&this.insert_chunks!==void 0&&(r.writeFieldBegin("insert_chunks",a.Type.STRUCT,2),this.insert_chunks.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},K3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_insert_chunks_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},wx=class{constructor(r){this.session=null,this.table_id=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.table_id!==void 0&&r.table_id!==null&&(this.table_id=r.table_id))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.I32?this.table_id=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_checkpoint_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(r.writeFieldBegin("table_id",a.Type.I32,2),r.writeI32(this.table_id),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Z3=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_checkpoint_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Lx=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_roles_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Q3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_roles_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},bx=class{constructor(r){this.session=null,this.roleName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.roleName!==void 0&&r.roleName!==null&&(this.roleName=r.roleName))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.roleName=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_db_objects_for_grantee_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.roleName!==null&&this.roleName!==void 0&&(r.writeFieldBegin("roleName",a.Type.STRING,2),r.writeString(this.roleName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},J3=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TDBObject])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TDBObject,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_db_objects_for_grantee_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Tx=class{constructor(r){this.session=null,this.objectName=null,this.type=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.objectName!==void 0&&r.objectName!==null&&(this.objectName=r.objectName),r.type!==void 0&&r.type!==null&&(this.type=r.type))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.objectName=r.readString():r.skip(_);break;case 3:_==a.Type.I32?this.type=r.readI32():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_db_object_privs_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.objectName!==null&&this.objectName!==void 0&&(r.writeFieldBegin("objectName",a.Type.STRING,2),r.writeString(this.objectName),r.writeFieldEnd()),this.type!==null&&this.type!==void 0&&(r.writeFieldBegin("type",a.Type.I32,3),r.writeI32(this.type),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},e_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[o.TDBObject])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new o.TDBObject,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_db_object_privs_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ex=class{constructor(r){this.session=null,this.userName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.userName!==void 0&&r.userName!==null&&(this.userName=r.userName))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.userName=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_roles_for_user_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.userName!==null&&this.userName!==void 0&&(r.writeFieldBegin("userName",a.Type.STRING,2),r.writeString(this.userName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},t_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_roles_for_user_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},vx=class{constructor(r){this.session=null,this.userName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.userName!==void 0&&r.userName!==null&&(this.userName=r.userName))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.userName=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_all_effective_roles_for_user_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.userName!==null&&this.userName!==void 0&&(r.writeFieldBegin("userName",a.Type.STRING,2),r.writeString(this.userName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},n_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_all_effective_roles_for_user_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Sx=class{constructor(r){this.session=null,this.granteeName=null,this.roleName=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.granteeName!==void 0&&r.granteeName!==null&&(this.granteeName=r.granteeName),r.roleName!==void 0&&r.roleName!==null&&(this.roleName=r.roleName))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.granteeName=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.roleName=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_role_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.granteeName!==null&&this.granteeName!==void 0&&(r.writeFieldBegin("granteeName",a.Type.STRING,2),r.writeString(this.granteeName),r.writeFieldEnd()),this.roleName!==null&&this.roleName!==void 0&&(r.writeFieldBegin("roleName",a.Type.STRING,3),r.writeString(this.roleName),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},i_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.BOOL?this.success=r.readBool():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_role_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.BOOL,0),r.writeBool(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},xx=class{constructor(r){this.session=null,this.granteeName=null,this.ObjectName=null,this.objectType=null,this.permissions=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.granteeName!==void 0&&r.granteeName!==null&&(this.granteeName=r.granteeName),r.ObjectName!==void 0&&r.ObjectName!==null&&(this.ObjectName=r.ObjectName),r.objectType!==void 0&&r.objectType!==null&&(this.objectType=r.objectType),r.permissions!==void 0&&r.permissions!==null&&(this.permissions=new o.TDBObjectPermissions(r.permissions)))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.granteeName=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.ObjectName=r.readString():r.skip(_);break;case 4:_==a.Type.I32?this.objectType=r.readI32():r.skip(_);break;case 5:_==a.Type.STRUCT?(this.permissions=new o.TDBObjectPermissions,this.permissions.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_object_privilege_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.granteeName!==null&&this.granteeName!==void 0&&(r.writeFieldBegin("granteeName",a.Type.STRING,2),r.writeString(this.granteeName),r.writeFieldEnd()),this.ObjectName!==null&&this.ObjectName!==void 0&&(r.writeFieldBegin("ObjectName",a.Type.STRING,3),r.writeString(this.ObjectName),r.writeFieldEnd()),this.objectType!==null&&this.objectType!==void 0&&(r.writeFieldBegin("objectType",a.Type.I32,4),r.writeI32(this.objectType),r.writeFieldEnd()),this.permissions!==null&&this.permissions!==void 0&&(r.writeFieldBegin("permissions",a.Type.STRUCT,5),this.permissions.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},s_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=r.success),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.BOOL?this.success=r.readBool():r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_has_object_privilege_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.BOOL,0),r.writeBool(this.success),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},kx=class{constructor(r){this.session=null,this.key=null,this.nonce="",r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.key!==void 0&&r.key!==null&&(this.key=r.key),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.key=r.readString():r.skip(_);break;case 3:_==a.Type.STRING?this.nonce=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_license_key_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.key!==null&&this.key!==void 0&&(r.writeFieldBegin("key",a.Type.STRING,2),r.writeString(this.key),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",a.Type.STRING,3),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},r_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TLicenseInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TLicenseInfo,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_set_license_key_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Bx=class{constructor(r){this.session=null,this.nonce="",r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.nonce!==void 0&&r.nonce!==null&&(this.nonce=r.nonce))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:_==a.Type.STRING?this.nonce=r.readString():r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_license_claims_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(r.writeFieldBegin("nonce",a.Type.STRING,2),r.writeString(this.nonce),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},a_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=new o.TLicenseInfo(r.success)),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:_==a.Type.STRUCT?(this.success=new o.TLicenseInfo,this.success.read(r)):r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_license_claims_result"),this.success!==null&&this.success!==void 0&&(r.writeFieldBegin("success",a.Type.STRUCT,0),this.success.write(r),r.writeFieldEnd()),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Fx=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_device_parameters_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},o_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyMap(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.MAP){this.success={};const p=r.readMapBegin().size||0;for(let E=0;E<p;++E){let B=null,ee=null;B=r.readString(),ee=r.readString(),this.success[B]=ee}r.readMapEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_device_parameters_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.MAP,0),r.writeMapBegin(a.Type.STRING,a.Type.STRING,a.objectLength(this.success));for(let g in this.success)if(this.success.hasOwnProperty(g)){let _=this.success[g];r.writeString(g),r.writeString(_)}r.writeMapEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ix=class{constructor(r){this.session=null,this.udfs=null,this.udtfs=null,this.device_ir_map=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.udfs!==void 0&&r.udfs!==null&&(this.udfs=a.copyList(r.udfs,[m.TUserDefinedFunction])),r.udtfs!==void 0&&r.udtfs!==null&&(this.udtfs=a.copyList(r.udtfs,[m.TUserDefinedTableFunction])),r.device_ir_map!==void 0&&r.device_ir_map!==null&&(this.device_ir_map=a.copyMap(r.device_ir_map,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.udfs=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new m.TUserDefinedFunction,B.read(r),this.udfs.push(B)}r.readListEnd()}else r.skip(_);break;case 3:if(_==a.Type.LIST){this.udtfs=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new m.TUserDefinedTableFunction,B.read(r),this.udtfs.push(B)}r.readListEnd()}else r.skip(_);break;case 4:if(_==a.Type.MAP){this.device_ir_map={};const p=r.readMapBegin().size||0;for(let E=0;E<p;++E){let B=null,ee=null;B=r.readString(),ee=r.readString(),this.device_ir_map[B]=ee}r.readMapEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_register_runtime_extension_functions_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.udfs!==null&&this.udfs!==void 0){r.writeFieldBegin("udfs",a.Type.LIST,2),r.writeListBegin(a.Type.STRUCT,this.udfs.length);for(let g in this.udfs)this.udfs.hasOwnProperty(g)&&(g=this.udfs[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.udtfs!==null&&this.udtfs!==void 0){r.writeFieldBegin("udtfs",a.Type.LIST,3),r.writeListBegin(a.Type.STRUCT,this.udtfs.length);for(let g in this.udtfs)this.udtfs.hasOwnProperty(g)&&(g=this.udtfs[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}if(this.device_ir_map!==null&&this.device_ir_map!==void 0){r.writeFieldBegin("device_ir_map",a.Type.MAP,4),r.writeMapBegin(a.Type.STRING,a.Type.STRING,a.objectLength(this.device_ir_map));for(let g in this.device_ir_map)if(this.device_ir_map.hasOwnProperty(g)){let _=this.device_ir_map[g];r.writeString(g),r.writeString(_)}r.writeMapEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},l_=class{constructor(r){if(this.e=null,r instanceof o.TDBException){this.e=r;return}r&&r.e!==void 0&&r.e!==null&&(this.e=r.e)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_register_runtime_extension_functions_result"),this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Mx=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_table_function_names_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},c_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_names_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ax=class{constructor(r){this.session=null,r&&r.session!==void 0&&r.session!==null&&(this.session=r.session)}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 0:r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){r.writeStructBegin("Heavy_get_runtime_table_function_names_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},d_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[null])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_runtime_table_function_names_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRING,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}},Ox=class{constructor(r){this.session=null,this.udtf_names=null,r&&(r.session!==void 0&&r.session!==null&&(this.session=r.session),r.udtf_names!==void 0&&r.udtf_names!==null&&(this.udtf_names=a.copyList(r.udtf_names,[null])))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 1:_==a.Type.STRING?this.session=r.readString():r.skip(_);break;case 2:if(_==a.Type.LIST){this.udtf_names=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=r.readString(),this.udtf_names.push(B)}r.readListEnd()}else r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_details_args"),this.session!==null&&this.session!==void 0&&(r.writeFieldBegin("session",a.Type.STRING,1),r.writeString(this.session),r.writeFieldEnd()),this.udtf_names!==null&&this.udtf_names!==void 0){r.writeFieldBegin("udtf_names",a.Type.LIST,2),r.writeListBegin(a.Type.STRING,this.udtf_names.length);for(let g in this.udtf_names)this.udtf_names.hasOwnProperty(g)&&(g=this.udtf_names[g],r.writeString(g));r.writeListEnd(),r.writeFieldEnd()}r.writeFieldStop(),r.writeStructEnd()}},f_=class{constructor(r){if(this.success=null,this.e=null,r instanceof o.TDBException){this.e=r;return}r&&(r.success!==void 0&&r.success!==null&&(this.success=a.copyList(r.success,[m.TUserDefinedTableFunction])),r.e!==void 0&&r.e!==null&&(this.e=r.e))}read(r){for(r.readStructBegin();;){const g=r.readFieldBegin(),_=g.ftype,h=g.fid;if(_==a.Type.STOP)break;switch(h){case 0:if(_==a.Type.LIST){this.success=[];const p=r.readListBegin().size||0;for(let E=0;E<p;++E){let B=null;B=new m.TUserDefinedTableFunction,B.read(r),this.success.push(B)}r.readListEnd()}else r.skip(_);break;case 1:_==a.Type.STRUCT?(this.e=new o.TDBException,this.e.read(r)):r.skip(_);break;default:r.skip(_)}r.readFieldEnd()}r.readStructEnd()}write(r){if(r.writeStructBegin("Heavy_get_table_function_details_result"),this.success!==null&&this.success!==void 0){r.writeFieldBegin("success",a.Type.LIST,0),r.writeListBegin(a.Type.STRUCT,this.success.length);for(let g in this.success)this.success.hasOwnProperty(g)&&(g=this.success[g],g.write(r));r.writeListEnd(),r.writeFieldEnd()}this.e!==null&&this.e!==void 0&&(r.writeFieldBegin("e",a.Type.STRUCT,1),this.e.write(r),r.writeFieldEnd()),r.writeFieldStop(),r.writeStructEnd()}};d.Client=class{constructor(g,_){this.output=g,this.pClass=_,this._seqid=0,this._reqs={}}seqid(){return this._seqid}new_seqid(){return this._seqid+=1}connect(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_connect(g,_,h)})}send_connect(g,_,h){const T=new this.pClass(this.output),p={user:g,passwd:_,dbname:h},E=new b(p);try{return T.writeMessageBegin("connect",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_connect(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new L;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("connect failed: unknown result")}krb5_connect(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_krb5_connect(g,_)})}send_krb5_connect(g,_){const h=new this.pClass(this.output),T={inputToken:g,dbname:_},p=new v(T);try{return h.writeMessageBegin("krb5_connect",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_krb5_connect(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new S;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("krb5_connect failed: unknown result")}disconnect(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_disconnect(g)})}send_disconnect(g){const _=new this.pClass(this.output),h={session:g},T=new x(h);try{return _.writeMessageBegin("disconnect",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_disconnect(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new F;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}switch_database(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_switch_database(g,_)})}send_switch_database(g,_){const h=new this.pClass(this.output),T={session:g,dbname:_},p=new k(T);try{return h.writeMessageBegin("switch_database",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_switch_database(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new A;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}clone_session(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_clone_session(g)})}send_clone_session(g){const _=new this.pClass(this.output),h={session:g},T=new M(h);try{return _.writeMessageBegin("clone_session",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_clone_session(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new C;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("clone_session failed: unknown result")}get_server_status(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_server_status(g)})}send_get_server_status(g){const _=new this.pClass(this.output),h={session:g},T=new R(h);try{return _.writeMessageBegin("get_server_status",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_server_status(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new D;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_server_status failed: unknown result")}get_status(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_status(g)})}send_get_status(g){const _=new this.pClass(this.output),h={session:g},T=new U(h);try{return _.writeMessageBegin("get_status",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_status(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new X;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_status failed: unknown result")}get_hardware_info(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_hardware_info(g)})}send_get_hardware_info(g){const _=new this.pClass(this.output),h={session:g},T=new j(h);try{return _.writeMessageBegin("get_hardware_info",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_hardware_info(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new G;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_hardware_info failed: unknown result")}get_tables(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_tables(g)})}send_get_tables(g){const _=new this.pClass(this.output),h={session:g},T=new V(h);try{return _.writeMessageBegin("get_tables",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_tables(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new W;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_tables failed: unknown result")}get_tables_for_database(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_tables_for_database(g,_)})}send_get_tables_for_database(g,_){const h=new this.pClass(this.output),T={session:g,database_name:_},p=new Z(T);try{return h.writeMessageBegin("get_tables_for_database",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_tables_for_database(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new q;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_tables_for_database failed: unknown result")}get_physical_tables(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_physical_tables(g)})}send_get_physical_tables(g){const _=new this.pClass(this.output),h={session:g},T=new oe(h);try{return _.writeMessageBegin("get_physical_tables",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_physical_tables(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new fe;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_physical_tables failed: unknown result")}get_views(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_views(g)})}send_get_views(g){const _=new this.pClass(this.output),h={session:g},T=new ne(h);try{return _.writeMessageBegin("get_views",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_views(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new xe;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_views failed: unknown result")}get_tables_meta(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_tables_meta(g)})}send_get_tables_meta(g){const _=new this.pClass(this.output),h={session:g},T=new le(h);try{return _.writeMessageBegin("get_tables_meta",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_tables_meta(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Se;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_tables_meta failed: unknown result")}get_table_details(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_table_details(g,_)})}send_get_table_details(g,_){const h=new this.pClass(this.output),T={session:g,table_name:_},p=new Ae(T);try{return h.writeMessageBegin("get_table_details",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_table_details(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Ze;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_table_details failed: unknown result")}get_table_details_for_database(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_table_details_for_database(g,_,h)})}send_get_table_details_for_database(g,_,h){const T=new this.pClass(this.output),p={session:g,table_name:_,database_name:h},E=new gt(p);try{return T.writeMessageBegin("get_table_details_for_database",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_table_details_for_database(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new wt;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_table_details_for_database failed: unknown result")}get_internal_table_details(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_internal_table_details(g,_,h)})}send_get_internal_table_details(g,_,h){const T=new this.pClass(this.output),p={session:g,table_name:_,include_system_columns:h},E=new _e(p);try{return T.writeMessageBegin("get_internal_table_details",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_internal_table_details(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new H;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_internal_table_details failed: unknown result")}get_internal_table_details_for_database(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_internal_table_details_for_database(g,_,h)})}send_get_internal_table_details_for_database(g,_,h){const T=new this.pClass(this.output),p={session:g,table_name:_,database_name:h},E=new z(p);try{return T.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_internal_table_details_for_database(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new P;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_internal_table_details_for_database failed: unknown result")}get_users(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_users(g)})}send_get_users(g){const _=new this.pClass(this.output),h={session:g},T=new K(h);try{return _.writeMessageBegin("get_users",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_users(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new J;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_users failed: unknown result")}get_databases(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_databases(g)})}send_get_databases(g){const _=new this.pClass(this.output),h={session:g},T=new re(h);try{return _.writeMessageBegin("get_databases",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_databases(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new se;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_databases failed: unknown result")}get_version(){this._seqid=this.new_seqid();const g=this;return new Promise((_,h)=>{g._reqs[g.seqid()]=(T,p)=>T?h(T):_(p),g.send_get_version()})}send_get_version(){const g=new this.pClass(this.output),_=new pe;try{return g.writeMessageBegin("get_version",a.MessageType.CALL,this.seqid()),_.write(g),g.writeMessageEnd(),this.output.flush()}catch(h){throw delete this._reqs[this.seqid()],typeof g.reset=="function"&&g.reset(),h}}recv_get_version(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Ee;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_version failed: unknown result")}start_heap_profile(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_start_heap_profile(g)})}send_start_heap_profile(g){const _=new this.pClass(this.output),h={session:g},T=new We(h);try{return _.writeMessageBegin("start_heap_profile",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_start_heap_profile(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Ht;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}stop_heap_profile(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_stop_heap_profile(g)})}send_stop_heap_profile(g){const _=new this.pClass(this.output),h={session:g},T=new ln(h);try{return _.writeMessageBegin("stop_heap_profile",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_stop_heap_profile(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Ot;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_heap_profile(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_heap_profile(g)})}send_get_heap_profile(g){const _=new this.pClass(this.output),h={session:g},T=new ai(h);try{return _.writeMessageBegin("get_heap_profile",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_heap_profile(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Pi;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_heap_profile failed: unknown result")}get_memory(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_memory(g,_)})}send_get_memory(g,_){const h=new this.pClass(this.output),T={session:g,memory_level:_},p=new Mn(T);try{return h.writeMessageBegin("get_memory",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_memory(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new ue;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_memory failed: unknown result")}clear_cpu_memory(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_clear_cpu_memory(g)})}send_clear_cpu_memory(g){const _=new this.pClass(this.output),h={session:g},T=new oi(h);try{return _.writeMessageBegin("clear_cpu_memory",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_clear_cpu_memory(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Ft;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}clear_gpu_memory(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_clear_gpu_memory(g)})}send_clear_gpu_memory(g){const _=new this.pClass(this.output),h={session:g},T=new Yt(h);try{return _.writeMessageBegin("clear_gpu_memory",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_clear_gpu_memory(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Tt;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}set_cur_session(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_set_cur_session(g,_,h,T,p)})}send_set_cur_session(g,_,h,T,p){const E=new this.pClass(this.output),B={parent_session:g,leaf_session:_,start_time_str:h,label:T,for_running_query_kernel:p},ee=new nn(B);try{return E.writeMessageBegin("set_cur_session",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_set_cur_session(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new sn;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}invalidate_cur_session(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_invalidate_cur_session(g,_,h,T,p)})}send_invalidate_cur_session(g,_,h,T,p){const E=new this.pClass(this.output),B={parent_session:g,leaf_session:_,start_time_str:h,label:T,for_running_query_kernel:p},ee=new Zt(B);try{return E.writeMessageBegin("invalidate_cur_session",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_invalidate_cur_session(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new yn;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}set_table_epoch(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_set_table_epoch(g,_,h,T)})}send_set_table_epoch(g,_,h,T){const p=new this.pClass(this.output),E={session:g,db_id:_,table_id:h,new_epoch:T},B=new N(E);try{return p.writeMessageBegin("set_table_epoch",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_set_table_epoch(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new I;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}set_table_epoch_by_name(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_set_table_epoch_by_name(g,_,h)})}send_set_table_epoch_by_name(g,_,h){const T=new this.pClass(this.output),p={session:g,table_name:_,new_epoch:h},E=new O(p);try{return T.writeMessageBegin("set_table_epoch_by_name",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_set_table_epoch_by_name(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new $;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_table_epoch(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_table_epoch(g,_,h)})}send_get_table_epoch(g,_,h){const T=new this.pClass(this.output),p={session:g,db_id:_,table_id:h},E=new Y(p);try{return T.writeMessageBegin("get_table_epoch",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_table_epoch(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new te;return p.read(g),g.readMessageEnd(),p.success!==null?T(null,p.success):T("get_table_epoch failed: unknown result")}get_table_epoch_by_name(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_table_epoch_by_name(g,_)})}send_get_table_epoch_by_name(g,_){const h=new this.pClass(this.output),T={session:g,table_name:_},p=new ie(T);try{return h.writeMessageBegin("get_table_epoch_by_name",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_table_epoch_by_name(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Me;return p.read(g),g.readMessageEnd(),p.success!==null?T(null,p.success):T("get_table_epoch_by_name failed: unknown result")}get_table_epochs(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_table_epochs(g,_,h)})}send_get_table_epochs(g,_,h){const T=new this.pClass(this.output),p={session:g,db_id:_,table_id:h},E=new $e(p);try{return T.writeMessageBegin("get_table_epochs",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_table_epochs(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new He;return p.read(g),g.readMessageEnd(),p.success!==null?T(null,p.success):T("get_table_epochs failed: unknown result")}set_table_epochs(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_set_table_epochs(g,_,h)})}send_set_table_epochs(g,_,h){const T=new this.pClass(this.output),p={session:g,db_id:_,table_epochs:h},E=new Xe(p);try{return T.writeMessageBegin("set_table_epochs",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_set_table_epochs(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}new Ke().read(g),g.readMessageEnd(),T(null)}get_session_info(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_session_info(g)})}send_get_session_info(g){const _=new this.pClass(this.output),h={session:g},T=new rl(h);try{return _.writeMessageBegin("get_session_info",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_session_info(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new J0;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_session_info failed: unknown result")}get_queries_info(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_queries_info(g)})}send_get_queries_info(g){const _=new this.pClass(this.output),h={session:g},T=new TS(h);try{return _.writeMessageBegin("get_queries_info",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_queries_info(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new e3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_queries_info failed: unknown result")}set_leaf_info(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_set_leaf_info(g,_)})}send_set_leaf_info(g,_){const h=new this.pClass(this.output),T={session:g,leaf_info:_},p=new ES(T);try{return h.writeMessageBegin("set_leaf_info",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_set_leaf_info(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new t3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}sql_execute(g,_,h,T,p,E){this._seqid=this.new_seqid();const B=this;return new Promise((ee,ye)=>{B._reqs[B.seqid()]=(Ve,fn)=>Ve?ye(Ve):ee(fn),B.send_sql_execute(g,_,h,T,p,E)})}send_sql_execute(g,_,h,T,p,E){const B=new this.pClass(this.output),ee={session:g,query:_,column_format:h,nonce:T,first_n:p,at_most_n:E},ye=new vS(ee);try{return B.writeMessageBegin("sql_execute",a.MessageType.CALL,this.seqid()),ye.write(B),B.writeMessageEnd(),this.output.flush()}catch(Ve){throw delete this._reqs[this.seqid()],typeof B.reset=="function"&&B.reset(),Ve}}recv_sql_execute(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new n3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("sql_execute failed: unknown result")}sql_execute_df(g,_,h,T,p,E){this._seqid=this.new_seqid();const B=this;return new Promise((ee,ye)=>{B._reqs[B.seqid()]=(Ve,fn)=>Ve?ye(Ve):ee(fn),B.send_sql_execute_df(g,_,h,T,p,E)})}send_sql_execute_df(g,_,h,T,p,E){const B=new this.pClass(this.output),ee={session:g,query:_,device_type:h,device_id:T,first_n:p,transport_method:E},ye=new SS(ee);try{return B.writeMessageBegin("sql_execute_df",a.MessageType.CALL,this.seqid()),ye.write(B),B.writeMessageEnd(),this.output.flush()}catch(Ve){throw delete this._reqs[this.seqid()],typeof B.reset=="function"&&B.reset(),Ve}}recv_sql_execute_df(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new i3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("sql_execute_df failed: unknown result")}sql_execute_gdf(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_sql_execute_gdf(g,_,h,T)})}send_sql_execute_gdf(g,_,h,T){const p=new this.pClass(this.output),E={session:g,query:_,device_id:h,first_n:T},B=new xS(E);try{return p.writeMessageBegin("sql_execute_gdf",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_sql_execute_gdf(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new s3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("sql_execute_gdf failed: unknown result")}deallocate_df(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_deallocate_df(g,_,h,T)})}send_deallocate_df(g,_,h,T){const p=new this.pClass(this.output),E={session:g,df:_,device_type:h,device_id:T},B=new kS(E);try{return p.writeMessageBegin("deallocate_df",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_deallocate_df(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new r3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}interrupt(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_interrupt(g,_)})}send_interrupt(g,_){const h=new this.pClass(this.output),T={query_session:g,interrupt_session:_},p=new BS(T);try{return h.writeMessageBegin("interrupt",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_interrupt(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new a3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}sql_validate(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_sql_validate(g,_)})}send_sql_validate(g,_){const h=new this.pClass(this.output),T={session:g,query:_},p=new FS(T);try{return h.writeMessageBegin("sql_validate",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_sql_validate(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new o3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("sql_validate failed: unknown result")}get_completion_hints(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_completion_hints(g,_,h)})}send_get_completion_hints(g,_,h){const T=new this.pClass(this.output),p={session:g,sql:_,cursor:h},E=new IS(p);try{return T.writeMessageBegin("get_completion_hints",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_completion_hints(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new l3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_completion_hints failed: unknown result")}set_execution_mode(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_set_execution_mode(g,_)})}send_set_execution_mode(g,_){const h=new this.pClass(this.output),T={session:g,mode:_},p=new MS(T);try{return h.writeMessageBegin("set_execution_mode",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_set_execution_mode(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new c3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}render_vega(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_render_vega(g,_,h,T,p)})}send_render_vega(g,_,h,T,p){const E=new this.pClass(this.output),B={session:g,widget_id:_,vega_json:h,compression_level:T,nonce:p},ee=new AS(B);try{return E.writeMessageBegin("render_vega",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_render_vega(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new d3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("render_vega failed: unknown result")}get_result_row_for_pixel(g,_,h,T,p,E,B){this._seqid=this.new_seqid();const ee=this;return new Promise((ye,Ve)=>{ee._reqs[ee.seqid()]=(fn,fo)=>fn?Ve(fn):ye(fo),ee.send_get_result_row_for_pixel(g,_,h,T,p,E,B)})}send_get_result_row_for_pixel(g,_,h,T,p,E,B){const ee=new this.pClass(this.output),ye={session:g,widget_id:_,pixel:h,table_col_names:T,column_format:p,pixelRadius:E,nonce:B},Ve=new OS(ye);try{return ee.writeMessageBegin("get_result_row_for_pixel",a.MessageType.CALL,this.seqid()),Ve.write(ee),ee.writeMessageEnd(),this.output.flush()}catch(fn){throw delete this._reqs[this.seqid()],typeof ee.reset=="function"&&ee.reset(),fn}}recv_get_result_row_for_pixel(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new f3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_result_row_for_pixel failed: unknown result")}create_custom_expression(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_create_custom_expression(g,_)})}send_create_custom_expression(g,_){const h=new this.pClass(this.output),T={session:g,custom_expression:_},p=new NS(T);try{return h.writeMessageBegin("create_custom_expression",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_create_custom_expression(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new u3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("create_custom_expression failed: unknown result")}get_custom_expressions(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_custom_expressions(g)})}send_get_custom_expressions(g){const _=new this.pClass(this.output),h={session:g},T=new CS(h);try{return _.writeMessageBegin("get_custom_expressions",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_custom_expressions(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new h3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_custom_expressions failed: unknown result")}update_custom_expression(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_update_custom_expression(g,_,h)})}send_update_custom_expression(g,_,h){const T=new this.pClass(this.output),p={session:g,id:_,expression_json:h},E=new RS(p);try{return T.writeMessageBegin("update_custom_expression",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_update_custom_expression(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new _3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}delete_custom_expressions(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_delete_custom_expressions(g,_,h)})}send_delete_custom_expressions(g,_,h){const T=new this.pClass(this.output),p={session:g,custom_expression_ids:_,do_soft_delete:h},E=new PS(p);try{return T.writeMessageBegin("delete_custom_expressions",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_delete_custom_expressions(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new p3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_dashboard(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_dashboard(g,_)})}send_get_dashboard(g,_){const h=new this.pClass(this.output),T={session:g,dashboard_id:_},p=new DS(T);try{return h.writeMessageBegin("get_dashboard",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new g3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_dashboard failed: unknown result")}get_dashboards(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_dashboards(g)})}send_get_dashboards(g){const _=new this.pClass(this.output),h={session:g},T=new US(h);try{return _.writeMessageBegin("get_dashboards",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_dashboards(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new y3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_dashboards failed: unknown result")}create_dashboard(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_create_dashboard(g,_,h,T,p)})}send_create_dashboard(g,_,h,T,p){const E=new this.pClass(this.output),B={session:g,dashboard_name:_,dashboard_state:h,image_hash:T,dashboard_metadata:p},ee=new $S(B);try{return E.writeMessageBegin("create_dashboard",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_create_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new m3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("create_dashboard failed: unknown result")}replace_dashboard(g,_,h,T,p,E,B){this._seqid=this.new_seqid();const ee=this;return new Promise((ye,Ve)=>{ee._reqs[ee.seqid()]=(fn,fo)=>fn?Ve(fn):ye(fo),ee.send_replace_dashboard(g,_,h,T,p,E,B)})}send_replace_dashboard(g,_,h,T,p,E,B){const ee=new this.pClass(this.output),ye={session:g,dashboard_id:_,dashboard_name:h,dashboard_owner:T,dashboard_state:p,image_hash:E,dashboard_metadata:B},Ve=new HS(ye);try{return ee.writeMessageBegin("replace_dashboard",a.MessageType.CALL,this.seqid()),Ve.write(ee),ee.writeMessageEnd(),this.output.flush()}catch(fn){throw delete this._reqs[this.seqid()],typeof ee.reset=="function"&&ee.reset(),fn}}recv_replace_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new w3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}delete_dashboard(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_delete_dashboard(g,_)})}send_delete_dashboard(g,_){const h=new this.pClass(this.output),T={session:g,dashboard_id:_},p=new zS(T);try{return h.writeMessageBegin("delete_dashboard",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_delete_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new L3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}share_dashboards(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_share_dashboards(g,_,h,T)})}send_share_dashboards(g,_,h,T){const p=new this.pClass(this.output),E={session:g,dashboard_ids:_,groups:h,permissions:T},B=new jS(E);try{return p.writeMessageBegin("share_dashboards",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_share_dashboards(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new b3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}delete_dashboards(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_delete_dashboards(g,_)})}send_delete_dashboards(g,_){const h=new this.pClass(this.output),T={session:g,dashboard_ids:_},p=new qS(T);try{return h.writeMessageBegin("delete_dashboards",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_delete_dashboards(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new T3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}share_dashboard(g,_,h,T,p,E){this._seqid=this.new_seqid();const B=this;return new Promise((ee,ye)=>{B._reqs[B.seqid()]=(Ve,fn)=>Ve?ye(Ve):ee(fn),B.send_share_dashboard(g,_,h,T,p,E)})}send_share_dashboard(g,_,h,T,p,E){const B=new this.pClass(this.output),ee={session:g,dashboard_id:_,groups:h,objects:T,permissions:p,grant_role:E},ye=new VS(ee);try{return B.writeMessageBegin("share_dashboard",a.MessageType.CALL,this.seqid()),ye.write(B),B.writeMessageEnd(),this.output.flush()}catch(Ve){throw delete this._reqs[this.seqid()],typeof B.reset=="function"&&B.reset(),Ve}}recv_share_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new E3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}unshare_dashboard(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_unshare_dashboard(g,_,h,T,p)})}send_unshare_dashboard(g,_,h,T,p){const E=new this.pClass(this.output),B={session:g,dashboard_id:_,groups:h,objects:T,permissions:p},ee=new GS(B);try{return E.writeMessageBegin("unshare_dashboard",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_unshare_dashboard(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new v3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}unshare_dashboards(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_unshare_dashboards(g,_,h,T)})}send_unshare_dashboards(g,_,h,T){const p=new this.pClass(this.output),E={session:g,dashboard_ids:_,groups:h,permissions:T},B=new WS(E);try{return p.writeMessageBegin("unshare_dashboards",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_unshare_dashboards(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new S3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_dashboard_grantees(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_dashboard_grantees(g,_)})}send_get_dashboard_grantees(g,_){const h=new this.pClass(this.output),T={session:g,dashboard_id:_},p=new YS(T);try{return h.writeMessageBegin("get_dashboard_grantees",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_dashboard_grantees(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new x3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_dashboard_grantees failed: unknown result")}get_link_view(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_link_view(g,_)})}send_get_link_view(g,_){const h=new this.pClass(this.output),T={session:g,link:_},p=new XS(T);try{return h.writeMessageBegin("get_link_view",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_link_view(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new k3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_link_view failed: unknown result")}create_link(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_create_link(g,_,h)})}send_create_link(g,_,h){const T=new this.pClass(this.output),p={session:g,view_state:_,view_metadata:h},E=new KS(p);try{return T.writeMessageBegin("create_link",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_create_link(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new B3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("create_link failed: unknown result")}load_table_binary(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_load_table_binary(g,_,h,T)})}send_load_table_binary(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,rows:h,column_names:T},B=new ZS(E);try{return p.writeMessageBegin("load_table_binary",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_load_table_binary(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new F3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}load_table_binary_columnar(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_load_table_binary_columnar(g,_,h,T)})}send_load_table_binary_columnar(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,cols:h,column_names:T},B=new QS(E);try{return p.writeMessageBegin("load_table_binary_columnar",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_load_table_binary_columnar(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new I3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}load_table_binary_columnar_polys(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_load_table_binary_columnar_polys(g,_,h,T,p)})}send_load_table_binary_columnar_polys(g,_,h,T,p){const E=new this.pClass(this.output),B={session:g,table_name:_,cols:h,column_names:T,assign_render_groups:p},ee=new JS(B);try{return E.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_load_table_binary_columnar_polys(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new M3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}load_table_binary_arrow(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_load_table_binary_arrow(g,_,h,T)})}send_load_table_binary_arrow(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,arrow_stream:h,use_column_names:T},B=new ex(E);try{return p.writeMessageBegin("load_table_binary_arrow",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_load_table_binary_arrow(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new A3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}load_table(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_load_table(g,_,h,T)})}send_load_table(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,rows:h,column_names:T},B=new tx(E);try{return p.writeMessageBegin("load_table",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_load_table(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new O3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}detect_column_types(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_detect_column_types(g,_,h)})}send_detect_column_types(g,_,h){const T=new this.pClass(this.output),p={session:g,file_name:_,copy_params:h},E=new nx(p);try{return T.writeMessageBegin("detect_column_types",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_detect_column_types(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new N3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("detect_column_types failed: unknown result")}create_table(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_create_table(g,_,h,T)})}send_create_table(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,row_desc:h,create_params:T},B=new ix(E);try{return p.writeMessageBegin("create_table",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_create_table(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new C3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}import_table(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_import_table(g,_,h,T)})}send_import_table(g,_,h,T){const p=new this.pClass(this.output),E={session:g,table_name:_,file_name:h,copy_params:T},B=new sx(E);try{return p.writeMessageBegin("import_table",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_import_table(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new R3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}import_geo_table(g,_,h,T,p,E){this._seqid=this.new_seqid();const B=this;return new Promise((ee,ye)=>{B._reqs[B.seqid()]=(Ve,fn)=>Ve?ye(Ve):ee(fn),B.send_import_geo_table(g,_,h,T,p,E)})}send_import_geo_table(g,_,h,T,p,E){const B=new this.pClass(this.output),ee={session:g,table_name:_,file_name:h,copy_params:T,row_desc:p,create_params:E},ye=new rx(ee);try{return B.writeMessageBegin("import_geo_table",a.MessageType.CALL,this.seqid()),ye.write(B),B.writeMessageEnd(),this.output.flush()}catch(Ve){throw delete this._reqs[this.seqid()],typeof B.reset=="function"&&B.reset(),Ve}}recv_import_geo_table(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new P3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}import_table_status(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_import_table_status(g,_)})}send_import_table_status(g,_){const h=new this.pClass(this.output),T={session:g,import_id:_},p=new ax(T);try{return h.writeMessageBegin("import_table_status",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_import_table_status(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new D3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("import_table_status failed: unknown result")}get_first_geo_file_in_archive(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_first_geo_file_in_archive(g,_,h)})}send_get_first_geo_file_in_archive(g,_,h){const T=new this.pClass(this.output),p={session:g,archive_path:_,copy_params:h},E=new ox(p);try{return T.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_first_geo_file_in_archive(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new U3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_first_geo_file_in_archive failed: unknown result")}get_all_files_in_archive(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_all_files_in_archive(g,_,h)})}send_get_all_files_in_archive(g,_,h){const T=new this.pClass(this.output),p={session:g,archive_path:_,copy_params:h},E=new lx(p);try{return T.writeMessageBegin("get_all_files_in_archive",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_all_files_in_archive(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new $3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_all_files_in_archive failed: unknown result")}get_layers_in_geo_file(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_layers_in_geo_file(g,_,h)})}send_get_layers_in_geo_file(g,_,h){const T=new this.pClass(this.output),p={session:g,file_name:_,copy_params:h},E=new cx(p);try{return T.writeMessageBegin("get_layers_in_geo_file",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_layers_in_geo_file(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new H3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_layers_in_geo_file failed: unknown result")}query_get_outer_fragment_count(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_query_get_outer_fragment_count(g,_)})}send_query_get_outer_fragment_count(g,_){const h=new this.pClass(this.output),T={session:g,query:_},p=new dx(T);try{return h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_query_get_outer_fragment_count(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new z3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("query_get_outer_fragment_count failed: unknown result")}check_table_consistency(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_check_table_consistency(g,_)})}send_check_table_consistency(g,_){const h=new this.pClass(this.output),T={session:g,table_id:_},p=new fx(T);try{return h.writeMessageBegin("check_table_consistency",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_check_table_consistency(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new j3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("check_table_consistency failed: unknown result")}start_query(g,_,h,T,p,E){this._seqid=this.new_seqid();const B=this;return new Promise((ee,ye)=>{B._reqs[B.seqid()]=(Ve,fn)=>Ve?ye(Ve):ee(fn),B.send_start_query(g,_,h,T,p,E)})}send_start_query(g,_,h,T,p,E){const B=new this.pClass(this.output),ee={leaf_session:g,parent_session:_,query_ra:h,start_time_str:T,just_explain:p,outer_fragment_indices:E},ye=new ux(ee);try{return B.writeMessageBegin("start_query",a.MessageType.CALL,this.seqid()),ye.write(B),B.writeMessageEnd(),this.output.flush()}catch(Ve){throw delete this._reqs[this.seqid()],typeof B.reset=="function"&&B.reset(),Ve}}recv_start_query(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new q3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("start_query failed: unknown result")}execute_query_step(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_execute_query_step(g,_,h)})}send_execute_query_step(g,_,h){const T=new this.pClass(this.output),p={pending_query:g,subquery_id:_,start_time_str:h},E=new hx(p);try{return T.writeMessageBegin("execute_query_step",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_execute_query_step(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new V3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("execute_query_step failed: unknown result")}broadcast_serialized_rows(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_broadcast_serialized_rows(g,_,h,T,p)})}send_broadcast_serialized_rows(g,_,h,T,p){const E=new this.pClass(this.output),B={serialized_rows:g,row_desc:_,query_id:h,subquery_id:T,is_final_subquery_result:p},ee=new _x(B);try{return E.writeMessageBegin("broadcast_serialized_rows",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_broadcast_serialized_rows(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new G3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}start_render_query(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_start_render_query(g,_,h,T)})}send_start_render_query(g,_,h,T){const p=new this.pClass(this.output),E={session:g,widget_id:_,node_idx:h,vega_json:T},B=new px(E);try{return p.writeMessageBegin("start_render_query",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_start_render_query(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new W3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("start_render_query failed: unknown result")}execute_next_render_step(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_execute_next_render_step(g,_)})}send_execute_next_render_step(g,_){const h=new this.pClass(this.output),T={pending_render:g,merged_data:_},p=new gx(T);try{return h.writeMessageBegin("execute_next_render_step",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_execute_next_render_step(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Y3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("execute_next_render_step failed: unknown result")}insert_data(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_insert_data(g,_)})}send_insert_data(g,_){const h=new this.pClass(this.output),T={session:g,insert_data:_},p=new yx(T);try{return h.writeMessageBegin("insert_data",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_insert_data(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new X3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}insert_chunks(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_insert_chunks(g,_)})}send_insert_chunks(g,_){const h=new this.pClass(this.output),T={session:g,insert_chunks:_},p=new mx(T);try{return h.writeMessageBegin("insert_chunks",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_insert_chunks(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new K3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}checkpoint(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_checkpoint(g,_)})}send_checkpoint(g,_){const h=new this.pClass(this.output),T={session:g,table_id:_},p=new wx(T);try{return h.writeMessageBegin("checkpoint",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_checkpoint(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Z3;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_roles(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_roles(g)})}send_get_roles(g){const _=new this.pClass(this.output),h={session:g},T=new Lx(h);try{return _.writeMessageBegin("get_roles",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_roles(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new Q3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_roles failed: unknown result")}get_db_objects_for_grantee(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_db_objects_for_grantee(g,_)})}send_get_db_objects_for_grantee(g,_){const h=new this.pClass(this.output),T={session:g,roleName:_},p=new bx(T);try{return h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_db_objects_for_grantee(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new J3;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_db_objects_for_grantee failed: unknown result")}get_db_object_privs(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_get_db_object_privs(g,_,h)})}send_get_db_object_privs(g,_,h){const T=new this.pClass(this.output),p={session:g,objectName:_,type:h},E=new Tx(p);try{return T.writeMessageBegin("get_db_object_privs",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_get_db_object_privs(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new e_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_db_object_privs failed: unknown result")}get_all_roles_for_user(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_all_roles_for_user(g,_)})}send_get_all_roles_for_user(g,_){const h=new this.pClass(this.output),T={session:g,userName:_},p=new Ex(T);try{return h.writeMessageBegin("get_all_roles_for_user",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_all_roles_for_user(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new t_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_all_roles_for_user failed: unknown result")}get_all_effective_roles_for_user(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_all_effective_roles_for_user(g,_)})}send_get_all_effective_roles_for_user(g,_){const h=new this.pClass(this.output),T={session:g,userName:_},p=new vx(T);try{return h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_all_effective_roles_for_user(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new n_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_all_effective_roles_for_user failed: unknown result")}has_role(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_has_role(g,_,h)})}send_has_role(g,_,h){const T=new this.pClass(this.output),p={session:g,granteeName:_,roleName:h},E=new Sx(p);try{return T.writeMessageBegin("has_role",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_has_role(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new i_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("has_role failed: unknown result")}has_object_privilege(g,_,h,T,p){this._seqid=this.new_seqid();const E=this;return new Promise((B,ee)=>{E._reqs[E.seqid()]=(ye,Ve)=>ye?ee(ye):B(Ve),E.send_has_object_privilege(g,_,h,T,p)})}send_has_object_privilege(g,_,h,T,p){const E=new this.pClass(this.output),B={session:g,granteeName:_,ObjectName:h,objectType:T,permissions:p},ee=new xx(B);try{return E.writeMessageBegin("has_object_privilege",a.MessageType.CALL,this.seqid()),ee.write(E),E.writeMessageEnd(),this.output.flush()}catch(ye){throw delete this._reqs[this.seqid()],typeof E.reset=="function"&&E.reset(),ye}}recv_has_object_privilege(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new s_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("has_object_privilege failed: unknown result")}set_license_key(g,_,h){this._seqid=this.new_seqid();const T=this;return new Promise((p,E)=>{T._reqs[T.seqid()]=(B,ee)=>B?E(B):p(ee),T.send_set_license_key(g,_,h)})}send_set_license_key(g,_,h){const T=new this.pClass(this.output),p={session:g,key:_,nonce:h},E=new kx(p);try{return T.writeMessageBegin("set_license_key",a.MessageType.CALL,this.seqid()),E.write(T),T.writeMessageEnd(),this.output.flush()}catch(B){throw delete this._reqs[this.seqid()],typeof T.reset=="function"&&T.reset(),B}}recv_set_license_key(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new r_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("set_license_key failed: unknown result")}get_license_claims(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_license_claims(g,_)})}send_get_license_claims(g,_){const h=new this.pClass(this.output),T={session:g,nonce:_},p=new Bx(T);try{return h.writeMessageBegin("get_license_claims",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_license_claims(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new a_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_license_claims failed: unknown result")}get_device_parameters(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_device_parameters(g)})}send_get_device_parameters(g){const _=new this.pClass(this.output),h={session:g},T=new Fx(h);try{return _.writeMessageBegin("get_device_parameters",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_device_parameters(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new o_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_device_parameters failed: unknown result")}register_runtime_extension_functions(g,_,h,T){this._seqid=this.new_seqid();const p=this;return new Promise((E,B)=>{p._reqs[p.seqid()]=(ee,ye)=>ee?B(ee):E(ye),p.send_register_runtime_extension_functions(g,_,h,T)})}send_register_runtime_extension_functions(g,_,h,T){const p=new this.pClass(this.output),E={session:g,udfs:_,udtfs:h,device_ir_map:T},B=new Ix(E);try{return p.writeMessageBegin("register_runtime_extension_functions",a.MessageType.CALL,this.seqid()),B.write(p),p.writeMessageEnd(),this.output.flush()}catch(ee){throw delete this._reqs[this.seqid()],typeof p.reset=="function"&&p.reset(),ee}}recv_register_runtime_extension_functions(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new l_;if(p.read(g),g.readMessageEnd(),p.e!==null)return T(p.e);T(null)}get_table_function_names(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_table_function_names(g)})}send_get_table_function_names(g){const _=new this.pClass(this.output),h={session:g},T=new Mx(h);try{return _.writeMessageBegin("get_table_function_names",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_table_function_names(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new c_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_table_function_names failed: unknown result")}get_runtime_table_function_names(g){this._seqid=this.new_seqid();const _=this;return new Promise((h,T)=>{_._reqs[_.seqid()]=(p,E)=>p?T(p):h(E),_.send_get_runtime_table_function_names(g)})}send_get_runtime_table_function_names(g){const _=new this.pClass(this.output),h={session:g},T=new Ax(h);try{return _.writeMessageBegin("get_runtime_table_function_names",a.MessageType.CALL,this.seqid()),T.write(_),_.writeMessageEnd(),this.output.flush()}catch(p){throw delete this._reqs[this.seqid()],typeof _.reset=="function"&&_.reset(),p}}recv_get_runtime_table_function_names(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new d_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_runtime_table_function_names failed: unknown result")}get_table_function_details(g,_){this._seqid=this.new_seqid();const h=this;return new Promise((T,p)=>{h._reqs[h.seqid()]=(E,B)=>E?p(E):T(B),h.send_get_table_function_details(g,_)})}send_get_table_function_details(g,_){const h=new this.pClass(this.output),T={session:g,udtf_names:_},p=new Ox(T);try{return h.writeMessageBegin("get_table_function_details",a.MessageType.CALL,this.seqid()),p.write(h),h.writeMessageEnd(),this.output.flush()}catch(E){throw delete this._reqs[this.seqid()],typeof h.reset=="function"&&h.reset(),E}}recv_get_table_function_details(g,_,h){const T=this._reqs[h]||function(){};if(delete this._reqs[h],_==a.MessageType.EXCEPTION){const E=new a.TApplicationException;return E.read(g),g.readMessageEnd(),T(E)}const p=new f_;return p.read(g),g.readMessageEnd(),p.e!==null?T(p.e):p.success!==null?T(null,p.success):T("get_table_function_details failed: unknown result")}},d.Processor=class{constructor(g){this._handler=g}process(g,_){const h=g.readMessageBegin();if(this["process_"+h.fname])return this["process_"+h.fname].call(this,h.rseqid,g,_);{g.skip(a.Type.STRUCT),g.readMessageEnd();const T=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN_METHOD,"Unknown function "+h.fname);_.writeMessageBegin(h.fname,a.MessageType.EXCEPTION,h.rseqid),T.write(_),_.writeMessageEnd(),_.flush()}}process_connect(g,_,h){const T=new b;T.read(_),_.readMessageEnd(),this._handler.connect.length===3?Promise.resolve(this._handler.connect.bind(this._handler)(T.user,T.passwd,T.dbname)).then(p=>{const E=new L({success:p});h.writeMessageBegin("connect",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new L(p),h.writeMessageBegin("connect",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("connect",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.connect(T.user,T.passwd,T.dbname,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new L(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("connect",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("connect",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_krb5_connect(g,_,h){const T=new v;T.read(_),_.readMessageEnd(),this._handler.krb5_connect.length===2?Promise.resolve(this._handler.krb5_connect.bind(this._handler)(T.inputToken,T.dbname)).then(p=>{const E=new S({success:p});h.writeMessageBegin("krb5_connect",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new S(p),h.writeMessageBegin("krb5_connect",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("krb5_connect",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.krb5_connect(T.inputToken,T.dbname,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new S(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("krb5_connect",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("krb5_connect",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_disconnect(g,_,h){const T=new x;T.read(_),_.readMessageEnd(),this._handler.disconnect.length===1?Promise.resolve(this._handler.disconnect.bind(this._handler)(T.session)).then(p=>{const E=new F({success:p});h.writeMessageBegin("disconnect",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new F(p),h.writeMessageBegin("disconnect",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("disconnect",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.disconnect(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new F(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("disconnect",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("disconnect",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_switch_database(g,_,h){const T=new k;T.read(_),_.readMessageEnd(),this._handler.switch_database.length===2?Promise.resolve(this._handler.switch_database.bind(this._handler)(T.session,T.dbname)).then(p=>{const E=new A({success:p});h.writeMessageBegin("switch_database",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new A(p),h.writeMessageBegin("switch_database",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("switch_database",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.switch_database(T.session,T.dbname,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new A(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("switch_database",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("switch_database",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_clone_session(g,_,h){const T=new M;T.read(_),_.readMessageEnd(),this._handler.clone_session.length===1?Promise.resolve(this._handler.clone_session.bind(this._handler)(T.session)).then(p=>{const E=new C({success:p});h.writeMessageBegin("clone_session",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new C(p),h.writeMessageBegin("clone_session",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clone_session",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clone_session(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new C(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("clone_session",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clone_session",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_server_status(g,_,h){const T=new R;T.read(_),_.readMessageEnd(),this._handler.get_server_status.length===1?Promise.resolve(this._handler.get_server_status.bind(this._handler)(T.session)).then(p=>{const E=new D({success:p});h.writeMessageBegin("get_server_status",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new D(p),h.writeMessageBegin("get_server_status",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_server_status",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_server_status(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new D(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_server_status",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_server_status",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_status(g,_,h){const T=new U;T.read(_),_.readMessageEnd(),this._handler.get_status.length===1?Promise.resolve(this._handler.get_status.bind(this._handler)(T.session)).then(p=>{const E=new X({success:p});h.writeMessageBegin("get_status",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new X(p),h.writeMessageBegin("get_status",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_status",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_status(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new X(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_status",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_status",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_hardware_info(g,_,h){const T=new j;T.read(_),_.readMessageEnd(),this._handler.get_hardware_info.length===1?Promise.resolve(this._handler.get_hardware_info.bind(this._handler)(T.session)).then(p=>{const E=new G({success:p});h.writeMessageBegin("get_hardware_info",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new G(p),h.writeMessageBegin("get_hardware_info",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_hardware_info",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_hardware_info(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new G(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_hardware_info",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_hardware_info",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables(g,_,h){const T=new V;T.read(_),_.readMessageEnd(),this._handler.get_tables.length===1?Promise.resolve(this._handler.get_tables.bind(this._handler)(T.session)).then(p=>{const E=new W({success:p});h.writeMessageBegin("get_tables",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new W(p),h.writeMessageBegin("get_tables",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new W(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_tables",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables_for_database(g,_,h){const T=new Z;T.read(_),_.readMessageEnd(),this._handler.get_tables_for_database.length===2?Promise.resolve(this._handler.get_tables_for_database.bind(this._handler)(T.session,T.database_name)).then(p=>{const E=new q({success:p});h.writeMessageBegin("get_tables_for_database",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new q(p),h.writeMessageBegin("get_tables_for_database",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables_for_database",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables_for_database(T.session,T.database_name,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new q(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_tables_for_database",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables_for_database",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_physical_tables(g,_,h){const T=new oe;T.read(_),_.readMessageEnd(),this._handler.get_physical_tables.length===1?Promise.resolve(this._handler.get_physical_tables.bind(this._handler)(T.session)).then(p=>{const E=new fe({success:p});h.writeMessageBegin("get_physical_tables",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new fe(p),h.writeMessageBegin("get_physical_tables",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_physical_tables",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_physical_tables(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new fe(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_physical_tables",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_physical_tables",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_views(g,_,h){const T=new ne;T.read(_),_.readMessageEnd(),this._handler.get_views.length===1?Promise.resolve(this._handler.get_views.bind(this._handler)(T.session)).then(p=>{const E=new xe({success:p});h.writeMessageBegin("get_views",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new xe(p),h.writeMessageBegin("get_views",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_views",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_views(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new xe(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_views",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_views",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_tables_meta(g,_,h){const T=new le;T.read(_),_.readMessageEnd(),this._handler.get_tables_meta.length===1?Promise.resolve(this._handler.get_tables_meta.bind(this._handler)(T.session)).then(p=>{const E=new Se({success:p});h.writeMessageBegin("get_tables_meta",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Se(p),h.writeMessageBegin("get_tables_meta",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables_meta",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_tables_meta(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Se(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_tables_meta",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_tables_meta",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_details(g,_,h){const T=new Ae;T.read(_),_.readMessageEnd(),this._handler.get_table_details.length===2?Promise.resolve(this._handler.get_table_details.bind(this._handler)(T.session,T.table_name)).then(p=>{const E=new Ze({success:p});h.writeMessageBegin("get_table_details",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Ze(p),h.writeMessageBegin("get_table_details",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_details",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_details(T.session,T.table_name,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Ze(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_details",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_details",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_details_for_database(g,_,h){const T=new gt;T.read(_),_.readMessageEnd(),this._handler.get_table_details_for_database.length===3?Promise.resolve(this._handler.get_table_details_for_database.bind(this._handler)(T.session,T.table_name,T.database_name)).then(p=>{const E=new wt({success:p});h.writeMessageBegin("get_table_details_for_database",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new wt(p),h.writeMessageBegin("get_table_details_for_database",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_details_for_database",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_details_for_database(T.session,T.table_name,T.database_name,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new wt(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_details_for_database",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_details_for_database",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_internal_table_details(g,_,h){const T=new _e;T.read(_),_.readMessageEnd(),this._handler.get_internal_table_details.length===3?Promise.resolve(this._handler.get_internal_table_details.bind(this._handler)(T.session,T.table_name,T.include_system_columns)).then(p=>{const E=new H({success:p});h.writeMessageBegin("get_internal_table_details",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new H(p),h.writeMessageBegin("get_internal_table_details",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_internal_table_details",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_internal_table_details(T.session,T.table_name,T.include_system_columns,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new H(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_internal_table_details",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_internal_table_details",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_internal_table_details_for_database(g,_,h){const T=new z;T.read(_),_.readMessageEnd(),this._handler.get_internal_table_details_for_database.length===3?Promise.resolve(this._handler.get_internal_table_details_for_database.bind(this._handler)(T.session,T.table_name,T.database_name)).then(p=>{const E=new P({success:p});h.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new P(p),h.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_internal_table_details_for_database(T.session,T.table_name,T.database_name,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new P(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_internal_table_details_for_database",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_users(g,_,h){const T=new K;T.read(_),_.readMessageEnd(),this._handler.get_users.length===1?Promise.resolve(this._handler.get_users.bind(this._handler)(T.session)).then(p=>{const E=new J({success:p});h.writeMessageBegin("get_users",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new J(p),h.writeMessageBegin("get_users",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_users",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_users(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new J(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_users",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_users",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_databases(g,_,h){const T=new re;T.read(_),_.readMessageEnd(),this._handler.get_databases.length===1?Promise.resolve(this._handler.get_databases.bind(this._handler)(T.session)).then(p=>{const E=new se({success:p});h.writeMessageBegin("get_databases",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new se(p),h.writeMessageBegin("get_databases",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_databases",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_databases(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new se(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_databases",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_databases",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_version(g,_,h){new pe().read(_),_.readMessageEnd(),this._handler.get_version.length===0?Promise.resolve(this._handler.get_version.bind(this._handler)()).then(p=>{const E=new Ee({success:p});h.writeMessageBegin("get_version",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Ee(p),h.writeMessageBegin("get_version",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_version",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_version((p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Ee(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_version",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_version",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_start_heap_profile(g,_,h){const T=new We;T.read(_),_.readMessageEnd(),this._handler.start_heap_profile.length===1?Promise.resolve(this._handler.start_heap_profile.bind(this._handler)(T.session)).then(p=>{const E=new Ht({success:p});h.writeMessageBegin("start_heap_profile",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Ht(p),h.writeMessageBegin("start_heap_profile",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_heap_profile",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_heap_profile(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Ht(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("start_heap_profile",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_heap_profile",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_stop_heap_profile(g,_,h){const T=new ln;T.read(_),_.readMessageEnd(),this._handler.stop_heap_profile.length===1?Promise.resolve(this._handler.stop_heap_profile.bind(this._handler)(T.session)).then(p=>{const E=new Ot({success:p});h.writeMessageBegin("stop_heap_profile",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Ot(p),h.writeMessageBegin("stop_heap_profile",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("stop_heap_profile",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.stop_heap_profile(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Ot(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("stop_heap_profile",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("stop_heap_profile",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_heap_profile(g,_,h){const T=new ai;T.read(_),_.readMessageEnd(),this._handler.get_heap_profile.length===1?Promise.resolve(this._handler.get_heap_profile.bind(this._handler)(T.session)).then(p=>{const E=new Pi({success:p});h.writeMessageBegin("get_heap_profile",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Pi(p),h.writeMessageBegin("get_heap_profile",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_heap_profile",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_heap_profile(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Pi(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_heap_profile",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_heap_profile",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_memory(g,_,h){const T=new Mn;T.read(_),_.readMessageEnd(),this._handler.get_memory.length===2?Promise.resolve(this._handler.get_memory.bind(this._handler)(T.session,T.memory_level)).then(p=>{const E=new ue({success:p});h.writeMessageBegin("get_memory",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new ue(p),h.writeMessageBegin("get_memory",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_memory",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_memory(T.session,T.memory_level,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new ue(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_memory",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_memory",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_clear_cpu_memory(g,_,h){const T=new oi;T.read(_),_.readMessageEnd(),this._handler.clear_cpu_memory.length===1?Promise.resolve(this._handler.clear_cpu_memory.bind(this._handler)(T.session)).then(p=>{const E=new Ft({success:p});h.writeMessageBegin("clear_cpu_memory",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Ft(p),h.writeMessageBegin("clear_cpu_memory",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clear_cpu_memory",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clear_cpu_memory(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Ft(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("clear_cpu_memory",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clear_cpu_memory",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_clear_gpu_memory(g,_,h){const T=new Yt;T.read(_),_.readMessageEnd(),this._handler.clear_gpu_memory.length===1?Promise.resolve(this._handler.clear_gpu_memory.bind(this._handler)(T.session)).then(p=>{const E=new Tt({success:p});h.writeMessageBegin("clear_gpu_memory",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Tt(p),h.writeMessageBegin("clear_gpu_memory",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clear_gpu_memory",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.clear_gpu_memory(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Tt(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("clear_gpu_memory",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("clear_gpu_memory",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_cur_session(g,_,h){const T=new nn;T.read(_),_.readMessageEnd(),this._handler.set_cur_session.length===5?Promise.resolve(this._handler.set_cur_session.bind(this._handler)(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel)).then(p=>{const E=new sn({success:p});h.writeMessageBegin("set_cur_session",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new sn(p),h.writeMessageBegin("set_cur_session",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_cur_session",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_cur_session(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new sn(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_cur_session",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_cur_session",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_invalidate_cur_session(g,_,h){const T=new Zt;T.read(_),_.readMessageEnd(),this._handler.invalidate_cur_session.length===5?Promise.resolve(this._handler.invalidate_cur_session.bind(this._handler)(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel)).then(p=>{const E=new yn({success:p});h.writeMessageBegin("invalidate_cur_session",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new yn(p),h.writeMessageBegin("invalidate_cur_session",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("invalidate_cur_session",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.invalidate_cur_session(T.parent_session,T.leaf_session,T.start_time_str,T.label,T.for_running_query_kernel,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new yn(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("invalidate_cur_session",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("invalidate_cur_session",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epoch(g,_,h){const T=new N;T.read(_),_.readMessageEnd(),this._handler.set_table_epoch.length===4?Promise.resolve(this._handler.set_table_epoch.bind(this._handler)(T.session,T.db_id,T.table_id,T.new_epoch)).then(p=>{const E=new I({success:p});h.writeMessageBegin("set_table_epoch",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new I(p),h.writeMessageBegin("set_table_epoch",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epoch",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epoch(T.session,T.db_id,T.table_id,T.new_epoch,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new I(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_table_epoch",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epoch",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epoch_by_name(g,_,h){const T=new O;T.read(_),_.readMessageEnd(),this._handler.set_table_epoch_by_name.length===3?Promise.resolve(this._handler.set_table_epoch_by_name.bind(this._handler)(T.session,T.table_name,T.new_epoch)).then(p=>{const E=new $({success:p});h.writeMessageBegin("set_table_epoch_by_name",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new $(p),h.writeMessageBegin("set_table_epoch_by_name",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epoch_by_name",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epoch_by_name(T.session,T.table_name,T.new_epoch,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new $(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_table_epoch_by_name",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epoch_by_name",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epoch(g,_,h){const T=new Y;T.read(_),_.readMessageEnd(),this._handler.get_table_epoch.length===3?Promise.resolve(this._handler.get_table_epoch.bind(this._handler)(T.session,T.db_id,T.table_id)).then(p=>{const E=new te({success:p});h.writeMessageBegin("get_table_epoch",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epoch",a.MessageType.EXCEPTION,g),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epoch(T.session,T.db_id,T.table_id,(p,E)=>{let B;p===null||typeof p>"u"?(B=new te(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_epoch",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epoch",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epoch_by_name(g,_,h){const T=new ie;T.read(_),_.readMessageEnd(),this._handler.get_table_epoch_by_name.length===2?Promise.resolve(this._handler.get_table_epoch_by_name.bind(this._handler)(T.session,T.table_name)).then(p=>{const E=new Me({success:p});h.writeMessageBegin("get_table_epoch_by_name",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epoch_by_name",a.MessageType.EXCEPTION,g),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epoch_by_name(T.session,T.table_name,(p,E)=>{let B;p===null||typeof p>"u"?(B=new Me(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_epoch_by_name",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epoch_by_name",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_epochs(g,_,h){const T=new $e;T.read(_),_.readMessageEnd(),this._handler.get_table_epochs.length===3?Promise.resolve(this._handler.get_table_epochs.bind(this._handler)(T.session,T.db_id,T.table_id)).then(p=>{const E=new He({success:p});h.writeMessageBegin("get_table_epochs",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epochs",a.MessageType.EXCEPTION,g),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_epochs(T.session,T.db_id,T.table_id,(p,E)=>{let B;p===null||typeof p>"u"?(B=new He(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_epochs",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_epochs",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_table_epochs(g,_,h){const T=new Xe;T.read(_),_.readMessageEnd(),this._handler.set_table_epochs.length===3?Promise.resolve(this._handler.set_table_epochs.bind(this._handler)(T.session,T.db_id,T.table_epochs)).then(p=>{const E=new Ke({success:p});h.writeMessageBegin("set_table_epochs",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epochs",a.MessageType.EXCEPTION,g),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_table_epochs(T.session,T.db_id,T.table_epochs,(p,E)=>{let B;p===null||typeof p>"u"?(B=new Ke(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_table_epochs",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_table_epochs",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_session_info(g,_,h){const T=new rl;T.read(_),_.readMessageEnd(),this._handler.get_session_info.length===1?Promise.resolve(this._handler.get_session_info.bind(this._handler)(T.session)).then(p=>{const E=new J0({success:p});h.writeMessageBegin("get_session_info",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new J0(p),h.writeMessageBegin("get_session_info",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_session_info",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_session_info(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new J0(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_session_info",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_session_info",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_queries_info(g,_,h){const T=new TS;T.read(_),_.readMessageEnd(),this._handler.get_queries_info.length===1?Promise.resolve(this._handler.get_queries_info.bind(this._handler)(T.session)).then(p=>{const E=new e3({success:p});h.writeMessageBegin("get_queries_info",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new e3(p),h.writeMessageBegin("get_queries_info",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_queries_info",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_queries_info(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new e3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_queries_info",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_queries_info",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_leaf_info(g,_,h){const T=new ES;T.read(_),_.readMessageEnd(),this._handler.set_leaf_info.length===2?Promise.resolve(this._handler.set_leaf_info.bind(this._handler)(T.session,T.leaf_info)).then(p=>{const E=new t3({success:p});h.writeMessageBegin("set_leaf_info",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new t3(p),h.writeMessageBegin("set_leaf_info",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_leaf_info",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_leaf_info(T.session,T.leaf_info,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new t3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_leaf_info",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_leaf_info",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute(g,_,h){const T=new vS;T.read(_),_.readMessageEnd(),this._handler.sql_execute.length===6?Promise.resolve(this._handler.sql_execute.bind(this._handler)(T.session,T.query,T.column_format,T.nonce,T.first_n,T.at_most_n)).then(p=>{const E=new n3({success:p});h.writeMessageBegin("sql_execute",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new n3(p),h.writeMessageBegin("sql_execute",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute(T.session,T.query,T.column_format,T.nonce,T.first_n,T.at_most_n,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new n3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("sql_execute",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute_df(g,_,h){const T=new SS;T.read(_),_.readMessageEnd(),this._handler.sql_execute_df.length===6?Promise.resolve(this._handler.sql_execute_df.bind(this._handler)(T.session,T.query,T.device_type,T.device_id,T.first_n,T.transport_method)).then(p=>{const E=new i3({success:p});h.writeMessageBegin("sql_execute_df",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new i3(p),h.writeMessageBegin("sql_execute_df",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute_df",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute_df(T.session,T.query,T.device_type,T.device_id,T.first_n,T.transport_method,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new i3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("sql_execute_df",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute_df",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_sql_execute_gdf(g,_,h){const T=new xS;T.read(_),_.readMessageEnd(),this._handler.sql_execute_gdf.length===4?Promise.resolve(this._handler.sql_execute_gdf.bind(this._handler)(T.session,T.query,T.device_id,T.first_n)).then(p=>{const E=new s3({success:p});h.writeMessageBegin("sql_execute_gdf",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new s3(p),h.writeMessageBegin("sql_execute_gdf",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute_gdf",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_execute_gdf(T.session,T.query,T.device_id,T.first_n,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new s3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("sql_execute_gdf",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_execute_gdf",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_deallocate_df(g,_,h){const T=new kS;T.read(_),_.readMessageEnd(),this._handler.deallocate_df.length===4?Promise.resolve(this._handler.deallocate_df.bind(this._handler)(T.session,T.df,T.device_type,T.device_id)).then(p=>{const E=new r3({success:p});h.writeMessageBegin("deallocate_df",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new r3(p),h.writeMessageBegin("deallocate_df",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("deallocate_df",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.deallocate_df(T.session,T.df,T.device_type,T.device_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new r3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("deallocate_df",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("deallocate_df",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_interrupt(g,_,h){const T=new BS;T.read(_),_.readMessageEnd(),this._handler.interrupt.length===2?Promise.resolve(this._handler.interrupt.bind(this._handler)(T.query_session,T.interrupt_session)).then(p=>{const E=new a3({success:p});h.writeMessageBegin("interrupt",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new a3(p),h.writeMessageBegin("interrupt",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("interrupt",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.interrupt(T.query_session,T.interrupt_session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new a3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("interrupt",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("interrupt",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_sql_validate(g,_,h){const T=new FS;T.read(_),_.readMessageEnd(),this._handler.sql_validate.length===2?Promise.resolve(this._handler.sql_validate.bind(this._handler)(T.session,T.query)).then(p=>{const E=new o3({success:p});h.writeMessageBegin("sql_validate",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new o3(p),h.writeMessageBegin("sql_validate",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_validate",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.sql_validate(T.session,T.query,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new o3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("sql_validate",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("sql_validate",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_completion_hints(g,_,h){const T=new IS;T.read(_),_.readMessageEnd(),this._handler.get_completion_hints.length===3?Promise.resolve(this._handler.get_completion_hints.bind(this._handler)(T.session,T.sql,T.cursor)).then(p=>{const E=new l3({success:p});h.writeMessageBegin("get_completion_hints",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new l3(p),h.writeMessageBegin("get_completion_hints",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_completion_hints",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_completion_hints(T.session,T.sql,T.cursor,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new l3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_completion_hints",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_completion_hints",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_execution_mode(g,_,h){const T=new MS;T.read(_),_.readMessageEnd(),this._handler.set_execution_mode.length===2?Promise.resolve(this._handler.set_execution_mode.bind(this._handler)(T.session,T.mode)).then(p=>{const E=new c3({success:p});h.writeMessageBegin("set_execution_mode",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new c3(p),h.writeMessageBegin("set_execution_mode",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_execution_mode",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_execution_mode(T.session,T.mode,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new c3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_execution_mode",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_execution_mode",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_render_vega(g,_,h){const T=new AS;T.read(_),_.readMessageEnd(),this._handler.render_vega.length===5?Promise.resolve(this._handler.render_vega.bind(this._handler)(T.session,T.widget_id,T.vega_json,T.compression_level,T.nonce)).then(p=>{const E=new d3({success:p});h.writeMessageBegin("render_vega",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new d3(p),h.writeMessageBegin("render_vega",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("render_vega",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.render_vega(T.session,T.widget_id,T.vega_json,T.compression_level,T.nonce,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new d3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("render_vega",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("render_vega",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_result_row_for_pixel(g,_,h){const T=new OS;T.read(_),_.readMessageEnd(),this._handler.get_result_row_for_pixel.length===7?Promise.resolve(this._handler.get_result_row_for_pixel.bind(this._handler)(T.session,T.widget_id,T.pixel,T.table_col_names,T.column_format,T.pixelRadius,T.nonce)).then(p=>{const E=new f3({success:p});h.writeMessageBegin("get_result_row_for_pixel",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new f3(p),h.writeMessageBegin("get_result_row_for_pixel",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_result_row_for_pixel",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_result_row_for_pixel(T.session,T.widget_id,T.pixel,T.table_col_names,T.column_format,T.pixelRadius,T.nonce,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new f3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_result_row_for_pixel",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_result_row_for_pixel",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_create_custom_expression(g,_,h){const T=new NS;T.read(_),_.readMessageEnd(),this._handler.create_custom_expression.length===2?Promise.resolve(this._handler.create_custom_expression.bind(this._handler)(T.session,T.custom_expression)).then(p=>{const E=new u3({success:p});h.writeMessageBegin("create_custom_expression",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new u3(p),h.writeMessageBegin("create_custom_expression",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_custom_expression",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_custom_expression(T.session,T.custom_expression,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new u3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("create_custom_expression",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_custom_expression",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_custom_expressions(g,_,h){const T=new CS;T.read(_),_.readMessageEnd(),this._handler.get_custom_expressions.length===1?Promise.resolve(this._handler.get_custom_expressions.bind(this._handler)(T.session)).then(p=>{const E=new h3({success:p});h.writeMessageBegin("get_custom_expressions",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new h3(p),h.writeMessageBegin("get_custom_expressions",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_custom_expressions",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_custom_expressions(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new h3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_custom_expressions",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_custom_expressions",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_update_custom_expression(g,_,h){const T=new RS;T.read(_),_.readMessageEnd(),this._handler.update_custom_expression.length===3?Promise.resolve(this._handler.update_custom_expression.bind(this._handler)(T.session,T.id,T.expression_json)).then(p=>{const E=new _3({success:p});h.writeMessageBegin("update_custom_expression",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new _3(p),h.writeMessageBegin("update_custom_expression",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("update_custom_expression",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.update_custom_expression(T.session,T.id,T.expression_json,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new _3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("update_custom_expression",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("update_custom_expression",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_delete_custom_expressions(g,_,h){const T=new PS;T.read(_),_.readMessageEnd(),this._handler.delete_custom_expressions.length===3?Promise.resolve(this._handler.delete_custom_expressions.bind(this._handler)(T.session,T.custom_expression_ids,T.do_soft_delete)).then(p=>{const E=new p3({success:p});h.writeMessageBegin("delete_custom_expressions",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new p3(p),h.writeMessageBegin("delete_custom_expressions",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_custom_expressions",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_custom_expressions(T.session,T.custom_expression_ids,T.do_soft_delete,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new p3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("delete_custom_expressions",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_custom_expressions",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboard(g,_,h){const T=new DS;T.read(_),_.readMessageEnd(),this._handler.get_dashboard.length===2?Promise.resolve(this._handler.get_dashboard.bind(this._handler)(T.session,T.dashboard_id)).then(p=>{const E=new g3({success:p});h.writeMessageBegin("get_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new g3(p),h.writeMessageBegin("get_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboard(T.session,T.dashboard_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new g3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboards(g,_,h){const T=new US;T.read(_),_.readMessageEnd(),this._handler.get_dashboards.length===1?Promise.resolve(this._handler.get_dashboards.bind(this._handler)(T.session)).then(p=>{const E=new y3({success:p});h.writeMessageBegin("get_dashboards",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new y3(p),h.writeMessageBegin("get_dashboards",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboards",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboards(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new y3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_dashboards",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboards",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_create_dashboard(g,_,h){const T=new $S;T.read(_),_.readMessageEnd(),this._handler.create_dashboard.length===5?Promise.resolve(this._handler.create_dashboard.bind(this._handler)(T.session,T.dashboard_name,T.dashboard_state,T.image_hash,T.dashboard_metadata)).then(p=>{const E=new m3({success:p});h.writeMessageBegin("create_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new m3(p),h.writeMessageBegin("create_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_dashboard(T.session,T.dashboard_name,T.dashboard_state,T.image_hash,T.dashboard_metadata,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new m3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("create_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_replace_dashboard(g,_,h){const T=new HS;T.read(_),_.readMessageEnd(),this._handler.replace_dashboard.length===7?Promise.resolve(this._handler.replace_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.dashboard_name,T.dashboard_owner,T.dashboard_state,T.image_hash,T.dashboard_metadata)).then(p=>{const E=new w3({success:p});h.writeMessageBegin("replace_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new w3(p),h.writeMessageBegin("replace_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("replace_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.replace_dashboard(T.session,T.dashboard_id,T.dashboard_name,T.dashboard_owner,T.dashboard_state,T.image_hash,T.dashboard_metadata,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new w3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("replace_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("replace_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_delete_dashboard(g,_,h){const T=new zS;T.read(_),_.readMessageEnd(),this._handler.delete_dashboard.length===2?Promise.resolve(this._handler.delete_dashboard.bind(this._handler)(T.session,T.dashboard_id)).then(p=>{const E=new L3({success:p});h.writeMessageBegin("delete_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new L3(p),h.writeMessageBegin("delete_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_dashboard(T.session,T.dashboard_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new L3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("delete_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_share_dashboards(g,_,h){const T=new jS;T.read(_),_.readMessageEnd(),this._handler.share_dashboards.length===4?Promise.resolve(this._handler.share_dashboards.bind(this._handler)(T.session,T.dashboard_ids,T.groups,T.permissions)).then(p=>{const E=new b3({success:p});h.writeMessageBegin("share_dashboards",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new b3(p),h.writeMessageBegin("share_dashboards",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("share_dashboards",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.share_dashboards(T.session,T.dashboard_ids,T.groups,T.permissions,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new b3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("share_dashboards",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("share_dashboards",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_delete_dashboards(g,_,h){const T=new qS;T.read(_),_.readMessageEnd(),this._handler.delete_dashboards.length===2?Promise.resolve(this._handler.delete_dashboards.bind(this._handler)(T.session,T.dashboard_ids)).then(p=>{const E=new T3({success:p});h.writeMessageBegin("delete_dashboards",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new T3(p),h.writeMessageBegin("delete_dashboards",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_dashboards",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.delete_dashboards(T.session,T.dashboard_ids,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new T3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("delete_dashboards",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("delete_dashboards",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_share_dashboard(g,_,h){const T=new VS;T.read(_),_.readMessageEnd(),this._handler.share_dashboard.length===6?Promise.resolve(this._handler.share_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,T.grant_role)).then(p=>{const E=new E3({success:p});h.writeMessageBegin("share_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new E3(p),h.writeMessageBegin("share_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("share_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.share_dashboard(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,T.grant_role,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new E3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("share_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("share_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_unshare_dashboard(g,_,h){const T=new GS;T.read(_),_.readMessageEnd(),this._handler.unshare_dashboard.length===5?Promise.resolve(this._handler.unshare_dashboard.bind(this._handler)(T.session,T.dashboard_id,T.groups,T.objects,T.permissions)).then(p=>{const E=new v3({success:p});h.writeMessageBegin("unshare_dashboard",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new v3(p),h.writeMessageBegin("unshare_dashboard",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("unshare_dashboard",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.unshare_dashboard(T.session,T.dashboard_id,T.groups,T.objects,T.permissions,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new v3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("unshare_dashboard",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("unshare_dashboard",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_unshare_dashboards(g,_,h){const T=new WS;T.read(_),_.readMessageEnd(),this._handler.unshare_dashboards.length===4?Promise.resolve(this._handler.unshare_dashboards.bind(this._handler)(T.session,T.dashboard_ids,T.groups,T.permissions)).then(p=>{const E=new S3({success:p});h.writeMessageBegin("unshare_dashboards",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new S3(p),h.writeMessageBegin("unshare_dashboards",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("unshare_dashboards",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.unshare_dashboards(T.session,T.dashboard_ids,T.groups,T.permissions,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new S3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("unshare_dashboards",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("unshare_dashboards",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_dashboard_grantees(g,_,h){const T=new YS;T.read(_),_.readMessageEnd(),this._handler.get_dashboard_grantees.length===2?Promise.resolve(this._handler.get_dashboard_grantees.bind(this._handler)(T.session,T.dashboard_id)).then(p=>{const E=new x3({success:p});h.writeMessageBegin("get_dashboard_grantees",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new x3(p),h.writeMessageBegin("get_dashboard_grantees",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboard_grantees",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_dashboard_grantees(T.session,T.dashboard_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new x3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_dashboard_grantees",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_dashboard_grantees",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_link_view(g,_,h){const T=new XS;T.read(_),_.readMessageEnd(),this._handler.get_link_view.length===2?Promise.resolve(this._handler.get_link_view.bind(this._handler)(T.session,T.link)).then(p=>{const E=new k3({success:p});h.writeMessageBegin("get_link_view",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new k3(p),h.writeMessageBegin("get_link_view",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_link_view",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_link_view(T.session,T.link,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new k3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_link_view",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_link_view",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_create_link(g,_,h){const T=new KS;T.read(_),_.readMessageEnd(),this._handler.create_link.length===3?Promise.resolve(this._handler.create_link.bind(this._handler)(T.session,T.view_state,T.view_metadata)).then(p=>{const E=new B3({success:p});h.writeMessageBegin("create_link",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new B3(p),h.writeMessageBegin("create_link",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_link",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_link(T.session,T.view_state,T.view_metadata,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new B3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("create_link",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_link",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary(g,_,h){const T=new ZS;T.read(_),_.readMessageEnd(),this._handler.load_table_binary.length===4?Promise.resolve(this._handler.load_table_binary.bind(this._handler)(T.session,T.table_name,T.rows,T.column_names)).then(p=>{const E=new F3({success:p});h.writeMessageBegin("load_table_binary",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new F3(p),h.writeMessageBegin("load_table_binary",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary(T.session,T.table_name,T.rows,T.column_names,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new F3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("load_table_binary",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_columnar(g,_,h){const T=new QS;T.read(_),_.readMessageEnd(),this._handler.load_table_binary_columnar.length===4?Promise.resolve(this._handler.load_table_binary_columnar.bind(this._handler)(T.session,T.table_name,T.cols,T.column_names)).then(p=>{const E=new I3({success:p});h.writeMessageBegin("load_table_binary_columnar",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new I3(p),h.writeMessageBegin("load_table_binary_columnar",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_columnar",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_columnar(T.session,T.table_name,T.cols,T.column_names,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new I3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("load_table_binary_columnar",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_columnar",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_columnar_polys(g,_,h){const T=new JS;T.read(_),_.readMessageEnd(),this._handler.load_table_binary_columnar_polys.length===5?Promise.resolve(this._handler.load_table_binary_columnar_polys.bind(this._handler)(T.session,T.table_name,T.cols,T.column_names,T.assign_render_groups)).then(p=>{const E=new M3({success:p});h.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new M3(p),h.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_columnar_polys(T.session,T.table_name,T.cols,T.column_names,T.assign_render_groups,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new M3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_columnar_polys",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_load_table_binary_arrow(g,_,h){const T=new ex;T.read(_),_.readMessageEnd(),this._handler.load_table_binary_arrow.length===4?Promise.resolve(this._handler.load_table_binary_arrow.bind(this._handler)(T.session,T.table_name,T.arrow_stream,T.use_column_names)).then(p=>{const E=new A3({success:p});h.writeMessageBegin("load_table_binary_arrow",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new A3(p),h.writeMessageBegin("load_table_binary_arrow",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_arrow",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table_binary_arrow(T.session,T.table_name,T.arrow_stream,T.use_column_names,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new A3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("load_table_binary_arrow",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table_binary_arrow",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_load_table(g,_,h){const T=new tx;T.read(_),_.readMessageEnd(),this._handler.load_table.length===4?Promise.resolve(this._handler.load_table.bind(this._handler)(T.session,T.table_name,T.rows,T.column_names)).then(p=>{const E=new O3({success:p});h.writeMessageBegin("load_table",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new O3(p),h.writeMessageBegin("load_table",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.load_table(T.session,T.table_name,T.rows,T.column_names,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new O3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("load_table",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("load_table",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_detect_column_types(g,_,h){const T=new nx;T.read(_),_.readMessageEnd(),this._handler.detect_column_types.length===3?Promise.resolve(this._handler.detect_column_types.bind(this._handler)(T.session,T.file_name,T.copy_params)).then(p=>{const E=new N3({success:p});h.writeMessageBegin("detect_column_types",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new N3(p),h.writeMessageBegin("detect_column_types",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("detect_column_types",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.detect_column_types(T.session,T.file_name,T.copy_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new N3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("detect_column_types",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("detect_column_types",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_create_table(g,_,h){const T=new ix;T.read(_),_.readMessageEnd(),this._handler.create_table.length===4?Promise.resolve(this._handler.create_table.bind(this._handler)(T.session,T.table_name,T.row_desc,T.create_params)).then(p=>{const E=new C3({success:p});h.writeMessageBegin("create_table",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new C3(p),h.writeMessageBegin("create_table",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_table",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.create_table(T.session,T.table_name,T.row_desc,T.create_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new C3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("create_table",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("create_table",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_import_table(g,_,h){const T=new sx;T.read(_),_.readMessageEnd(),this._handler.import_table.length===4?Promise.resolve(this._handler.import_table.bind(this._handler)(T.session,T.table_name,T.file_name,T.copy_params)).then(p=>{const E=new R3({success:p});h.writeMessageBegin("import_table",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new R3(p),h.writeMessageBegin("import_table",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_table",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_table(T.session,T.table_name,T.file_name,T.copy_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new R3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("import_table",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_table",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_import_geo_table(g,_,h){const T=new rx;T.read(_),_.readMessageEnd(),this._handler.import_geo_table.length===6?Promise.resolve(this._handler.import_geo_table.bind(this._handler)(T.session,T.table_name,T.file_name,T.copy_params,T.row_desc,T.create_params)).then(p=>{const E=new P3({success:p});h.writeMessageBegin("import_geo_table",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new P3(p),h.writeMessageBegin("import_geo_table",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_geo_table",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_geo_table(T.session,T.table_name,T.file_name,T.copy_params,T.row_desc,T.create_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new P3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("import_geo_table",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_geo_table",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_import_table_status(g,_,h){const T=new ax;T.read(_),_.readMessageEnd(),this._handler.import_table_status.length===2?Promise.resolve(this._handler.import_table_status.bind(this._handler)(T.session,T.import_id)).then(p=>{const E=new D3({success:p});h.writeMessageBegin("import_table_status",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new D3(p),h.writeMessageBegin("import_table_status",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_table_status",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.import_table_status(T.session,T.import_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new D3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("import_table_status",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("import_table_status",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_first_geo_file_in_archive(g,_,h){const T=new ox;T.read(_),_.readMessageEnd(),this._handler.get_first_geo_file_in_archive.length===3?Promise.resolve(this._handler.get_first_geo_file_in_archive.bind(this._handler)(T.session,T.archive_path,T.copy_params)).then(p=>{const E=new U3({success:p});h.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new U3(p),h.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_first_geo_file_in_archive(T.session,T.archive_path,T.copy_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new U3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_first_geo_file_in_archive",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_files_in_archive(g,_,h){const T=new lx;T.read(_),_.readMessageEnd(),this._handler.get_all_files_in_archive.length===3?Promise.resolve(this._handler.get_all_files_in_archive.bind(this._handler)(T.session,T.archive_path,T.copy_params)).then(p=>{const E=new $3({success:p});h.writeMessageBegin("get_all_files_in_archive",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new $3(p),h.writeMessageBegin("get_all_files_in_archive",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_files_in_archive",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_files_in_archive(T.session,T.archive_path,T.copy_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new $3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_all_files_in_archive",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_files_in_archive",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_layers_in_geo_file(g,_,h){const T=new cx;T.read(_),_.readMessageEnd(),this._handler.get_layers_in_geo_file.length===3?Promise.resolve(this._handler.get_layers_in_geo_file.bind(this._handler)(T.session,T.file_name,T.copy_params)).then(p=>{const E=new H3({success:p});h.writeMessageBegin("get_layers_in_geo_file",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new H3(p),h.writeMessageBegin("get_layers_in_geo_file",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_layers_in_geo_file",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_layers_in_geo_file(T.session,T.file_name,T.copy_params,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new H3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_layers_in_geo_file",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_layers_in_geo_file",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_query_get_outer_fragment_count(g,_,h){const T=new dx;T.read(_),_.readMessageEnd(),this._handler.query_get_outer_fragment_count.length===2?Promise.resolve(this._handler.query_get_outer_fragment_count.bind(this._handler)(T.session,T.query)).then(p=>{const E=new z3({success:p});h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new z3(p),h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.query_get_outer_fragment_count(T.session,T.query,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new z3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("query_get_outer_fragment_count",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_check_table_consistency(g,_,h){const T=new fx;T.read(_),_.readMessageEnd(),this._handler.check_table_consistency.length===2?Promise.resolve(this._handler.check_table_consistency.bind(this._handler)(T.session,T.table_id)).then(p=>{const E=new j3({success:p});h.writeMessageBegin("check_table_consistency",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new j3(p),h.writeMessageBegin("check_table_consistency",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("check_table_consistency",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.check_table_consistency(T.session,T.table_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new j3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("check_table_consistency",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("check_table_consistency",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_start_query(g,_,h){const T=new ux;T.read(_),_.readMessageEnd(),this._handler.start_query.length===6?Promise.resolve(this._handler.start_query.bind(this._handler)(T.leaf_session,T.parent_session,T.query_ra,T.start_time_str,T.just_explain,T.outer_fragment_indices)).then(p=>{const E=new q3({success:p});h.writeMessageBegin("start_query",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new q3(p),h.writeMessageBegin("start_query",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_query",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_query(T.leaf_session,T.parent_session,T.query_ra,T.start_time_str,T.just_explain,T.outer_fragment_indices,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new q3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("start_query",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_query",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_execute_query_step(g,_,h){const T=new hx;T.read(_),_.readMessageEnd(),this._handler.execute_query_step.length===3?Promise.resolve(this._handler.execute_query_step.bind(this._handler)(T.pending_query,T.subquery_id,T.start_time_str)).then(p=>{const E=new V3({success:p});h.writeMessageBegin("execute_query_step",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new V3(p),h.writeMessageBegin("execute_query_step",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("execute_query_step",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.execute_query_step(T.pending_query,T.subquery_id,T.start_time_str,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new V3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("execute_query_step",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("execute_query_step",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_broadcast_serialized_rows(g,_,h){const T=new _x;T.read(_),_.readMessageEnd(),this._handler.broadcast_serialized_rows.length===5?Promise.resolve(this._handler.broadcast_serialized_rows.bind(this._handler)(T.serialized_rows,T.row_desc,T.query_id,T.subquery_id,T.is_final_subquery_result)).then(p=>{const E=new G3({success:p});h.writeMessageBegin("broadcast_serialized_rows",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new G3(p),h.writeMessageBegin("broadcast_serialized_rows",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("broadcast_serialized_rows",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.broadcast_serialized_rows(T.serialized_rows,T.row_desc,T.query_id,T.subquery_id,T.is_final_subquery_result,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new G3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("broadcast_serialized_rows",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("broadcast_serialized_rows",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_start_render_query(g,_,h){const T=new px;T.read(_),_.readMessageEnd(),this._handler.start_render_query.length===4?Promise.resolve(this._handler.start_render_query.bind(this._handler)(T.session,T.widget_id,T.node_idx,T.vega_json)).then(p=>{const E=new W3({success:p});h.writeMessageBegin("start_render_query",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new W3(p),h.writeMessageBegin("start_render_query",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_render_query",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.start_render_query(T.session,T.widget_id,T.node_idx,T.vega_json,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new W3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("start_render_query",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("start_render_query",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_execute_next_render_step(g,_,h){const T=new gx;T.read(_),_.readMessageEnd(),this._handler.execute_next_render_step.length===2?Promise.resolve(this._handler.execute_next_render_step.bind(this._handler)(T.pending_render,T.merged_data)).then(p=>{const E=new Y3({success:p});h.writeMessageBegin("execute_next_render_step",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Y3(p),h.writeMessageBegin("execute_next_render_step",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("execute_next_render_step",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.execute_next_render_step(T.pending_render,T.merged_data,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Y3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("execute_next_render_step",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("execute_next_render_step",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_insert_data(g,_,h){const T=new yx;T.read(_),_.readMessageEnd(),this._handler.insert_data.length===2?Promise.resolve(this._handler.insert_data.bind(this._handler)(T.session,T.insert_data)).then(p=>{const E=new X3({success:p});h.writeMessageBegin("insert_data",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new X3(p),h.writeMessageBegin("insert_data",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("insert_data",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.insert_data(T.session,T.insert_data,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new X3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("insert_data",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("insert_data",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_insert_chunks(g,_,h){const T=new mx;T.read(_),_.readMessageEnd(),this._handler.insert_chunks.length===2?Promise.resolve(this._handler.insert_chunks.bind(this._handler)(T.session,T.insert_chunks)).then(p=>{const E=new K3({success:p});h.writeMessageBegin("insert_chunks",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new K3(p),h.writeMessageBegin("insert_chunks",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("insert_chunks",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.insert_chunks(T.session,T.insert_chunks,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new K3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("insert_chunks",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("insert_chunks",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_checkpoint(g,_,h){const T=new wx;T.read(_),_.readMessageEnd(),this._handler.checkpoint.length===2?Promise.resolve(this._handler.checkpoint.bind(this._handler)(T.session,T.table_id)).then(p=>{const E=new Z3({success:p});h.writeMessageBegin("checkpoint",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Z3(p),h.writeMessageBegin("checkpoint",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("checkpoint",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.checkpoint(T.session,T.table_id,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Z3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("checkpoint",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("checkpoint",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_roles(g,_,h){const T=new Lx;T.read(_),_.readMessageEnd(),this._handler.get_roles.length===1?Promise.resolve(this._handler.get_roles.bind(this._handler)(T.session)).then(p=>{const E=new Q3({success:p});h.writeMessageBegin("get_roles",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new Q3(p),h.writeMessageBegin("get_roles",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_roles",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_roles(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new Q3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_roles",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_roles",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_db_objects_for_grantee(g,_,h){const T=new bx;T.read(_),_.readMessageEnd(),this._handler.get_db_objects_for_grantee.length===2?Promise.resolve(this._handler.get_db_objects_for_grantee.bind(this._handler)(T.session,T.roleName)).then(p=>{const E=new J3({success:p});h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new J3(p),h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_db_objects_for_grantee(T.session,T.roleName,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new J3(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_db_objects_for_grantee",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_db_object_privs(g,_,h){const T=new Tx;T.read(_),_.readMessageEnd(),this._handler.get_db_object_privs.length===3?Promise.resolve(this._handler.get_db_object_privs.bind(this._handler)(T.session,T.objectName,T.type)).then(p=>{const E=new e_({success:p});h.writeMessageBegin("get_db_object_privs",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new e_(p),h.writeMessageBegin("get_db_object_privs",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_db_object_privs",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_db_object_privs(T.session,T.objectName,T.type,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new e_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_db_object_privs",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_db_object_privs",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_roles_for_user(g,_,h){const T=new Ex;T.read(_),_.readMessageEnd(),this._handler.get_all_roles_for_user.length===2?Promise.resolve(this._handler.get_all_roles_for_user.bind(this._handler)(T.session,T.userName)).then(p=>{const E=new t_({success:p});h.writeMessageBegin("get_all_roles_for_user",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new t_(p),h.writeMessageBegin("get_all_roles_for_user",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_roles_for_user",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_roles_for_user(T.session,T.userName,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new t_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_all_roles_for_user",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_roles_for_user",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_all_effective_roles_for_user(g,_,h){const T=new vx;T.read(_),_.readMessageEnd(),this._handler.get_all_effective_roles_for_user.length===2?Promise.resolve(this._handler.get_all_effective_roles_for_user.bind(this._handler)(T.session,T.userName)).then(p=>{const E=new n_({success:p});h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new n_(p),h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_all_effective_roles_for_user(T.session,T.userName,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new n_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_all_effective_roles_for_user",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_has_role(g,_,h){const T=new Sx;T.read(_),_.readMessageEnd(),this._handler.has_role.length===3?Promise.resolve(this._handler.has_role.bind(this._handler)(T.session,T.granteeName,T.roleName)).then(p=>{const E=new i_({success:p});h.writeMessageBegin("has_role",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new i_(p),h.writeMessageBegin("has_role",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("has_role",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.has_role(T.session,T.granteeName,T.roleName,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new i_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("has_role",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("has_role",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_has_object_privilege(g,_,h){const T=new xx;T.read(_),_.readMessageEnd(),this._handler.has_object_privilege.length===5?Promise.resolve(this._handler.has_object_privilege.bind(this._handler)(T.session,T.granteeName,T.ObjectName,T.objectType,T.permissions)).then(p=>{const E=new s_({success:p});h.writeMessageBegin("has_object_privilege",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new s_(p),h.writeMessageBegin("has_object_privilege",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("has_object_privilege",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.has_object_privilege(T.session,T.granteeName,T.ObjectName,T.objectType,T.permissions,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new s_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("has_object_privilege",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("has_object_privilege",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_set_license_key(g,_,h){const T=new kx;T.read(_),_.readMessageEnd(),this._handler.set_license_key.length===3?Promise.resolve(this._handler.set_license_key.bind(this._handler)(T.session,T.key,T.nonce)).then(p=>{const E=new r_({success:p});h.writeMessageBegin("set_license_key",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new r_(p),h.writeMessageBegin("set_license_key",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_license_key",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.set_license_key(T.session,T.key,T.nonce,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new r_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("set_license_key",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("set_license_key",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_license_claims(g,_,h){const T=new Bx;T.read(_),_.readMessageEnd(),this._handler.get_license_claims.length===2?Promise.resolve(this._handler.get_license_claims.bind(this._handler)(T.session,T.nonce)).then(p=>{const E=new a_({success:p});h.writeMessageBegin("get_license_claims",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new a_(p),h.writeMessageBegin("get_license_claims",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_license_claims",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_license_claims(T.session,T.nonce,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new a_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_license_claims",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_license_claims",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_device_parameters(g,_,h){const T=new Fx;T.read(_),_.readMessageEnd(),this._handler.get_device_parameters.length===1?Promise.resolve(this._handler.get_device_parameters.bind(this._handler)(T.session)).then(p=>{const E=new o_({success:p});h.writeMessageBegin("get_device_parameters",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new o_(p),h.writeMessageBegin("get_device_parameters",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_device_parameters",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_device_parameters(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new o_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_device_parameters",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_device_parameters",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_register_runtime_extension_functions(g,_,h){const T=new Ix;T.read(_),_.readMessageEnd(),this._handler.register_runtime_extension_functions.length===4?Promise.resolve(this._handler.register_runtime_extension_functions.bind(this._handler)(T.session,T.udfs,T.udtfs,T.device_ir_map)).then(p=>{const E=new l_({success:p});h.writeMessageBegin("register_runtime_extension_functions",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new l_(p),h.writeMessageBegin("register_runtime_extension_functions",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("register_runtime_extension_functions",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.register_runtime_extension_functions(T.session,T.udfs,T.udtfs,T.device_ir_map,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new l_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("register_runtime_extension_functions",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("register_runtime_extension_functions",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_function_names(g,_,h){const T=new Mx;T.read(_),_.readMessageEnd(),this._handler.get_table_function_names.length===1?Promise.resolve(this._handler.get_table_function_names.bind(this._handler)(T.session)).then(p=>{const E=new c_({success:p});h.writeMessageBegin("get_table_function_names",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new c_(p),h.writeMessageBegin("get_table_function_names",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_function_names",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_function_names(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new c_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_function_names",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_function_names",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_runtime_table_function_names(g,_,h){const T=new Ax;T.read(_),_.readMessageEnd(),this._handler.get_runtime_table_function_names.length===1?Promise.resolve(this._handler.get_runtime_table_function_names.bind(this._handler)(T.session)).then(p=>{const E=new d_({success:p});h.writeMessageBegin("get_runtime_table_function_names",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new d_(p),h.writeMessageBegin("get_runtime_table_function_names",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_runtime_table_function_names",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_runtime_table_function_names(T.session,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new d_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_runtime_table_function_names",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_runtime_table_function_names",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}process_get_table_function_details(g,_,h){const T=new Ox;T.read(_),_.readMessageEnd(),this._handler.get_table_function_details.length===2?Promise.resolve(this._handler.get_table_function_details.bind(this._handler)(T.session,T.udtf_names)).then(p=>{const E=new f_({success:p});h.writeMessageBegin("get_table_function_details",a.MessageType.REPLY,g),E.write(h),h.writeMessageEnd(),h.flush()}).catch(p=>{let E;p instanceof o.TDBException?(E=new f_(p),h.writeMessageBegin("get_table_function_details",a.MessageType.REPLY,g)):(E=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_function_details",a.MessageType.EXCEPTION,g)),E.write(h),h.writeMessageEnd(),h.flush()}):this._handler.get_table_function_details(T.session,T.udtf_names,(p,E)=>{let B;p===null||typeof p>"u"||p instanceof o.TDBException?(B=new f_(p!==null||typeof p>"u"?p:{success:E}),h.writeMessageBegin("get_table_function_details",a.MessageType.REPLY,g)):(B=new a.TApplicationException(a.TApplicationExceptionType.UNKNOWN,p.message),h.writeMessageBegin("get_table_function_details",a.MessageType.EXCEPTION,g)),B.write(h),h.writeMessageEnd(),h.flush()})}}},2818:(c,d,f)=>{const a=f(9262).Thrift;f(135);const y=c.exports={};y.TDeviceType={CPU:0,GPU:1},y.TDatumType={SMALLINT:0,INT:1,BIGINT:2,FLOAT:3,DECIMAL:4,DOUBLE:5,STR:6,TIME:7,TIMESTAMP:8,DATE:9,BOOL:10,INTERVAL_DAY_TIME:11,INTERVAL_YEAR_MONTH:12,POINT:13,LINESTRING:14,POLYGON:15,MULTIPOLYGON:16,TINYINT:17,GEOMETRY:18,GEOGRAPHY:19},y.TEncodingType={NONE:0,FIXED:1,RL:2,DIFF:3,DICT:4,SPARSE:5,GEOINT:6,DATE_IN_DAYS:7},c.exports.TTypeInfo=class{constructor(w){this.type=null,this.encoding=null,this.nullable=null,this.is_array=null,this.precision=null,this.scale=null,this.comp_param=null,this.size=-1,w&&(w.type!==void 0&&w.type!==null&&(this.type=w.type),w.encoding!==void 0&&w.encoding!==null&&(this.encoding=w.encoding),w.nullable!==void 0&&w.nullable!==null&&(this.nullable=w.nullable),w.is_array!==void 0&&w.is_array!==null&&(this.is_array=w.is_array),w.precision!==void 0&&w.precision!==null&&(this.precision=w.precision),w.scale!==void 0&&w.scale!==null&&(this.scale=w.scale),w.comp_param!==void 0&&w.comp_param!==null&&(this.comp_param=w.comp_param),w.size!==void 0&&w.size!==null&&(this.size=w.size))}read(w){for(w.readStructBegin();;){const m=w.readFieldBegin(),o=m.ftype,b=m.fid;if(o==a.Type.STOP)break;switch(b){case 1:o==a.Type.I32?this.type=w.readI32():w.skip(o);break;case 4:o==a.Type.I32?this.encoding=w.readI32():w.skip(o);break;case 2:o==a.Type.BOOL?this.nullable=w.readBool():w.skip(o);break;case 3:o==a.Type.BOOL?this.is_array=w.readBool():w.skip(o);break;case 5:o==a.Type.I32?this.precision=w.readI32():w.skip(o);break;case 6:o==a.Type.I32?this.scale=w.readI32():w.skip(o);break;case 7:o==a.Type.I32?this.comp_param=w.readI32():w.skip(o);break;case 8:o==a.Type.I32?this.size=w.readI32():w.skip(o);break;default:w.skip(o)}w.readFieldEnd()}w.readStructEnd()}write(w){w.writeStructBegin("TTypeInfo"),this.type!==null&&this.type!==void 0&&(w.writeFieldBegin("type",a.Type.I32,1),w.writeI32(this.type),w.writeFieldEnd()),this.encoding!==null&&this.encoding!==void 0&&(w.writeFieldBegin("encoding",a.Type.I32,4),w.writeI32(this.encoding),w.writeFieldEnd()),this.nullable!==null&&this.nullable!==void 0&&(w.writeFieldBegin("nullable",a.Type.BOOL,2),w.writeBool(this.nullable),w.writeFieldEnd()),this.is_array!==null&&this.is_array!==void 0&&(w.writeFieldBegin("is_array",a.Type.BOOL,3),w.writeBool(this.is_array),w.writeFieldEnd()),this.precision!==null&&this.precision!==void 0&&(w.writeFieldBegin("precision",a.Type.I32,5),w.writeI32(this.precision),w.writeFieldEnd()),this.scale!==null&&this.scale!==void 0&&(w.writeFieldBegin("scale",a.Type.I32,6),w.writeI32(this.scale),w.writeFieldEnd()),this.comp_param!==null&&this.comp_param!==void 0&&(w.writeFieldBegin("comp_param",a.Type.I32,7),w.writeI32(this.comp_param),w.writeFieldEnd()),this.size!==null&&this.size!==void 0&&(w.writeFieldBegin("size",a.Type.I32,8),w.writeI32(this.size),w.writeFieldEnd()),w.writeFieldStop(),w.writeStructEnd()}}},4494:(c,d,f)=>{const a=f(9262).Thrift;f(135);const y=c.exports={};y.TCompletionHintType={COLUMN:0,TABLE:1,VIEW:2,SCHEMA:3,CATALOG:4,REPOSITORY:5,FUNCTION:6,KEYWORD:7},c.exports.TCompletionHint=class{constructor(w){this.type=null,this.hints=null,this.replaced=null,w&&(w.type!==void 0&&w.type!==null&&(this.type=w.type),w.hints!==void 0&&w.hints!==null&&(this.hints=a.copyList(w.hints,[null])),w.replaced!==void 0&&w.replaced!==null&&(this.replaced=w.replaced))}read(w){for(w.readStructBegin();;){const m=w.readFieldBegin(),o=m.ftype,b=m.fid;if(o==a.Type.STOP)break;switch(b){case 1:o==a.Type.I32?this.type=w.readI32():w.skip(o);break;case 2:if(o==a.Type.LIST){this.hints=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x=w.readString(),this.hints.push(x)}w.readListEnd()}else w.skip(o);break;case 3:o==a.Type.STRING?this.replaced=w.readString():w.skip(o);break;default:w.skip(o)}w.readFieldEnd()}w.readStructEnd()}write(w){if(w.writeStructBegin("TCompletionHint"),this.type!==null&&this.type!==void 0&&(w.writeFieldBegin("type",a.Type.I32,1),w.writeI32(this.type),w.writeFieldEnd()),this.hints!==null&&this.hints!==void 0){w.writeFieldBegin("hints",a.Type.LIST,2),w.writeListBegin(a.Type.STRING,this.hints.length);for(let m in this.hints)this.hints.hasOwnProperty(m)&&(m=this.hints[m],w.writeString(m));w.writeListEnd(),w.writeFieldEnd()}this.replaced!==null&&this.replaced!==void 0&&(w.writeFieldBegin("replaced",a.Type.STRING,3),w.writeString(this.replaced),w.writeFieldEnd()),w.writeFieldStop(),w.writeStructEnd()}}},1396:(c,d,f)=>{const a=f(9262).Thrift;f(135);const y=c.exports={};y.TExtArgumentType={Int8:0,Int16:1,Int32:2,Int64:3,Float:4,Double:5,Void:6,PInt8:7,PInt16:8,PInt32:9,PInt64:10,PFloat:11,PDouble:12,PBool:13,Bool:14,ArrayInt8:15,ArrayInt16:16,ArrayInt32:17,ArrayInt64:18,ArrayFloat:19,ArrayDouble:20,ArrayBool:21,GeoPoint:22,GeoLineString:23,Cursor:24,GeoPolygon:25,GeoMultiPolygon:26,ColumnInt8:27,ColumnInt16:28,ColumnInt32:29,ColumnInt64:30,ColumnFloat:31,ColumnDouble:32,ColumnBool:33,TextEncodingNone:34,TextEncodingDict:35,ColumnListInt8:36,ColumnListInt16:37,ColumnListInt32:38,ColumnListInt64:39,ColumnListFloat:40,ColumnListDouble:41,ColumnListBool:42,ColumnTextEncodingDict:43,ColumnListTextEncodingDict:44,ColumnTimestamp:45,Timestamp:46},y.TOutputBufferSizeType={kConstant:0,kUserSpecifiedConstantParameter:1,kUserSpecifiedRowMultiplier:2,kTableFunctionSpecifiedParameter:3,kPreFlightParameter:4},c.exports.TUserDefinedFunction=class{constructor(w){this.name=null,this.argTypes=null,this.retType=null,w&&(w.name!==void 0&&w.name!==null&&(this.name=w.name),w.argTypes!==void 0&&w.argTypes!==null&&(this.argTypes=a.copyList(w.argTypes,[null])),w.retType!==void 0&&w.retType!==null&&(this.retType=w.retType))}read(w){for(w.readStructBegin();;){const m=w.readFieldBegin(),o=m.ftype,b=m.fid;if(o==a.Type.STOP)break;switch(b){case 1:o==a.Type.STRING?this.name=w.readString():w.skip(o);break;case 2:if(o==a.Type.LIST){this.argTypes=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x=w.readI32(),this.argTypes.push(x)}w.readListEnd()}else w.skip(o);break;case 3:o==a.Type.I32?this.retType=w.readI32():w.skip(o);break;default:w.skip(o)}w.readFieldEnd()}w.readStructEnd()}write(w){if(w.writeStructBegin("TUserDefinedFunction"),this.name!==null&&this.name!==void 0&&(w.writeFieldBegin("name",a.Type.STRING,1),w.writeString(this.name),w.writeFieldEnd()),this.argTypes!==null&&this.argTypes!==void 0){w.writeFieldBegin("argTypes",a.Type.LIST,2),w.writeListBegin(a.Type.I32,this.argTypes.length);for(let m in this.argTypes)this.argTypes.hasOwnProperty(m)&&(m=this.argTypes[m],w.writeI32(m));w.writeListEnd(),w.writeFieldEnd()}this.retType!==null&&this.retType!==void 0&&(w.writeFieldBegin("retType",a.Type.I32,3),w.writeI32(this.retType),w.writeFieldEnd()),w.writeFieldStop(),w.writeStructEnd()}},c.exports.TUserDefinedTableFunction=class{constructor(w){this.name=null,this.sizerType=null,this.sizerArgPos=null,this.inputArgTypes=null,this.outputArgTypes=null,this.sqlArgTypes=null,this.annotations=null,w&&(w.name!==void 0&&w.name!==null&&(this.name=w.name),w.sizerType!==void 0&&w.sizerType!==null&&(this.sizerType=w.sizerType),w.sizerArgPos!==void 0&&w.sizerArgPos!==null&&(this.sizerArgPos=w.sizerArgPos),w.inputArgTypes!==void 0&&w.inputArgTypes!==null&&(this.inputArgTypes=a.copyList(w.inputArgTypes,[null])),w.outputArgTypes!==void 0&&w.outputArgTypes!==null&&(this.outputArgTypes=a.copyList(w.outputArgTypes,[null])),w.sqlArgTypes!==void 0&&w.sqlArgTypes!==null&&(this.sqlArgTypes=a.copyList(w.sqlArgTypes,[null])),w.annotations!==void 0&&w.annotations!==null&&(this.annotations=a.copyList(w.annotations,[a.copyMap,null])))}read(w){for(w.readStructBegin();;){const m=w.readFieldBegin(),o=m.ftype,b=m.fid;if(o==a.Type.STOP)break;switch(b){case 1:o==a.Type.STRING?this.name=w.readString():w.skip(o);break;case 2:o==a.Type.I32?this.sizerType=w.readI32():w.skip(o);break;case 3:o==a.Type.I32?this.sizerArgPos=w.readI32():w.skip(o);break;case 4:if(o==a.Type.LIST){this.inputArgTypes=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x=w.readI32(),this.inputArgTypes.push(x)}w.readListEnd()}else w.skip(o);break;case 5:if(o==a.Type.LIST){this.outputArgTypes=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x=w.readI32(),this.outputArgTypes.push(x)}w.readListEnd()}else w.skip(o);break;case 6:if(o==a.Type.LIST){this.sqlArgTypes=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x=w.readI32(),this.sqlArgTypes.push(x)}w.readListEnd()}else w.skip(o);break;case 7:if(o==a.Type.LIST){this.annotations=[];const v=w.readListBegin().size||0;for(let S=0;S<v;++S){let x=null;x={};const k=w.readMapBegin().size||0;for(let A=0;A<k;++A){let M=null,C=null;M=w.readString(),C=w.readString(),x[M]=C}w.readMapEnd(),this.annotations.push(x)}w.readListEnd()}else w.skip(o);break;default:w.skip(o)}w.readFieldEnd()}w.readStructEnd()}write(w){if(w.writeStructBegin("TUserDefinedTableFunction"),this.name!==null&&this.name!==void 0&&(w.writeFieldBegin("name",a.Type.STRING,1),w.writeString(this.name),w.writeFieldEnd()),this.sizerType!==null&&this.sizerType!==void 0&&(w.writeFieldBegin("sizerType",a.Type.I32,2),w.writeI32(this.sizerType),w.writeFieldEnd()),this.sizerArgPos!==null&&this.sizerArgPos!==void 0&&(w.writeFieldBegin("sizerArgPos",a.Type.I32,3),w.writeI32(this.sizerArgPos),w.writeFieldEnd()),this.inputArgTypes!==null&&this.inputArgTypes!==void 0){w.writeFieldBegin("inputArgTypes",a.Type.LIST,4),w.writeListBegin(a.Type.I32,this.inputArgTypes.length);for(let m in this.inputArgTypes)this.inputArgTypes.hasOwnProperty(m)&&(m=this.inputArgTypes[m],w.writeI32(m));w.writeListEnd(),w.writeFieldEnd()}if(this.outputArgTypes!==null&&this.outputArgTypes!==void 0){w.writeFieldBegin("outputArgTypes",a.Type.LIST,5),w.writeListBegin(a.Type.I32,this.outputArgTypes.length);for(let m in this.outputArgTypes)this.outputArgTypes.hasOwnProperty(m)&&(m=this.outputArgTypes[m],w.writeI32(m));w.writeListEnd(),w.writeFieldEnd()}if(this.sqlArgTypes!==null&&this.sqlArgTypes!==void 0){w.writeFieldBegin("sqlArgTypes",a.Type.LIST,6),w.writeListBegin(a.Type.I32,this.sqlArgTypes.length);for(let m in this.sqlArgTypes)this.sqlArgTypes.hasOwnProperty(m)&&(m=this.sqlArgTypes[m],w.writeI32(m));w.writeListEnd(),w.writeFieldEnd()}if(this.annotations!==null&&this.annotations!==void 0){w.writeFieldBegin("annotations",a.Type.LIST,7),w.writeListBegin(a.Type.MAP,this.annotations.length);for(let m in this.annotations)if(this.annotations.hasOwnProperty(m)){m=this.annotations[m],w.writeMapBegin(a.Type.STRING,a.Type.STRING,a.objectLength(m));for(let o in m)if(m.hasOwnProperty(o)){let b=m[o];w.writeString(o),w.writeString(b)}w.writeMapEnd()}w.writeListEnd(),w.writeFieldEnd()}w.writeFieldStop(),w.writeStructEnd()}}},2607:(c,d,f)=>{const a=f(9262).Thrift;f(135);const y=f(2818);f(4494);const w=f(3962);f(1396);const m=c.exports={};m.TExecuteMode={GPU:1,CPU:2},m.TSourceType={DELIMITED_FILE:0,GEO_FILE:1,PARQUET_FILE:2,RASTER_FILE:3,ODBC:4},m.TPartitionDetail={DEFAULT:0,REPLICATED:1,SHARDED:2,OTHER:3},m.TGeoFileLayerContents={EMPTY:0,GEO:1,NON_GEO:2,UNSUPPORTED_GEO:3},m.TImportHeaderRow={AUTODETECT:0,NO_HEADER:1,HAS_HEADER:2},m.TRole={SERVER:0,AGGREGATOR:1,LEAF:2,STRING_DICTIONARY:3},m.TTableType={DEFAULT:0,TEMPORARY:1,FOREIGN:2,VIEW:3},m.TTableRefreshUpdateType={ALL:0,APPEND:1},m.TTableRefreshTimingType={MANUAL:0,SCHEDULED:1},m.TTableRefreshIntervalType={NONE:0,HOUR:1,DAY:2},m.TMergeType={UNION:0,REDUCE:1},m.TRasterPointType={NONE:0,AUTO:1,SMALLINT:2,INT:3,FLOAT:4,DOUBLE:5,POINT:6},m.TRasterPointTransform={NONE:0,AUTO:1,FILE:2,WORLD:3},m.TQueryType={UNKNOWN:0,READ:1,WRITE:2,SCHEMA_READ:3,SCHEMA_WRITE:4},m.TArrowTransport={SHARED_MEMORY:0,WIRE:1},m.TExpressionRangeType={INVALID:0,INTEGER:1,FLOAT:2,DOUBLE:3},m.TDBObjectType={AbstractDBObjectType:0,DatabaseDBObjectType:1,TableDBObjectType:2,DashboardDBObjectType:3,ViewDBObjectType:4,ServerDBObjectType:5},m.TDataSourceType={TABLE:0},c.exports.TDatumVal=class{constructor(o){this.int_val=null,this.real_val=null,this.str_val=null,this.arr_val=null,o&&(o.int_val!==void 0&&o.int_val!==null&&(this.int_val=o.int_val),o.real_val!==void 0&&o.real_val!==null&&(this.real_val=o.real_val),o.str_val!==void 0&&o.str_val!==null&&(this.str_val=o.str_val),o.arr_val!==void 0&&o.arr_val!==null&&(this.arr_val=a.copyList(o.arr_val,[null])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.int_val=o.readI64():o.skip(L);break;case 2:L==a.Type.DOUBLE?this.real_val=o.readDouble():o.skip(L);break;case 3:L==a.Type.STRING?this.str_val=o.readString():o.skip(L);break;case 4:if(L==a.Type.LIST){this.arr_val=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TDatum,k.read(o),this.arr_val.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TDatumVal"),this.int_val!==null&&this.int_val!==void 0&&(o.writeFieldBegin("int_val",a.Type.I64,1),o.writeI64(this.int_val),o.writeFieldEnd()),this.real_val!==null&&this.real_val!==void 0&&(o.writeFieldBegin("real_val",a.Type.DOUBLE,2),o.writeDouble(this.real_val),o.writeFieldEnd()),this.str_val!==null&&this.str_val!==void 0&&(o.writeFieldBegin("str_val",a.Type.STRING,3),o.writeString(this.str_val),o.writeFieldEnd()),this.arr_val!==null&&this.arr_val!==void 0){o.writeFieldBegin("arr_val",a.Type.LIST,4),o.writeListBegin(a.Type.STRUCT,this.arr_val.length);for(let b in this.arr_val)this.arr_val.hasOwnProperty(b)&&(b=this.arr_val[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDatum=class{constructor(o){this.val=null,this.is_null=null,o&&(o.val!==void 0&&o.val!==null&&(this.val=new m.TDatumVal(o.val)),o.is_null!==void 0&&o.is_null!==null&&(this.is_null=o.is_null))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.val=new m.TDatumVal,this.val.read(o)):o.skip(L);break;case 2:L==a.Type.BOOL?this.is_null=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDatum"),this.val!==null&&this.val!==void 0&&(o.writeFieldBegin("val",a.Type.STRUCT,1),this.val.write(o),o.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(o.writeFieldBegin("is_null",a.Type.BOOL,2),o.writeBool(this.is_null),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TStringValue=class{constructor(o){this.str_val=null,this.is_null=null,o&&(o.str_val!==void 0&&o.str_val!==null&&(this.str_val=o.str_val),o.is_null!==void 0&&o.is_null!==null&&(this.is_null=o.is_null))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.str_val=o.readString():o.skip(L);break;case 2:L==a.Type.BOOL?this.is_null=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TStringValue"),this.str_val!==null&&this.str_val!==void 0&&(o.writeFieldBegin("str_val",a.Type.STRING,1),o.writeString(this.str_val),o.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(o.writeFieldBegin("is_null",a.Type.BOOL,2),o.writeBool(this.is_null),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TColumnType=class{constructor(o){this.col_name=null,this.col_type=null,this.is_reserved_keyword=null,this.src_name=null,this.is_system=null,this.is_physical=null,this.col_id=null,this.default_value=null,o&&(o.col_name!==void 0&&o.col_name!==null&&(this.col_name=o.col_name),o.col_type!==void 0&&o.col_type!==null&&(this.col_type=new y.TTypeInfo(o.col_type)),o.is_reserved_keyword!==void 0&&o.is_reserved_keyword!==null&&(this.is_reserved_keyword=o.is_reserved_keyword),o.src_name!==void 0&&o.src_name!==null&&(this.src_name=o.src_name),o.is_system!==void 0&&o.is_system!==null&&(this.is_system=o.is_system),o.is_physical!==void 0&&o.is_physical!==null&&(this.is_physical=o.is_physical),o.col_id!==void 0&&o.col_id!==null&&(this.col_id=o.col_id),o.default_value!==void 0&&o.default_value!==null&&(this.default_value=o.default_value))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.col_name=o.readString():o.skip(L);break;case 2:L==a.Type.STRUCT?(this.col_type=new y.TTypeInfo,this.col_type.read(o)):o.skip(L);break;case 3:L==a.Type.BOOL?this.is_reserved_keyword=o.readBool():o.skip(L);break;case 4:L==a.Type.STRING?this.src_name=o.readString():o.skip(L);break;case 5:L==a.Type.BOOL?this.is_system=o.readBool():o.skip(L);break;case 6:L==a.Type.BOOL?this.is_physical=o.readBool():o.skip(L);break;case 7:L==a.Type.I64?this.col_id=o.readI64():o.skip(L);break;case 8:L==a.Type.STRING?this.default_value=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TColumnType"),this.col_name!==null&&this.col_name!==void 0&&(o.writeFieldBegin("col_name",a.Type.STRING,1),o.writeString(this.col_name),o.writeFieldEnd()),this.col_type!==null&&this.col_type!==void 0&&(o.writeFieldBegin("col_type",a.Type.STRUCT,2),this.col_type.write(o),o.writeFieldEnd()),this.is_reserved_keyword!==null&&this.is_reserved_keyword!==void 0&&(o.writeFieldBegin("is_reserved_keyword",a.Type.BOOL,3),o.writeBool(this.is_reserved_keyword),o.writeFieldEnd()),this.src_name!==null&&this.src_name!==void 0&&(o.writeFieldBegin("src_name",a.Type.STRING,4),o.writeString(this.src_name),o.writeFieldEnd()),this.is_system!==null&&this.is_system!==void 0&&(o.writeFieldBegin("is_system",a.Type.BOOL,5),o.writeBool(this.is_system),o.writeFieldEnd()),this.is_physical!==null&&this.is_physical!==void 0&&(o.writeFieldBegin("is_physical",a.Type.BOOL,6),o.writeBool(this.is_physical),o.writeFieldEnd()),this.col_id!==null&&this.col_id!==void 0&&(o.writeFieldBegin("col_id",a.Type.I64,7),o.writeI64(this.col_id),o.writeFieldEnd()),this.default_value!==null&&this.default_value!==void 0&&(o.writeFieldBegin("default_value",a.Type.STRING,8),o.writeString(this.default_value),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRow=class{constructor(o){this.cols=null,o&&o.cols!==void 0&&o.cols!==null&&(this.cols=a.copyList(o.cols,[m.TDatum]))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.cols=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TDatum,k.read(o),this.cols.push(k)}o.readListEnd()}else o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TRow"),this.cols!==null&&this.cols!==void 0){o.writeFieldBegin("cols",a.Type.LIST,1),o.writeListBegin(a.Type.STRUCT,this.cols.length);for(let b in this.cols)this.cols.hasOwnProperty(b)&&(b=this.cols[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TColumnData=class{constructor(o){this.int_col=null,this.real_col=null,this.str_col=null,this.arr_col=null,o&&(o.int_col!==void 0&&o.int_col!==null&&(this.int_col=a.copyList(o.int_col,[null])),o.real_col!==void 0&&o.real_col!==null&&(this.real_col=a.copyList(o.real_col,[null])),o.str_col!==void 0&&o.str_col!==null&&(this.str_col=a.copyList(o.str_col,[null])),o.arr_col!==void 0&&o.arr_col!==null&&(this.arr_col=a.copyList(o.arr_col,[null])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.int_col=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI64(),this.int_col.push(k)}o.readListEnd()}else o.skip(L);break;case 2:if(L==a.Type.LIST){this.real_col=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readDouble(),this.real_col.push(k)}o.readListEnd()}else o.skip(L);break;case 3:if(L==a.Type.LIST){this.str_col=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readString(),this.str_col.push(k)}o.readListEnd()}else o.skip(L);break;case 4:if(L==a.Type.LIST){this.arr_col=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumn,k.read(o),this.arr_col.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TColumnData"),this.int_col!==null&&this.int_col!==void 0){o.writeFieldBegin("int_col",a.Type.LIST,1),o.writeListBegin(a.Type.I64,this.int_col.length);for(let b in this.int_col)this.int_col.hasOwnProperty(b)&&(b=this.int_col[b],o.writeI64(b));o.writeListEnd(),o.writeFieldEnd()}if(this.real_col!==null&&this.real_col!==void 0){o.writeFieldBegin("real_col",a.Type.LIST,2),o.writeListBegin(a.Type.DOUBLE,this.real_col.length);for(let b in this.real_col)this.real_col.hasOwnProperty(b)&&(b=this.real_col[b],o.writeDouble(b));o.writeListEnd(),o.writeFieldEnd()}if(this.str_col!==null&&this.str_col!==void 0){o.writeFieldBegin("str_col",a.Type.LIST,3),o.writeListBegin(a.Type.STRING,this.str_col.length);for(let b in this.str_col)this.str_col.hasOwnProperty(b)&&(b=this.str_col[b],o.writeString(b));o.writeListEnd(),o.writeFieldEnd()}if(this.arr_col!==null&&this.arr_col!==void 0){o.writeFieldBegin("arr_col",a.Type.LIST,4),o.writeListBegin(a.Type.STRUCT,this.arr_col.length);for(let b in this.arr_col)this.arr_col.hasOwnProperty(b)&&(b=this.arr_col[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TColumn=class{constructor(o){this.data=null,this.nulls=null,o&&(o.data!==void 0&&o.data!==null&&(this.data=new m.TColumnData(o.data)),o.nulls!==void 0&&o.nulls!==null&&(this.nulls=a.copyList(o.nulls,[null])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.data=new m.TColumnData,this.data.read(o)):o.skip(L);break;case 2:if(L==a.Type.LIST){this.nulls=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readBool(),this.nulls.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TColumn"),this.data!==null&&this.data!==void 0&&(o.writeFieldBegin("data",a.Type.STRUCT,1),this.data.write(o),o.writeFieldEnd()),this.nulls!==null&&this.nulls!==void 0){o.writeFieldBegin("nulls",a.Type.LIST,2),o.writeListBegin(a.Type.BOOL,this.nulls.length);for(let b in this.nulls)this.nulls.hasOwnProperty(b)&&(b=this.nulls[b],o.writeBool(b));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TStringRow=class{constructor(o){this.cols=null,o&&o.cols!==void 0&&o.cols!==null&&(this.cols=a.copyList(o.cols,[m.TStringValue]))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.cols=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TStringValue,k.read(o),this.cols.push(k)}o.readListEnd()}else o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TStringRow"),this.cols!==null&&this.cols!==void 0){o.writeFieldBegin("cols",a.Type.LIST,1),o.writeListBegin(a.Type.STRUCT,this.cols.length);for(let b in this.cols)this.cols.hasOwnProperty(b)&&(b=this.cols[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TKrb5Session=class{constructor(o){this.sessionId=null,this.krbToken=null,o&&(o.sessionId!==void 0&&o.sessionId!==null&&(this.sessionId=o.sessionId),o.krbToken!==void 0&&o.krbToken!==null&&(this.krbToken=o.krbToken))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.sessionId=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.krbToken=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TKrb5Session"),this.sessionId!==null&&this.sessionId!==void 0&&(o.writeFieldBegin("sessionId",a.Type.STRING,1),o.writeString(this.sessionId),o.writeFieldEnd()),this.krbToken!==null&&this.krbToken!==void 0&&(o.writeFieldBegin("krbToken",a.Type.STRING,2),o.writeString(this.krbToken),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TStepResult=class{constructor(o){this.serialized_rows=null,this.execution_finished=null,this.merge_type=null,this.sharded=null,this.row_desc=null,this.node_id=null,o&&(o.serialized_rows!==void 0&&o.serialized_rows!==null&&(this.serialized_rows=new w.TSerializedRows(o.serialized_rows)),o.execution_finished!==void 0&&o.execution_finished!==null&&(this.execution_finished=o.execution_finished),o.merge_type!==void 0&&o.merge_type!==null&&(this.merge_type=o.merge_type),o.sharded!==void 0&&o.sharded!==null&&(this.sharded=o.sharded),o.row_desc!==void 0&&o.row_desc!==null&&(this.row_desc=a.copyList(o.row_desc,[m.TColumnType])),o.node_id!==void 0&&o.node_id!==null&&(this.node_id=o.node_id))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.serialized_rows=new w.TSerializedRows,this.serialized_rows.read(o)):o.skip(L);break;case 2:L==a.Type.BOOL?this.execution_finished=o.readBool():o.skip(L);break;case 3:L==a.Type.I32?this.merge_type=o.readI32():o.skip(L);break;case 4:L==a.Type.BOOL?this.sharded=o.readBool():o.skip(L);break;case 5:if(L==a.Type.LIST){this.row_desc=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumnType,k.read(o),this.row_desc.push(k)}o.readListEnd()}else o.skip(L);break;case 6:L==a.Type.I32?this.node_id=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TStepResult"),this.serialized_rows!==null&&this.serialized_rows!==void 0&&(o.writeFieldBegin("serialized_rows",a.Type.STRUCT,1),this.serialized_rows.write(o),o.writeFieldEnd()),this.execution_finished!==null&&this.execution_finished!==void 0&&(o.writeFieldBegin("execution_finished",a.Type.BOOL,2),o.writeBool(this.execution_finished),o.writeFieldEnd()),this.merge_type!==null&&this.merge_type!==void 0&&(o.writeFieldBegin("merge_type",a.Type.I32,3),o.writeI32(this.merge_type),o.writeFieldEnd()),this.sharded!==null&&this.sharded!==void 0&&(o.writeFieldBegin("sharded",a.Type.BOOL,4),o.writeBool(this.sharded),o.writeFieldEnd()),this.row_desc!==null&&this.row_desc!==void 0){o.writeFieldBegin("row_desc",a.Type.LIST,5),o.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}this.node_id!==null&&this.node_id!==void 0&&(o.writeFieldBegin("node_id",a.Type.I32,6),o.writeI32(this.node_id),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRowSet=class{constructor(o){this.row_desc=null,this.rows=null,this.columns=null,this.is_columnar=null,o&&(o.row_desc!==void 0&&o.row_desc!==null&&(this.row_desc=a.copyList(o.row_desc,[m.TColumnType])),o.rows!==void 0&&o.rows!==null&&(this.rows=a.copyList(o.rows,[m.TRow])),o.columns!==void 0&&o.columns!==null&&(this.columns=a.copyList(o.columns,[m.TColumn])),o.is_columnar!==void 0&&o.is_columnar!==null&&(this.is_columnar=o.is_columnar))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.row_desc=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumnType,k.read(o),this.row_desc.push(k)}o.readListEnd()}else o.skip(L);break;case 2:if(L==a.Type.LIST){this.rows=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TRow,k.read(o),this.rows.push(k)}o.readListEnd()}else o.skip(L);break;case 3:if(L==a.Type.LIST){this.columns=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumn,k.read(o),this.columns.push(k)}o.readListEnd()}else o.skip(L);break;case 4:L==a.Type.BOOL?this.is_columnar=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TRowSet"),this.row_desc!==null&&this.row_desc!==void 0){o.writeFieldBegin("row_desc",a.Type.LIST,1),o.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.rows!==null&&this.rows!==void 0){o.writeFieldBegin("rows",a.Type.LIST,2),o.writeListBegin(a.Type.STRUCT,this.rows.length);for(let b in this.rows)this.rows.hasOwnProperty(b)&&(b=this.rows[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.columns!==null&&this.columns!==void 0){o.writeFieldBegin("columns",a.Type.LIST,3),o.writeListBegin(a.Type.STRUCT,this.columns.length);for(let b in this.columns)this.columns.hasOwnProperty(b)&&(b=this.columns[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}this.is_columnar!==null&&this.is_columnar!==void 0&&(o.writeFieldBegin("is_columnar",a.Type.BOOL,4),o.writeBool(this.is_columnar),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TQueryResult=class{constructor(o){this.row_set=null,this.execution_time_ms=null,this.total_time_ms=null,this.nonce=null,this.debug=null,this.success=!0,this.query_type=0,o&&(o.row_set!==void 0&&o.row_set!==null&&(this.row_set=new m.TRowSet(o.row_set)),o.execution_time_ms!==void 0&&o.execution_time_ms!==null&&(this.execution_time_ms=o.execution_time_ms),o.total_time_ms!==void 0&&o.total_time_ms!==null&&(this.total_time_ms=o.total_time_ms),o.nonce!==void 0&&o.nonce!==null&&(this.nonce=o.nonce),o.debug!==void 0&&o.debug!==null&&(this.debug=o.debug),o.success!==void 0&&o.success!==null&&(this.success=o.success),o.query_type!==void 0&&o.query_type!==null&&(this.query_type=o.query_type))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(o)):o.skip(L);break;case 2:L==a.Type.I64?this.execution_time_ms=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.total_time_ms=o.readI64():o.skip(L);break;case 4:L==a.Type.STRING?this.nonce=o.readString():o.skip(L);break;case 5:L==a.Type.STRING?this.debug=o.readString():o.skip(L);break;case 6:L==a.Type.BOOL?this.success=o.readBool():o.skip(L);break;case 7:L==a.Type.I32?this.query_type=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TQueryResult"),this.row_set!==null&&this.row_set!==void 0&&(o.writeFieldBegin("row_set",a.Type.STRUCT,1),this.row_set.write(o),o.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(o.writeFieldBegin("execution_time_ms",a.Type.I64,2),o.writeI64(this.execution_time_ms),o.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(o.writeFieldBegin("total_time_ms",a.Type.I64,3),o.writeI64(this.total_time_ms),o.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(o.writeFieldBegin("nonce",a.Type.STRING,4),o.writeString(this.nonce),o.writeFieldEnd()),this.debug!==null&&this.debug!==void 0&&(o.writeFieldBegin("debug",a.Type.STRING,5),o.writeString(this.debug),o.writeFieldEnd()),this.success!==null&&this.success!==void 0&&(o.writeFieldBegin("success",a.Type.BOOL,6),o.writeBool(this.success),o.writeFieldEnd()),this.query_type!==null&&this.query_type!==void 0&&(o.writeFieldBegin("query_type",a.Type.I32,7),o.writeI32(this.query_type),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDataFrame=class{constructor(o){this.sm_handle=null,this.sm_size=null,this.df_handle=null,this.df_size=null,this.execution_time_ms=null,this.arrow_conversion_time_ms=null,this.df_buffer=null,o&&(o.sm_handle!==void 0&&o.sm_handle!==null&&(this.sm_handle=o.sm_handle),o.sm_size!==void 0&&o.sm_size!==null&&(this.sm_size=o.sm_size),o.df_handle!==void 0&&o.df_handle!==null&&(this.df_handle=o.df_handle),o.df_size!==void 0&&o.df_size!==null&&(this.df_size=o.df_size),o.execution_time_ms!==void 0&&o.execution_time_ms!==null&&(this.execution_time_ms=o.execution_time_ms),o.arrow_conversion_time_ms!==void 0&&o.arrow_conversion_time_ms!==null&&(this.arrow_conversion_time_ms=o.arrow_conversion_time_ms),o.df_buffer!==void 0&&o.df_buffer!==null&&(this.df_buffer=o.df_buffer))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.sm_handle=o.readBinary():o.skip(L);break;case 2:L==a.Type.I64?this.sm_size=o.readI64():o.skip(L);break;case 3:L==a.Type.STRING?this.df_handle=o.readBinary():o.skip(L);break;case 4:L==a.Type.I64?this.df_size=o.readI64():o.skip(L);break;case 5:L==a.Type.I64?this.execution_time_ms=o.readI64():o.skip(L);break;case 6:L==a.Type.I64?this.arrow_conversion_time_ms=o.readI64():o.skip(L);break;case 7:L==a.Type.STRING?this.df_buffer=o.readBinary():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDataFrame"),this.sm_handle!==null&&this.sm_handle!==void 0&&(o.writeFieldBegin("sm_handle",a.Type.STRING,1),o.writeBinary(this.sm_handle),o.writeFieldEnd()),this.sm_size!==null&&this.sm_size!==void 0&&(o.writeFieldBegin("sm_size",a.Type.I64,2),o.writeI64(this.sm_size),o.writeFieldEnd()),this.df_handle!==null&&this.df_handle!==void 0&&(o.writeFieldBegin("df_handle",a.Type.STRING,3),o.writeBinary(this.df_handle),o.writeFieldEnd()),this.df_size!==null&&this.df_size!==void 0&&(o.writeFieldBegin("df_size",a.Type.I64,4),o.writeI64(this.df_size),o.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(o.writeFieldBegin("execution_time_ms",a.Type.I64,5),o.writeI64(this.execution_time_ms),o.writeFieldEnd()),this.arrow_conversion_time_ms!==null&&this.arrow_conversion_time_ms!==void 0&&(o.writeFieldBegin("arrow_conversion_time_ms",a.Type.I64,6),o.writeI64(this.arrow_conversion_time_ms),o.writeFieldEnd()),this.df_buffer!==null&&this.df_buffer!==void 0&&(o.writeFieldBegin("df_buffer",a.Type.STRING,7),o.writeBinary(this.df_buffer),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDBInfo=class{constructor(o){this.db_name=null,this.db_owner=null,o&&(o.db_name!==void 0&&o.db_name!==null&&(this.db_name=o.db_name),o.db_owner!==void 0&&o.db_owner!==null&&(this.db_owner=o.db_owner))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.db_name=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.db_owner=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDBInfo"),this.db_name!==null&&this.db_name!==void 0&&(o.writeFieldBegin("db_name",a.Type.STRING,1),o.writeString(this.db_name),o.writeFieldEnd()),this.db_owner!==null&&this.db_owner!==void 0&&(o.writeFieldBegin("db_owner",a.Type.STRING,2),o.writeString(this.db_owner),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDBException=class extends a.TException{constructor(o){super(o),this.name="TDBException",this.error_msg=null,o&&o.error_msg!==void 0&&o.error_msg!==null&&(this.error_msg=o.error_msg)}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.error_msg=o.readString():o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDBException"),this.error_msg!==null&&this.error_msg!==void 0&&(o.writeFieldBegin("error_msg",a.Type.STRING,1),o.writeString(this.error_msg),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TCopyParams=class{constructor(o){this.delimiter=null,this.null_str=null,this.has_header=0,this.quoted=null,this.quote=null,this.escape=null,this.line_delim=null,this.array_delim=null,this.array_begin=null,this.array_end=null,this.threads=null,this.source_type=0,this.s3_access_key=null,this.s3_secret_key=null,this.s3_region=null,this.geo_coords_encoding=6,this.geo_coords_comp_param=32,this.geo_coords_type=18,this.geo_coords_srid=4326,this.sanitize_column_names=!0,this.geo_layer_name=null,this.s3_endpoint=null,this.geo_assign_render_groups=!0,this.geo_explode_collections=!1,this.source_srid=0,this.s3_session_token=null,this.raster_point_type=1,this.raster_import_bands=null,this.raster_scanlines_per_thread=null,this.raster_point_transform=1,this.raster_point_compute_angle=!1,this.raster_import_dimensions=null,this.odbc_dsn=null,this.odbc_connection_string=null,this.odbc_sql_select=null,this.odbc_sql_order_by=null,this.odbc_username=null,this.odbc_password=null,this.odbc_credential_string=null,this.add_metadata_columns=null,o&&(o.delimiter!==void 0&&o.delimiter!==null&&(this.delimiter=o.delimiter),o.null_str!==void 0&&o.null_str!==null&&(this.null_str=o.null_str),o.has_header!==void 0&&o.has_header!==null&&(this.has_header=o.has_header),o.quoted!==void 0&&o.quoted!==null&&(this.quoted=o.quoted),o.quote!==void 0&&o.quote!==null&&(this.quote=o.quote),o.escape!==void 0&&o.escape!==null&&(this.escape=o.escape),o.line_delim!==void 0&&o.line_delim!==null&&(this.line_delim=o.line_delim),o.array_delim!==void 0&&o.array_delim!==null&&(this.array_delim=o.array_delim),o.array_begin!==void 0&&o.array_begin!==null&&(this.array_begin=o.array_begin),o.array_end!==void 0&&o.array_end!==null&&(this.array_end=o.array_end),o.threads!==void 0&&o.threads!==null&&(this.threads=o.threads),o.source_type!==void 0&&o.source_type!==null&&(this.source_type=o.source_type),o.s3_access_key!==void 0&&o.s3_access_key!==null&&(this.s3_access_key=o.s3_access_key),o.s3_secret_key!==void 0&&o.s3_secret_key!==null&&(this.s3_secret_key=o.s3_secret_key),o.s3_region!==void 0&&o.s3_region!==null&&(this.s3_region=o.s3_region),o.geo_coords_encoding!==void 0&&o.geo_coords_encoding!==null&&(this.geo_coords_encoding=o.geo_coords_encoding),o.geo_coords_comp_param!==void 0&&o.geo_coords_comp_param!==null&&(this.geo_coords_comp_param=o.geo_coords_comp_param),o.geo_coords_type!==void 0&&o.geo_coords_type!==null&&(this.geo_coords_type=o.geo_coords_type),o.geo_coords_srid!==void 0&&o.geo_coords_srid!==null&&(this.geo_coords_srid=o.geo_coords_srid),o.sanitize_column_names!==void 0&&o.sanitize_column_names!==null&&(this.sanitize_column_names=o.sanitize_column_names),o.geo_layer_name!==void 0&&o.geo_layer_name!==null&&(this.geo_layer_name=o.geo_layer_name),o.s3_endpoint!==void 0&&o.s3_endpoint!==null&&(this.s3_endpoint=o.s3_endpoint),o.geo_assign_render_groups!==void 0&&o.geo_assign_render_groups!==null&&(this.geo_assign_render_groups=o.geo_assign_render_groups),o.geo_explode_collections!==void 0&&o.geo_explode_collections!==null&&(this.geo_explode_collections=o.geo_explode_collections),o.source_srid!==void 0&&o.source_srid!==null&&(this.source_srid=o.source_srid),o.s3_session_token!==void 0&&o.s3_session_token!==null&&(this.s3_session_token=o.s3_session_token),o.raster_point_type!==void 0&&o.raster_point_type!==null&&(this.raster_point_type=o.raster_point_type),o.raster_import_bands!==void 0&&o.raster_import_bands!==null&&(this.raster_import_bands=o.raster_import_bands),o.raster_scanlines_per_thread!==void 0&&o.raster_scanlines_per_thread!==null&&(this.raster_scanlines_per_thread=o.raster_scanlines_per_thread),o.raster_point_transform!==void 0&&o.raster_point_transform!==null&&(this.raster_point_transform=o.raster_point_transform),o.raster_point_compute_angle!==void 0&&o.raster_point_compute_angle!==null&&(this.raster_point_compute_angle=o.raster_point_compute_angle),o.raster_import_dimensions!==void 0&&o.raster_import_dimensions!==null&&(this.raster_import_dimensions=o.raster_import_dimensions),o.odbc_dsn!==void 0&&o.odbc_dsn!==null&&(this.odbc_dsn=o.odbc_dsn),o.odbc_connection_string!==void 0&&o.odbc_connection_string!==null&&(this.odbc_connection_string=o.odbc_connection_string),o.odbc_sql_select!==void 0&&o.odbc_sql_select!==null&&(this.odbc_sql_select=o.odbc_sql_select),o.odbc_sql_order_by!==void 0&&o.odbc_sql_order_by!==null&&(this.odbc_sql_order_by=o.odbc_sql_order_by),o.odbc_username!==void 0&&o.odbc_username!==null&&(this.odbc_username=o.odbc_username),o.odbc_password!==void 0&&o.odbc_password!==null&&(this.odbc_password=o.odbc_password),o.odbc_credential_string!==void 0&&o.odbc_credential_string!==null&&(this.odbc_credential_string=o.odbc_credential_string),o.add_metadata_columns!==void 0&&o.add_metadata_columns!==null&&(this.add_metadata_columns=o.add_metadata_columns))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.delimiter=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.null_str=o.readString():o.skip(L);break;case 3:L==a.Type.I32?this.has_header=o.readI32():o.skip(L);break;case 4:L==a.Type.BOOL?this.quoted=o.readBool():o.skip(L);break;case 5:L==a.Type.STRING?this.quote=o.readString():o.skip(L);break;case 6:L==a.Type.STRING?this.escape=o.readString():o.skip(L);break;case 7:L==a.Type.STRING?this.line_delim=o.readString():o.skip(L);break;case 8:L==a.Type.STRING?this.array_delim=o.readString():o.skip(L);break;case 9:L==a.Type.STRING?this.array_begin=o.readString():o.skip(L);break;case 10:L==a.Type.STRING?this.array_end=o.readString():o.skip(L);break;case 11:L==a.Type.I32?this.threads=o.readI32():o.skip(L);break;case 12:L==a.Type.I32?this.source_type=o.readI32():o.skip(L);break;case 13:L==a.Type.STRING?this.s3_access_key=o.readString():o.skip(L);break;case 14:L==a.Type.STRING?this.s3_secret_key=o.readString():o.skip(L);break;case 15:L==a.Type.STRING?this.s3_region=o.readString():o.skip(L);break;case 16:L==a.Type.I32?this.geo_coords_encoding=o.readI32():o.skip(L);break;case 17:L==a.Type.I32?this.geo_coords_comp_param=o.readI32():o.skip(L);break;case 18:L==a.Type.I32?this.geo_coords_type=o.readI32():o.skip(L);break;case 19:L==a.Type.I32?this.geo_coords_srid=o.readI32():o.skip(L);break;case 20:L==a.Type.BOOL?this.sanitize_column_names=o.readBool():o.skip(L);break;case 21:L==a.Type.STRING?this.geo_layer_name=o.readString():o.skip(L);break;case 22:L==a.Type.STRING?this.s3_endpoint=o.readString():o.skip(L);break;case 23:L==a.Type.BOOL?this.geo_assign_render_groups=o.readBool():o.skip(L);break;case 24:L==a.Type.BOOL?this.geo_explode_collections=o.readBool():o.skip(L);break;case 25:L==a.Type.I32?this.source_srid=o.readI32():o.skip(L);break;case 26:L==a.Type.STRING?this.s3_session_token=o.readString():o.skip(L);break;case 27:L==a.Type.I32?this.raster_point_type=o.readI32():o.skip(L);break;case 28:L==a.Type.STRING?this.raster_import_bands=o.readString():o.skip(L);break;case 29:L==a.Type.I32?this.raster_scanlines_per_thread=o.readI32():o.skip(L);break;case 30:L==a.Type.I32?this.raster_point_transform=o.readI32():o.skip(L);break;case 31:L==a.Type.BOOL?this.raster_point_compute_angle=o.readBool():o.skip(L);break;case 32:L==a.Type.STRING?this.raster_import_dimensions=o.readString():o.skip(L);break;case 33:L==a.Type.STRING?this.odbc_dsn=o.readString():o.skip(L);break;case 34:L==a.Type.STRING?this.odbc_connection_string=o.readString():o.skip(L);break;case 35:L==a.Type.STRING?this.odbc_sql_select=o.readString():o.skip(L);break;case 36:L==a.Type.STRING?this.odbc_sql_order_by=o.readString():o.skip(L);break;case 37:L==a.Type.STRING?this.odbc_username=o.readString():o.skip(L);break;case 38:L==a.Type.STRING?this.odbc_password=o.readString():o.skip(L);break;case 39:L==a.Type.STRING?this.odbc_credential_string=o.readString():o.skip(L);break;case 40:L==a.Type.STRING?this.add_metadata_columns=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TCopyParams"),this.delimiter!==null&&this.delimiter!==void 0&&(o.writeFieldBegin("delimiter",a.Type.STRING,1),o.writeString(this.delimiter),o.writeFieldEnd()),this.null_str!==null&&this.null_str!==void 0&&(o.writeFieldBegin("null_str",a.Type.STRING,2),o.writeString(this.null_str),o.writeFieldEnd()),this.has_header!==null&&this.has_header!==void 0&&(o.writeFieldBegin("has_header",a.Type.I32,3),o.writeI32(this.has_header),o.writeFieldEnd()),this.quoted!==null&&this.quoted!==void 0&&(o.writeFieldBegin("quoted",a.Type.BOOL,4),o.writeBool(this.quoted),o.writeFieldEnd()),this.quote!==null&&this.quote!==void 0&&(o.writeFieldBegin("quote",a.Type.STRING,5),o.writeString(this.quote),o.writeFieldEnd()),this.escape!==null&&this.escape!==void 0&&(o.writeFieldBegin("escape",a.Type.STRING,6),o.writeString(this.escape),o.writeFieldEnd()),this.line_delim!==null&&this.line_delim!==void 0&&(o.writeFieldBegin("line_delim",a.Type.STRING,7),o.writeString(this.line_delim),o.writeFieldEnd()),this.array_delim!==null&&this.array_delim!==void 0&&(o.writeFieldBegin("array_delim",a.Type.STRING,8),o.writeString(this.array_delim),o.writeFieldEnd()),this.array_begin!==null&&this.array_begin!==void 0&&(o.writeFieldBegin("array_begin",a.Type.STRING,9),o.writeString(this.array_begin),o.writeFieldEnd()),this.array_end!==null&&this.array_end!==void 0&&(o.writeFieldBegin("array_end",a.Type.STRING,10),o.writeString(this.array_end),o.writeFieldEnd()),this.threads!==null&&this.threads!==void 0&&(o.writeFieldBegin("threads",a.Type.I32,11),o.writeI32(this.threads),o.writeFieldEnd()),this.source_type!==null&&this.source_type!==void 0&&(o.writeFieldBegin("source_type",a.Type.I32,12),o.writeI32(this.source_type),o.writeFieldEnd()),this.s3_access_key!==null&&this.s3_access_key!==void 0&&(o.writeFieldBegin("s3_access_key",a.Type.STRING,13),o.writeString(this.s3_access_key),o.writeFieldEnd()),this.s3_secret_key!==null&&this.s3_secret_key!==void 0&&(o.writeFieldBegin("s3_secret_key",a.Type.STRING,14),o.writeString(this.s3_secret_key),o.writeFieldEnd()),this.s3_region!==null&&this.s3_region!==void 0&&(o.writeFieldBegin("s3_region",a.Type.STRING,15),o.writeString(this.s3_region),o.writeFieldEnd()),this.geo_coords_encoding!==null&&this.geo_coords_encoding!==void 0&&(o.writeFieldBegin("geo_coords_encoding",a.Type.I32,16),o.writeI32(this.geo_coords_encoding),o.writeFieldEnd()),this.geo_coords_comp_param!==null&&this.geo_coords_comp_param!==void 0&&(o.writeFieldBegin("geo_coords_comp_param",a.Type.I32,17),o.writeI32(this.geo_coords_comp_param),o.writeFieldEnd()),this.geo_coords_type!==null&&this.geo_coords_type!==void 0&&(o.writeFieldBegin("geo_coords_type",a.Type.I32,18),o.writeI32(this.geo_coords_type),o.writeFieldEnd()),this.geo_coords_srid!==null&&this.geo_coords_srid!==void 0&&(o.writeFieldBegin("geo_coords_srid",a.Type.I32,19),o.writeI32(this.geo_coords_srid),o.writeFieldEnd()),this.sanitize_column_names!==null&&this.sanitize_column_names!==void 0&&(o.writeFieldBegin("sanitize_column_names",a.Type.BOOL,20),o.writeBool(this.sanitize_column_names),o.writeFieldEnd()),this.geo_layer_name!==null&&this.geo_layer_name!==void 0&&(o.writeFieldBegin("geo_layer_name",a.Type.STRING,21),o.writeString(this.geo_layer_name),o.writeFieldEnd()),this.s3_endpoint!==null&&this.s3_endpoint!==void 0&&(o.writeFieldBegin("s3_endpoint",a.Type.STRING,22),o.writeString(this.s3_endpoint),o.writeFieldEnd()),this.geo_assign_render_groups!==null&&this.geo_assign_render_groups!==void 0&&(o.writeFieldBegin("geo_assign_render_groups",a.Type.BOOL,23),o.writeBool(this.geo_assign_render_groups),o.writeFieldEnd()),this.geo_explode_collections!==null&&this.geo_explode_collections!==void 0&&(o.writeFieldBegin("geo_explode_collections",a.Type.BOOL,24),o.writeBool(this.geo_explode_collections),o.writeFieldEnd()),this.source_srid!==null&&this.source_srid!==void 0&&(o.writeFieldBegin("source_srid",a.Type.I32,25),o.writeI32(this.source_srid),o.writeFieldEnd()),this.s3_session_token!==null&&this.s3_session_token!==void 0&&(o.writeFieldBegin("s3_session_token",a.Type.STRING,26),o.writeString(this.s3_session_token),o.writeFieldEnd()),this.raster_point_type!==null&&this.raster_point_type!==void 0&&(o.writeFieldBegin("raster_point_type",a.Type.I32,27),o.writeI32(this.raster_point_type),o.writeFieldEnd()),this.raster_import_bands!==null&&this.raster_import_bands!==void 0&&(o.writeFieldBegin("raster_import_bands",a.Type.STRING,28),o.writeString(this.raster_import_bands),o.writeFieldEnd()),this.raster_scanlines_per_thread!==null&&this.raster_scanlines_per_thread!==void 0&&(o.writeFieldBegin("raster_scanlines_per_thread",a.Type.I32,29),o.writeI32(this.raster_scanlines_per_thread),o.writeFieldEnd()),this.raster_point_transform!==null&&this.raster_point_transform!==void 0&&(o.writeFieldBegin("raster_point_transform",a.Type.I32,30),o.writeI32(this.raster_point_transform),o.writeFieldEnd()),this.raster_point_compute_angle!==null&&this.raster_point_compute_angle!==void 0&&(o.writeFieldBegin("raster_point_compute_angle",a.Type.BOOL,31),o.writeBool(this.raster_point_compute_angle),o.writeFieldEnd()),this.raster_import_dimensions!==null&&this.raster_import_dimensions!==void 0&&(o.writeFieldBegin("raster_import_dimensions",a.Type.STRING,32),o.writeString(this.raster_import_dimensions),o.writeFieldEnd()),this.odbc_dsn!==null&&this.odbc_dsn!==void 0&&(o.writeFieldBegin("odbc_dsn",a.Type.STRING,33),o.writeString(this.odbc_dsn),o.writeFieldEnd()),this.odbc_connection_string!==null&&this.odbc_connection_string!==void 0&&(o.writeFieldBegin("odbc_connection_string",a.Type.STRING,34),o.writeString(this.odbc_connection_string),o.writeFieldEnd()),this.odbc_sql_select!==null&&this.odbc_sql_select!==void 0&&(o.writeFieldBegin("odbc_sql_select",a.Type.STRING,35),o.writeString(this.odbc_sql_select),o.writeFieldEnd()),this.odbc_sql_order_by!==null&&this.odbc_sql_order_by!==void 0&&(o.writeFieldBegin("odbc_sql_order_by",a.Type.STRING,36),o.writeString(this.odbc_sql_order_by),o.writeFieldEnd()),this.odbc_username!==null&&this.odbc_username!==void 0&&(o.writeFieldBegin("odbc_username",a.Type.STRING,37),o.writeString(this.odbc_username),o.writeFieldEnd()),this.odbc_password!==null&&this.odbc_password!==void 0&&(o.writeFieldBegin("odbc_password",a.Type.STRING,38),o.writeString(this.odbc_password),o.writeFieldEnd()),this.odbc_credential_string!==null&&this.odbc_credential_string!==void 0&&(o.writeFieldBegin("odbc_credential_string",a.Type.STRING,39),o.writeString(this.odbc_credential_string),o.writeFieldEnd()),this.add_metadata_columns!==null&&this.add_metadata_columns!==void 0&&(o.writeFieldBegin("add_metadata_columns",a.Type.STRING,40),o.writeString(this.add_metadata_columns),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TCreateParams=class{constructor(o){this.is_replicated=null,o&&o.is_replicated!==void 0&&o.is_replicated!==null&&(this.is_replicated=o.is_replicated)}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.is_replicated=o.readBool():o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TCreateParams"),this.is_replicated!==null&&this.is_replicated!==void 0&&(o.writeFieldBegin("is_replicated",a.Type.BOOL,1),o.writeBool(this.is_replicated),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDetectResult=class{constructor(o){this.row_set=null,this.copy_params=null,o&&(o.row_set!==void 0&&o.row_set!==null&&(this.row_set=new m.TRowSet(o.row_set)),o.copy_params!==void 0&&o.copy_params!==null&&(this.copy_params=new m.TCopyParams(o.copy_params)))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(o)):o.skip(L);break;case 2:L==a.Type.STRUCT?(this.copy_params=new m.TCopyParams,this.copy_params.read(o)):o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDetectResult"),this.row_set!==null&&this.row_set!==void 0&&(o.writeFieldBegin("row_set",a.Type.STRUCT,1),this.row_set.write(o),o.writeFieldEnd()),this.copy_params!==null&&this.copy_params!==void 0&&(o.writeFieldBegin("copy_params",a.Type.STRUCT,2),this.copy_params.write(o),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TImportStatus=class{constructor(o){this.elapsed=null,this.rows_completed=null,this.rows_estimated=null,this.rows_rejected=null,o&&(o.elapsed!==void 0&&o.elapsed!==null&&(this.elapsed=o.elapsed),o.rows_completed!==void 0&&o.rows_completed!==null&&(this.rows_completed=o.rows_completed),o.rows_estimated!==void 0&&o.rows_estimated!==null&&(this.rows_estimated=o.rows_estimated),o.rows_rejected!==void 0&&o.rows_rejected!==null&&(this.rows_rejected=o.rows_rejected))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.elapsed=o.readI64():o.skip(L);break;case 2:L==a.Type.I64?this.rows_completed=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.rows_estimated=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.rows_rejected=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TImportStatus"),this.elapsed!==null&&this.elapsed!==void 0&&(o.writeFieldBegin("elapsed",a.Type.I64,1),o.writeI64(this.elapsed),o.writeFieldEnd()),this.rows_completed!==null&&this.rows_completed!==void 0&&(o.writeFieldBegin("rows_completed",a.Type.I64,2),o.writeI64(this.rows_completed),o.writeFieldEnd()),this.rows_estimated!==null&&this.rows_estimated!==void 0&&(o.writeFieldBegin("rows_estimated",a.Type.I64,3),o.writeI64(this.rows_estimated),o.writeFieldEnd()),this.rows_rejected!==null&&this.rows_rejected!==void 0&&(o.writeFieldBegin("rows_rejected",a.Type.I64,4),o.writeI64(this.rows_rejected),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TFrontendView=class{constructor(o){this.view_name=null,this.view_state=null,this.image_hash=null,this.update_time=null,this.view_metadata=null,o&&(o.view_name!==void 0&&o.view_name!==null&&(this.view_name=o.view_name),o.view_state!==void 0&&o.view_state!==null&&(this.view_state=o.view_state),o.image_hash!==void 0&&o.image_hash!==null&&(this.image_hash=o.image_hash),o.update_time!==void 0&&o.update_time!==null&&(this.update_time=o.update_time),o.view_metadata!==void 0&&o.view_metadata!==null&&(this.view_metadata=o.view_metadata))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.view_name=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.view_state=o.readString():o.skip(L);break;case 3:L==a.Type.STRING?this.image_hash=o.readString():o.skip(L);break;case 4:L==a.Type.STRING?this.update_time=o.readString():o.skip(L);break;case 5:L==a.Type.STRING?this.view_metadata=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TFrontendView"),this.view_name!==null&&this.view_name!==void 0&&(o.writeFieldBegin("view_name",a.Type.STRING,1),o.writeString(this.view_name),o.writeFieldEnd()),this.view_state!==null&&this.view_state!==void 0&&(o.writeFieldBegin("view_state",a.Type.STRING,2),o.writeString(this.view_state),o.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(o.writeFieldBegin("image_hash",a.Type.STRING,3),o.writeString(this.image_hash),o.writeFieldEnd()),this.update_time!==null&&this.update_time!==void 0&&(o.writeFieldBegin("update_time",a.Type.STRING,4),o.writeString(this.update_time),o.writeFieldEnd()),this.view_metadata!==null&&this.view_metadata!==void 0&&(o.writeFieldBegin("view_metadata",a.Type.STRING,5),o.writeString(this.view_metadata),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TServerStatus=class{constructor(o){this.read_only=null,this.version=null,this.rendering_enabled=null,this.start_time=null,this.edition=null,this.host_name=null,this.poly_rendering_enabled=null,this.role=null,this.renderer_status_json=null,o&&(o.read_only!==void 0&&o.read_only!==null&&(this.read_only=o.read_only),o.version!==void 0&&o.version!==null&&(this.version=o.version),o.rendering_enabled!==void 0&&o.rendering_enabled!==null&&(this.rendering_enabled=o.rendering_enabled),o.start_time!==void 0&&o.start_time!==null&&(this.start_time=o.start_time),o.edition!==void 0&&o.edition!==null&&(this.edition=o.edition),o.host_name!==void 0&&o.host_name!==null&&(this.host_name=o.host_name),o.poly_rendering_enabled!==void 0&&o.poly_rendering_enabled!==null&&(this.poly_rendering_enabled=o.poly_rendering_enabled),o.role!==void 0&&o.role!==null&&(this.role=o.role),o.renderer_status_json!==void 0&&o.renderer_status_json!==null&&(this.renderer_status_json=o.renderer_status_json))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.read_only=o.readBool():o.skip(L);break;case 2:L==a.Type.STRING?this.version=o.readString():o.skip(L);break;case 3:L==a.Type.BOOL?this.rendering_enabled=o.readBool():o.skip(L);break;case 4:L==a.Type.I64?this.start_time=o.readI64():o.skip(L);break;case 5:L==a.Type.STRING?this.edition=o.readString():o.skip(L);break;case 6:L==a.Type.STRING?this.host_name=o.readString():o.skip(L);break;case 7:L==a.Type.BOOL?this.poly_rendering_enabled=o.readBool():o.skip(L);break;case 8:L==a.Type.I32?this.role=o.readI32():o.skip(L);break;case 9:L==a.Type.STRING?this.renderer_status_json=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TServerStatus"),this.read_only!==null&&this.read_only!==void 0&&(o.writeFieldBegin("read_only",a.Type.BOOL,1),o.writeBool(this.read_only),o.writeFieldEnd()),this.version!==null&&this.version!==void 0&&(o.writeFieldBegin("version",a.Type.STRING,2),o.writeString(this.version),o.writeFieldEnd()),this.rendering_enabled!==null&&this.rendering_enabled!==void 0&&(o.writeFieldBegin("rendering_enabled",a.Type.BOOL,3),o.writeBool(this.rendering_enabled),o.writeFieldEnd()),this.start_time!==null&&this.start_time!==void 0&&(o.writeFieldBegin("start_time",a.Type.I64,4),o.writeI64(this.start_time),o.writeFieldEnd()),this.edition!==null&&this.edition!==void 0&&(o.writeFieldBegin("edition",a.Type.STRING,5),o.writeString(this.edition),o.writeFieldEnd()),this.host_name!==null&&this.host_name!==void 0&&(o.writeFieldBegin("host_name",a.Type.STRING,6),o.writeString(this.host_name),o.writeFieldEnd()),this.poly_rendering_enabled!==null&&this.poly_rendering_enabled!==void 0&&(o.writeFieldBegin("poly_rendering_enabled",a.Type.BOOL,7),o.writeBool(this.poly_rendering_enabled),o.writeFieldEnd()),this.role!==null&&this.role!==void 0&&(o.writeFieldBegin("role",a.Type.I32,8),o.writeI32(this.role),o.writeFieldEnd()),this.renderer_status_json!==null&&this.renderer_status_json!==void 0&&(o.writeFieldBegin("renderer_status_json",a.Type.STRING,9),o.writeString(this.renderer_status_json),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TPixel=class{constructor(o){this.x=null,this.y=null,o&&(o.x!==void 0&&o.x!==null&&(this.x=o.x),o.y!==void 0&&o.y!==null&&(this.y=o.y))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.x=o.readI64():o.skip(L);break;case 2:L==a.Type.I64?this.y=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TPixel"),this.x!==null&&this.x!==void 0&&(o.writeFieldBegin("x",a.Type.I64,1),o.writeI64(this.x),o.writeFieldEnd()),this.y!==null&&this.y!==void 0&&(o.writeFieldBegin("y",a.Type.I64,2),o.writeI64(this.y),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TPixelTableRowResult=class{constructor(o){this.pixel=null,this.vega_table_name=null,this.table_id=null,this.row_id=null,this.row_set=null,this.nonce=null,o&&(o.pixel!==void 0&&o.pixel!==null&&(this.pixel=new m.TPixel(o.pixel)),o.vega_table_name!==void 0&&o.vega_table_name!==null&&(this.vega_table_name=o.vega_table_name),o.table_id!==void 0&&o.table_id!==null&&(this.table_id=a.copyList(o.table_id,[null])),o.row_id!==void 0&&o.row_id!==null&&(this.row_id=a.copyList(o.row_id,[null])),o.row_set!==void 0&&o.row_set!==null&&(this.row_set=new m.TRowSet(o.row_set)),o.nonce!==void 0&&o.nonce!==null&&(this.nonce=o.nonce))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.pixel=new m.TPixel,this.pixel.read(o)):o.skip(L);break;case 2:L==a.Type.STRING?this.vega_table_name=o.readString():o.skip(L);break;case 3:if(L==a.Type.LIST){this.table_id=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI64(),this.table_id.push(k)}o.readListEnd()}else o.skip(L);break;case 4:if(L==a.Type.LIST){this.row_id=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI64(),this.row_id.push(k)}o.readListEnd()}else o.skip(L);break;case 5:L==a.Type.STRUCT?(this.row_set=new m.TRowSet,this.row_set.read(o)):o.skip(L);break;case 6:L==a.Type.STRING?this.nonce=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TPixelTableRowResult"),this.pixel!==null&&this.pixel!==void 0&&(o.writeFieldBegin("pixel",a.Type.STRUCT,1),this.pixel.write(o),o.writeFieldEnd()),this.vega_table_name!==null&&this.vega_table_name!==void 0&&(o.writeFieldBegin("vega_table_name",a.Type.STRING,2),o.writeString(this.vega_table_name),o.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0){o.writeFieldBegin("table_id",a.Type.LIST,3),o.writeListBegin(a.Type.I64,this.table_id.length);for(let b in this.table_id)this.table_id.hasOwnProperty(b)&&(b=this.table_id[b],o.writeI64(b));o.writeListEnd(),o.writeFieldEnd()}if(this.row_id!==null&&this.row_id!==void 0){o.writeFieldBegin("row_id",a.Type.LIST,4),o.writeListBegin(a.Type.I64,this.row_id.length);for(let b in this.row_id)this.row_id.hasOwnProperty(b)&&(b=this.row_id[b],o.writeI64(b));o.writeListEnd(),o.writeFieldEnd()}this.row_set!==null&&this.row_set!==void 0&&(o.writeFieldBegin("row_set",a.Type.STRUCT,5),this.row_set.write(o),o.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(o.writeFieldBegin("nonce",a.Type.STRING,6),o.writeString(this.nonce),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRenderResult=class{constructor(o){this.image=null,this.nonce=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,this.vega_metadata=null,o&&(o.image!==void 0&&o.image!==null&&(this.image=o.image),o.nonce!==void 0&&o.nonce!==null&&(this.nonce=o.nonce),o.execution_time_ms!==void 0&&o.execution_time_ms!==null&&(this.execution_time_ms=o.execution_time_ms),o.render_time_ms!==void 0&&o.render_time_ms!==null&&(this.render_time_ms=o.render_time_ms),o.total_time_ms!==void 0&&o.total_time_ms!==null&&(this.total_time_ms=o.total_time_ms),o.vega_metadata!==void 0&&o.vega_metadata!==null&&(this.vega_metadata=o.vega_metadata))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.image=o.readBinary():o.skip(L);break;case 2:L==a.Type.STRING?this.nonce=o.readString():o.skip(L);break;case 3:L==a.Type.I64?this.execution_time_ms=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.render_time_ms=o.readI64():o.skip(L);break;case 5:L==a.Type.I64?this.total_time_ms=o.readI64():o.skip(L);break;case 6:L==a.Type.STRING?this.vega_metadata=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TRenderResult"),this.image!==null&&this.image!==void 0&&(o.writeFieldBegin("image",a.Type.STRING,1),o.writeBinary(this.image),o.writeFieldEnd()),this.nonce!==null&&this.nonce!==void 0&&(o.writeFieldBegin("nonce",a.Type.STRING,2),o.writeString(this.nonce),o.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(o.writeFieldBegin("execution_time_ms",a.Type.I64,3),o.writeI64(this.execution_time_ms),o.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(o.writeFieldBegin("render_time_ms",a.Type.I64,4),o.writeI64(this.render_time_ms),o.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(o.writeFieldBegin("total_time_ms",a.Type.I64,5),o.writeI64(this.total_time_ms),o.writeFieldEnd()),this.vega_metadata!==null&&this.vega_metadata!==void 0&&(o.writeFieldBegin("vega_metadata",a.Type.STRING,6),o.writeString(this.vega_metadata),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TGpuSpecification=class{constructor(o){this.num_sm=null,this.clock_frequency_kHz=null,this.memory=null,this.compute_capability_major=null,this.compute_capability_minor=null,o&&(o.num_sm!==void 0&&o.num_sm!==null&&(this.num_sm=o.num_sm),o.clock_frequency_kHz!==void 0&&o.clock_frequency_kHz!==null&&(this.clock_frequency_kHz=o.clock_frequency_kHz),o.memory!==void 0&&o.memory!==null&&(this.memory=o.memory),o.compute_capability_major!==void 0&&o.compute_capability_major!==null&&(this.compute_capability_major=o.compute_capability_major),o.compute_capability_minor!==void 0&&o.compute_capability_minor!==null&&(this.compute_capability_minor=o.compute_capability_minor))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.num_sm=o.readI32():o.skip(L);break;case 2:L==a.Type.I64?this.clock_frequency_kHz=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.memory=o.readI64():o.skip(L);break;case 4:L==a.Type.I16?this.compute_capability_major=o.readI16():o.skip(L);break;case 5:L==a.Type.I16?this.compute_capability_minor=o.readI16():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TGpuSpecification"),this.num_sm!==null&&this.num_sm!==void 0&&(o.writeFieldBegin("num_sm",a.Type.I32,1),o.writeI32(this.num_sm),o.writeFieldEnd()),this.clock_frequency_kHz!==null&&this.clock_frequency_kHz!==void 0&&(o.writeFieldBegin("clock_frequency_kHz",a.Type.I64,2),o.writeI64(this.clock_frequency_kHz),o.writeFieldEnd()),this.memory!==null&&this.memory!==void 0&&(o.writeFieldBegin("memory",a.Type.I64,3),o.writeI64(this.memory),o.writeFieldEnd()),this.compute_capability_major!==null&&this.compute_capability_major!==void 0&&(o.writeFieldBegin("compute_capability_major",a.Type.I16,4),o.writeI16(this.compute_capability_major),o.writeFieldEnd()),this.compute_capability_minor!==null&&this.compute_capability_minor!==void 0&&(o.writeFieldBegin("compute_capability_minor",a.Type.I16,5),o.writeI16(this.compute_capability_minor),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.THardwareInfo=class{constructor(o){this.num_gpu_hw=null,this.num_cpu_hw=null,this.num_gpu_allocated=null,this.start_gpu=null,this.host_name=null,this.gpu_info=null,o&&(o.num_gpu_hw!==void 0&&o.num_gpu_hw!==null&&(this.num_gpu_hw=o.num_gpu_hw),o.num_cpu_hw!==void 0&&o.num_cpu_hw!==null&&(this.num_cpu_hw=o.num_cpu_hw),o.num_gpu_allocated!==void 0&&o.num_gpu_allocated!==null&&(this.num_gpu_allocated=o.num_gpu_allocated),o.start_gpu!==void 0&&o.start_gpu!==null&&(this.start_gpu=o.start_gpu),o.host_name!==void 0&&o.host_name!==null&&(this.host_name=o.host_name),o.gpu_info!==void 0&&o.gpu_info!==null&&(this.gpu_info=a.copyList(o.gpu_info,[m.TGpuSpecification])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I16?this.num_gpu_hw=o.readI16():o.skip(L);break;case 2:L==a.Type.I16?this.num_cpu_hw=o.readI16():o.skip(L);break;case 3:L==a.Type.I16?this.num_gpu_allocated=o.readI16():o.skip(L);break;case 4:L==a.Type.I16?this.start_gpu=o.readI16():o.skip(L);break;case 5:L==a.Type.STRING?this.host_name=o.readString():o.skip(L);break;case 6:if(L==a.Type.LIST){this.gpu_info=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TGpuSpecification,k.read(o),this.gpu_info.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("THardwareInfo"),this.num_gpu_hw!==null&&this.num_gpu_hw!==void 0&&(o.writeFieldBegin("num_gpu_hw",a.Type.I16,1),o.writeI16(this.num_gpu_hw),o.writeFieldEnd()),this.num_cpu_hw!==null&&this.num_cpu_hw!==void 0&&(o.writeFieldBegin("num_cpu_hw",a.Type.I16,2),o.writeI16(this.num_cpu_hw),o.writeFieldEnd()),this.num_gpu_allocated!==null&&this.num_gpu_allocated!==void 0&&(o.writeFieldBegin("num_gpu_allocated",a.Type.I16,3),o.writeI16(this.num_gpu_allocated),o.writeFieldEnd()),this.start_gpu!==null&&this.start_gpu!==void 0&&(o.writeFieldBegin("start_gpu",a.Type.I16,4),o.writeI16(this.start_gpu),o.writeFieldEnd()),this.host_name!==null&&this.host_name!==void 0&&(o.writeFieldBegin("host_name",a.Type.STRING,5),o.writeString(this.host_name),o.writeFieldEnd()),this.gpu_info!==null&&this.gpu_info!==void 0){o.writeFieldBegin("gpu_info",a.Type.LIST,6),o.writeListBegin(a.Type.STRUCT,this.gpu_info.length);for(let b in this.gpu_info)this.gpu_info.hasOwnProperty(b)&&(b=this.gpu_info[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TClusterHardwareInfo=class{constructor(o){this.hardware_info=null,o&&o.hardware_info!==void 0&&o.hardware_info!==null&&(this.hardware_info=a.copyList(o.hardware_info,[m.THardwareInfo]))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.hardware_info=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.THardwareInfo,k.read(o),this.hardware_info.push(k)}o.readListEnd()}else o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TClusterHardwareInfo"),this.hardware_info!==null&&this.hardware_info!==void 0){o.writeFieldBegin("hardware_info",a.Type.LIST,1),o.writeListBegin(a.Type.STRUCT,this.hardware_info.length);for(let b in this.hardware_info)this.hardware_info.hasOwnProperty(b)&&(b=this.hardware_info[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TMemoryData=class{constructor(o){this.slab=null,this.start_page=null,this.num_pages=null,this.touch=null,this.chunk_key=null,this.buffer_epoch=null,this.is_free=null,o&&(o.slab!==void 0&&o.slab!==null&&(this.slab=o.slab),o.start_page!==void 0&&o.start_page!==null&&(this.start_page=o.start_page),o.num_pages!==void 0&&o.num_pages!==null&&(this.num_pages=o.num_pages),o.touch!==void 0&&o.touch!==null&&(this.touch=o.touch),o.chunk_key!==void 0&&o.chunk_key!==null&&(this.chunk_key=a.copyList(o.chunk_key,[null])),o.buffer_epoch!==void 0&&o.buffer_epoch!==null&&(this.buffer_epoch=o.buffer_epoch),o.is_free!==void 0&&o.is_free!==null&&(this.is_free=o.is_free))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.slab=o.readI64():o.skip(L);break;case 2:L==a.Type.I32?this.start_page=o.readI32():o.skip(L);break;case 3:L==a.Type.I64?this.num_pages=o.readI64():o.skip(L);break;case 4:L==a.Type.I32?this.touch=o.readI32():o.skip(L);break;case 5:if(L==a.Type.LIST){this.chunk_key=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI64(),this.chunk_key.push(k)}o.readListEnd()}else o.skip(L);break;case 6:L==a.Type.I32?this.buffer_epoch=o.readI32():o.skip(L);break;case 7:L==a.Type.BOOL?this.is_free=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TMemoryData"),this.slab!==null&&this.slab!==void 0&&(o.writeFieldBegin("slab",a.Type.I64,1),o.writeI64(this.slab),o.writeFieldEnd()),this.start_page!==null&&this.start_page!==void 0&&(o.writeFieldBegin("start_page",a.Type.I32,2),o.writeI32(this.start_page),o.writeFieldEnd()),this.num_pages!==null&&this.num_pages!==void 0&&(o.writeFieldBegin("num_pages",a.Type.I64,3),o.writeI64(this.num_pages),o.writeFieldEnd()),this.touch!==null&&this.touch!==void 0&&(o.writeFieldBegin("touch",a.Type.I32,4),o.writeI32(this.touch),o.writeFieldEnd()),this.chunk_key!==null&&this.chunk_key!==void 0){o.writeFieldBegin("chunk_key",a.Type.LIST,5),o.writeListBegin(a.Type.I64,this.chunk_key.length);for(let b in this.chunk_key)this.chunk_key.hasOwnProperty(b)&&(b=this.chunk_key[b],o.writeI64(b));o.writeListEnd(),o.writeFieldEnd()}this.buffer_epoch!==null&&this.buffer_epoch!==void 0&&(o.writeFieldBegin("buffer_epoch",a.Type.I32,6),o.writeI32(this.buffer_epoch),o.writeFieldEnd()),this.is_free!==null&&this.is_free!==void 0&&(o.writeFieldBegin("is_free",a.Type.BOOL,7),o.writeBool(this.is_free),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TNodeMemoryInfo=class{constructor(o){this.host_name=null,this.page_size=null,this.max_num_pages=null,this.num_pages_allocated=null,this.is_allocation_capped=null,this.node_memory_data=null,o&&(o.host_name!==void 0&&o.host_name!==null&&(this.host_name=o.host_name),o.page_size!==void 0&&o.page_size!==null&&(this.page_size=o.page_size),o.max_num_pages!==void 0&&o.max_num_pages!==null&&(this.max_num_pages=o.max_num_pages),o.num_pages_allocated!==void 0&&o.num_pages_allocated!==null&&(this.num_pages_allocated=o.num_pages_allocated),o.is_allocation_capped!==void 0&&o.is_allocation_capped!==null&&(this.is_allocation_capped=o.is_allocation_capped),o.node_memory_data!==void 0&&o.node_memory_data!==null&&(this.node_memory_data=a.copyList(o.node_memory_data,[m.TMemoryData])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.host_name=o.readString():o.skip(L);break;case 2:L==a.Type.I64?this.page_size=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.max_num_pages=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.num_pages_allocated=o.readI64():o.skip(L);break;case 5:L==a.Type.BOOL?this.is_allocation_capped=o.readBool():o.skip(L);break;case 6:if(L==a.Type.LIST){this.node_memory_data=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TMemoryData,k.read(o),this.node_memory_data.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TNodeMemoryInfo"),this.host_name!==null&&this.host_name!==void 0&&(o.writeFieldBegin("host_name",a.Type.STRING,1),o.writeString(this.host_name),o.writeFieldEnd()),this.page_size!==null&&this.page_size!==void 0&&(o.writeFieldBegin("page_size",a.Type.I64,2),o.writeI64(this.page_size),o.writeFieldEnd()),this.max_num_pages!==null&&this.max_num_pages!==void 0&&(o.writeFieldBegin("max_num_pages",a.Type.I64,3),o.writeI64(this.max_num_pages),o.writeFieldEnd()),this.num_pages_allocated!==null&&this.num_pages_allocated!==void 0&&(o.writeFieldBegin("num_pages_allocated",a.Type.I64,4),o.writeI64(this.num_pages_allocated),o.writeFieldEnd()),this.is_allocation_capped!==null&&this.is_allocation_capped!==void 0&&(o.writeFieldBegin("is_allocation_capped",a.Type.BOOL,5),o.writeBool(this.is_allocation_capped),o.writeFieldEnd()),this.node_memory_data!==null&&this.node_memory_data!==void 0){o.writeFieldBegin("node_memory_data",a.Type.LIST,6),o.writeListBegin(a.Type.STRUCT,this.node_memory_data.length);for(let b in this.node_memory_data)this.node_memory_data.hasOwnProperty(b)&&(b=this.node_memory_data[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTableMeta=class{constructor(o){this.table_name=null,this.num_cols=null,this.is_view=null,this.is_replicated=null,this.shard_count=null,this.max_rows=null,this.table_id=null,this.max_table_id=null,this.col_types=null,this.col_names=null,o&&(o.table_name!==void 0&&o.table_name!==null&&(this.table_name=o.table_name),o.num_cols!==void 0&&o.num_cols!==null&&(this.num_cols=o.num_cols),o.is_view!==void 0&&o.is_view!==null&&(this.is_view=o.is_view),o.is_replicated!==void 0&&o.is_replicated!==null&&(this.is_replicated=o.is_replicated),o.shard_count!==void 0&&o.shard_count!==null&&(this.shard_count=o.shard_count),o.max_rows!==void 0&&o.max_rows!==null&&(this.max_rows=o.max_rows),o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.max_table_id!==void 0&&o.max_table_id!==null&&(this.max_table_id=o.max_table_id),o.col_types!==void 0&&o.col_types!==null&&(this.col_types=a.copyList(o.col_types,[y.TTypeInfo])),o.col_names!==void 0&&o.col_names!==null&&(this.col_names=a.copyList(o.col_names,[null])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.table_name=o.readString():o.skip(L);break;case 2:L==a.Type.I64?this.num_cols=o.readI64():o.skip(L);break;case 4:L==a.Type.BOOL?this.is_view=o.readBool():o.skip(L);break;case 5:L==a.Type.BOOL?this.is_replicated=o.readBool():o.skip(L);break;case 6:L==a.Type.I64?this.shard_count=o.readI64():o.skip(L);break;case 7:L==a.Type.I64?this.max_rows=o.readI64():o.skip(L);break;case 8:L==a.Type.I64?this.table_id=o.readI64():o.skip(L);break;case 9:L==a.Type.I64?this.max_table_id=o.readI64():o.skip(L);break;case 10:if(L==a.Type.LIST){this.col_types=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new y.TTypeInfo,k.read(o),this.col_types.push(k)}o.readListEnd()}else o.skip(L);break;case 11:if(L==a.Type.LIST){this.col_names=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readString(),this.col_names.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TTableMeta"),this.table_name!==null&&this.table_name!==void 0&&(o.writeFieldBegin("table_name",a.Type.STRING,1),o.writeString(this.table_name),o.writeFieldEnd()),this.num_cols!==null&&this.num_cols!==void 0&&(o.writeFieldBegin("num_cols",a.Type.I64,2),o.writeI64(this.num_cols),o.writeFieldEnd()),this.is_view!==null&&this.is_view!==void 0&&(o.writeFieldBegin("is_view",a.Type.BOOL,4),o.writeBool(this.is_view),o.writeFieldEnd()),this.is_replicated!==null&&this.is_replicated!==void 0&&(o.writeFieldBegin("is_replicated",a.Type.BOOL,5),o.writeBool(this.is_replicated),o.writeFieldEnd()),this.shard_count!==null&&this.shard_count!==void 0&&(o.writeFieldBegin("shard_count",a.Type.I64,6),o.writeI64(this.shard_count),o.writeFieldEnd()),this.max_rows!==null&&this.max_rows!==void 0&&(o.writeFieldBegin("max_rows",a.Type.I64,7),o.writeI64(this.max_rows),o.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I64,8),o.writeI64(this.table_id),o.writeFieldEnd()),this.max_table_id!==null&&this.max_table_id!==void 0&&(o.writeFieldBegin("max_table_id",a.Type.I64,9),o.writeI64(this.max_table_id),o.writeFieldEnd()),this.col_types!==null&&this.col_types!==void 0){o.writeFieldBegin("col_types",a.Type.LIST,10),o.writeListBegin(a.Type.STRUCT,this.col_types.length);for(let b in this.col_types)this.col_types.hasOwnProperty(b)&&(b=this.col_types[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.col_names!==null&&this.col_names!==void 0){o.writeFieldBegin("col_names",a.Type.LIST,11),o.writeListBegin(a.Type.STRING,this.col_names.length);for(let b in this.col_names)this.col_names.hasOwnProperty(b)&&(b=this.col_names[b],o.writeString(b));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTableRefreshInfo=class{constructor(o){this.update_type=null,this.timing_type=null,this.start_date_time=null,this.interval_type=null,this.interval_count=null,this.last_refresh_time=null,this.next_refresh_time=null,o&&(o.update_type!==void 0&&o.update_type!==null&&(this.update_type=o.update_type),o.timing_type!==void 0&&o.timing_type!==null&&(this.timing_type=o.timing_type),o.start_date_time!==void 0&&o.start_date_time!==null&&(this.start_date_time=o.start_date_time),o.interval_type!==void 0&&o.interval_type!==null&&(this.interval_type=o.interval_type),o.interval_count!==void 0&&o.interval_count!==null&&(this.interval_count=o.interval_count),o.last_refresh_time!==void 0&&o.last_refresh_time!==null&&(this.last_refresh_time=o.last_refresh_time),o.next_refresh_time!==void 0&&o.next_refresh_time!==null&&(this.next_refresh_time=o.next_refresh_time))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.update_type=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.timing_type=o.readI32():o.skip(L);break;case 3:L==a.Type.STRING?this.start_date_time=o.readString():o.skip(L);break;case 4:L==a.Type.I32?this.interval_type=o.readI32():o.skip(L);break;case 5:L==a.Type.I64?this.interval_count=o.readI64():o.skip(L);break;case 6:L==a.Type.STRING?this.last_refresh_time=o.readString():o.skip(L);break;case 7:L==a.Type.STRING?this.next_refresh_time=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TTableRefreshInfo"),this.update_type!==null&&this.update_type!==void 0&&(o.writeFieldBegin("update_type",a.Type.I32,1),o.writeI32(this.update_type),o.writeFieldEnd()),this.timing_type!==null&&this.timing_type!==void 0&&(o.writeFieldBegin("timing_type",a.Type.I32,2),o.writeI32(this.timing_type),o.writeFieldEnd()),this.start_date_time!==null&&this.start_date_time!==void 0&&(o.writeFieldBegin("start_date_time",a.Type.STRING,3),o.writeString(this.start_date_time),o.writeFieldEnd()),this.interval_type!==null&&this.interval_type!==void 0&&(o.writeFieldBegin("interval_type",a.Type.I32,4),o.writeI32(this.interval_type),o.writeFieldEnd()),this.interval_count!==null&&this.interval_count!==void 0&&(o.writeFieldBegin("interval_count",a.Type.I64,5),o.writeI64(this.interval_count),o.writeFieldEnd()),this.last_refresh_time!==null&&this.last_refresh_time!==void 0&&(o.writeFieldBegin("last_refresh_time",a.Type.STRING,6),o.writeString(this.last_refresh_time),o.writeFieldEnd()),this.next_refresh_time!==null&&this.next_refresh_time!==void 0&&(o.writeFieldBegin("next_refresh_time",a.Type.STRING,7),o.writeString(this.next_refresh_time),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTableDetails=class{constructor(o){this.row_desc=null,this.fragment_size=null,this.page_size=null,this.max_rows=null,this.view_sql=null,this.shard_count=null,this.key_metainfo=null,this.is_temporary=null,this.partition_detail=null,this.table_type=null,this.refresh_info=null,o&&(o.row_desc!==void 0&&o.row_desc!==null&&(this.row_desc=a.copyList(o.row_desc,[m.TColumnType])),o.fragment_size!==void 0&&o.fragment_size!==null&&(this.fragment_size=o.fragment_size),o.page_size!==void 0&&o.page_size!==null&&(this.page_size=o.page_size),o.max_rows!==void 0&&o.max_rows!==null&&(this.max_rows=o.max_rows),o.view_sql!==void 0&&o.view_sql!==null&&(this.view_sql=o.view_sql),o.shard_count!==void 0&&o.shard_count!==null&&(this.shard_count=o.shard_count),o.key_metainfo!==void 0&&o.key_metainfo!==null&&(this.key_metainfo=o.key_metainfo),o.is_temporary!==void 0&&o.is_temporary!==null&&(this.is_temporary=o.is_temporary),o.partition_detail!==void 0&&o.partition_detail!==null&&(this.partition_detail=o.partition_detail),o.table_type!==void 0&&o.table_type!==null&&(this.table_type=o.table_type),o.refresh_info!==void 0&&o.refresh_info!==null&&(this.refresh_info=new m.TTableRefreshInfo(o.refresh_info)))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.row_desc=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumnType,k.read(o),this.row_desc.push(k)}o.readListEnd()}else o.skip(L);break;case 2:L==a.Type.I64?this.fragment_size=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.page_size=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.max_rows=o.readI64():o.skip(L);break;case 5:L==a.Type.STRING?this.view_sql=o.readString():o.skip(L);break;case 6:L==a.Type.I64?this.shard_count=o.readI64():o.skip(L);break;case 7:L==a.Type.STRING?this.key_metainfo=o.readString():o.skip(L);break;case 8:L==a.Type.BOOL?this.is_temporary=o.readBool():o.skip(L);break;case 9:L==a.Type.I32?this.partition_detail=o.readI32():o.skip(L);break;case 10:L==a.Type.I32?this.table_type=o.readI32():o.skip(L);break;case 11:L==a.Type.STRUCT?(this.refresh_info=new m.TTableRefreshInfo,this.refresh_info.read(o)):o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TTableDetails"),this.row_desc!==null&&this.row_desc!==void 0){o.writeFieldBegin("row_desc",a.Type.LIST,1),o.writeListBegin(a.Type.STRUCT,this.row_desc.length);for(let b in this.row_desc)this.row_desc.hasOwnProperty(b)&&(b=this.row_desc[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}this.fragment_size!==null&&this.fragment_size!==void 0&&(o.writeFieldBegin("fragment_size",a.Type.I64,2),o.writeI64(this.fragment_size),o.writeFieldEnd()),this.page_size!==null&&this.page_size!==void 0&&(o.writeFieldBegin("page_size",a.Type.I64,3),o.writeI64(this.page_size),o.writeFieldEnd()),this.max_rows!==null&&this.max_rows!==void 0&&(o.writeFieldBegin("max_rows",a.Type.I64,4),o.writeI64(this.max_rows),o.writeFieldEnd()),this.view_sql!==null&&this.view_sql!==void 0&&(o.writeFieldBegin("view_sql",a.Type.STRING,5),o.writeString(this.view_sql),o.writeFieldEnd()),this.shard_count!==null&&this.shard_count!==void 0&&(o.writeFieldBegin("shard_count",a.Type.I64,6),o.writeI64(this.shard_count),o.writeFieldEnd()),this.key_metainfo!==null&&this.key_metainfo!==void 0&&(o.writeFieldBegin("key_metainfo",a.Type.STRING,7),o.writeString(this.key_metainfo),o.writeFieldEnd()),this.is_temporary!==null&&this.is_temporary!==void 0&&(o.writeFieldBegin("is_temporary",a.Type.BOOL,8),o.writeBool(this.is_temporary),o.writeFieldEnd()),this.partition_detail!==null&&this.partition_detail!==void 0&&(o.writeFieldBegin("partition_detail",a.Type.I32,9),o.writeI32(this.partition_detail),o.writeFieldEnd()),this.table_type!==null&&this.table_type!==void 0&&(o.writeFieldBegin("table_type",a.Type.I32,10),o.writeI32(this.table_type),o.writeFieldEnd()),this.refresh_info!==null&&this.refresh_info!==void 0&&(o.writeFieldBegin("refresh_info",a.Type.STRUCT,11),this.refresh_info.write(o),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TColumnRange=class{constructor(o){this.type=null,this.col_id=null,this.table_id=null,this.has_nulls=null,this.int_min=null,this.int_max=null,this.bucket=null,this.fp_min=null,this.fp_max=null,o&&(o.type!==void 0&&o.type!==null&&(this.type=o.type),o.col_id!==void 0&&o.col_id!==null&&(this.col_id=o.col_id),o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.has_nulls!==void 0&&o.has_nulls!==null&&(this.has_nulls=o.has_nulls),o.int_min!==void 0&&o.int_min!==null&&(this.int_min=o.int_min),o.int_max!==void 0&&o.int_max!==null&&(this.int_max=o.int_max),o.bucket!==void 0&&o.bucket!==null&&(this.bucket=o.bucket),o.fp_min!==void 0&&o.fp_min!==null&&(this.fp_min=o.fp_min),o.fp_max!==void 0&&o.fp_max!==null&&(this.fp_max=o.fp_max))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.type=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.col_id=o.readI32():o.skip(L);break;case 3:L==a.Type.I32?this.table_id=o.readI32():o.skip(L);break;case 4:L==a.Type.BOOL?this.has_nulls=o.readBool():o.skip(L);break;case 5:L==a.Type.I64?this.int_min=o.readI64():o.skip(L);break;case 6:L==a.Type.I64?this.int_max=o.readI64():o.skip(L);break;case 7:L==a.Type.I64?this.bucket=o.readI64():o.skip(L);break;case 8:L==a.Type.DOUBLE?this.fp_min=o.readDouble():o.skip(L);break;case 9:L==a.Type.DOUBLE?this.fp_max=o.readDouble():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TColumnRange"),this.type!==null&&this.type!==void 0&&(o.writeFieldBegin("type",a.Type.I32,1),o.writeI32(this.type),o.writeFieldEnd()),this.col_id!==null&&this.col_id!==void 0&&(o.writeFieldBegin("col_id",a.Type.I32,2),o.writeI32(this.col_id),o.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I32,3),o.writeI32(this.table_id),o.writeFieldEnd()),this.has_nulls!==null&&this.has_nulls!==void 0&&(o.writeFieldBegin("has_nulls",a.Type.BOOL,4),o.writeBool(this.has_nulls),o.writeFieldEnd()),this.int_min!==null&&this.int_min!==void 0&&(o.writeFieldBegin("int_min",a.Type.I64,5),o.writeI64(this.int_min),o.writeFieldEnd()),this.int_max!==null&&this.int_max!==void 0&&(o.writeFieldBegin("int_max",a.Type.I64,6),o.writeI64(this.int_max),o.writeFieldEnd()),this.bucket!==null&&this.bucket!==void 0&&(o.writeFieldBegin("bucket",a.Type.I64,7),o.writeI64(this.bucket),o.writeFieldEnd()),this.fp_min!==null&&this.fp_min!==void 0&&(o.writeFieldBegin("fp_min",a.Type.DOUBLE,8),o.writeDouble(this.fp_min),o.writeFieldEnd()),this.fp_max!==null&&this.fp_max!==void 0&&(o.writeFieldBegin("fp_max",a.Type.DOUBLE,9),o.writeDouble(this.fp_max),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDictionaryGeneration=class{constructor(o){this.dict_id=null,this.entry_count=null,o&&(o.dict_id!==void 0&&o.dict_id!==null&&(this.dict_id=o.dict_id),o.entry_count!==void 0&&o.entry_count!==null&&(this.entry_count=o.entry_count))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.dict_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I64?this.entry_count=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDictionaryGeneration"),this.dict_id!==null&&this.dict_id!==void 0&&(o.writeFieldBegin("dict_id",a.Type.I32,1),o.writeI32(this.dict_id),o.writeFieldEnd()),this.entry_count!==null&&this.entry_count!==void 0&&(o.writeFieldBegin("entry_count",a.Type.I64,2),o.writeI64(this.entry_count),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTableGeneration=class{constructor(o){this.table_id=null,this.tuple_count=null,this.start_rowid=null,o&&(o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.tuple_count!==void 0&&o.tuple_count!==null&&(this.tuple_count=o.tuple_count),o.start_rowid!==void 0&&o.start_rowid!==null&&(this.start_rowid=o.start_rowid))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.table_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I64?this.tuple_count=o.readI64():o.skip(L);break;case 3:L==a.Type.I64?this.start_rowid=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TTableGeneration"),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I32,1),o.writeI32(this.table_id),o.writeFieldEnd()),this.tuple_count!==null&&this.tuple_count!==void 0&&(o.writeFieldBegin("tuple_count",a.Type.I64,2),o.writeI64(this.tuple_count),o.writeFieldEnd()),this.start_rowid!==null&&this.start_rowid!==void 0&&(o.writeFieldBegin("start_rowid",a.Type.I64,3),o.writeI64(this.start_rowid),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TPendingQuery=class{constructor(o){this.id=null,this.column_ranges=null,this.dictionary_generations=null,this.table_generations=null,this.parent_session_id=null,o&&(o.id!==void 0&&o.id!==null&&(this.id=o.id),o.column_ranges!==void 0&&o.column_ranges!==null&&(this.column_ranges=a.copyList(o.column_ranges,[m.TColumnRange])),o.dictionary_generations!==void 0&&o.dictionary_generations!==null&&(this.dictionary_generations=a.copyList(o.dictionary_generations,[m.TDictionaryGeneration])),o.table_generations!==void 0&&o.table_generations!==null&&(this.table_generations=a.copyList(o.table_generations,[m.TTableGeneration])),o.parent_session_id!==void 0&&o.parent_session_id!==null&&(this.parent_session_id=o.parent_session_id))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.id=o.readI64():o.skip(L);break;case 2:if(L==a.Type.LIST){this.column_ranges=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TColumnRange,k.read(o),this.column_ranges.push(k)}o.readListEnd()}else o.skip(L);break;case 3:if(L==a.Type.LIST){this.dictionary_generations=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TDictionaryGeneration,k.read(o),this.dictionary_generations.push(k)}o.readListEnd()}else o.skip(L);break;case 4:if(L==a.Type.LIST){this.table_generations=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TTableGeneration,k.read(o),this.table_generations.push(k)}o.readListEnd()}else o.skip(L);break;case 5:L==a.Type.STRING?this.parent_session_id=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TPendingQuery"),this.id!==null&&this.id!==void 0&&(o.writeFieldBegin("id",a.Type.I64,1),o.writeI64(this.id),o.writeFieldEnd()),this.column_ranges!==null&&this.column_ranges!==void 0){o.writeFieldBegin("column_ranges",a.Type.LIST,2),o.writeListBegin(a.Type.STRUCT,this.column_ranges.length);for(let b in this.column_ranges)this.column_ranges.hasOwnProperty(b)&&(b=this.column_ranges[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.dictionary_generations!==null&&this.dictionary_generations!==void 0){o.writeFieldBegin("dictionary_generations",a.Type.LIST,3),o.writeListBegin(a.Type.STRUCT,this.dictionary_generations.length);for(let b in this.dictionary_generations)this.dictionary_generations.hasOwnProperty(b)&&(b=this.dictionary_generations[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.table_generations!==null&&this.table_generations!==void 0){o.writeFieldBegin("table_generations",a.Type.LIST,4),o.writeListBegin(a.Type.STRUCT,this.table_generations.length);for(let b in this.table_generations)this.table_generations.hasOwnProperty(b)&&(b=this.table_generations[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}this.parent_session_id!==null&&this.parent_session_id!==void 0&&(o.writeFieldBegin("parent_session_id",a.Type.STRING,5),o.writeString(this.parent_session_id),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TVarLen=class{constructor(o){this.payload=null,this.is_null=null,o&&(o.payload!==void 0&&o.payload!==null&&(this.payload=o.payload),o.is_null!==void 0&&o.is_null!==null&&(this.is_null=o.is_null))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.payload=o.readBinary():o.skip(L);break;case 2:L==a.Type.BOOL?this.is_null=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TVarLen"),this.payload!==null&&this.payload!==void 0&&(o.writeFieldBegin("payload",a.Type.STRING,1),o.writeBinary(this.payload),o.writeFieldEnd()),this.is_null!==null&&this.is_null!==void 0&&(o.writeFieldBegin("is_null",a.Type.BOOL,2),o.writeBool(this.is_null),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDataBlockPtr=class{constructor(o){this.fixed_len_data=null,this.var_len_data=null,o&&(o.fixed_len_data!==void 0&&o.fixed_len_data!==null&&(this.fixed_len_data=o.fixed_len_data),o.var_len_data!==void 0&&o.var_len_data!==null&&(this.var_len_data=a.copyList(o.var_len_data,[m.TVarLen])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.fixed_len_data=o.readBinary():o.skip(L);break;case 2:if(L==a.Type.LIST){this.var_len_data=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TVarLen,k.read(o),this.var_len_data.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TDataBlockPtr"),this.fixed_len_data!==null&&this.fixed_len_data!==void 0&&(o.writeFieldBegin("fixed_len_data",a.Type.STRING,1),o.writeBinary(this.fixed_len_data),o.writeFieldEnd()),this.var_len_data!==null&&this.var_len_data!==void 0){o.writeFieldBegin("var_len_data",a.Type.LIST,2),o.writeListBegin(a.Type.STRUCT,this.var_len_data.length);for(let b in this.var_len_data)this.var_len_data.hasOwnProperty(b)&&(b=this.var_len_data[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TInsertData=class{constructor(o){this.db_id=null,this.table_id=null,this.column_ids=null,this.data=null,this.num_rows=null,this.is_default=null,o&&(o.db_id!==void 0&&o.db_id!==null&&(this.db_id=o.db_id),o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.column_ids!==void 0&&o.column_ids!==null&&(this.column_ids=a.copyList(o.column_ids,[null])),o.data!==void 0&&o.data!==null&&(this.data=a.copyList(o.data,[m.TDataBlockPtr])),o.num_rows!==void 0&&o.num_rows!==null&&(this.num_rows=o.num_rows),o.is_default!==void 0&&o.is_default!==null&&(this.is_default=a.copyList(o.is_default,[null])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.db_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.table_id=o.readI32():o.skip(L);break;case 3:if(L==a.Type.LIST){this.column_ids=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI32(),this.column_ids.push(k)}o.readListEnd()}else o.skip(L);break;case 4:if(L==a.Type.LIST){this.data=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TDataBlockPtr,k.read(o),this.data.push(k)}o.readListEnd()}else o.skip(L);break;case 5:L==a.Type.I64?this.num_rows=o.readI64():o.skip(L);break;case 6:if(L==a.Type.LIST){this.is_default=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readBool(),this.is_default.push(k)}o.readListEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TInsertData"),this.db_id!==null&&this.db_id!==void 0&&(o.writeFieldBegin("db_id",a.Type.I32,1),o.writeI32(this.db_id),o.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I32,2),o.writeI32(this.table_id),o.writeFieldEnd()),this.column_ids!==null&&this.column_ids!==void 0){o.writeFieldBegin("column_ids",a.Type.LIST,3),o.writeListBegin(a.Type.I32,this.column_ids.length);for(let b in this.column_ids)this.column_ids.hasOwnProperty(b)&&(b=this.column_ids[b],o.writeI32(b));o.writeListEnd(),o.writeFieldEnd()}if(this.data!==null&&this.data!==void 0){o.writeFieldBegin("data",a.Type.LIST,4),o.writeListBegin(a.Type.STRUCT,this.data.length);for(let b in this.data)this.data.hasOwnProperty(b)&&(b=this.data[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.num_rows!==null&&this.num_rows!==void 0&&(o.writeFieldBegin("num_rows",a.Type.I64,5),o.writeI64(this.num_rows),o.writeFieldEnd()),this.is_default!==null&&this.is_default!==void 0){o.writeFieldBegin("is_default",a.Type.LIST,6),o.writeListBegin(a.Type.BOOL,this.is_default.length);for(let b in this.is_default)this.is_default.hasOwnProperty(b)&&(b=this.is_default[b],o.writeBool(b));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TChunkData=class{constructor(o){this.data_buffer=null,this.index_buffer=null,o&&(o.data_buffer!==void 0&&o.data_buffer!==null&&(this.data_buffer=o.data_buffer),o.index_buffer!==void 0&&o.index_buffer!==null&&(this.index_buffer=o.index_buffer))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.data_buffer=o.readBinary():o.skip(L);break;case 2:L==a.Type.STRING?this.index_buffer=o.readBinary():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TChunkData"),this.data_buffer!==null&&this.data_buffer!==void 0&&(o.writeFieldBegin("data_buffer",a.Type.STRING,1),o.writeBinary(this.data_buffer),o.writeFieldEnd()),this.index_buffer!==null&&this.index_buffer!==void 0&&(o.writeFieldBegin("index_buffer",a.Type.STRING,2),o.writeBinary(this.index_buffer),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TInsertChunks=class{constructor(o){this.db_id=null,this.table_id=null,this.data=null,this.valid_indices=null,this.num_rows=null,o&&(o.db_id!==void 0&&o.db_id!==null&&(this.db_id=o.db_id),o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.data!==void 0&&o.data!==null&&(this.data=a.copyList(o.data,[m.TChunkData])),o.valid_indices!==void 0&&o.valid_indices!==null&&(this.valid_indices=a.copyList(o.valid_indices,[null])),o.num_rows!==void 0&&o.num_rows!==null&&(this.num_rows=o.num_rows))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.db_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.table_id=o.readI32():o.skip(L);break;case 3:if(L==a.Type.LIST){this.data=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=new m.TChunkData,k.read(o),this.data.push(k)}o.readListEnd()}else o.skip(L);break;case 4:if(L==a.Type.LIST){this.valid_indices=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readI64(),this.valid_indices.push(k)}o.readListEnd()}else o.skip(L);break;case 5:L==a.Type.I64?this.num_rows=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TInsertChunks"),this.db_id!==null&&this.db_id!==void 0&&(o.writeFieldBegin("db_id",a.Type.I32,1),o.writeI32(this.db_id),o.writeFieldEnd()),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I32,2),o.writeI32(this.table_id),o.writeFieldEnd()),this.data!==null&&this.data!==void 0){o.writeFieldBegin("data",a.Type.LIST,3),o.writeListBegin(a.Type.STRUCT,this.data.length);for(let b in this.data)this.data.hasOwnProperty(b)&&(b=this.data[b],b.write(o));o.writeListEnd(),o.writeFieldEnd()}if(this.valid_indices!==null&&this.valid_indices!==void 0){o.writeFieldBegin("valid_indices",a.Type.LIST,4),o.writeListBegin(a.Type.I64,this.valid_indices.length);for(let b in this.valid_indices)this.valid_indices.hasOwnProperty(b)&&(b=this.valid_indices[b],o.writeI64(b));o.writeListEnd(),o.writeFieldEnd()}this.num_rows!==null&&this.num_rows!==void 0&&(o.writeFieldBegin("num_rows",a.Type.I64,5),o.writeI64(this.num_rows),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TPendingRenderQuery=class{constructor(o){this.id=null,o&&o.id!==void 0&&o.id!==null&&(this.id=o.id)}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I64?this.id=o.readI64():o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TPendingRenderQuery"),this.id!==null&&this.id!==void 0&&(o.writeFieldBegin("id",a.Type.I64,1),o.writeI64(this.id),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRenderParseResult=class{constructor(o){this.merge_type=null,this.node_id=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,o&&(o.merge_type!==void 0&&o.merge_type!==null&&(this.merge_type=o.merge_type),o.node_id!==void 0&&o.node_id!==null&&(this.node_id=o.node_id),o.execution_time_ms!==void 0&&o.execution_time_ms!==null&&(this.execution_time_ms=o.execution_time_ms),o.render_time_ms!==void 0&&o.render_time_ms!==null&&(this.render_time_ms=o.render_time_ms),o.total_time_ms!==void 0&&o.total_time_ms!==null&&(this.total_time_ms=o.total_time_ms))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.merge_type=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.node_id=o.readI32():o.skip(L);break;case 3:L==a.Type.I64?this.execution_time_ms=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.render_time_ms=o.readI64():o.skip(L);break;case 5:L==a.Type.I64?this.total_time_ms=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TRenderParseResult"),this.merge_type!==null&&this.merge_type!==void 0&&(o.writeFieldBegin("merge_type",a.Type.I32,1),o.writeI32(this.merge_type),o.writeFieldEnd()),this.node_id!==null&&this.node_id!==void 0&&(o.writeFieldBegin("node_id",a.Type.I32,2),o.writeI32(this.node_id),o.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(o.writeFieldBegin("execution_time_ms",a.Type.I64,3),o.writeI64(this.execution_time_ms),o.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(o.writeFieldBegin("render_time_ms",a.Type.I64,4),o.writeI64(this.render_time_ms),o.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(o.writeFieldBegin("total_time_ms",a.Type.I64,5),o.writeI64(this.total_time_ms),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRawRenderPassDataResult=class{constructor(o){this.num_pixel_channels=null,this.num_pixel_samples=null,this.pixels=null,this.row_ids_A=null,this.row_ids_B=null,this.table_ids=null,this.accum_data=null,this.accum_depth=null,o&&(o.num_pixel_channels!==void 0&&o.num_pixel_channels!==null&&(this.num_pixel_channels=o.num_pixel_channels),o.num_pixel_samples!==void 0&&o.num_pixel_samples!==null&&(this.num_pixel_samples=o.num_pixel_samples),o.pixels!==void 0&&o.pixels!==null&&(this.pixels=o.pixels),o.row_ids_A!==void 0&&o.row_ids_A!==null&&(this.row_ids_A=o.row_ids_A),o.row_ids_B!==void 0&&o.row_ids_B!==null&&(this.row_ids_B=o.row_ids_B),o.table_ids!==void 0&&o.table_ids!==null&&(this.table_ids=o.table_ids),o.accum_data!==void 0&&o.accum_data!==null&&(this.accum_data=o.accum_data),o.accum_depth!==void 0&&o.accum_depth!==null&&(this.accum_depth=o.accum_depth))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.num_pixel_channels=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.num_pixel_samples=o.readI32():o.skip(L);break;case 3:L==a.Type.STRING?this.pixels=o.readBinary():o.skip(L);break;case 4:L==a.Type.STRING?this.row_ids_A=o.readBinary():o.skip(L);break;case 5:L==a.Type.STRING?this.row_ids_B=o.readBinary():o.skip(L);break;case 6:L==a.Type.STRING?this.table_ids=o.readBinary():o.skip(L);break;case 7:L==a.Type.STRING?this.accum_data=o.readBinary():o.skip(L);break;case 8:L==a.Type.I32?this.accum_depth=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TRawRenderPassDataResult"),this.num_pixel_channels!==null&&this.num_pixel_channels!==void 0&&(o.writeFieldBegin("num_pixel_channels",a.Type.I32,1),o.writeI32(this.num_pixel_channels),o.writeFieldEnd()),this.num_pixel_samples!==null&&this.num_pixel_samples!==void 0&&(o.writeFieldBegin("num_pixel_samples",a.Type.I32,2),o.writeI32(this.num_pixel_samples),o.writeFieldEnd()),this.pixels!==null&&this.pixels!==void 0&&(o.writeFieldBegin("pixels",a.Type.STRING,3),o.writeBinary(this.pixels),o.writeFieldEnd()),this.row_ids_A!==null&&this.row_ids_A!==void 0&&(o.writeFieldBegin("row_ids_A",a.Type.STRING,4),o.writeBinary(this.row_ids_A),o.writeFieldEnd()),this.row_ids_B!==null&&this.row_ids_B!==void 0&&(o.writeFieldBegin("row_ids_B",a.Type.STRING,5),o.writeBinary(this.row_ids_B),o.writeFieldEnd()),this.table_ids!==null&&this.table_ids!==void 0&&(o.writeFieldBegin("table_ids",a.Type.STRING,6),o.writeBinary(this.table_ids),o.writeFieldEnd()),this.accum_data!==null&&this.accum_data!==void 0&&(o.writeFieldBegin("accum_data",a.Type.STRING,7),o.writeBinary(this.accum_data),o.writeFieldEnd()),this.accum_depth!==null&&this.accum_depth!==void 0&&(o.writeFieldBegin("accum_depth",a.Type.I32,8),o.writeI32(this.accum_depth),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRawPixelData=class{constructor(o){this.width=null,this.height=null,this.render_pass_map=null,o&&(o.width!==void 0&&o.width!==null&&(this.width=o.width),o.height!==void 0&&o.height!==null&&(this.height=o.height),o.render_pass_map!==void 0&&o.render_pass_map!==null&&(this.render_pass_map=a.copyMap(o.render_pass_map,[m.TRawRenderPassDataResult])))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.width=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.height=o.readI32():o.skip(L);break;case 3:if(L==a.Type.MAP){this.render_pass_map={};const x=o.readMapBegin().size||0;for(let F=0;F<x;++F){let k=null,A=null;k=o.readI32(),A=new m.TRawRenderPassDataResult,A.read(o),this.render_pass_map[k]=A}o.readMapEnd()}else o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TRawPixelData"),this.width!==null&&this.width!==void 0&&(o.writeFieldBegin("width",a.Type.I32,1),o.writeI32(this.width),o.writeFieldEnd()),this.height!==null&&this.height!==void 0&&(o.writeFieldBegin("height",a.Type.I32,2),o.writeI32(this.height),o.writeFieldEnd()),this.render_pass_map!==null&&this.render_pass_map!==void 0){o.writeFieldBegin("render_pass_map",a.Type.MAP,3),o.writeMapBegin(a.Type.I32,a.Type.STRUCT,a.objectLength(this.render_pass_map));for(let b in this.render_pass_map)if(this.render_pass_map.hasOwnProperty(b)){let L=this.render_pass_map[b];o.writeI32(b),L.write(o)}o.writeMapEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRenderDatum=class{constructor(o){this.type=null,this.cnt=null,this.value=null,o&&(o.type!==void 0&&o.type!==null&&(this.type=o.type),o.cnt!==void 0&&o.cnt!==null&&(this.cnt=o.cnt),o.value!==void 0&&o.value!==null&&(this.value=o.value))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.type=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.cnt=o.readI32():o.skip(L);break;case 3:L==a.Type.STRING?this.value=o.readBinary():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TRenderDatum"),this.type!==null&&this.type!==void 0&&(o.writeFieldBegin("type",a.Type.I32,1),o.writeI32(this.type),o.writeFieldEnd()),this.cnt!==null&&this.cnt!==void 0&&(o.writeFieldBegin("cnt",a.Type.I32,2),o.writeI32(this.cnt),o.writeFieldEnd()),this.value!==null&&this.value!==void 0&&(o.writeFieldBegin("value",a.Type.STRING,3),o.writeBinary(this.value),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TRenderStepResult=class{constructor(o){this.merge_data=null,this.raw_pixel_data=null,this.execution_time_ms=null,this.render_time_ms=null,this.total_time_ms=null,o&&(o.merge_data!==void 0&&o.merge_data!==null&&(this.merge_data=a.copyMap(o.merge_data,[a.copyMap,a.copyMap,a.copyMap,a.copyList,m.TRenderDatum])),o.raw_pixel_data!==void 0&&o.raw_pixel_data!==null&&(this.raw_pixel_data=new m.TRawPixelData(o.raw_pixel_data)),o.execution_time_ms!==void 0&&o.execution_time_ms!==null&&(this.execution_time_ms=o.execution_time_ms),o.render_time_ms!==void 0&&o.render_time_ms!==null&&(this.render_time_ms=o.render_time_ms),o.total_time_ms!==void 0&&o.total_time_ms!==null&&(this.total_time_ms=o.total_time_ms))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.MAP){this.merge_data={};const x=o.readMapBegin().size||0;for(let F=0;F<x;++F){let k=null,A=null;k=o.readString(),A={};const C=o.readMapBegin().size||0;for(let R=0;R<C;++R){let D=null,U=null;D=o.readString(),U={};const j=o.readMapBegin().size||0;for(let G=0;G<j;++G){let V=null,W=null;V=o.readString(),W={};const q=o.readMapBegin().size||0;for(let oe=0;oe<q;++oe){let fe=null,ne=null;fe=o.readString(),ne=[];const le=o.readListBegin().size||0;for(let Se=0;Se<le;++Se){let Ae=null;Ae=new m.TRenderDatum,Ae.read(o),ne.push(Ae)}o.readListEnd(),W[fe]=ne}o.readMapEnd(),U[V]=W}o.readMapEnd(),A[D]=U}o.readMapEnd(),this.merge_data[k]=A}o.readMapEnd()}else o.skip(L);break;case 2:L==a.Type.STRUCT?(this.raw_pixel_data=new m.TRawPixelData,this.raw_pixel_data.read(o)):o.skip(L);break;case 3:L==a.Type.I64?this.execution_time_ms=o.readI64():o.skip(L);break;case 4:L==a.Type.I64?this.render_time_ms=o.readI64():o.skip(L);break;case 5:L==a.Type.I64?this.total_time_ms=o.readI64():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TRenderStepResult"),this.merge_data!==null&&this.merge_data!==void 0){o.writeFieldBegin("merge_data",a.Type.MAP,1),o.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(this.merge_data));for(let b in this.merge_data)if(this.merge_data.hasOwnProperty(b)){let L=this.merge_data[b];o.writeString(b),o.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(L));for(let v in L)if(L.hasOwnProperty(v)){let S=L[v];o.writeString(v),o.writeMapBegin(a.Type.STRING,a.Type.MAP,a.objectLength(S));for(let x in S)if(S.hasOwnProperty(x)){let F=S[x];o.writeString(x),o.writeMapBegin(a.Type.STRING,a.Type.LIST,a.objectLength(F));for(let k in F)if(F.hasOwnProperty(k)){let A=F[k];o.writeString(k),o.writeListBegin(a.Type.STRUCT,A.length);for(let M in A)A.hasOwnProperty(M)&&(M=A[M],M.write(o));o.writeListEnd()}o.writeMapEnd()}o.writeMapEnd()}o.writeMapEnd()}o.writeMapEnd(),o.writeFieldEnd()}this.raw_pixel_data!==null&&this.raw_pixel_data!==void 0&&(o.writeFieldBegin("raw_pixel_data",a.Type.STRUCT,2),this.raw_pixel_data.write(o),o.writeFieldEnd()),this.execution_time_ms!==null&&this.execution_time_ms!==void 0&&(o.writeFieldBegin("execution_time_ms",a.Type.I64,3),o.writeI64(this.execution_time_ms),o.writeFieldEnd()),this.render_time_ms!==null&&this.render_time_ms!==void 0&&(o.writeFieldBegin("render_time_ms",a.Type.I64,4),o.writeI64(this.render_time_ms),o.writeFieldEnd()),this.total_time_ms!==null&&this.total_time_ms!==void 0&&(o.writeFieldBegin("total_time_ms",a.Type.I64,5),o.writeI64(this.total_time_ms),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDatabasePermissions=class{constructor(o){this.create_=null,this.delete_=null,this.view_sql_editor_=null,this.access_=null,o&&(o.create_!==void 0&&o.create_!==null&&(this.create_=o.create_),o.delete_!==void 0&&o.delete_!==null&&(this.delete_=o.delete_),o.view_sql_editor_!==void 0&&o.view_sql_editor_!==null&&(this.view_sql_editor_=o.view_sql_editor_),o.access_!==void 0&&o.access_!==null&&(this.access_=o.access_))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.create_=o.readBool():o.skip(L);break;case 2:L==a.Type.BOOL?this.delete_=o.readBool():o.skip(L);break;case 3:L==a.Type.BOOL?this.view_sql_editor_=o.readBool():o.skip(L);break;case 4:L==a.Type.BOOL?this.access_=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDatabasePermissions"),this.create_!==null&&this.create_!==void 0&&(o.writeFieldBegin("create_",a.Type.BOOL,1),o.writeBool(this.create_),o.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(o.writeFieldBegin("delete_",a.Type.BOOL,2),o.writeBool(this.delete_),o.writeFieldEnd()),this.view_sql_editor_!==null&&this.view_sql_editor_!==void 0&&(o.writeFieldBegin("view_sql_editor_",a.Type.BOOL,3),o.writeBool(this.view_sql_editor_),o.writeFieldEnd()),this.access_!==null&&this.access_!==void 0&&(o.writeFieldBegin("access_",a.Type.BOOL,4),o.writeBool(this.access_),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTablePermissions=class{constructor(o){this.create_=null,this.drop_=null,this.select_=null,this.insert_=null,this.update_=null,this.delete_=null,this.truncate_=null,this.alter_=null,o&&(o.create_!==void 0&&o.create_!==null&&(this.create_=o.create_),o.drop_!==void 0&&o.drop_!==null&&(this.drop_=o.drop_),o.select_!==void 0&&o.select_!==null&&(this.select_=o.select_),o.insert_!==void 0&&o.insert_!==null&&(this.insert_=o.insert_),o.update_!==void 0&&o.update_!==null&&(this.update_=o.update_),o.delete_!==void 0&&o.delete_!==null&&(this.delete_=o.delete_),o.truncate_!==void 0&&o.truncate_!==null&&(this.truncate_=o.truncate_),o.alter_!==void 0&&o.alter_!==null&&(this.alter_=o.alter_))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.create_=o.readBool():o.skip(L);break;case 2:L==a.Type.BOOL?this.drop_=o.readBool():o.skip(L);break;case 3:L==a.Type.BOOL?this.select_=o.readBool():o.skip(L);break;case 4:L==a.Type.BOOL?this.insert_=o.readBool():o.skip(L);break;case 5:L==a.Type.BOOL?this.update_=o.readBool():o.skip(L);break;case 6:L==a.Type.BOOL?this.delete_=o.readBool():o.skip(L);break;case 7:L==a.Type.BOOL?this.truncate_=o.readBool():o.skip(L);break;case 8:L==a.Type.BOOL?this.alter_=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TTablePermissions"),this.create_!==null&&this.create_!==void 0&&(o.writeFieldBegin("create_",a.Type.BOOL,1),o.writeBool(this.create_),o.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(o.writeFieldBegin("drop_",a.Type.BOOL,2),o.writeBool(this.drop_),o.writeFieldEnd()),this.select_!==null&&this.select_!==void 0&&(o.writeFieldBegin("select_",a.Type.BOOL,3),o.writeBool(this.select_),o.writeFieldEnd()),this.insert_!==null&&this.insert_!==void 0&&(o.writeFieldBegin("insert_",a.Type.BOOL,4),o.writeBool(this.insert_),o.writeFieldEnd()),this.update_!==null&&this.update_!==void 0&&(o.writeFieldBegin("update_",a.Type.BOOL,5),o.writeBool(this.update_),o.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(o.writeFieldBegin("delete_",a.Type.BOOL,6),o.writeBool(this.delete_),o.writeFieldEnd()),this.truncate_!==null&&this.truncate_!==void 0&&(o.writeFieldBegin("truncate_",a.Type.BOOL,7),o.writeBool(this.truncate_),o.writeFieldEnd()),this.alter_!==null&&this.alter_!==void 0&&(o.writeFieldBegin("alter_",a.Type.BOOL,8),o.writeBool(this.alter_),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDashboardPermissions=class{constructor(o){this.create_=null,this.delete_=null,this.view_=null,this.edit_=null,o&&(o.create_!==void 0&&o.create_!==null&&(this.create_=o.create_),o.delete_!==void 0&&o.delete_!==null&&(this.delete_=o.delete_),o.view_!==void 0&&o.view_!==null&&(this.view_=o.view_),o.edit_!==void 0&&o.edit_!==null&&(this.edit_=o.edit_))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.create_=o.readBool():o.skip(L);break;case 2:L==a.Type.BOOL?this.delete_=o.readBool():o.skip(L);break;case 3:L==a.Type.BOOL?this.view_=o.readBool():o.skip(L);break;case 4:L==a.Type.BOOL?this.edit_=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDashboardPermissions"),this.create_!==null&&this.create_!==void 0&&(o.writeFieldBegin("create_",a.Type.BOOL,1),o.writeBool(this.create_),o.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(o.writeFieldBegin("delete_",a.Type.BOOL,2),o.writeBool(this.delete_),o.writeFieldEnd()),this.view_!==null&&this.view_!==void 0&&(o.writeFieldBegin("view_",a.Type.BOOL,3),o.writeBool(this.view_),o.writeFieldEnd()),this.edit_!==null&&this.edit_!==void 0&&(o.writeFieldBegin("edit_",a.Type.BOOL,4),o.writeBool(this.edit_),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TViewPermissions=class{constructor(o){this.create_=null,this.drop_=null,this.select_=null,this.insert_=null,this.update_=null,this.delete_=null,o&&(o.create_!==void 0&&o.create_!==null&&(this.create_=o.create_),o.drop_!==void 0&&o.drop_!==null&&(this.drop_=o.drop_),o.select_!==void 0&&o.select_!==null&&(this.select_=o.select_),o.insert_!==void 0&&o.insert_!==null&&(this.insert_=o.insert_),o.update_!==void 0&&o.update_!==null&&(this.update_=o.update_),o.delete_!==void 0&&o.delete_!==null&&(this.delete_=o.delete_))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.create_=o.readBool():o.skip(L);break;case 2:L==a.Type.BOOL?this.drop_=o.readBool():o.skip(L);break;case 3:L==a.Type.BOOL?this.select_=o.readBool():o.skip(L);break;case 4:L==a.Type.BOOL?this.insert_=o.readBool():o.skip(L);break;case 5:L==a.Type.BOOL?this.update_=o.readBool():o.skip(L);break;case 6:L==a.Type.BOOL?this.delete_=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TViewPermissions"),this.create_!==null&&this.create_!==void 0&&(o.writeFieldBegin("create_",a.Type.BOOL,1),o.writeBool(this.create_),o.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(o.writeFieldBegin("drop_",a.Type.BOOL,2),o.writeBool(this.drop_),o.writeFieldEnd()),this.select_!==null&&this.select_!==void 0&&(o.writeFieldBegin("select_",a.Type.BOOL,3),o.writeBool(this.select_),o.writeFieldEnd()),this.insert_!==null&&this.insert_!==void 0&&(o.writeFieldBegin("insert_",a.Type.BOOL,4),o.writeBool(this.insert_),o.writeFieldEnd()),this.update_!==null&&this.update_!==void 0&&(o.writeFieldBegin("update_",a.Type.BOOL,5),o.writeBool(this.update_),o.writeFieldEnd()),this.delete_!==null&&this.delete_!==void 0&&(o.writeFieldBegin("delete_",a.Type.BOOL,6),o.writeBool(this.delete_),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TServerPermissions=class{constructor(o){this.create_=null,this.drop_=null,this.alter_=null,this.usage_=null,o&&(o.create_!==void 0&&o.create_!==null&&(this.create_=o.create_),o.drop_!==void 0&&o.drop_!==null&&(this.drop_=o.drop_),o.alter_!==void 0&&o.alter_!==null&&(this.alter_=o.alter_),o.usage_!==void 0&&o.usage_!==null&&(this.usage_=o.usage_))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.BOOL?this.create_=o.readBool():o.skip(L);break;case 2:L==a.Type.BOOL?this.drop_=o.readBool():o.skip(L);break;case 3:L==a.Type.BOOL?this.alter_=o.readBool():o.skip(L);break;case 4:L==a.Type.BOOL?this.usage_=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TServerPermissions"),this.create_!==null&&this.create_!==void 0&&(o.writeFieldBegin("create_",a.Type.BOOL,1),o.writeBool(this.create_),o.writeFieldEnd()),this.drop_!==null&&this.drop_!==void 0&&(o.writeFieldBegin("drop_",a.Type.BOOL,2),o.writeBool(this.drop_),o.writeFieldEnd()),this.alter_!==null&&this.alter_!==void 0&&(o.writeFieldBegin("alter_",a.Type.BOOL,3),o.writeBool(this.alter_),o.writeFieldEnd()),this.usage_!==null&&this.usage_!==void 0&&(o.writeFieldBegin("usage_",a.Type.BOOL,4),o.writeBool(this.usage_),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDBObjectPermissions=class{constructor(o){this.database_permissions_=null,this.table_permissions_=null,this.dashboard_permissions_=null,this.view_permissions_=null,this.server_permissions_=null,o&&(o.database_permissions_!==void 0&&o.database_permissions_!==null&&(this.database_permissions_=new m.TDatabasePermissions(o.database_permissions_)),o.table_permissions_!==void 0&&o.table_permissions_!==null&&(this.table_permissions_=new m.TTablePermissions(o.table_permissions_)),o.dashboard_permissions_!==void 0&&o.dashboard_permissions_!==null&&(this.dashboard_permissions_=new m.TDashboardPermissions(o.dashboard_permissions_)),o.view_permissions_!==void 0&&o.view_permissions_!==null&&(this.view_permissions_=new m.TViewPermissions(o.view_permissions_)),o.server_permissions_!==void 0&&o.server_permissions_!==null&&(this.server_permissions_=new m.TServerPermissions(o.server_permissions_)))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRUCT?(this.database_permissions_=new m.TDatabasePermissions,this.database_permissions_.read(o)):o.skip(L);break;case 2:L==a.Type.STRUCT?(this.table_permissions_=new m.TTablePermissions,this.table_permissions_.read(o)):o.skip(L);break;case 3:L==a.Type.STRUCT?(this.dashboard_permissions_=new m.TDashboardPermissions,this.dashboard_permissions_.read(o)):o.skip(L);break;case 4:L==a.Type.STRUCT?(this.view_permissions_=new m.TViewPermissions,this.view_permissions_.read(o)):o.skip(L);break;case 5:L==a.Type.STRUCT?(this.server_permissions_=new m.TServerPermissions,this.server_permissions_.read(o)):o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDBObjectPermissions"),this.database_permissions_!==null&&this.database_permissions_!==void 0&&(o.writeFieldBegin("database_permissions_",a.Type.STRUCT,1),this.database_permissions_.write(o),o.writeFieldEnd()),this.table_permissions_!==null&&this.table_permissions_!==void 0&&(o.writeFieldBegin("table_permissions_",a.Type.STRUCT,2),this.table_permissions_.write(o),o.writeFieldEnd()),this.dashboard_permissions_!==null&&this.dashboard_permissions_!==void 0&&(o.writeFieldBegin("dashboard_permissions_",a.Type.STRUCT,3),this.dashboard_permissions_.write(o),o.writeFieldEnd()),this.view_permissions_!==null&&this.view_permissions_!==void 0&&(o.writeFieldBegin("view_permissions_",a.Type.STRUCT,4),this.view_permissions_.write(o),o.writeFieldEnd()),this.server_permissions_!==null&&this.server_permissions_!==void 0&&(o.writeFieldBegin("server_permissions_",a.Type.STRUCT,5),this.server_permissions_.write(o),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDBObject=class{constructor(o){this.objectName=null,this.objectType=null,this.privs=null,this.grantee=null,this.privilegeObjectType=null,this.objectId=null,o&&(o.objectName!==void 0&&o.objectName!==null&&(this.objectName=o.objectName),o.objectType!==void 0&&o.objectType!==null&&(this.objectType=o.objectType),o.privs!==void 0&&o.privs!==null&&(this.privs=a.copyList(o.privs,[null])),o.grantee!==void 0&&o.grantee!==null&&(this.grantee=o.grantee),o.privilegeObjectType!==void 0&&o.privilegeObjectType!==null&&(this.privilegeObjectType=o.privilegeObjectType),o.objectId!==void 0&&o.objectId!==null&&(this.objectId=o.objectId))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.objectName=o.readString():o.skip(L);break;case 2:L==a.Type.I32?this.objectType=o.readI32():o.skip(L);break;case 3:if(L==a.Type.LIST){this.privs=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readBool(),this.privs.push(k)}o.readListEnd()}else o.skip(L);break;case 4:L==a.Type.STRING?this.grantee=o.readString():o.skip(L);break;case 5:L==a.Type.I32?this.privilegeObjectType=o.readI32():o.skip(L);break;case 6:L==a.Type.I32?this.objectId=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TDBObject"),this.objectName!==null&&this.objectName!==void 0&&(o.writeFieldBegin("objectName",a.Type.STRING,1),o.writeString(this.objectName),o.writeFieldEnd()),this.objectType!==null&&this.objectType!==void 0&&(o.writeFieldBegin("objectType",a.Type.I32,2),o.writeI32(this.objectType),o.writeFieldEnd()),this.privs!==null&&this.privs!==void 0){o.writeFieldBegin("privs",a.Type.LIST,3),o.writeListBegin(a.Type.BOOL,this.privs.length);for(let b in this.privs)this.privs.hasOwnProperty(b)&&(b=this.privs[b],o.writeBool(b));o.writeListEnd(),o.writeFieldEnd()}this.grantee!==null&&this.grantee!==void 0&&(o.writeFieldBegin("grantee",a.Type.STRING,4),o.writeString(this.grantee),o.writeFieldEnd()),this.privilegeObjectType!==null&&this.privilegeObjectType!==void 0&&(o.writeFieldBegin("privilegeObjectType",a.Type.I32,5),o.writeI32(this.privilegeObjectType),o.writeFieldEnd()),this.objectId!==null&&this.objectId!==void 0&&(o.writeFieldBegin("objectId",a.Type.I32,6),o.writeI32(this.objectId),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDashboardGrantees=class{constructor(o){this.name=null,this.is_user=null,this.permissions=null,o&&(o.name!==void 0&&o.name!==null&&(this.name=o.name),o.is_user!==void 0&&o.is_user!==null&&(this.is_user=o.is_user),o.permissions!==void 0&&o.permissions!==null&&(this.permissions=new m.TDashboardPermissions(o.permissions)))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.name=o.readString():o.skip(L);break;case 2:L==a.Type.BOOL?this.is_user=o.readBool():o.skip(L);break;case 3:L==a.Type.STRUCT?(this.permissions=new m.TDashboardPermissions,this.permissions.read(o)):o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDashboardGrantees"),this.name!==null&&this.name!==void 0&&(o.writeFieldBegin("name",a.Type.STRING,1),o.writeString(this.name),o.writeFieldEnd()),this.is_user!==null&&this.is_user!==void 0&&(o.writeFieldBegin("is_user",a.Type.BOOL,2),o.writeBool(this.is_user),o.writeFieldEnd()),this.permissions!==null&&this.permissions!==void 0&&(o.writeFieldBegin("permissions",a.Type.STRUCT,3),this.permissions.write(o),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TDashboard=class{constructor(o){this.dashboard_name=null,this.dashboard_state=null,this.image_hash=null,this.update_time=null,this.dashboard_metadata=null,this.dashboard_id=null,this.dashboard_owner=null,this.is_dash_shared=null,this.dashboard_permissions=null,o&&(o.dashboard_name!==void 0&&o.dashboard_name!==null&&(this.dashboard_name=o.dashboard_name),o.dashboard_state!==void 0&&o.dashboard_state!==null&&(this.dashboard_state=o.dashboard_state),o.image_hash!==void 0&&o.image_hash!==null&&(this.image_hash=o.image_hash),o.update_time!==void 0&&o.update_time!==null&&(this.update_time=o.update_time),o.dashboard_metadata!==void 0&&o.dashboard_metadata!==null&&(this.dashboard_metadata=o.dashboard_metadata),o.dashboard_id!==void 0&&o.dashboard_id!==null&&(this.dashboard_id=o.dashboard_id),o.dashboard_owner!==void 0&&o.dashboard_owner!==null&&(this.dashboard_owner=o.dashboard_owner),o.is_dash_shared!==void 0&&o.is_dash_shared!==null&&(this.is_dash_shared=o.is_dash_shared),o.dashboard_permissions!==void 0&&o.dashboard_permissions!==null&&(this.dashboard_permissions=new m.TDashboardPermissions(o.dashboard_permissions)))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.dashboard_name=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.dashboard_state=o.readString():o.skip(L);break;case 3:L==a.Type.STRING?this.image_hash=o.readString():o.skip(L);break;case 4:L==a.Type.STRING?this.update_time=o.readString():o.skip(L);break;case 5:L==a.Type.STRING?this.dashboard_metadata=o.readString():o.skip(L);break;case 6:L==a.Type.I32?this.dashboard_id=o.readI32():o.skip(L);break;case 7:L==a.Type.STRING?this.dashboard_owner=o.readString():o.skip(L);break;case 8:L==a.Type.BOOL?this.is_dash_shared=o.readBool():o.skip(L);break;case 9:L==a.Type.STRUCT?(this.dashboard_permissions=new m.TDashboardPermissions,this.dashboard_permissions.read(o)):o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TDashboard"),this.dashboard_name!==null&&this.dashboard_name!==void 0&&(o.writeFieldBegin("dashboard_name",a.Type.STRING,1),o.writeString(this.dashboard_name),o.writeFieldEnd()),this.dashboard_state!==null&&this.dashboard_state!==void 0&&(o.writeFieldBegin("dashboard_state",a.Type.STRING,2),o.writeString(this.dashboard_state),o.writeFieldEnd()),this.image_hash!==null&&this.image_hash!==void 0&&(o.writeFieldBegin("image_hash",a.Type.STRING,3),o.writeString(this.image_hash),o.writeFieldEnd()),this.update_time!==null&&this.update_time!==void 0&&(o.writeFieldBegin("update_time",a.Type.STRING,4),o.writeString(this.update_time),o.writeFieldEnd()),this.dashboard_metadata!==null&&this.dashboard_metadata!==void 0&&(o.writeFieldBegin("dashboard_metadata",a.Type.STRING,5),o.writeString(this.dashboard_metadata),o.writeFieldEnd()),this.dashboard_id!==null&&this.dashboard_id!==void 0&&(o.writeFieldBegin("dashboard_id",a.Type.I32,6),o.writeI32(this.dashboard_id),o.writeFieldEnd()),this.dashboard_owner!==null&&this.dashboard_owner!==void 0&&(o.writeFieldBegin("dashboard_owner",a.Type.STRING,7),o.writeString(this.dashboard_owner),o.writeFieldEnd()),this.is_dash_shared!==null&&this.is_dash_shared!==void 0&&(o.writeFieldBegin("is_dash_shared",a.Type.BOOL,8),o.writeBool(this.is_dash_shared),o.writeFieldEnd()),this.dashboard_permissions!==null&&this.dashboard_permissions!==void 0&&(o.writeFieldBegin("dashboard_permissions",a.Type.STRUCT,9),this.dashboard_permissions.write(o),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TLicenseInfo=class{constructor(o){this.claims=null,o&&o.claims!==void 0&&o.claims!==null&&(this.claims=a.copyList(o.claims,[null]))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:if(L==a.Type.LIST){this.claims=[];const x=o.readListBegin().size||0;for(let F=0;F<x;++F){let k=null;k=o.readString(),this.claims.push(k)}o.readListEnd()}else o.skip(L);break;case 0:o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){if(o.writeStructBegin("TLicenseInfo"),this.claims!==null&&this.claims!==void 0){o.writeFieldBegin("claims",a.Type.LIST,1),o.writeListBegin(a.Type.STRING,this.claims.length);for(let b in this.claims)this.claims.hasOwnProperty(b)&&(b=this.claims[b],o.writeString(b));o.writeListEnd(),o.writeFieldEnd()}o.writeFieldStop(),o.writeStructEnd()}},c.exports.TSessionInfo=class{constructor(o){this.user=null,this.database=null,this.start_time=null,this.is_super=null,o&&(o.user!==void 0&&o.user!==null&&(this.user=o.user),o.database!==void 0&&o.database!==null&&(this.database=o.database),o.start_time!==void 0&&o.start_time!==null&&(this.start_time=o.start_time),o.is_super!==void 0&&o.is_super!==null&&(this.is_super=o.is_super))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.user=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.database=o.readString():o.skip(L);break;case 3:L==a.Type.I64?this.start_time=o.readI64():o.skip(L);break;case 4:L==a.Type.BOOL?this.is_super=o.readBool():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TSessionInfo"),this.user!==null&&this.user!==void 0&&(o.writeFieldBegin("user",a.Type.STRING,1),o.writeString(this.user),o.writeFieldEnd()),this.database!==null&&this.database!==void 0&&(o.writeFieldBegin("database",a.Type.STRING,2),o.writeString(this.database),o.writeFieldEnd()),this.start_time!==null&&this.start_time!==void 0&&(o.writeFieldBegin("start_time",a.Type.I64,3),o.writeI64(this.start_time),o.writeFieldEnd()),this.is_super!==null&&this.is_super!==void 0&&(o.writeFieldBegin("is_super",a.Type.BOOL,4),o.writeBool(this.is_super),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TGeoFileLayerInfo=class{constructor(o){this.name=null,this.contents=null,o&&(o.name!==void 0&&o.name!==null&&(this.name=o.name),o.contents!==void 0&&o.contents!==null&&(this.contents=o.contents))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.name=o.readString():o.skip(L);break;case 2:L==a.Type.I32?this.contents=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TGeoFileLayerInfo"),this.name!==null&&this.name!==void 0&&(o.writeFieldBegin("name",a.Type.STRING,1),o.writeString(this.name),o.writeFieldEnd()),this.contents!==null&&this.contents!==void 0&&(o.writeFieldBegin("contents",a.Type.I32,2),o.writeI32(this.contents),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TTableEpochInfo=class{constructor(o){this.table_id=null,this.table_epoch=null,this.leaf_index=null,o&&(o.table_id!==void 0&&o.table_id!==null&&(this.table_id=o.table_id),o.table_epoch!==void 0&&o.table_epoch!==null&&(this.table_epoch=o.table_epoch),o.leaf_index!==void 0&&o.leaf_index!==null&&(this.leaf_index=o.leaf_index))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.table_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.table_epoch=o.readI32():o.skip(L);break;case 3:L==a.Type.I32?this.leaf_index=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TTableEpochInfo"),this.table_id!==null&&this.table_id!==void 0&&(o.writeFieldBegin("table_id",a.Type.I32,1),o.writeI32(this.table_id),o.writeFieldEnd()),this.table_epoch!==null&&this.table_epoch!==void 0&&(o.writeFieldBegin("table_epoch",a.Type.I32,2),o.writeI32(this.table_epoch),o.writeFieldEnd()),this.leaf_index!==null&&this.leaf_index!==void 0&&(o.writeFieldBegin("leaf_index",a.Type.I32,3),o.writeI32(this.leaf_index),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TCustomExpression=class{constructor(o){this.id=null,this.name=null,this.expression_json=null,this.data_source_type=null,this.data_source_id=null,this.is_deleted=null,this.data_source_name=null,o&&(o.id!==void 0&&o.id!==null&&(this.id=o.id),o.name!==void 0&&o.name!==null&&(this.name=o.name),o.expression_json!==void 0&&o.expression_json!==null&&(this.expression_json=o.expression_json),o.data_source_type!==void 0&&o.data_source_type!==null&&(this.data_source_type=o.data_source_type),o.data_source_id!==void 0&&o.data_source_id!==null&&(this.data_source_id=o.data_source_id),o.is_deleted!==void 0&&o.is_deleted!==null&&(this.is_deleted=o.is_deleted),o.data_source_name!==void 0&&o.data_source_name!==null&&(this.data_source_name=o.data_source_name))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.id=o.readI32():o.skip(L);break;case 2:L==a.Type.STRING?this.name=o.readString():o.skip(L);break;case 4:L==a.Type.STRING?this.expression_json=o.readString():o.skip(L);break;case 5:L==a.Type.I32?this.data_source_type=o.readI32():o.skip(L);break;case 6:L==a.Type.I32?this.data_source_id=o.readI32():o.skip(L);break;case 7:L==a.Type.BOOL?this.is_deleted=o.readBool():o.skip(L);break;case 8:L==a.Type.STRING?this.data_source_name=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TCustomExpression"),this.id!==null&&this.id!==void 0&&(o.writeFieldBegin("id",a.Type.I32,1),o.writeI32(this.id),o.writeFieldEnd()),this.name!==null&&this.name!==void 0&&(o.writeFieldBegin("name",a.Type.STRING,2),o.writeString(this.name),o.writeFieldEnd()),this.expression_json!==null&&this.expression_json!==void 0&&(o.writeFieldBegin("expression_json",a.Type.STRING,4),o.writeString(this.expression_json),o.writeFieldEnd()),this.data_source_type!==null&&this.data_source_type!==void 0&&(o.writeFieldBegin("data_source_type",a.Type.I32,5),o.writeI32(this.data_source_type),o.writeFieldEnd()),this.data_source_id!==null&&this.data_source_id!==void 0&&(o.writeFieldBegin("data_source_id",a.Type.I32,6),o.writeI32(this.data_source_id),o.writeFieldEnd()),this.is_deleted!==null&&this.is_deleted!==void 0&&(o.writeFieldBegin("is_deleted",a.Type.BOOL,7),o.writeBool(this.is_deleted),o.writeFieldEnd()),this.data_source_name!==null&&this.data_source_name!==void 0&&(o.writeFieldBegin("data_source_name",a.Type.STRING,8),o.writeString(this.data_source_name),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TQueryInfo=class{constructor(o){this.query_session_id=null,this.query_public_session_id=null,this.current_status=null,this.executor_id=null,this.submitted=null,this.query_str=null,this.login_name=null,this.client_address=null,this.db_name=null,this.exec_device_type=null,o&&(o.query_session_id!==void 0&&o.query_session_id!==null&&(this.query_session_id=o.query_session_id),o.query_public_session_id!==void 0&&o.query_public_session_id!==null&&(this.query_public_session_id=o.query_public_session_id),o.current_status!==void 0&&o.current_status!==null&&(this.current_status=o.current_status),o.executor_id!==void 0&&o.executor_id!==null&&(this.executor_id=o.executor_id),o.submitted!==void 0&&o.submitted!==null&&(this.submitted=o.submitted),o.query_str!==void 0&&o.query_str!==null&&(this.query_str=o.query_str),o.login_name!==void 0&&o.login_name!==null&&(this.login_name=o.login_name),o.client_address!==void 0&&o.client_address!==null&&(this.client_address=o.client_address),o.db_name!==void 0&&o.db_name!==null&&(this.db_name=o.db_name),o.exec_device_type!==void 0&&o.exec_device_type!==null&&(this.exec_device_type=o.exec_device_type))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.STRING?this.query_session_id=o.readString():o.skip(L);break;case 2:L==a.Type.STRING?this.query_public_session_id=o.readString():o.skip(L);break;case 3:L==a.Type.STRING?this.current_status=o.readString():o.skip(L);break;case 4:L==a.Type.I32?this.executor_id=o.readI32():o.skip(L);break;case 5:L==a.Type.STRING?this.submitted=o.readString():o.skip(L);break;case 6:L==a.Type.STRING?this.query_str=o.readString():o.skip(L);break;case 7:L==a.Type.STRING?this.login_name=o.readString():o.skip(L);break;case 8:L==a.Type.STRING?this.client_address=o.readString():o.skip(L);break;case 9:L==a.Type.STRING?this.db_name=o.readString():o.skip(L);break;case 10:L==a.Type.STRING?this.exec_device_type=o.readString():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TQueryInfo"),this.query_session_id!==null&&this.query_session_id!==void 0&&(o.writeFieldBegin("query_session_id",a.Type.STRING,1),o.writeString(this.query_session_id),o.writeFieldEnd()),this.query_public_session_id!==null&&this.query_public_session_id!==void 0&&(o.writeFieldBegin("query_public_session_id",a.Type.STRING,2),o.writeString(this.query_public_session_id),o.writeFieldEnd()),this.current_status!==null&&this.current_status!==void 0&&(o.writeFieldBegin("current_status",a.Type.STRING,3),o.writeString(this.current_status),o.writeFieldEnd()),this.executor_id!==null&&this.executor_id!==void 0&&(o.writeFieldBegin("executor_id",a.Type.I32,4),o.writeI32(this.executor_id),o.writeFieldEnd()),this.submitted!==null&&this.submitted!==void 0&&(o.writeFieldBegin("submitted",a.Type.STRING,5),o.writeString(this.submitted),o.writeFieldEnd()),this.query_str!==null&&this.query_str!==void 0&&(o.writeFieldBegin("query_str",a.Type.STRING,6),o.writeString(this.query_str),o.writeFieldEnd()),this.login_name!==null&&this.login_name!==void 0&&(o.writeFieldBegin("login_name",a.Type.STRING,7),o.writeString(this.login_name),o.writeFieldEnd()),this.client_address!==null&&this.client_address!==void 0&&(o.writeFieldBegin("client_address",a.Type.STRING,8),o.writeString(this.client_address),o.writeFieldEnd()),this.db_name!==null&&this.db_name!==void 0&&(o.writeFieldBegin("db_name",a.Type.STRING,9),o.writeString(this.db_name),o.writeFieldEnd()),this.exec_device_type!==null&&this.exec_device_type!==void 0&&(o.writeFieldBegin("exec_device_type",a.Type.STRING,10),o.writeString(this.exec_device_type),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}},c.exports.TLeafInfo=class{constructor(o){this.leaf_id=null,this.num_leaves=null,o&&(o.leaf_id!==void 0&&o.leaf_id!==null&&(this.leaf_id=o.leaf_id),o.num_leaves!==void 0&&o.num_leaves!==null&&(this.num_leaves=o.num_leaves))}read(o){for(o.readStructBegin();;){const b=o.readFieldBegin(),L=b.ftype,v=b.fid;if(L==a.Type.STOP)break;switch(v){case 1:L==a.Type.I32?this.leaf_id=o.readI32():o.skip(L);break;case 2:L==a.Type.I32?this.num_leaves=o.readI32():o.skip(L);break;default:o.skip(L)}o.readFieldEnd()}o.readStructEnd()}write(o){o.writeStructBegin("TLeafInfo"),this.leaf_id!==null&&this.leaf_id!==void 0&&(o.writeFieldBegin("leaf_id",a.Type.I32,1),o.writeI32(this.leaf_id),o.writeFieldEnd()),this.num_leaves!==null&&this.num_leaves!==void 0&&(o.writeFieldBegin("num_leaves",a.Type.I32,2),o.writeI32(this.num_leaves),o.writeFieldEnd()),o.writeFieldStop(),o.writeStructEnd()}}},3962:(c,d,f)=>{const a=f(9262).Thrift;f(135);const y=f(2818),w=c.exports={};w.TResultSetLayout={GroupByPerfectHash:0,GroupByBaselineHash:1,Projection:2,NonGroupedAggregate:3},w.TCountDistinctImplType={Invalid:0,Bitmap:1,UnorderedSet:2},w.TAggKind={AVG:0,MIN:1,MAX:2,SUM:3,COUNT:4,APPROX_COUNT_DISTINCT:5,SAMPLE:6,SINGLE_VALUE:7},c.exports.TSlotSize=class{constructor(m){this.padded=null,this.logical=null,m&&(m.padded!==void 0&&m.padded!==null&&(this.padded=m.padded),m.logical!==void 0&&m.logical!==null&&(this.logical=m.logical))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.I16?this.padded=m.readI16():m.skip(b);break;case 2:b==a.Type.I16?this.logical=m.readI16():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TSlotSize"),this.padded!==null&&this.padded!==void 0&&(m.writeFieldBegin("padded",a.Type.I16,1),m.writeI16(this.padded),m.writeFieldEnd()),this.logical!==null&&this.logical!==void 0&&(m.writeFieldBegin("logical",a.Type.I16,2),m.writeI16(this.logical),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TColSlotContext=class{constructor(m){this.slot_sizes=null,this.col_to_slot_map=null,m&&(m.slot_sizes!==void 0&&m.slot_sizes!==null&&(this.slot_sizes=a.copyList(m.slot_sizes,[w.TSlotSize])),m.col_to_slot_map!==void 0&&m.col_to_slot_map!==null&&(this.col_to_slot_map=a.copyList(m.col_to_slot_map,[a.copyList,null])))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:if(b==a.Type.LIST){this.slot_sizes=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=new w.TSlotSize,F.read(m),this.slot_sizes.push(F)}m.readListEnd()}else m.skip(b);break;case 2:if(b==a.Type.LIST){this.col_to_slot_map=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=[];const A=m.readListBegin().size||0;for(let M=0;M<A;++M){let C=null;C=m.readI32(),F.push(C)}m.readListEnd(),this.col_to_slot_map.push(F)}m.readListEnd()}else m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TColSlotContext"),this.slot_sizes!==null&&this.slot_sizes!==void 0){m.writeFieldBegin("slot_sizes",a.Type.LIST,1),m.writeListBegin(a.Type.STRUCT,this.slot_sizes.length);for(let o in this.slot_sizes)this.slot_sizes.hasOwnProperty(o)&&(o=this.slot_sizes[o],o.write(m));m.writeListEnd(),m.writeFieldEnd()}if(this.col_to_slot_map!==null&&this.col_to_slot_map!==void 0){m.writeFieldBegin("col_to_slot_map",a.Type.LIST,2),m.writeListBegin(a.Type.LIST,this.col_to_slot_map.length);for(let o in this.col_to_slot_map)if(this.col_to_slot_map.hasOwnProperty(o)){o=this.col_to_slot_map[o],m.writeListBegin(a.Type.I32,o.length);for(let b in o)o.hasOwnProperty(b)&&(b=o[b],m.writeI32(b));m.writeListEnd()}m.writeListEnd(),m.writeFieldEnd()}m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctDescriptor=class{constructor(m){this.impl_type=null,this.min_val=null,this.bitmap_sz_bits=null,this.approximate=null,this.device_type=null,this.sub_bitmap_count=null,m&&(m.impl_type!==void 0&&m.impl_type!==null&&(this.impl_type=m.impl_type),m.min_val!==void 0&&m.min_val!==null&&(this.min_val=m.min_val),m.bitmap_sz_bits!==void 0&&m.bitmap_sz_bits!==null&&(this.bitmap_sz_bits=m.bitmap_sz_bits),m.approximate!==void 0&&m.approximate!==null&&(this.approximate=m.approximate),m.device_type!==void 0&&m.device_type!==null&&(this.device_type=m.device_type),m.sub_bitmap_count!==void 0&&m.sub_bitmap_count!==null&&(this.sub_bitmap_count=m.sub_bitmap_count))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.I32?this.impl_type=m.readI32():m.skip(b);break;case 2:b==a.Type.I64?this.min_val=m.readI64():m.skip(b);break;case 3:b==a.Type.I64?this.bitmap_sz_bits=m.readI64():m.skip(b);break;case 4:b==a.Type.BOOL?this.approximate=m.readBool():m.skip(b);break;case 5:b==a.Type.I32?this.device_type=m.readI32():m.skip(b);break;case 6:b==a.Type.I64?this.sub_bitmap_count=m.readI64():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TCountDistinctDescriptor"),this.impl_type!==null&&this.impl_type!==void 0&&(m.writeFieldBegin("impl_type",a.Type.I32,1),m.writeI32(this.impl_type),m.writeFieldEnd()),this.min_val!==null&&this.min_val!==void 0&&(m.writeFieldBegin("min_val",a.Type.I64,2),m.writeI64(this.min_val),m.writeFieldEnd()),this.bitmap_sz_bits!==null&&this.bitmap_sz_bits!==void 0&&(m.writeFieldBegin("bitmap_sz_bits",a.Type.I64,3),m.writeI64(this.bitmap_sz_bits),m.writeFieldEnd()),this.approximate!==null&&this.approximate!==void 0&&(m.writeFieldBegin("approximate",a.Type.BOOL,4),m.writeBool(this.approximate),m.writeFieldEnd()),this.device_type!==null&&this.device_type!==void 0&&(m.writeFieldBegin("device_type",a.Type.I32,5),m.writeI32(this.device_type),m.writeFieldEnd()),this.sub_bitmap_count!==null&&this.sub_bitmap_count!==void 0&&(m.writeFieldBegin("sub_bitmap_count",a.Type.I64,6),m.writeI64(this.sub_bitmap_count),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TResultSetBufferDescriptor=class{constructor(m){this.layout=null,this.keyless=null,this.entry_count=null,this.idx_target_as_key=null,this.min_val=null,this.max_val=null,this.bucket=null,this.group_col_widths=null,this.key_bytewidth=null,this.col_slot_context=null,this.target_groupby_indices=null,this.count_distinct_descriptors=null,this.force_4byte_float=null,m&&(m.layout!==void 0&&m.layout!==null&&(this.layout=m.layout),m.keyless!==void 0&&m.keyless!==null&&(this.keyless=m.keyless),m.entry_count!==void 0&&m.entry_count!==null&&(this.entry_count=m.entry_count),m.idx_target_as_key!==void 0&&m.idx_target_as_key!==null&&(this.idx_target_as_key=m.idx_target_as_key),m.min_val!==void 0&&m.min_val!==null&&(this.min_val=m.min_val),m.max_val!==void 0&&m.max_val!==null&&(this.max_val=m.max_val),m.bucket!==void 0&&m.bucket!==null&&(this.bucket=m.bucket),m.group_col_widths!==void 0&&m.group_col_widths!==null&&(this.group_col_widths=a.copyList(m.group_col_widths,[null])),m.key_bytewidth!==void 0&&m.key_bytewidth!==null&&(this.key_bytewidth=m.key_bytewidth),m.col_slot_context!==void 0&&m.col_slot_context!==null&&(this.col_slot_context=new w.TColSlotContext(m.col_slot_context)),m.target_groupby_indices!==void 0&&m.target_groupby_indices!==null&&(this.target_groupby_indices=a.copyList(m.target_groupby_indices,[null])),m.count_distinct_descriptors!==void 0&&m.count_distinct_descriptors!==null&&(this.count_distinct_descriptors=a.copyList(m.count_distinct_descriptors,[w.TCountDistinctDescriptor])),m.force_4byte_float!==void 0&&m.force_4byte_float!==null&&(this.force_4byte_float=m.force_4byte_float))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.I32?this.layout=m.readI32():m.skip(b);break;case 2:b==a.Type.BOOL?this.keyless=m.readBool():m.skip(b);break;case 3:b==a.Type.I32?this.entry_count=m.readI32():m.skip(b);break;case 4:b==a.Type.I32?this.idx_target_as_key=m.readI32():m.skip(b);break;case 5:b==a.Type.I64?this.min_val=m.readI64():m.skip(b);break;case 6:b==a.Type.I64?this.max_val=m.readI64():m.skip(b);break;case 7:b==a.Type.I64?this.bucket=m.readI64():m.skip(b);break;case 8:if(b==a.Type.LIST){this.group_col_widths=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readI16(),this.group_col_widths.push(F)}m.readListEnd()}else m.skip(b);break;case 9:b==a.Type.I16?this.key_bytewidth=m.readI16():m.skip(b);break;case 10:b==a.Type.STRUCT?(this.col_slot_context=new w.TColSlotContext,this.col_slot_context.read(m)):m.skip(b);break;case 11:if(b==a.Type.LIST){this.target_groupby_indices=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readI32(),this.target_groupby_indices.push(F)}m.readListEnd()}else m.skip(b);break;case 12:if(b==a.Type.LIST){this.count_distinct_descriptors=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=new w.TCountDistinctDescriptor,F.read(m),this.count_distinct_descriptors.push(F)}m.readListEnd()}else m.skip(b);break;case 13:b==a.Type.BOOL?this.force_4byte_float=m.readBool():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TResultSetBufferDescriptor"),this.layout!==null&&this.layout!==void 0&&(m.writeFieldBegin("layout",a.Type.I32,1),m.writeI32(this.layout),m.writeFieldEnd()),this.keyless!==null&&this.keyless!==void 0&&(m.writeFieldBegin("keyless",a.Type.BOOL,2),m.writeBool(this.keyless),m.writeFieldEnd()),this.entry_count!==null&&this.entry_count!==void 0&&(m.writeFieldBegin("entry_count",a.Type.I32,3),m.writeI32(this.entry_count),m.writeFieldEnd()),this.idx_target_as_key!==null&&this.idx_target_as_key!==void 0&&(m.writeFieldBegin("idx_target_as_key",a.Type.I32,4),m.writeI32(this.idx_target_as_key),m.writeFieldEnd()),this.min_val!==null&&this.min_val!==void 0&&(m.writeFieldBegin("min_val",a.Type.I64,5),m.writeI64(this.min_val),m.writeFieldEnd()),this.max_val!==null&&this.max_val!==void 0&&(m.writeFieldBegin("max_val",a.Type.I64,6),m.writeI64(this.max_val),m.writeFieldEnd()),this.bucket!==null&&this.bucket!==void 0&&(m.writeFieldBegin("bucket",a.Type.I64,7),m.writeI64(this.bucket),m.writeFieldEnd()),this.group_col_widths!==null&&this.group_col_widths!==void 0){m.writeFieldBegin("group_col_widths",a.Type.LIST,8),m.writeListBegin(a.Type.I16,this.group_col_widths.length);for(let o in this.group_col_widths)this.group_col_widths.hasOwnProperty(o)&&(o=this.group_col_widths[o],m.writeI16(o));m.writeListEnd(),m.writeFieldEnd()}if(this.key_bytewidth!==null&&this.key_bytewidth!==void 0&&(m.writeFieldBegin("key_bytewidth",a.Type.I16,9),m.writeI16(this.key_bytewidth),m.writeFieldEnd()),this.col_slot_context!==null&&this.col_slot_context!==void 0&&(m.writeFieldBegin("col_slot_context",a.Type.STRUCT,10),this.col_slot_context.write(m),m.writeFieldEnd()),this.target_groupby_indices!==null&&this.target_groupby_indices!==void 0){m.writeFieldBegin("target_groupby_indices",a.Type.LIST,11),m.writeListBegin(a.Type.I32,this.target_groupby_indices.length);for(let o in this.target_groupby_indices)this.target_groupby_indices.hasOwnProperty(o)&&(o=this.target_groupby_indices[o],m.writeI32(o));m.writeListEnd(),m.writeFieldEnd()}if(this.count_distinct_descriptors!==null&&this.count_distinct_descriptors!==void 0){m.writeFieldBegin("count_distinct_descriptors",a.Type.LIST,12),m.writeListBegin(a.Type.STRUCT,this.count_distinct_descriptors.length);for(let o in this.count_distinct_descriptors)this.count_distinct_descriptors.hasOwnProperty(o)&&(o=this.count_distinct_descriptors[o],o.write(m));m.writeListEnd(),m.writeFieldEnd()}this.force_4byte_float!==null&&this.force_4byte_float!==void 0&&(m.writeFieldBegin("force_4byte_float",a.Type.BOOL,13),m.writeBool(this.force_4byte_float),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TTargetInfo=class{constructor(m){this.is_agg=null,this.kind=null,this.type=null,this.arg_type=null,this.skip_nulls=null,this.is_distinct=null,m&&(m.is_agg!==void 0&&m.is_agg!==null&&(this.is_agg=m.is_agg),m.kind!==void 0&&m.kind!==null&&(this.kind=m.kind),m.type!==void 0&&m.type!==null&&(this.type=new y.TTypeInfo(m.type)),m.arg_type!==void 0&&m.arg_type!==null&&(this.arg_type=new y.TTypeInfo(m.arg_type)),m.skip_nulls!==void 0&&m.skip_nulls!==null&&(this.skip_nulls=m.skip_nulls),m.is_distinct!==void 0&&m.is_distinct!==null&&(this.is_distinct=m.is_distinct))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.BOOL?this.is_agg=m.readBool():m.skip(b);break;case 2:b==a.Type.I32?this.kind=m.readI32():m.skip(b);break;case 3:b==a.Type.STRUCT?(this.type=new y.TTypeInfo,this.type.read(m)):m.skip(b);break;case 4:b==a.Type.STRUCT?(this.arg_type=new y.TTypeInfo,this.arg_type.read(m)):m.skip(b);break;case 5:b==a.Type.BOOL?this.skip_nulls=m.readBool():m.skip(b);break;case 6:b==a.Type.BOOL?this.is_distinct=m.readBool():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TTargetInfo"),this.is_agg!==null&&this.is_agg!==void 0&&(m.writeFieldBegin("is_agg",a.Type.BOOL,1),m.writeBool(this.is_agg),m.writeFieldEnd()),this.kind!==null&&this.kind!==void 0&&(m.writeFieldBegin("kind",a.Type.I32,2),m.writeI32(this.kind),m.writeFieldEnd()),this.type!==null&&this.type!==void 0&&(m.writeFieldBegin("type",a.Type.STRUCT,3),this.type.write(m),m.writeFieldEnd()),this.arg_type!==null&&this.arg_type!==void 0&&(m.writeFieldBegin("arg_type",a.Type.STRUCT,4),this.arg_type.write(m),m.writeFieldEnd()),this.skip_nulls!==null&&this.skip_nulls!==void 0&&(m.writeFieldBegin("skip_nulls",a.Type.BOOL,5),m.writeBool(this.skip_nulls),m.writeFieldEnd()),this.is_distinct!==null&&this.is_distinct!==void 0&&(m.writeFieldBegin("is_distinct",a.Type.BOOL,6),m.writeBool(this.is_distinct),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctSetStorage=class{constructor(m){this.bitmap=null,this.sparse_set=null,m&&(m.bitmap!==void 0&&m.bitmap!==null&&(this.bitmap=m.bitmap),m.sparse_set!==void 0&&m.sparse_set!==null&&(this.sparse_set=a.copyList(m.sparse_set,[null])))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.STRING?this.bitmap=m.readBinary():m.skip(b);break;case 2:if(b==a.Type.SET){this.sparse_set=[];const S=m.readSetBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readI64(),this.sparse_set.push(F)}m.readSetEnd()}else m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TCountDistinctSetStorage"),this.bitmap!==null&&this.bitmap!==void 0&&(m.writeFieldBegin("bitmap",a.Type.STRING,1),m.writeBinary(this.bitmap),m.writeFieldEnd()),this.sparse_set!==null&&this.sparse_set!==void 0){m.writeFieldBegin("sparse_set",a.Type.SET,2),m.writeSetBegin(a.Type.I64,this.sparse_set.length);for(let o in this.sparse_set)this.sparse_set.hasOwnProperty(o)&&(o=this.sparse_set[o],m.writeI64(o));m.writeSetEnd(),m.writeFieldEnd()}m.writeFieldStop(),m.writeStructEnd()}},c.exports.TCountDistinctSet=class{constructor(m){this.type=null,this.storage=null,this.remote_ptr=null,m&&(m.type!==void 0&&m.type!==null&&(this.type=m.type),m.storage!==void 0&&m.storage!==null&&(this.storage=new w.TCountDistinctSetStorage(m.storage)),m.remote_ptr!==void 0&&m.remote_ptr!==null&&(this.remote_ptr=m.remote_ptr))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:b==a.Type.I32?this.type=m.readI32():m.skip(b);break;case 2:b==a.Type.STRUCT?(this.storage=new w.TCountDistinctSetStorage,this.storage.read(m)):m.skip(b);break;case 3:b==a.Type.I64?this.remote_ptr=m.readI64():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){m.writeStructBegin("TCountDistinctSet"),this.type!==null&&this.type!==void 0&&(m.writeFieldBegin("type",a.Type.I32,1),m.writeI32(this.type),m.writeFieldEnd()),this.storage!==null&&this.storage!==void 0&&(m.writeFieldBegin("storage",a.Type.STRUCT,2),this.storage.write(m),m.writeFieldEnd()),this.remote_ptr!==null&&this.remote_ptr!==void 0&&(m.writeFieldBegin("remote_ptr",a.Type.I64,3),m.writeI64(this.remote_ptr),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}},c.exports.TSerializedRows=class{constructor(m){this.buffers=null,this.buffer_lengths=null,this.buffers_total_size=null,this.total_compression_time_ms=null,this.descriptor=null,this.targets=null,this.target_init_vals=null,this.varlen_buffer=null,this.count_distinct_sets=null,this.explanation=null,m&&(m.buffers!==void 0&&m.buffers!==null&&(this.buffers=a.copyList(m.buffers,[null])),m.buffer_lengths!==void 0&&m.buffer_lengths!==null&&(this.buffer_lengths=a.copyList(m.buffer_lengths,[null])),m.buffers_total_size!==void 0&&m.buffers_total_size!==null&&(this.buffers_total_size=m.buffers_total_size),m.total_compression_time_ms!==void 0&&m.total_compression_time_ms!==null&&(this.total_compression_time_ms=m.total_compression_time_ms),m.descriptor!==void 0&&m.descriptor!==null&&(this.descriptor=new w.TResultSetBufferDescriptor(m.descriptor)),m.targets!==void 0&&m.targets!==null&&(this.targets=a.copyList(m.targets,[w.TTargetInfo])),m.target_init_vals!==void 0&&m.target_init_vals!==null&&(this.target_init_vals=a.copyList(m.target_init_vals,[null])),m.varlen_buffer!==void 0&&m.varlen_buffer!==null&&(this.varlen_buffer=a.copyList(m.varlen_buffer,[null])),m.count_distinct_sets!==void 0&&m.count_distinct_sets!==null&&(this.count_distinct_sets=a.copyList(m.count_distinct_sets,[w.TCountDistinctSet])),m.explanation!==void 0&&m.explanation!==null&&(this.explanation=m.explanation))}read(m){for(m.readStructBegin();;){const o=m.readFieldBegin(),b=o.ftype,L=o.fid;if(b==a.Type.STOP)break;switch(L){case 1:if(b==a.Type.LIST){this.buffers=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readBinary(),this.buffers.push(F)}m.readListEnd()}else m.skip(b);break;case 2:if(b==a.Type.LIST){this.buffer_lengths=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readI64(),this.buffer_lengths.push(F)}m.readListEnd()}else m.skip(b);break;case 3:b==a.Type.I64?this.buffers_total_size=m.readI64():m.skip(b);break;case 4:b==a.Type.I32?this.total_compression_time_ms=m.readI32():m.skip(b);break;case 5:b==a.Type.STRUCT?(this.descriptor=new w.TResultSetBufferDescriptor,this.descriptor.read(m)):m.skip(b);break;case 6:if(b==a.Type.LIST){this.targets=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=new w.TTargetInfo,F.read(m),this.targets.push(F)}m.readListEnd()}else m.skip(b);break;case 7:if(b==a.Type.LIST){this.target_init_vals=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readI64(),this.target_init_vals.push(F)}m.readListEnd()}else m.skip(b);break;case 8:if(b==a.Type.LIST){this.varlen_buffer=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=m.readBinary(),this.varlen_buffer.push(F)}m.readListEnd()}else m.skip(b);break;case 9:if(b==a.Type.LIST){this.count_distinct_sets=[];const S=m.readListBegin().size||0;for(let x=0;x<S;++x){let F=null;F=new w.TCountDistinctSet,F.read(m),this.count_distinct_sets.push(F)}m.readListEnd()}else m.skip(b);break;case 10:b==a.Type.STRING?this.explanation=m.readString():m.skip(b);break;default:m.skip(b)}m.readFieldEnd()}m.readStructEnd()}write(m){if(m.writeStructBegin("TSerializedRows"),this.buffers!==null&&this.buffers!==void 0){m.writeFieldBegin("buffers",a.Type.LIST,1),m.writeListBegin(a.Type.STRING,this.buffers.length);for(let o in this.buffers)this.buffers.hasOwnProperty(o)&&(o=this.buffers[o],m.writeBinary(o));m.writeListEnd(),m.writeFieldEnd()}if(this.buffer_lengths!==null&&this.buffer_lengths!==void 0){m.writeFieldBegin("buffer_lengths",a.Type.LIST,2),m.writeListBegin(a.Type.I64,this.buffer_lengths.length);for(let o in this.buffer_lengths)this.buffer_lengths.hasOwnProperty(o)&&(o=this.buffer_lengths[o],m.writeI64(o));m.writeListEnd(),m.writeFieldEnd()}if(this.buffers_total_size!==null&&this.buffers_total_size!==void 0&&(m.writeFieldBegin("buffers_total_size",a.Type.I64,3),m.writeI64(this.buffers_total_size),m.writeFieldEnd()),this.total_compression_time_ms!==null&&this.total_compression_time_ms!==void 0&&(m.writeFieldBegin("total_compression_time_ms",a.Type.I32,4),m.writeI32(this.total_compression_time_ms),m.writeFieldEnd()),this.descriptor!==null&&this.descriptor!==void 0&&(m.writeFieldBegin("descriptor",a.Type.STRUCT,5),this.descriptor.write(m),m.writeFieldEnd()),this.targets!==null&&this.targets!==void 0){m.writeFieldBegin("targets",a.Type.LIST,6),m.writeListBegin(a.Type.STRUCT,this.targets.length);for(let o in this.targets)this.targets.hasOwnProperty(o)&&(o=this.targets[o],o.write(m));m.writeListEnd(),m.writeFieldEnd()}if(this.target_init_vals!==null&&this.target_init_vals!==void 0){m.writeFieldBegin("target_init_vals",a.Type.LIST,7),m.writeListBegin(a.Type.I64,this.target_init_vals.length);for(let o in this.target_init_vals)this.target_init_vals.hasOwnProperty(o)&&(o=this.target_init_vals[o],m.writeI64(o));m.writeListEnd(),m.writeFieldEnd()}if(this.varlen_buffer!==null&&this.varlen_buffer!==void 0){m.writeFieldBegin("varlen_buffer",a.Type.LIST,8),m.writeListBegin(a.Type.STRING,this.varlen_buffer.length);for(let o in this.varlen_buffer)this.varlen_buffer.hasOwnProperty(o)&&(o=this.varlen_buffer[o],m.writeBinary(o));m.writeListEnd(),m.writeFieldEnd()}if(this.count_distinct_sets!==null&&this.count_distinct_sets!==void 0){m.writeFieldBegin("count_distinct_sets",a.Type.LIST,9),m.writeListBegin(a.Type.STRUCT,this.count_distinct_sets.length);for(let o in this.count_distinct_sets)this.count_distinct_sets.hasOwnProperty(o)&&(o=this.count_distinct_sets[o],o.write(m));m.writeListEnd(),m.writeFieldEnd()}this.explanation!==null&&this.explanation!==void 0&&(m.writeFieldBegin("explanation",a.Type.STRING,10),m.writeString(this.explanation),m.writeFieldEnd()),m.writeFieldStop(),m.writeStructEnd()}}},2003:c=>{c.exports=n}},s={};function l(c){if(s[c])return s[c].exports;var d=s[c]={exports:{}};return i[c](d,d.exports,l),d.exports}return l.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return l.d(d,{a:d}),d},l.d=(c,d)=>{for(var f in d)l.o(d,f)&&!l.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:d[f]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),l.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},l(7123)})()})})(CD);var Kre=CD.exports;const Zre=fh(Kre);new Zre;class Qre{constructor(t){this.db=t,this.views=new lre,this.filters=new Map,this.index=new Map}async view0D(t){await this.assertDataExists();const n=new _l(this);return this.views.add(n),t&&n.addOnChangeListener(t),n}async view1D(t,n){await this.assertDataExists(t);const i=new pa(this,t);return this.views.add(i),n&&i.addOnChangeListener(n),i}async entries({offset:t=0,length:n=1/0}={}){return this.db.entries(t,n,this.filters)}async all(){for(const t of this.views)await t.all()}async link(){const t=this.views.active;t?(await t.computeIndex(!0),await t.select(t.lastFilter,!0)):await this.all()}get passiveFilters(){const t=this.views.active;if(t instanceof _l)throw Error("No filter for 0D view / count");if(t instanceof pa)return ZB(this.filters,t.dimension);throw Error("2D view not implemented yet")}otherFilters(t){return ZB(this.filters,t.dimension)}async assertDataExists(...t){if(!await this.db.tableExists())throw new Error("Table does not exists in the database");t==null||t.forEach(async i=>{if(i&&!await this.db.dimensionExists(i))throw new Error(`Dimension '${i.name}' does not exist in the data table`)})}}function JB(e){let t,n,i,s,l,c,d,f,u,a;return{c(){t=je("div"),n=je("span"),i=ui("["),s=ui(e[1]),l=ui("]"),c=je("span"),d=Lt(),f=je("button"),f.textContent="Reset",Be(f,"class","reset svelte-g3nrlw"),Be(n,"class","selection svelte-g3nrlw")},m(y,w){rn(y,t,w),Te(t,n),Te(n,i),Te(n,s),Te(n,l),Te(n,c),Te(n,d),Te(n,f),u||(a=Bn(f,"click",e[3]),u=!0)},p(y,w){w&2&&Pr(s,y[1])},d(y){y&&Qt(t),u=!1,a()}}}function Jre(e){let t,n,i,s,l=e[1]&&JB(e);return{c(){t=je("div"),n=je("div"),i=ui(e[0]),s=Lt(),l&&l.c(),Be(n,"class","title svelte-g3nrlw"),Be(t,"class","top svelte-g3nrlw")},m(c,d){rn(c,t,d),Te(t,n),Te(n,i),Te(t,s),l&&l.m(t,null)},p(c,[d]){d&1&&Pr(i,c[0]),c[1]?l?l.p(c,d):(l=JB(c),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:Yi,o:Yi,d(c){c&&Qt(t),l&&l.d()}}}function eae(e,t,n){const i=ch();let{title:s=""}=t,{selection:l=null}=t;const c=async()=>{i("reset")};return e.$$set=d=>{"title"in d&&n(0,s=d.title),"selection"in d&&n(1,l=d.selection)},[s,l,i,c]}class Y7 extends fr{constructor(t){super(),dr(this,t,eae,Jre,cr,{title:0,selection:1})}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var tae=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)s.hasOwnProperty(l)&&(i[l]=s[l])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),nae=Object.prototype.hasOwnProperty;function i5(e,t){return nae.call(e,t)}function s5(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var i=[];for(var s in e)i5(e,s)&&i.push(s);return i}function Cs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function r5(e){for(var t=0,n=e.length,i;t<n;){if(i=e.charCodeAt(t),i>=48&&i<=57){t++;continue}return!1}return!0}function qc(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function RD(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function a5(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(a5(e[t]))return!0}else if(typeof e=="object"){for(var i=s5(e),s=i.length,l=0;l<s;l++)if(a5(e[i[l]]))return!0}}return!1}function eF(e,t){var n=[e];for(var i in t){var s=typeof t[i]=="object"?JSON.stringify(t[i],null,2):t[i];typeof s<"u"&&n.push(i+": "+s)}return n.join(`
`)}var PD=function(e){tae(t,e);function t(n,i,s,l,c){var d=this.constructor,f=e.call(this,eF(n,{name:i,index:s,operation:l,tree:c}))||this;return f.name=i,f.index=s,f.operation=l,f.tree=c,Object.setPrototypeOf(f,d.prototype),f.message=eF(n,{name:i,index:s,operation:l,tree:c}),f}return t}(Error),Tn=PD,iae=Cs,Wf={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,t,n){var i=Gg(n,this.path);i&&(i=Cs(i));var s=hd(n,{op:"remove",path:this.from}).removed;return hd(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:i}},copy:function(e,t,n){var i=Gg(n,this.from);return hd(n,{op:"add",path:this.path,value:Cs(i)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:b2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},sae={add:function(e,t,n){return r5(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var i=e.splice(t,1);return{newDocument:n,removed:i[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:Wf.move,copy:Wf.copy,test:Wf.test,_get:Wf._get};function Gg(e,t){if(t=="")return e;var n={op:"_get",path:t};return hd(e,n),n.value}function hd(e,t,n,i,s,l){if(n===void 0&&(n=!1),i===void 0&&(i=!0),s===void 0&&(s=!0),l===void 0&&(l=0),n&&(typeof n=="function"?n(t,0,e,t.path):Wg(t,0)),t.path===""){var c={newDocument:e};if(t.op==="add")return c.newDocument=t.value,c;if(t.op==="replace")return c.newDocument=t.value,c.removed=e,c;if(t.op==="move"||t.op==="copy")return c.newDocument=Gg(e,t.from),t.op==="move"&&(c.removed=e),c;if(t.op==="test"){if(c.test=b2(e,t.value),c.test===!1)throw new Tn("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c.newDocument=e,c}else{if(t.op==="remove")return c.removed=e,c.newDocument=null,c;if(t.op==="_get")return t.value=e,c;if(n)throw new Tn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",l,t,e);return c}}else{i||(e=Cs(e));var d=t.path||"",f=d.split("/"),u=e,a=1,y=f.length,w=void 0,m=void 0,o=void 0;for(typeof n=="function"?o=n:o=Wg;;){if(m=f[a],m&&m.indexOf("~")!=-1&&(m=RD(m)),s&&(m=="__proto__"||m=="prototype"&&a>0&&f[a-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&w===void 0&&(u[m]===void 0?w=f.slice(0,a).join("/"):a==y-1&&(w=t.path),w!==void 0&&o(t,0,e,w)),a++,Array.isArray(u)){if(m==="-")m=u.length;else{if(n&&!r5(m))throw new Tn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",l,t,e);r5(m)&&(m=~~m)}if(a>=y){if(n&&t.op==="add"&&m>u.length)throw new Tn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",l,t,e);var c=sae[t.op].call(t,u,m,e);if(c.test===!1)throw new Tn("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c}}else if(a>=y){var c=Wf[t.op].call(t,u,m,e);if(c.test===!1)throw new Tn("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c}if(u=u[m],n&&a<y&&(!u||typeof u!="object"))throw new Tn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",l,t,e)}}}function k4(e,t,n,i,s){if(i===void 0&&(i=!0),s===void 0&&(s=!0),n&&!Array.isArray(t))throw new Tn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=Cs(e));for(var l=new Array(t.length),c=0,d=t.length;c<d;c++)l[c]=hd(e,t[c],n,!0,s,c),e=l[c].newDocument;return l.newDocument=e,l}function rae(e,t,n){var i=hd(e,t);if(i.test===!1)throw new Tn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return i.newDocument}function Wg(e,t,n,i){if(typeof e!="object"||e===null||Array.isArray(e))throw new Tn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Wf[e.op]){if(typeof e.path!="string")throw new Tn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Tn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Tn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Tn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&a5(e.value))throw new Tn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,l=i.split("/").length;if(s!==l+1&&s!==l)throw new Tn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==i)throw new Tn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var c={op:"_get",path:e.from,value:void 0},d=DD([c],n);if(d&&d.name==="OPERATION_PATH_UNRESOLVABLE")throw new Tn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Tn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function DD(e,t,n){try{if(!Array.isArray(e))throw new Tn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)k4(Cs(t),Cs(e),n||!0);else{n=n||Wg;for(var i=0;i<e.length;i++)n(e[i],i,t,void 0)}}catch(s){if(s instanceof Tn)return s;throw s}}function b2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),i=Array.isArray(t),s,l,c;if(n&&i){if(l=e.length,l!=t.length)return!1;for(s=l;s--!==0;)if(!b2(e[s],t[s]))return!1;return!0}if(n!=i)return!1;var d=Object.keys(e);if(l=d.length,l!==Object.keys(t).length)return!1;for(s=l;s--!==0;)if(!t.hasOwnProperty(d[s]))return!1;for(s=l;s--!==0;)if(c=d[s],!b2(e[c],t[c]))return!1;return!0}return e!==e&&t!==t}const aae=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Tn,_areEquals:b2,applyOperation:hd,applyPatch:k4,applyReducer:rae,deepClone:iae,getValueByPointer:Gg,validate:DD,validator:Wg},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var X7=new WeakMap,oae=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),lae=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function cae(e){return X7.get(e)}function dae(e,t){return e.observers.get(t)}function fae(e,t){e.observers.delete(t.callback)}function uae(e,t){t.unobserve()}function hae(e,t){var n=[],i,s=cae(e);if(!s)s=new oae(e),X7.set(e,s);else{var l=dae(s,t);i=l&&l.observer}if(i)return i;if(i={},s.value=Cs(e),t){i.callback=t,i.next=null;var c=function(){o5(i)},d=function(){clearTimeout(i.next),i.next=setTimeout(c)};typeof window<"u"&&(window.addEventListener("mouseup",d),window.addEventListener("keyup",d),window.addEventListener("mousedown",d),window.addEventListener("keydown",d),window.addEventListener("change",d))}return i.patches=n,i.object=e,i.unobserve=function(){o5(i),clearTimeout(i.next),fae(s,i),typeof window<"u"&&(window.removeEventListener("mouseup",d),window.removeEventListener("keyup",d),window.removeEventListener("mousedown",d),window.removeEventListener("keydown",d),window.removeEventListener("change",d))},s.observers.set(t,new lae(t,i)),i}function o5(e,t){t===void 0&&(t=!1);var n=X7.get(e.object);K7(n.value,e.object,e.patches,"",t),e.patches.length&&k4(n.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function K7(e,t,n,i,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var l=s5(t),c=s5(e),d=!1,f=c.length-1;f>=0;f--){var u=c[f],a=e[u];if(i5(t,u)&&!(t[u]===void 0&&a!==void 0&&Array.isArray(t)===!1)){var y=t[u];typeof a=="object"&&a!=null&&typeof y=="object"&&y!=null&&Array.isArray(a)===Array.isArray(y)?K7(a,y,n,i+"/"+qc(u),s):a!==y&&(s&&n.push({op:"test",path:i+"/"+qc(u),value:Cs(a)}),n.push({op:"replace",path:i+"/"+qc(u),value:Cs(y)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:i+"/"+qc(u),value:Cs(a)}),n.push({op:"remove",path:i+"/"+qc(u)}),d=!0):(s&&n.push({op:"test",path:i,value:e}),n.push({op:"replace",path:i,value:t}))}if(!(!d&&l.length==c.length))for(var f=0;f<l.length;f++){var u=l[f];!i5(e,u)&&t[u]!==void 0&&n.push({op:"add",path:i+"/"+qc(u),value:Cs(t[u])})}}}function _ae(e,t,n){n===void 0&&(n=!1);var i=[];return K7(e,t,i,"",n),i}const pae=Object.freeze(Object.defineProperty({__proto__:null,compare:_ae,generate:o5,observe:hae,unobserve:uae},Symbol.toStringTag,{value:"Module"}));Object.assign({},aae,pae,{JsonPatchError:PD,deepClone:Cs,escapePathComponent:qc,unescapePathComponent:RD});var gae=/("(?:[^\\"]|\\.)*")|[:,]/g,yae=function(t,n){var i,s,l;return n=n||{},i=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),s=i===""?1/0:n.maxLength===void 0?80:n.maxLength,l=n.replacer,function c(d,f,u){var a,y,w,m,o,b,L,v,S,x,F,k;if(d&&typeof d.toJSON=="function"&&(d=d.toJSON()),F=JSON.stringify(d,l),F===void 0)return F;if(L=s-f.length-u,F.length<=L&&(S=F.replace(gae,function(A,M){return M||A+" "}),S.length<=L))return S;if(l!=null&&(d=JSON.parse(F),l=void 0),typeof d=="object"&&d!==null){if(v=f+i,w=[],y=0,Array.isArray(d))for(x="[",a="]",L=d.length;y<L;y++)w.push(c(d[y],v,y===L-1?0:1)||"null");else for(x="{",a="}",b=Object.keys(d),L=b.length;y<L;y++)m=b[y],o=JSON.stringify(m)+": ",k=c(d[m],v,o.length+(y===L-1?0:1)),k!==void 0&&w.push(o+k);if(w.length>0)return[x,i+w.join(`,
`+v),a].join(`
`+f)}return F}(t,"",0)};const nw=fh(yae);function Ss(e,t,n){return e.fields=t||[],e.fname=n,e}function Sn(e){return e==null?null:e.fname}function Fi(e){return e==null?null:e.fields}function UD(e){return e.length===1?mae(e[0]):wae(e)}const mae=e=>function(t){return t[e]},wae=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};function de(e){throw Error(e)}function eo(e){const t=[],n=e.length;let i=null,s=0,l="",c,d,f;e=e+"";function u(){t.push(l+e.substring(c,d)),l="",c=d+1}for(c=d=0;d<n;++d)if(f=e[d],f==="\\")l+=e.substring(c,d++),c=d;else if(f===i)u(),i=null,s=-1;else{if(i)continue;c===s&&f==='"'||c===s&&f==="'"?(c=d+1,i=f):f==="."&&!s?d>c?u():c=d+1:f==="["?(d>c&&u(),s=c=d+1):f==="]"&&(s||de("Access path missing open bracket: "+e),s>0&&u(),s=0,c=d+1)}return s&&de("Access path missing closing bracket: "+e),i&&de("Access path missing closing quote: "+e),d>c&&(d++,u()),t}function ms(e,t,n){const i=eo(e);return e=i.length===1?i[0]:e,Ss((n&&n.get||UD)(i),[e],t||e)}const y0=ms("id"),Ni=Ss(e=>e,[],"identity"),Ll=Ss(()=>0,[],"zero"),yh=Ss(()=>1,[],"one"),rr=Ss(()=>!0,[],"true"),ll=Ss(()=>!1,[],"false");function Lae(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}const $D=0,Z7=1,Q7=2,HD=3,zD=4;function J7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lae,i=e||$D;return{level(s){return arguments.length?(i=+s,this):i},error(){return i>=Z7&&n(t||"error","ERROR",arguments),this},warn(){return i>=Q7&&n(t||"warn","WARN",arguments),this},info(){return i>=HD&&n(t||"log","INFO",arguments),this},debug(){return i>=zD&&n(t||"log","DEBUG",arguments),this}}}var he=Array.isArray;function Ie(e){return e===Object(e)}const tF=e=>e!=="__proto__";function mh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((i,s)=>{for(const l in s)if(l==="signals")i.signals=bae(i.signals,s.signals);else{const c=l==="legend"?{layout:1}:l==="style"?!0:null;wh(i,l,s[l],c)}return i},{})}function wh(e,t,n,i){if(!tF(t))return;let s,l;if(Ie(n)&&!he(n)){l=Ie(e[t])?e[t]:e[t]={};for(s in n)i&&(i===!0||i[s])?wh(l,s,n[s]):tF(s)&&(l[s]=n[s])}else e[t]=n}function bae(e,t){if(e==null)return t;const n={},i=[];function s(l){n[l.name]||(n[l.name]=1,i.push(l))}return t.forEach(s),e.forEach(s),i}function Bt(e){return e[e.length-1]}function Si(e){return e==null||e===""?null:+e}const jD=e=>t=>e*Math.exp(t),qD=e=>t=>Math.log(e*t),VD=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),GD=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Yg=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function B4(e,t,n,i){const s=n(e[0]),l=n(Bt(e)),c=(l-s)*t;return[i(s-c),i(l-c)]}function WD(e,t){return B4(e,t,Si,Ni)}function YD(e,t){var n=Math.sign(e[0]);return B4(e,t,qD(n),jD(n))}function XD(e,t,n){return B4(e,t,Yg(n),Yg(1/n))}function KD(e,t,n){return B4(e,t,VD(n),GD(n))}function F4(e,t,n,i,s){const l=i(e[0]),c=i(Bt(e)),d=t!=null?i(t):(l+c)/2;return[s(d+(l-d)*n),s(d+(c-d)*n)]}function eb(e,t,n){return F4(e,t,n,Si,Ni)}function tb(e,t,n){const i=Math.sign(e[0]);return F4(e,t,n,qD(i),jD(i))}function Xg(e,t,n,i){return F4(e,t,n,Yg(i),Yg(1/i))}function nb(e,t,n,i){return F4(e,t,n,VD(i),GD(i))}function ZD(e){return 1+~~(new Date(e).getMonth()/3)}function QD(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Fe(e){return e!=null?he(e)?e:[e]:[]}function JD(e,t,n){let i=e[0],s=e[1],l;return s<i&&(l=s,s=i,i=l),l=s-i,l>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-l),i+l]}function ft(e){return typeof e=="function"}const Tae="descending";function ib(e,t,n){n=n||{},t=Fe(t)||[];const i=[],s=[],l={},c=n.comparator||Eae;return Fe(e).forEach((d,f)=>{d!=null&&(i.push(t[f]===Tae?-1:1),s.push(d=ft(d)?d:ms(d,null,n)),(Fi(d)||[]).forEach(u=>l[u]=1))}),s.length===0?null:Ss(c(s,i),Object.keys(l))}const I4=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Eae=(e,t)=>e.length===1?vae(e[0],t[0]):Sae(e,t,e.length),vae=(e,t)=>function(n,i){return I4(e(n),e(i))*t},Sae=(e,t,n)=>(t.push(0),function(i,s){let l,c=0,d=-1;for(;c===0&&++d<n;)l=e[d],c=I4(l(i),l(s));return c*t[d]});function Ci(e){return ft(e)?e:()=>e}function sb(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout(()=>(t(i),n=null),e)}}function dt(e){for(let t,n,i=1,s=arguments.length;i<s;++i){t=arguments[i];for(n in t)e[n]=t[n]}return e}function ja(e,t){let n=0,i,s,l,c;if(e&&(i=e.length))if(t==null){for(s=e[n];n<i&&(s==null||s!==s);s=e[++n]);for(l=c=s;n<i;++n)s=e[n],s!=null&&(s<l&&(l=s),s>c&&(c=s))}else{for(s=t(e[n]);n<i&&(s==null||s!==s);s=t(e[++n]));for(l=c=s;n<i;++n)s=t(e[n]),s!=null&&(s<l&&(l=s),s>c&&(c=s))}return[l,c]}function eU(e,t){const n=e.length;let i=-1,s,l,c,d,f;if(t==null){for(;++i<n;)if(l=e[i],l!=null&&l>=l){s=c=l;break}if(i===n)return[-1,-1];for(d=f=i;++i<n;)l=e[i],l!=null&&(s>l&&(s=l,d=i),c<l&&(c=l,f=i))}else{for(;++i<n;)if(l=t(e[i],i,e),l!=null&&l>=l){s=c=l;break}if(i===n)return[-1,-1];for(d=f=i;++i<n;)l=t(e[i],i,e),l!=null&&(s>l&&(s=l,d=i),c<l&&(c=l,f=i))}return[d,f]}const xae=Object.prototype.hasOwnProperty;function Ue(e,t){return xae.call(e,t)}const A_={};function Lh(e){let t={},n;function i(l){return Ue(t,l)&&t[l]!==A_}const s={size:0,empty:0,object:t,has:i,get(l){return i(l)?t[l]:void 0},set(l,c){return i(l)||(++s.size,t[l]===A_&&--s.empty),t[l]=c,this},delete(l){return i(l)&&(--s.size,++s.empty,t[l]=A_),this},clear(){s.size=s.empty=0,s.object=t={}},test(l){return arguments.length?(n=l,s):n},clean(){const l={};let c=0;for(const d in t){const f=t[d];f!==A_&&(!n||!n(f))&&(l[d]=f,++c)}s.size=c,s.empty=0,s.object=t=l}};return e&&Object.keys(e).forEach(l=>{s.set(l,e[l])}),s}function tU(e,t,n,i,s,l){if(!n&&n!==0)return l;const c=+n;let d=e[0],f=Bt(e),u;f<d&&(u=d,d=f,f=u),u=Math.abs(t-d);const a=Math.abs(f-t);return u<a&&u<=c?i:a<=c?s:l}function be(e,t,n){const i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),dt(i,n)}function Yf(e,t,n,i){let s=t[0],l=t[t.length-1],c;return s>l&&(c=s,s=l,l=c),n=n===void 0||n,i=i===void 0||i,(n?s<=e:s<e)&&(i?e<=l:e<l)}function uc(e){return typeof e=="boolean"}function Al(e){return Object.prototype.toString.call(e)==="[object Date]"}function nU(e){return e&&ft(e[Symbol.iterator])}function At(e){return typeof e=="number"}function iU(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ke(e){return typeof e=="string"}function rb(e,t,n){e&&(e=t?Fe(e).map(d=>d.replace(/\\(.)/g,"$1")):Fe(e));const i=e&&e.length,s=n&&n.get||UD,l=d=>s(t?[d]:eo(d));let c;if(!i)c=function(){return""};else if(i===1){const d=l(e[0]);c=function(f){return""+d(f)}}else{const d=e.map(l);c=function(f){let u=""+d[0](f),a=0;for(;++a<i;)u+="|"+d[a](f);return u}}return Ss(c,e,"key")}function sU(e,t){const n=e[0],i=Bt(e),s=+t;return s?s===1?i:n+s*(i-n):n}const kae=1e4;function rU(e){e=+e||kae;let t,n,i;const s=()=>{t={},n={},i=0},l=(c,d)=>(++i>e&&(n=t,t={},i=1),t[c]=d);return s(),{clear:s,has:c=>Ue(t,c)||Ue(n,c),get:c=>Ue(t,c)?t[c]:Ue(n,c)?l(c,n[c]):void 0,set:(c,d)=>Ue(t,c)?t[c]=d:l(c,d)}}function aU(e,t,n,i){const s=t.length,l=n.length;if(!l)return t;if(!s)return n;const c=i||new t.constructor(s+l);let d=0,f=0,u=0;for(;d<s&&f<l;++u)c[u]=e(t[d],n[f])>0?n[f++]:t[d++];for(;d<s;++d,++u)c[u]=t[d];for(;f<l;++f,++u)c[u]=n[f];return c}function T1(e,t){let n="";for(;--t>=0;)n+=e;return n}function oU(e,t,n,i){const s=n||" ",l=e+"",c=t-l.length;return c<=0?l:i==="left"?T1(s,c)+l:i==="center"?T1(s,~~(c/2))+l+T1(s,Math.ceil(c/2)):l+T1(s,c)}function m0(e){return e&&Bt(e)-e[0]||0}function Le(e){return he(e)?"["+e.map(Le)+"]":Ie(e)||ke(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ab(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Bae=e=>At(e)||Al(e)?e:Date.parse(e);function ob(e,t){return t=t||Bae,e==null||e===""?null:t(e)}function lb(e){return e==null||e===""?null:e+""}function Vr(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}function lU(e,t,n,i){const s=i??"",l=e+"",c=l.length,d=Math.max(0,t-s.length);return c<=t?l:n==="left"?s+l.slice(c-d):n==="center"?l.slice(0,Math.ceil(d/2))+s+l.slice(c-~~(d/2)):l.slice(0,d)+s}function pl(e,t,n){if(e)if(t){const i=e.length;for(let s=0;s<i;++s){const l=t(e[s]);l&&n(l,s,e)}}else e.forEach(n)}function Fae(e){return e}function Iae(e){if(e==null)return Fae;var t,n,i=e.scale[0],s=e.scale[1],l=e.translate[0],c=e.translate[1];return function(d,f){f||(t=n=0);var u=2,a=d.length,y=new Array(a);for(y[0]=(t+=d[0])*i+l,y[1]=(n+=d[1])*s+c;u<a;)y[u]=d[u],++u;return y}}function Mae(e,t){for(var n,i=e.length,s=i-t;s<--i;)n=e[s],e[s++]=e[i],e[i]=n}function Aae(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return nF(e,n)})}:nF(e,t)}function nF(e,t){var n=t.id,i=t.bbox,s=t.properties==null?{}:t.properties,l=cU(e,t);return n==null&&i==null?{type:"Feature",properties:s,geometry:l}:i==null?{type:"Feature",id:n,properties:s,geometry:l}:{type:"Feature",id:n,bbox:i,properties:s,geometry:l}}function cU(e,t){var n=Iae(e.transform),i=e.arcs;function s(a,y){y.length&&y.pop();for(var w=i[a<0?~a:a],m=0,o=w.length;m<o;++m)y.push(n(w[m],m));a<0&&Mae(y,o)}function l(a){return n(a)}function c(a){for(var y=[],w=0,m=a.length;w<m;++w)s(a[w],y);return y.length<2&&y.push(y[0]),y}function d(a){for(var y=c(a);y.length<4;)y.push(y[0]);return y}function f(a){return a.map(d)}function u(a){var y=a.type,w;switch(y){case"GeometryCollection":return{type:y,geometries:a.geometries.map(u)};case"Point":w=l(a.coordinates);break;case"MultiPoint":w=a.coordinates.map(l);break;case"LineString":w=c(a.arcs);break;case"MultiLineString":w=a.arcs.map(c);break;case"Polygon":w=f(a.arcs);break;case"MultiPolygon":w=a.arcs.map(f);break;default:return null}return{type:y,coordinates:w}}return u(t)}function Oae(e,t){var n={},i={},s={},l=[],c=-1;t.forEach(function(u,a){var y=e.arcs[u<0?~u:u],w;y.length<3&&!y[1][0]&&!y[1][1]&&(w=t[++c],t[c]=u,t[a]=w)}),t.forEach(function(u){var a=d(u),y=a[0],w=a[1],m,o;if(m=s[y])if(delete s[m.end],m.push(u),m.end=w,o=i[w]){delete i[o.start];var b=o===m?m:m.concat(o);i[b.start=m.start]=s[b.end=o.end]=b}else i[m.start]=s[m.end]=m;else if(m=i[w])if(delete i[m.start],m.unshift(u),m.start=y,o=s[y]){delete s[o.end];var L=o===m?m:o.concat(m);i[L.start=o.start]=s[L.end=m.end]=L}else i[m.start]=s[m.end]=m;else m=[u],i[m.start=y]=s[m.end=w]=m});function d(u){var a=e.arcs[u<0?~u:u],y=a[0],w;return e.transform?(w=[0,0],a.forEach(function(m){w[0]+=m[0],w[1]+=m[1]})):w=a[a.length-1],u<0?[w,y]:[y,w]}function f(u,a){for(var y in u){var w=u[y];delete a[w.start],delete w.start,delete w.end,w.forEach(function(m){n[m<0?~m:m]=1}),l.push(w)}}return f(s,i),f(i,s),t.forEach(function(u){n[u<0?~u:u]||l.push([u])}),l}function Nae(e){return cU(e,Cae.apply(this,arguments))}function Cae(e,t,n){var i,s,l;if(arguments.length>1)i=Rae(e,t,n);else for(s=0,i=new Array(l=e.arcs.length);s<l;++s)i[s]=s;return{type:"MultiLineString",arcs:Oae(e,i)}}function Rae(e,t,n){var i=[],s=[],l;function c(y){var w=y<0?~y:y;(s[w]||(s[w]=[])).push({i:y,g:l})}function d(y){y.forEach(c)}function f(y){y.forEach(d)}function u(y){y.forEach(f)}function a(y){switch(l=y,y.type){case"GeometryCollection":y.geometries.forEach(a);break;case"LineString":d(y.arcs);break;case"MultiLineString":case"Polygon":f(y.arcs);break;case"MultiPolygon":u(y.arcs);break}}return a(t),s.forEach(n==null?function(y){i.push(y[0].i)}:function(y){n(y[0].g,y[y.length-1].g)&&i.push(y[0].i)}),i}const hi="year",ws="quarter",Ii="month",Dn="week",Ls="date",vi="day",qa="dayofyear",Us="hours",$s="minutes",ar="seconds",Gr="milliseconds",cb=[hi,ws,Ii,Dn,Ls,vi,qa,Us,$s,ar,Gr],iw=cb.reduce((e,t,n)=>(e[t]=1+n,e),{});function db(e){const t=Fe(e).slice(),n={};return t.length||de("Missing time unit."),t.forEach(s=>{Ue(iw,s)?n[s]=1:de(`Invalid time unit: ${s}.`)}),(n[Dn]||n[vi]?1:0)+(n[ws]||n[Ii]||n[Ls]?1:0)+(n[qa]?1:0)>1&&de(`Incompatible time units: ${e}`),t.sort((s,l)=>iw[s]-iw[l]),t}const Pae={[hi]:"%Y ",[ws]:"Q%q ",[Ii]:"%b ",[Ls]:"%d ",[Dn]:"W%U ",[vi]:"%a ",[qa]:"%j ",[Us]:"%H:00",[$s]:"00:%M",[ar]:":%S",[Gr]:".%L",[`${hi}-${Ii}`]:"%Y-%m ",[`${hi}-${Ii}-${Ls}`]:"%Y-%m-%d ",[`${Us}-${$s}`]:"%H:%M"};function dU(e,t){const n=dt({},Pae,t),i=db(e),s=i.length;let l="",c=0,d,f;for(c=0;c<s;)for(d=i.length;d>c;--d)if(f=i.slice(c,d).join("-"),n[f]!=null){l+=n[f],c=d;break}return l.trim()}const Wc=new Date;function fb(e){return Wc.setFullYear(e),Wc.setMonth(0),Wc.setDate(1),Wc.setHours(0,0,0,0),Wc}function fU(e){return hU(new Date(e))}function uU(e){return l5(new Date(e))}function hU(e){return No.count(fb(e.getFullYear())-1,e)}function l5(e){return _h.count(fb(e.getFullYear())-1,e)}function c5(e){return fb(e).getDay()}function Dae(e,t,n,i,s,l,c){if(0<=e&&e<100){const d=new Date(-1,t,n,i,s,l,c);return d.setFullYear(e),d}return new Date(e,t,n,i,s,l,c)}function _U(e){return gU(new Date(e))}function pU(e){return d5(new Date(e))}function gU(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Ml.count(t-1,e)}function d5(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return ph.count(t-1,e)}function f5(e){return Wc.setTime(Date.UTC(e,0,1)),Wc.getUTCDay()}function Uae(e,t,n,i,s,l,c){if(0<=e&&e<100){const d=new Date(Date.UTC(-1,t,n,i,s,l,c));return d.setUTCFullYear(n.y),d}return new Date(Date.UTC(e,t,n,i,s,l,c))}function yU(e,t,n,i,s){const l=t||1,c=Bt(e),d=(v,S,x)=>(x=x||v,$ae(n[x],i[x],v===c&&l,S)),f=new Date,u=Vr(e),a=u[hi]?d(hi):Ci(2012),y=u[Ii]?d(Ii):u[ws]?d(ws):Ll,w=u[Dn]&&u[vi]?d(vi,1,Dn+vi):u[Dn]?d(Dn,1):u[vi]?d(vi,1):u[Ls]?d(Ls,1):u[qa]?d(qa,1):yh,m=u[Us]?d(Us):Ll,o=u[$s]?d($s):Ll,b=u[ar]?d(ar):Ll,L=u[Gr]?d(Gr):Ll;return function(v){f.setTime(+v);const S=a(f);return s(S,y(f),w(f,S),m(f),o(f),b(f),L(f))}}function $ae(e,t,n,i){const s=n<=1?e:i?(l,c)=>i+n*Math.floor((e(l,c)-i)/n):(l,c)=>n*Math.floor(e(l,c)/n);return t?(l,c)=>t(s(l,c),c):s}function Du(e,t,n){return t+e*7-(n+6)%7}const Hae={[hi]:e=>e.getFullYear(),[ws]:e=>Math.floor(e.getMonth()/3),[Ii]:e=>e.getMonth(),[Ls]:e=>e.getDate(),[Us]:e=>e.getHours(),[$s]:e=>e.getMinutes(),[ar]:e=>e.getSeconds(),[Gr]:e=>e.getMilliseconds(),[qa]:e=>hU(e),[Dn]:e=>l5(e),[Dn+vi]:(e,t)=>Du(l5(e),e.getDay(),c5(t)),[vi]:(e,t)=>Du(1,e.getDay(),c5(t))},zae={[ws]:e=>3*e,[Dn]:(e,t)=>Du(e,0,c5(t))};function mU(e,t){return yU(e,t||1,Hae,zae,Dae)}const jae={[hi]:e=>e.getUTCFullYear(),[ws]:e=>Math.floor(e.getUTCMonth()/3),[Ii]:e=>e.getUTCMonth(),[Ls]:e=>e.getUTCDate(),[Us]:e=>e.getUTCHours(),[$s]:e=>e.getUTCMinutes(),[ar]:e=>e.getUTCSeconds(),[Gr]:e=>e.getUTCMilliseconds(),[qa]:e=>gU(e),[Dn]:e=>d5(e),[vi]:(e,t)=>Du(1,e.getUTCDay(),f5(t)),[Dn+vi]:(e,t)=>Du(d5(e),e.getUTCDay(),f5(t))},qae={[ws]:e=>3*e,[Dn]:(e,t)=>Du(e,0,f5(t))};function wU(e,t){return yU(e,t||1,jae,qae,Uae)}const Vae={[hi]:Ha,[ws]:w2.every(3),[Ii]:w2,[Dn]:_h,[Ls]:No,[vi]:No,[qa]:No,[Us]:p4,[$s]:h4,[ar]:Fo,[Gr]:Nu},Gae={[hi]:za,[ws]:L2.every(3),[Ii]:L2,[Dn]:ph,[Ls]:Ml,[vi]:Ml,[qa]:Ml,[Us]:g4,[$s]:_4,[ar]:Fo,[Gr]:Nu};function bh(e){return Vae[e]}function Th(e){return Gae[e]}function LU(e,t,n){return e?e.offset(t,n):void 0}function bU(e,t,n){return LU(bh(e),t,n)}function TU(e,t,n){return LU(Th(e),t,n)}function EU(e,t,n,i){return e?e.range(t,n,i):void 0}function vU(e,t,n,i){return EU(bh(e),t,n,i)}function SU(e,t,n,i){return EU(Th(e),t,n,i)}const E1=1e3,v1=E1*60,S1=v1*60,M4=S1*24,Wae=M4*7,iF=M4*30,u5=M4*365,xU=[hi,Ii,Ls,Us,$s,ar,Gr],x1=xU.slice(0,-1),k1=x1.slice(0,-1),B1=k1.slice(0,-1),Yae=B1.slice(0,-1),Xae=[hi,Dn],sF=[hi,Ii],kU=[hi],Vh=[[x1,1,E1],[x1,5,5*E1],[x1,15,15*E1],[x1,30,30*E1],[k1,1,v1],[k1,5,5*v1],[k1,15,15*v1],[k1,30,30*v1],[B1,1,S1],[B1,3,3*S1],[B1,6,6*S1],[B1,12,12*S1],[Yae,1,M4],[Xae,1,Wae],[sF,1,iF],[sF,3,3*iF],[kU,1,u5]];function BU(e){const t=e.extent,n=e.maxbins||40,i=Math.abs(m0(t))/n;let s=a0(d=>d[2]).right(Vh,i),l,c;return s===Vh.length?(l=kU,c=Hl(t[0]/u5,t[1]/u5,n)):s?(s=Vh[i/Vh[s-1][2]<Vh[s][2]/i?s-1:s],l=s[0],c=s[1]):(l=xU,c=Math.max(Hl(t[0],t[1],n),1)),{units:l,step:c}}function F1(e){const t={};return n=>t[n]||(t[n]=e(n))}function Kae(e,t){return n=>{const i=e(n),s=i.indexOf(t);if(s<0)return i;let l=Zae(i,s);const c=l<i.length?i.slice(l):"";for(;--l>s;)if(i[l]!=="0"){++l;break}return i.slice(0,l)+c}}function Zae(e,t){let n=e.lastIndexOf("e"),i;if(n>0)return n;for(n=e.length;--n>t;)if(i=e.charCodeAt(n),i>=48&&i<=57)return n+1}function FU(e){const t=F1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(i){const s=kd(i||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return Kae(t(s),t(".1f")(1)[1])}else return t(s)},formatSpan(i,s,l,c){c=kd(c??",f");const d=Hl(i,s,l),f=Math.max(Math.abs(i),Math.abs(s));let u;if(c.precision==null)switch(c.type){case"s":return isNaN(u=CR(d,f))||(c.precision=u),n(c,f);case"":case"e":case"g":case"p":case"r":{isNaN(u=RR(d,f))||(c.precision=u-(c.type==="e"));break}case"f":case"%":{isNaN(u=NR(d))||(c.precision=u-(c.type==="%")*2);break}}return t(c)}}}let h5;IU();function IU(){return h5=FU({format:o4,formatPrefix:e7})}function MU(e){return FU(OR(e))}function Kg(e){return arguments.length?h5=MU(e):h5}function rF(e,t,n){n=n||{},Ie(n)||de(`Invalid time multi-format specifier: ${n}`);const i=t(ar),s=t($s),l=t(Us),c=t(Ls),d=t(Dn),f=t(Ii),u=t(ws),a=t(hi),y=e(n[Gr]||".%L"),w=e(n[ar]||":%S"),m=e(n[$s]||"%I:%M"),o=e(n[Us]||"%I %p"),b=e(n[Ls]||n[vi]||"%a %d"),L=e(n[Dn]||"%b %d"),v=e(n[Ii]||"%B"),S=e(n[ws]||"%B"),x=e(n[hi]||"%Y");return F=>(i(F)<F?y:s(F)<F?w:l(F)<F?m:c(F)<F?o:f(F)<F?d(F)<F?b:L:a(F)<F?u(F)<F?v:S:x)(F)}function AU(e){const t=F1(e.format),n=F1(e.utcFormat);return{timeFormat:i=>ke(i)?t(i):rF(t,bh,i),utcFormat:i=>ke(i)?n(i):rF(n,Th,i),timeParse:F1(e.parse),utcParse:F1(e.utcParse)}}let _5;OU();function OU(){return _5=AU({format:g7,parse:YP,utcFormat:y7,utcParse:XP})}function NU(e){return AU(jP(e))}function T2(e){return arguments.length?_5=NU(e):_5}const p5=(e,t)=>dt({},e,t);function CU(e,t){const n=e?MU(e):Kg(),i=t?NU(t):T2();return p5(n,i)}function ub(e,t){const n=arguments.length;return n&&n!==2&&de("defaultLocale expects either zero or two arguments."),n?p5(Kg(e),T2(t)):p5(Kg(),T2())}function Qae(){return IU(),OU(),ub()}const Jae=/^(data:|([A-Za-z]+:)?\/\/)/,eoe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,toe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,aF="file://";function noe(e,t){return n=>({options:n||{},sanitize:soe,load:ioe,fileAccess:!!t,file:roe(t),http:ooe(e)})}async function ioe(e,t){const n=await this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)}async function soe(e,t){t=dt({},this.options,t);const n=this.fileAccess,i={href:null};let s,l,c;const d=eoe.test(e.replace(toe,""));(e==null||typeof e!="string"||!d)&&de("Sanitize failure, invalid URI: "+Le(e));const f=Jae.test(e);return(c=t.baseURL)&&!f&&(!e.startsWith("/")&&!c.endsWith("/")&&(e="/"+e),e=c+e),l=(s=e.startsWith(aF))||t.mode==="file"||t.mode!=="http"&&!f&&n,s?e=e.slice(aF.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),l=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!l}),i.href=e,t.target&&(i.target=t.target+""),t.rel&&(i.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(i.crossOrigin=t.crossOrigin+""),i}function roe(e){return e?t=>new Promise((n,i)=>{e.readFile(t,(s,l)=>{s?i(s):n(l)})}):aoe}async function aoe(){de("No file system access.")}function ooe(e){return e?async function(t,n){const i=dt({},this.options.http,n),s=n&&n.response,l=await e(t,i);return l.ok?ft(l[s])?l[s]():l.text():de(l.status+""+l.statusText)}:loe}async function loe(){de("No HTTP fetch method available.")}const coe=e=>e!=null&&e===e,doe=e=>e==="true"||e==="false"||e===!0||e===!1,foe=e=>!Number.isNaN(Date.parse(e)),RU=e=>!Number.isNaN(+e)&&!(e instanceof Date),uoe=e=>RU(e)&&Number.isInteger(+e),g5={boolean:ab,integer:Si,number:Si,date:ob,string:lb,unknown:Ni},O_=[doe,uoe,RU,foe],hoe=["boolean","integer","number","date"];function PU(e,t){if(!e||!e.length)return"unknown";const n=e.length,i=O_.length,s=O_.map((l,c)=>c+1);for(let l=0,c=0,d,f;l<n;++l)for(f=t?e[l][t]:e[l],d=0;d<i;++d)if(s[d]&&coe(f)&&!O_[d](f)&&(s[d]=0,++c,c===O_.length))return"string";return hoe[s.reduce((l,c)=>l===0?c:l,0)-1]}function DU(e,t){return t.reduce((n,i)=>(n[i]=PU(e,i),n),{})}function oF(e){const t=function(n,i){const s={delimiter:e};return hb(n,i?dt(i,s):s)};return t.responseType="text",t}function hb(e,t){return t.header&&(e=t.header.map(Le).join(t.delimiter)+`
`+e),$J(t.delimiter).parse(e+"")}hb.responseType="text";function _oe(e){return typeof Buffer=="function"&&ft(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function _b(e,t){const n=t&&t.property?ms(t.property):Ni;return Ie(e)&&!_oe(e)?poe(n(e),t):n(JSON.parse(e))}_b.responseType="json";function poe(e,t){return!he(e)&&nU(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const goe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function UU(e,t){let n,i,s,l;return e=_b(e,t),t&&t.feature?(n=Aae,s=t.feature):t&&t.mesh?(n=Nae,s=t.mesh,l=goe[t.filter]):de("Missing TopoJSON feature or mesh parameter."),i=(i=e.objects[s])?n(e,i,l):de("Invalid TopoJSON object: "+s),i&&i.features||[i]}UU.responseType="json";const wp={dsv:hb,csv:oF(","),tsv:oF("	"),json:_b,topojson:UU};function pb(e,t){return arguments.length>1?(wp[e]=t,this):Ue(wp,e)?wp[e]:null}function $U(e){const t=pb(e);return t&&t.responseType||"text"}function HU(e,t,n,i){t=t||{};const s=pb(t.type||"json");return s||de("Unknown data format type: "+t.type),e=s(e,t),t.parse&&yoe(e,t.parse,n,i),Ue(e,"columns")&&delete e.columns,e}function yoe(e,t,n,i){if(!e.length)return;const s=T2();n=n||s.timeParse,i=i||s.utcParse;let l=e.columns||Object.keys(e[0]),c,d,f,u,a,y;t==="auto"&&(t=DU(e,l)),l=Object.keys(t);const w=l.map(m=>{const o=t[m];let b,L;if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return b=o.split(/:(.+)?/,2),L=b[1],(L[0]==="'"&&L[L.length-1]==="'"||L[0]==='"'&&L[L.length-1]==='"')&&(L=L.slice(1,-1)),(b[0]==="utc"?i:n)(L);if(!g5[o])throw Error("Illegal format pattern: "+m+":"+o);return g5[o]});for(f=0,a=e.length,y=l.length;f<a;++f)for(c=e[f],u=0;u<y;++u)d=l[u],c[d]=w[u](c[d])}const A4=noe(typeof fetch<"u"&&fetch,null);function O4(e){const t=e||Ni,n=[],i={};return n.add=s=>{const l=t(s);return i[l]||(i[l]=1,n.push(s)),n},n.remove=s=>{const l=t(s);if(i[l]){i[l]=0;const c=n.indexOf(s);c>=0&&n.splice(c,1)}return n},n}async function Lp(e,t){try{await t(e)}catch(n){e.error(n)}}const zU=Symbol("vega_id");let moe=1;function N4(e){return!!(e&&Pe(e))}function Pe(e){return e[zU]}function jU(e,t){return e[zU]=t,e}function $t(e){const t=e===Object(e)?e:{data:e};return Pe(t)?t:jU(t,moe++)}function gb(e){return C4(e,$t({}))}function C4(e,t){for(const n in e)t[n]=e[n];return t}function qU(e,t){return jU(t,Pe(e))}function tf(e,t){return e?t?(n,i)=>e(n,i)||Pe(t(n))-Pe(t(i)):(n,i)=>e(n,i)||Pe(n)-Pe(i):null}function VU(e){return e&&e.constructor===nf}function nf(){const e=[],t=[],n=[],i=[],s=[];let l=null,c=!1;return{constructor:nf,insert(d){const f=Fe(d),u=f.length;for(let a=0;a<u;++a)e.push(f[a]);return this},remove(d){const f=ft(d)?i:t,u=Fe(d),a=u.length;for(let y=0;y<a;++y)f.push(u[y]);return this},modify(d,f,u){const a={field:f,value:Ci(u)};return ft(d)?(a.filter=d,s.push(a)):(a.tuple=d,n.push(a)),this},encode(d,f){return ft(d)?s.push({filter:d,field:f}):n.push({tuple:d,field:f}),this},clean(d){return l=d,this},reflow(){return c=!0,this},pulse(d,f){const u={},a={};let y,w,m,o,b,L;for(y=0,w=f.length;y<w;++y)u[Pe(f[y])]=1;for(y=0,w=t.length;y<w;++y)b=t[y],u[Pe(b)]=-1;for(y=0,w=i.length;y<w;++y)o=i[y],f.forEach(S=>{o(S)&&(u[Pe(S)]=-1)});for(y=0,w=e.length;y<w;++y)b=e[y],L=Pe(b),u[L]?u[L]=1:d.add.push($t(e[y]));for(y=0,w=f.length;y<w;++y)b=f[y],u[Pe(b)]<0&&d.rem.push(b);function v(S,x,F){F?S[x]=F(S):d.encode=x,c||(a[Pe(S)]=S)}for(y=0,w=n.length;y<w;++y)m=n[y],b=m.tuple,o=m.field,L=u[Pe(b)],L>0&&(v(b,o,m.value),d.modifies(o));for(y=0,w=s.length;y<w;++y)m=s[y],o=m.filter,f.forEach(S=>{o(S)&&u[Pe(S)]>0&&v(S,m.field,m.value)}),d.modifies(m.field);if(c)d.mod=t.length||i.length?f.filter(S=>u[Pe(S)]>0):f.slice();else for(L in a)d.mod.push(a[L]);return(l||l==null&&(t.length||i.length))&&d.clean(!0),d}}}const bp="_:mod:_";function R4(){Object.defineProperty(this,bp,{writable:!0,value:{}})}R4.prototype={set(e,t,n,i){const s=this,l=s[e],c=s[bp];return t!=null&&t>=0?(l[t]!==n||i)&&(l[t]=n,c[t+":"+e]=-1,c[e]=-1):(l!==n||i)&&(s[e]=n,c[e]=he(n)?1+n.length:-1),s},modified(e,t){const n=this[bp];if(arguments.length){if(he(e)){for(let i=0;i<e.length;++i)if(n[e[i]])return!0;return!1}}else{for(const i in n)if(n[i])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[bp]={},this}};let woe=0;const Loe="pulse",boe=new R4,Toe=1,Eoe=2;function an(e,t,n,i){this.id=++woe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function lF(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}an.prototype={targets(){return this._targets||(this._targets=O4(y0))},set(e){return this.value!==e?(this.value=e,1):0},skip:lF(Toe),modified:lF(Eoe),parameters(e,t,n){t=t!==!1;const i=this._argval=this._argval||new R4,s=this._argops=this._argops||[],l=[];let c,d,f,u;const a=(y,w,m)=>{m instanceof an?(m!==this&&(t&&m.targets().add(this),l.push(m)),s.push({op:m,name:y,index:w})):i.set(y,w,m)};for(c in e)if(d=e[c],c===Loe)Fe(d).forEach(y=>{y instanceof an?y!==this&&(y.targets().add(this),l.push(y)):de("Pulse parameters must be operator instances.")}),this.source=d;else if(he(d))for(i.set(c,-1,Array(f=d.length)),u=0;u<f;++u)a(c,u,d[u]);else a(c,-1,d);return this.marshall().clear(),n&&(s.initonly=!0),l},marshall(e){const t=this._argval||boe,n=this._argops;let i,s,l,c;if(n){const d=n.length;for(s=0;s<d;++s)i=n[s],l=i.op,c=l.modified()&&l.stamp===e,t.set(i.name,i.index,l.value,c);if(n.initonly){for(s=0;s<d;++s)i=n[s],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,s;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],s=i.op,s._targets&&s._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function voe(e,t,n,i){let s=1,l;return e instanceof an?l=e:e&&e.prototype instanceof an?l=new e:ft(e)?l=new an(null,e):(s=0,l=new an(e,t)),this.rank(l),s&&(i=n,n=t),n&&this.connect(l,l.parameters(n,i)),this.touch(l),l}function Soe(e,t){const n=e.rank,i=t.length;for(let s=0;s<i;++s)if(n<t[s].rank){this.rerank(e);return}}let xoe=0;function P4(e,t,n){this.id=++xoe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function cl(e,t,n){return new P4(e,t,n)}P4.prototype={_filter:rr,_apply:Ni,targets(){return this._targets||(this._targets=O4(y0))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let s=0;s<i;++s)n[s].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=cl(e);return this.targets().add(t),t},apply(e){const t=cl(null,e);return this.targets().add(t),t},merge(){const e=cl();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=cl();return this.targets().add(cl(null,null,sb(e,n=>{const i=n.dataflow;t.receive(n),i&&i.run&&i.run()}))),t},between(e,t){let n=!1;return e.targets().add(cl(null,null,()=>n=!0)),t.targets().add(cl(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=rr,this._targets=null}};function koe(e,t,n,i){const s=this,l=cl(n,i),c=function(u){u.dataflow=s;try{l.receive(u)}catch(a){s.error(a)}finally{s.run()}};let d;typeof e=="string"&&typeof document<"u"?d=document.querySelectorAll(e):d=Fe(e);const f=d.length;for(let u=0;u<f;++u)d[u].addEventListener(t,c);return l}function Boe(e,t){const n=this.locale();return HU(e,t,n.timeParse,n.utcParse)}function Foe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Ioe(e,t){const n=this;let i=0,s;try{s=await n.loader().load(e,{context:"dataflow",response:$U(t&&t.type)});try{s=n.parse(s,t)}catch(l){i=-2,n.warn("Data ingestion failed",e,l)}}catch(l){i=-1,n.warn("Loading failed",e,l)}return{data:s,status:i}}async function Moe(e,t,n){const i=this,s=i._pending||Aoe(i);s.requests+=1;const l=await i.request(t,n);return i.pulse(e,i.changeset().remove(rr).insert(l.data||[])),s.done(),l}function Aoe(e){let t;const n=new Promise(i=>t=i);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Ooe={skip:!0};function Noe(e,t,n,i,s){return(e instanceof an?Roe:Coe)(this,e,t,n,i,s),this}function Coe(e,t,n,i,s,l){const c=dt({},l,Ooe);let d,f;ft(n)||(n=Ci(n)),i===void 0?d=u=>e.touch(n(u)):ft(i)?(f=new an(null,i,s,!1),d=u=>{f.evaluate(u);const a=n(u),y=f.value;VU(y)?e.pulse(a,y,l):e.update(a,y,c)}):d=u=>e.update(n(u),i,c),t.apply(d)}function Roe(e,t,n,i,s,l){if(i===void 0)t.targets().add(n);else{const c=l||{},d=new an(null,Poe(n,i),s,!1);d.modified(c.force),d.rank=t.rank,t.targets().add(d),n&&(d.skip(!0),d.value=n.value,d.targets().add(n),e.connect(n,[d]))}}function Poe(e,t){return t=ft(t)?t:Ci(t),e?function(n,i){const s=t(n,i);return e.skip()||(e.skip(s!==this.value).value=s),s}:t}function Doe(e){e.rank=++this._rank}function Uoe(e){const t=[e];let n,i,s;for(;t.length;)if(this.rank(n=t.pop()),i=n._targets)for(s=i.length;--s>=0;)t.push(n=i[s]),n===e&&de("Cycle detected in dataflow graph.")}const Zg={},ha=1,gl=2,mo=4,$oe=ha|gl,cF=ha|mo,Tf=ha|gl|mo,dF=8,Gh=16,fF=32,uF=64;function Ol(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function sw(e,t){const n=[];return pl(e,t,i=>n.push(i)),n}function hF(e,t){const n={};return e.visit(t,i=>{n[Pe(i)]=1}),i=>n[Pe(i)]?null:i}function N_(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}Ol.prototype={StopPropagation:Zg,ADD:ha,REM:gl,MOD:mo,ADD_REM:$oe,ADD_MOD:cF,ALL:Tf,REFLOW:dF,SOURCE:Gh,NO_SOURCE:fF,NO_FIELDS:uF,fork(e){return new Ol(this.dataflow).init(this,e)},clone(){const e=this.fork(Tf);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Tf|Gh)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Ol(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&uF)&&(n.fields=e.fields),t&ha?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&gl?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&mo?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&fF?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Tf;return t&ha&&this.add.length||t&gl&&this.rem.length||t&mo&&this.mod.length},reflow(e){if(e)return this.fork(Tf).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(mo,hF(this,ha))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return he(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?he(e)?e.some(i=>n[i]):n[e]:!!n:!1},filter(e,t){const n=this;return e&ha&&(n.addF=N_(n.addF,t)),e&gl&&(n.remF=N_(n.remF,t)),e&mo&&(n.modF=N_(n.modF,t)),e&Gh&&(n.srcF=N_(n.srcF,t)),n},materialize(e){e=e||Tf;const t=this;return e&ha&&t.addF&&(t.add=sw(t.add,t.addF),t.addF=null),e&gl&&t.remF&&(t.rem=sw(t.rem,t.remF),t.remF=null),e&mo&&t.modF&&(t.mod=sw(t.mod,t.modF),t.modF=null),e&Gh&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,i=t;if(e&Gh)return pl(n.source,n.srcF,i),n;e&ha&&pl(n.add,n.addF,i),e&gl&&pl(n.rem,n.remF,i),e&mo&&pl(n.mod,n.modF,i);const s=n.source;if(e&dF&&s){const l=n.add.length+n.mod.length;l===s.length||(l?pl(s,hF(n,cF),i):pl(s,n.srcF,i))}return n}};function yb(e,t,n,i){const s=this;let l=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(const c of n)if(c.stamp===t){if(c.fields){const d=s.fields||(s.fields={});for(const f in c.fields)d[f]=1}c.changed(s.ADD)&&(l|=s.ADD),c.changed(s.REM)&&(l|=s.REM),c.changed(s.MOD)&&(l|=s.MOD)}this.changes=l}be(yb,Ol,{fork(e){const t=new Ol(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?he(e)?e.some(i=>n[i]):n[e]:0},filter(){de("MultiPulse does not support filtering.")},materialize(){de("MultiPulse does not support materialization.")},visit(e,t){const n=this,i=n.pulses,s=i.length;let l=0;if(e&n.SOURCE)for(;l<s;++l)i[l].visit(e,t);else for(;l<s;++l)i[l].stamp===n.stamp&&i[l].visit(e,t);return n}});async function Hoe(e,t,n){const i=this,s=[];if(i._pulse)return GU(i);if(i._pending&&await i._pending,t&&await Lp(i,t),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const l=++i._clock;i._pulse=new Ol(i,l,e),i._touched.forEach(a=>i._enqueue(a,!0)),i._touched=O4(y0);let c=0,d,f,u;try{for(;i._heap.size()>0;){if(d=i._heap.pop(),d.rank!==d.qrank){i._enqueue(d,!0);continue}f=d.run(i._getPulse(d,e)),f.then?f=await f:f.async&&(s.push(f.async),f=Zg),f!==Zg&&d._targets&&d._targets.forEach(a=>i._enqueue(a)),++c}}catch(a){i._heap.clear(),u=a}if(i._input={},i._pulse=null,i.debug(`Pulse ${l}: ${c} operators`),u&&(i._postrun=[],i.error(u)),i._postrun.length){const a=i._postrun.sort((y,w)=>w.priority-y.priority);i._postrun=[];for(let y=0;y<a.length;++y)await Lp(i,a[y].callback)}return n&&await Lp(i,n),s.length&&Promise.all(s).then(a=>i.runAsync(null,()=>{a.forEach(y=>{try{y(i)}catch(w){i.error(w)}})})),i}async function zoe(e,t,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running}function joe(e,t,n){return this._pulse?GU(this):(this.evaluate(e,t,n),this)}function qoe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(i){this.error(i)}}function GU(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Voe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Goe(e,t){const n=e.source,i=this._clock;return n&&he(n)?new yb(this,i,n.map(s=>s.pulse),t):this._input[e.id]||Woe(this._pulse,n&&n.pulse)}function Woe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==Zg&&(e.source=t.source),e)}const mb={skip:!1,force:!1};function Yoe(e,t){const n=t||mb;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Xoe(e,t,n){const i=n||mb;return(e.set(t)||i.force)&&this.touch(e,i),this}function Koe(e,t,n){this.touch(e,n||mb);const i=new Ol(this,this._clock+(this._pulse?0:1)),s=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,s),this}function Zoe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),WU(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,Qoe(t,0,e)):i=n,i}}}function WU(e,t,n,i){let s,l;const c=e[n];for(;n>t;){if(l=n-1>>1,s=e[l],i(c,s)<0){e[n]=s,n=l;continue}break}return e[n]=c}function Qoe(e,t,n){const i=t,s=e.length,l=e[t];let c=(t<<1)+1,d;for(;c<s;)d=c+1,d<s&&n(e[c],e[d])>=0&&(c=d),e[t]=e[c],t=c,c=(t<<1)+1;return e[t]=l,WU(e,i,t,n)}function lu(){this.logger(J7()),this.logLevel(Z7),this._clock=0,this._rank=0,this._locale=ub();try{this._loader=A4()}catch{}this._touched=O4(y0),this._input={},this._pulse=null,this._heap=Zoe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Wh(e){return function(){return this._log[e].apply(this,arguments)}}lu.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Wh("error"),warn:Wh("warn"),info:Wh("info"),debug:Wh("debug"),logLevel:Wh("level"),cleanThreshold:1e4,add:voe,connect:Soe,rank:Doe,rerank:Uoe,pulse:Koe,touch:Yoe,update:Xoe,changeset:nf,ingest:Foe,parse:Boe,preload:Moe,request:Ioe,events:koe,on:Noe,evaluate:Hoe,run:joe,runAsync:zoe,runAfter:qoe,_enqueue:Voe,_getPulse:Goe};function ae(e,t){an.call(this,e,null,t)}be(ae,an,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Uu={};function YU(e){const t=XU(e);return t&&t.Definition||null}function XU(e){return e=e&&e.toLowerCase(),Ue(Uu,e)?Uu[e]:null}function Joe(e){return t=>{const n=e.length;let i=1,s=String(e[0](t));for(;i<n;++i)s+="|"+e[i](t);return s}}function y5(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Joe(e)}function KU(e,t,n){return n||e+(t?"_"+t:"")}const rw=()=>{},ele={init:rw,add:rw,rem:rw,idx:0},E2={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},w0=Object.keys(E2).filter(e=>e!=="__count__");function tle(e,t){return n=>dt({name:e,out:n||e},ele,t)}[...w0,"__count__"].forEach(e=>{E2[e]=tle(e,E2[e])});function ZU(e,t){return E2[e](t)}function QU(e,t){return e.idx-t.idx}function nle(e){const t={};e.forEach(i=>t[i.name]=i);const n=i=>{i.req&&i.req.forEach(s=>{t[s]||n(t[s]=E2[s]())})};return e.forEach(n),Object.values(t).sort(QU)}function ile(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function sle(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function rle(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function ale(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function JU(e,t){const n=t||Ni,i=nle(e),s=e.slice().sort(QU);function l(c){this._ops=i,this._out=s,this.cell=c,this.init()}return l.prototype.init=ile,l.prototype.add=sle,l.prototype.rem=rle,l.prototype.set=ale,l.prototype.get=n,l.fields=e.map(c=>c.out),l}function wb(e){this._key=e?ms(e):Pe,this.reset()}const yi=wb.prototype;yi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};yi.add=function(e){this._add.push(e)};yi.rem=function(e){this._rem.push(e)};yi.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,i=e.length,s=t.length,l=Array(i-s),c={};let d,f,u;for(d=0;d<s;++d)c[n(t[d])]=1;for(d=0,f=0;d<i;++d)c[n(u=e[d])]?c[n(u)]=0:l[f++]=u;return this._rem=[],this._add=l};yi.distinct=function(e){const t=this.values(),n={};let i=t.length,s=0,l;for(;--i>=0;)l=e(t[i])+"",Ue(n,l)||(n[l]=1,++s);return s};yi.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=eU(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};yi.argmin=function(e){return this.extent(e)[0]||{}};yi.argmax=function(e){return this.extent(e)[1]||{}};yi.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};yi.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};yi.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=B7(this.values(),e),this._get=e),this._q};yi.q1=function(e){return this.quartile(e)[0]};yi.q2=function(e){return this.quartile(e)[1]};yi.q3=function(e){return this.quartile(e)[2]};yi.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=LD(this.values(),1e3,.05,e),this._get=e),this._ci};yi.ci0=function(e){return this.ci(e)[0]};yi.ci1=function(e){return this.ci(e)[1]};function ql(e){ae.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ql.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:w0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};be(ql,ae,{transform(e,t){const n=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.modified();return n.stamp=i.stamp,n.value&&(s||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=s?n.init(e):Object.create(null),t.visit(t.SOURCE,l=>n.add(l))):(n.value=n.value||n.init(e),t.visit(t.REM,l=>n.rem(l)),t.visit(t.ADD,l=>n.add(l))),i.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&i.clean(!0).runAfter(()=>this.clean()),n.changes(i)},cross(){const e=this,t=e.value,n=e._dnames,i=n.map(()=>({})),s=n.length;function l(d){let f,u,a,y;for(f in d)for(a=d[f].tuple,u=0;u<s;++u)i[u][y=a[n[u]]]=y}l(e._prev),l(t);function c(d,f,u){const a=n[u],y=i[u++];for(const w in y){const m=d?d+"|"+w:w;f[a]=y[w],u<s?c(m,f,u):t[m]||e.cell(m,f)}}c("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],i={};function s(L){const v=Fe(Fi(L)),S=v.length;let x=0,F;for(;x<S;++x)i[F=v[x]]||(i[F]=1,t.push(F))}this._dims=Fe(e.groupby),this._dnames=this._dims.map(L=>{const v=Sn(L);return s(L),n.push(v),v}),this.cellkey=e.key?e.key:y5(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const l=e.fields||[null],c=e.ops||["count"],d=e.as||[],f=l.length,u={};let a,y,w,m,o,b;for(f!==c.length&&de("Unmatched number of fields and aggregate ops."),b=0;b<f;++b){if(a=l[b],y=c[b],a==null&&y!=="count"&&de("Null aggregate field specified."),m=Sn(a),o=KU(y,m,d[b]),n.push(o),y==="count"){this._counts.push(o);continue}w=u[m],w||(s(a),w=u[m]=[],w.field=a,this._measures.push(w)),y!=="count"&&(this._countOnly=!1),w.push(ZU(y,o))}return this._measures=this._measures.map(L=>JU(L,L.field)),Object.create(null)},cellkey:y5(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const i=this._measures,s=i.length;n.agg=Array(s);for(let l=0;l<s;++l)n.agg[l]=new i[l](n)}return n.store&&(n.data=new wb),n},newtuple(e,t){const n=this._dnames,i=this._dims,s=i.length,l={};for(let c=0;c<s;++c)l[n[c]]=i[c](e);return t?qU(t.tuple,l):$t(l)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const i=n.agg;for(let s=0,l=i.length;s<l;++s)i[s].add(i[s].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const i=n.agg;for(let s=0,l=i.length;s<l;++s)i[s].rem(i[s].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,s=n.length;i<s;++i)t[n[i]]=e.num;if(!this._countOnly){const i=e.agg;for(let s=0,l=i.length;s<l;++s)i[s].set(t)}return t},changes(e){const t=this._adds,n=this._mods,i=this._prev,s=this._drop,l=e.add,c=e.rem,d=e.mod;let f,u,a,y;if(i)for(u in i)f=i[u],(!s||f.num)&&c.push(f.tuple);for(a=0,y=this._alen;a<y;++a)l.push(this.celltuple(t[a])),t[a]=null;for(a=0,y=this._mlen;a<y;++a)f=n[a],(f.num===0&&s?c:d).push(this.celltuple(f)),n[a]=null;return this._alen=this._mlen=0,this._prev=null,e}});const ole=1e-14;function Lb(e){ae.call(this,null,e)}Lb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};be(Lb,ae,{transform(e,t){const n=e.interval!==!1,i=this._bins(e),s=i.start,l=i.step,c=e.as||["bin0","bin1"],d=c[0],f=c[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Fi(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?a=>{const y=i(a);a[d]=y,a[f]=y==null?null:s+l*(1+(y-s)/l)}:a=>a[d]=i(a)),t.modifies(n?c:d)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=I7(e),i=n.step;let s=n.start,l=s+Math.ceil((n.stop-s)/i)*i,c,d;(c=e.anchor)!=null&&(d=c-(s+i*Math.floor((c-s)/i)),s+=d,l+=d);const f=function(u){let a=Si(t(u));return a==null?null:a<s?-1/0:a>l?1/0:(a=Math.max(s,Math.min(a,l-i)),s+i*Math.floor(ole+(a-s)/i))};return f.start=s,f.stop=n.stop,f.step=i,this.value=Ss(f,Fi(t),e.name||"bin_"+Sn(t))}});function e$(e,t,n){const i=e;let s=t||[],l=n||[],c={},d=0;return{add:f=>l.push(f),remove:f=>c[i(f)]=++d,size:()=>s.length,data:(f,u)=>(d&&(s=s.filter(a=>!c[i(a)]),c={},d=0),u&&f&&s.sort(f),l.length&&(s=f?aU(f,s,l.sort(f)):s.concat(l),l=[]),s)}}function bb(e){ae.call(this,[],e)}bb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};be(bb,ae,{transform(e,t){const n=t.fork(t.ALL),i=e$(Pe,this.value,n.materialize(n.ADD).add),s=e.sort,l=t.changed()||s&&(e.modified("sort")||t.modified(s.fields));return n.visit(n.REM,i.remove),this.modified(l),this.value=n.source=i.data(tf(s),l),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function t$(e){an.call(this,null,lle,e)}be(t$,an);function lle(e){return this.value&&!e.modified()?this.value:ib(e.fields,e.orders)}function Tb(e){ae.call(this,null,e)}Tb.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function cle(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}be(Tb,ae,{transform(e,t){const n=y=>w=>{for(var m=cle(d(w),e.case,l)||[],o,b=0,L=m.length;b<L;++b)c.test(o=m[b])||y(o)},i=this._parameterCheck(e,t),s=this._counts,l=this._match,c=this._stop,d=e.field,f=e.as||["text","count"],u=n(y=>s[y]=1+(s[y]||0)),a=n(y=>s[y]-=1);return i?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,a)),this._finish(t,f)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,i=this._tuples||(this._tuples={}),s=t[0],l=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);let d,f,u;for(d in n)f=i[d],u=n[d]||0,!f&&u?(i[d]=f=$t({}),f[s]=d,f[l]=u,c.add.push(f)):u===0?(f&&c.rem.push(f),n[d]=null,i[d]=null):f[l]!==u&&(f[l]=u,c.mod.push(f));return c.modifies(t)}});function Eb(e){ae.call(this,null,e)}Eb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};be(Eb,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.as||["a","b"],s=i[0],l=i[1],c=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let d=this.value;return c?(d&&(n.rem=d),d=t.materialize(t.SOURCE).source,n.add=this.value=dle(d,s,l,e.filter||rr)):n.mod=d,n.source=this.value,n.modifies(i)}});function dle(e,t,n,i){for(var s=[],l={},c=e.length,d=0,f,u;d<c;++d)for(l[t]=u=e[d],f=0;f<c;++f)l[n]=e[f],i(l)&&(s.push($t(l)),l={},l[t]=u);return s}const _F={kde:O7,mixture:vD,normal:A7,lognormal:ED,uniform:SD},fle="distributions",pF="function",ule="field";function n$(e,t){const n=e[pF];Ue(_F,n)||de("Unknown distribution function: "+n);const i=_F[n]();for(const s in e)s===ule?i.data((e.from||t()).map(e[s])):s===fle?i[s](e[s].map(l=>n$(l,t))):typeof i[s]===pF&&i[s](e[s]);return i}function vb(e){ae.call(this,null,e)}const i$=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],hle={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:i$},{name:"weights",type:"number",array:!0}]};vb.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:i$.concat(hle)},{name:"as",type:"string",array:!0,default:["value","density"]}]};be(vb,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=n$(e.distribution,_le(t)),s=e.steps||e.minsteps||25,l=e.steps||e.maxsteps||200;let c=e.method||"pdf";c!=="pdf"&&c!=="cdf"&&de("Invalid density method: "+c),!e.extent&&!i.data&&de("Missing density extent parameter."),c=i[c];const d=e.as||["value","density"],f=e.extent||ja(i.data()),u=x4(c,f,s,l).map(a=>{const y={};return y[d[0]]=a[0],y[d[1]]=a[1],$t(y)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function _le(e){return()=>e.materialize(e.SOURCE).source}function s$(e,t){return e?e.map((n,i)=>t[i]||Sn(n)):null}function Sb(e,t,n){const i=[],s=y=>y(f);let l,c,d,f,u,a;if(t==null)i.push(e.map(n));else for(l={},c=0,d=e.length;c<d;++c)f=e[c],u=t.map(s),a=l[u],a||(l[u]=a=[],a.dims=u,i.push(a)),a.push(n(f));return i}const r$="bin";function xb(e){ae.call(this,null,e)}xb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:r$}]};const ple=(e,t)=>m0(ja(e,t))/30;be(xb,ae,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,i=Sb(t.source,e.groupby,Ni),s=e.smooth||!1,l=e.field,c=e.step||ple(n,l),d=tf((o,b)=>l(o)-l(b)),f=e.as||r$,u=i.length;let a=1/0,y=-1/0,w=0,m;for(;w<u;++w){const o=i[w].sort(d);m=-1;for(const b of bD(o,c,s,l))b<a&&(a=b),b>y&&(y=b),o[++m][f]=b}return this.value={start:a,stop:y,step:c},t.reflow(!0).modifies(f)}});function a$(e){an.call(this,null,gle,e),this.modified(!0)}be(a$,an);function gle(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Ss(n=>t(n,e),Fi(t),Sn(t))}function kb(e){ae.call(this,[void 0,void 0],e)}kb.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};be(kb,ae,{transform(e,t){const n=this.value,i=e.field,s=t.changed()||t.modified(i.fields)||e.modified("field");let l=n[0],c=n[1];if((s||l==null)&&(l=1/0,c=-1/0),t.visit(s?t.SOURCE:t.ADD,d=>{const f=Si(i(d));f!=null&&(f<l&&(l=f),f>c&&(c=f))}),!Number.isFinite(l)||!Number.isFinite(c)){let d=Sn(i);d&&(d=` for field "${d}"`),t.dataflow.warn(`Infinite extent${d}: [${l}, ${c}]`),l=c=void 0}this.value=[l,c]}});function Bb(e,t){an.call(this,e),this.parent=t,this.count=0}be(Bb,an,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function D4(e){ae.call(this,{},e),this._keys=Lh();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let i=0,s=t.active;i<s;++i)n(t[i],i,t)}}be(D4,ae,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,i){const s=this.value;let l=Ue(s,e)&&s[e],c,d;return l?l.value.stamp<n.stamp&&(l.init(n),this.activate(l)):(d=i||(d=this._group[e])&&d.tuple,c=n.dataflow,l=new Bb(n.fork(n.NO_SOURCE),this),c.add(l).connect(t(c,e,d)),s[e]=l,this.activate(l)),l},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const i=e[n].detachSubflow;i&&i(),delete e[n],++t}if(t){const n=this._targets.filter(i=>i&&i.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,i=e?e.length:0;let s=0;for(;s<i;++s)t[s]=e[s];for(;s<n&&t[s]!=null;++s)t[s]=null;t.active=i},transform(e,t){const n=t.dataflow,i=e.key,s=e.subflow,l=this._keys,c=e.modified("key"),d=f=>this.subflow(f,s,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,f=>{const u=Pe(f),a=l.get(u);a!==void 0&&(l.delete(u),d(a).rem(f))}),t.visit(t.ADD,f=>{const u=i(f);l.set(Pe(f),u),d(u).add(f)}),c||t.modified(i.fields)?t.visit(t.MOD,f=>{const u=Pe(f),a=l.get(u),y=i(f);a===y?d(y).mod(f):(l.set(u,y),d(a).rem(f),d(y).add(f))}):t.changed(t.MOD)&&t.visit(t.MOD,f=>{d(l.get(Pe(f))).mod(f)}),c&&t.visit(t.REFLOW,f=>{const u=Pe(f),a=l.get(u),y=i(f);a!==y&&(l.set(u,y),d(a).rem(f),d(y).add(f))}),t.clean()?n.runAfter(()=>{this.clean(),l.clean()}):l.empty>n.cleanThreshold&&n.runAfter(l.clean),t}});function o$(e){an.call(this,null,yle,e)}be(o$,an);function yle(e){return this.value&&!e.modified()?this.value:he(e.name)?Fe(e.name).map(t=>ms(t)):ms(e.name,e.as)}function Fb(e){ae.call(this,Lh(),e)}Fb.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};be(Fb,ae,{transform(e,t){const n=t.dataflow,i=this.value,s=t.fork(),l=s.add,c=s.rem,d=s.mod,f=e.expr;let u=!0;t.visit(t.REM,y=>{const w=Pe(y);i.has(w)?i.delete(w):c.push(y)}),t.visit(t.ADD,y=>{f(y,e)?l.push(y):i.set(Pe(y),1)});function a(y){const w=Pe(y),m=f(y,e),o=i.get(w);m&&o?(i.delete(w),l.push(y)):!m&&!o?(i.set(w,1),c.push(y)):u&&m&&!o&&d.push(y)}return t.visit(t.MOD,a),e.modified()&&(u=!1,t.visit(t.REFLOW,a)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),s}});function Ib(e){ae.call(this,[],e)}Ib.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};be(Ib,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,s=s$(i,e.as||[]),l=e.index||null,c=s.length;return n.rem=this.value,t.visit(t.SOURCE,d=>{const f=i.map(o=>o(d)),u=f.reduce((o,b)=>Math.max(o,b.length),0);let a=0,y,w,m;for(;a<u;++a){for(w=gb(d),y=0;y<c;++y)w[s[y]]=(m=f[y][a])==null?null:m;l&&(w[l]=a),n.add.push(w)}}),this.value=n.source=n.add,l&&n.modifies(l),n.modifies(s)}});function Mb(e){ae.call(this,[],e)}Mb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};be(Mb,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,s=i.map(Sn),l=e.as||["key","value"],c=l[0],d=l[1],f=i.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let a=0,y;a<f;++a)y=gb(u),y[c]=s[a],y[d]=i[a](u),n.add.push(y)}),this.value=n.source=n.add,n.modifies(l)}});function Ab(e){ae.call(this,null,e)}Ab.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};be(Ab,ae,{transform(e,t){const n=e.expr,i=e.as,s=e.modified(),l=e.initonly?t.ADD:s?t.SOURCE:t.modified(n.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return s&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(l,c=>c[i]=n(c,e))}});function l$(e){ae.call(this,[],e)}be(l$,ae,{transform(e,t){const n=t.fork(t.ALL),i=e.generator;let s=this.value,l=e.size-s.length,c,d,f;if(l>0){for(c=[];--l>=0;)c.push(f=$t(i(e))),s.push(f);n.add=n.add.length?n.materialize(n.ADD).add.concat(c):c}else d=s.slice(0,-l),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(d):d,s=s.slice(-l);return n.source=this.value=s,n}});const C_={value:"value",median:XC,mean:bQ,min:TL,max:dd},mle=[];function Ob(e){ae.call(this,[],e)}Ob.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function wle(e){var t=e.method||C_.value,n;if(C_[t]==null)de("Unrecognized imputation method: "+t);else return t===C_.value?(n=e.value!==void 0?e.value:0,()=>n):C_[t]}function Lle(e){const t=e.field;return n=>n?t(n):NaN}be(Ob,ae,{transform(e,t){var n=t.fork(t.ALL),i=wle(e),s=Lle(e),l=Sn(e.field),c=Sn(e.key),d=(e.groupby||[]).map(Sn),f=ble(t.source,e.groupby,e.key,e.keyvals),u=[],a=this.value,y=f.domain.length,w,m,o,b,L,v,S,x,F,k;for(L=0,x=f.length;L<x;++L)for(w=f[L],o=w.values,m=NaN,S=0;S<y;++S)if(w[S]==null){for(b=f.domain[S],k={_impute:!0},v=0,F=o.length;v<F;++v)k[d[v]]=o[v];k[c]=b,k[l]=Number.isNaN(m)?m=i(w,s):m,u.push($t(k))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),a.length&&(n.rem=n.materialize(n.REM).rem.concat(a)),this.value=u,n}});function ble(e,t,n,i){var s=v=>v(L),l=[],c=i?i.slice():[],d={},f={},u,a,y,w,m,o,b,L;for(c.forEach((v,S)=>d[v]=S+1),w=0,b=e.length;w<b;++w)L=e[w],o=n(L),m=d[o]||(d[o]=c.push(o)),a=(u=t?t.map(s):mle)+"",(y=f[a])||(y=f[a]=[],l.push(y),y.values=u),y[m-1]=L;return l.domain=c,l}function Nb(e){ql.call(this,e)}Nb.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:w0},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};be(Nb,ql,{transform(e,t){const n=this,i=e.modified();let s;return n.value&&(i||t.modified(n._inputs,!0))?(s=n.value=i?n.init(e):{},t.visit(t.SOURCE,l=>n.add(l))):(s=n.value=n.value||this.init(e),t.visit(t.REM,l=>n.rem(l)),t.visit(t.ADD,l=>n.add(l))),n.changes(),t.visit(t.SOURCE,l=>{dt(l,s[n.cellkey(l)].tuple)}),t.reflow(i).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(e[n]),e[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function Cb(e){ae.call(this,null,e)}Cb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};be(Cb,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,s=Sb(i,e.groupby,e.field),l=(e.groupby||[]).map(Sn),c=e.bandwidth,d=e.cumulative?"cdf":"pdf",f=e.as||["value","density"],u=[];let a=e.extent,y=e.steps||e.minsteps||25,w=e.steps||e.maxsteps||200;d!=="pdf"&&d!=="cdf"&&de("Invalid density method: "+d),e.resolve==="shared"&&(a||(a=ja(i,e.field)),y=w=e.steps||w),s.forEach(m=>{const o=O7(m,c)[d],b=e.counts?m.length:1,L=a||ja(m);x4(o,L,y,w).forEach(v=>{const S={};for(let x=0;x<l.length;++x)S[l[x]]=m.dims[x];S[f[0]]=v[0],S[f[1]]=v[1]*b,u.push($t(S))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function c$(e){an.call(this,null,Tle,e)}be(c$,an);function Tle(e){return this.value&&!e.modified()?this.value:rb(e.fields,e.flat)}function d$(e){ae.call(this,[],e),this._pending=null}be(d$,ae,{transform(e,t){const n=t.dataflow;return this._pending?aw(this,t,this._pending):Ele(e)?t.StopPropagation:e.values?aw(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(s=>(this._pending=Fe(s.data),l=>l.touch(this)))}:n.request(e.url,e.format).then(i=>aw(this,t,Fe(i.data)))}});function Ele(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function aw(e,t,n){n.forEach($t);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}function Rb(e){ae.call(this,{},e)}Rb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};be(Rb,ae,{transform(e,t){const n=e.fields,i=e.index,s=e.values,l=e.default==null?null:e.default,c=e.modified(),d=n.length;let f=c?t.SOURCE:t.ADD,u=t,a=e.as,y,w,m;return s?(w=s.length,d>1&&!a&&de('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==d*w&&de('The "as" parameter has too few output field names.'),a=a||s.map(Sn),y=function(o){for(var b=0,L=0,v,S;b<d;++b)if(S=i.get(n[b](o)),S==null)for(v=0;v<w;++v,++L)o[a[L]]=l;else for(v=0;v<w;++v,++L)o[a[L]]=s[v](S)}):(a||de("Missing output field names."),y=function(o){for(var b=0,L;b<d;++b)L=i.get(n[b](o)),o[a[b]]=L??l}),c?u=t.reflow(!0):(m=n.some(o=>t.modified(o.fields)),f|=m?t.MOD:0),t.visit(f,y),u.modifies(a)}});function f$(e){an.call(this,null,vle,e)}be(f$,an);function vle(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let i=1/0,s=-1/0,l,c;for(l=0;l<n;++l)c=t[l],c[0]<i&&(i=c[0]),c[1]>s&&(s=c[1]);return[i,s]}function u$(e){an.call(this,null,Sle,e)}be(u$,an);function Sle(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function h$(e){ae.call(this,null,e)}be(h$,ae,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Pb(e){ql.call(this,e)}Pb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:w0,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};be(Pb,ql,{_transform:ql.prototype.transform,transform(e,t){return this._transform(xle(e,t),t)}});function xle(e,t){const n=e.field,i=e.value,s=(e.op==="count"?"__count__":e.op)||"sum",l=Fi(n).concat(Fi(i)),c=Ble(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:c.map(()=>s),fields:c.map(d=>kle(d,n,i,l)),as:c.map(d=>d+""),modified:e.modified.bind(e)}}function kle(e,t,n,i){return Ss(s=>t(s)===e?n(s):NaN,i,e+"")}function Ble(e,t,n){const i={},s=[];return n.visit(n.SOURCE,l=>{const c=e(l);i[c]||(i[c]=1,s.push(c))}),s.sort(I4),t?s.slice(0,t):s}function _$(e){D4.call(this,e)}be(_$,D4,{transform(e,t){const n=e.subflow,i=e.field,s=l=>this.subflow(Pe(l),n,t,l);return(e.modified("field")||i&&t.modified(Fi(i)))&&de("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,l=>{const c=s(l);i(l).forEach(d=>c.mod(d))}),t.visit(t.ADD,l=>{const c=s(l);i(l).forEach(d=>c.add($t(d)))}),t.visit(t.REM,l=>{const c=s(l);i(l).forEach(d=>c.rem(d))})):(t.visit(t.MOD,l=>s(l).mod(l)),t.visit(t.ADD,l=>s(l).add(l)),t.visit(t.REM,l=>s(l).rem(l))),t.clean()&&t.runAfter(()=>this.clean()),t}});function Db(e){ae.call(this,null,e)}Db.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};be(Db,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,s=s$(e.fields,e.as||[]),l=i?(d,f)=>Fle(d,f,i,s):C4;let c;return this.value?c=this.value:(t=t.addAll(),c=this.value={}),t.visit(t.REM,d=>{const f=Pe(d);n.rem.push(c[f]),c[f]=null}),t.visit(t.ADD,d=>{const f=l(d,$t({}));c[Pe(d)]=f,n.add.push(f)}),t.visit(t.MOD,d=>{n.mod.push(l(d,c[Pe(d)]))}),n}});function Fle(e,t,n,i){for(let s=0,l=n.length;s<l;++s)t[i[s]]=n[s](e);return t}function p$(e){ae.call(this,null,e)}be(p$,ae,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Ub(e){ae.call(this,null,e)}Ub.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Ile=1e-14;be(Ub,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const s=t.materialize(t.SOURCE).source,l=Sb(s,e.groupby,e.field),c=(e.groupby||[]).map(Sn),d=[],f=e.step||.01,u=e.probs||Ns(f/2,1-Ile,f),a=u.length;return l.forEach(y=>{const w=k7(y,u);for(let m=0;m<a;++m){const o={};for(let b=0;b<c.length;++b)o[c[b]]=y.dims[b];o[i[0]]=u[m],o[i[1]]=w[m],d.push($t(o))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d,n}});function g$(e){ae.call(this,null,e)}be(g$,ae,{transform(e,t){let n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,s=>{const l=Pe(s);n.rem.push(i[l]),i[l]=null}),t.visit(t.ADD,s=>{const l=gb(s);i[Pe(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{const l=i[Pe(s)];for(const c in s)l[c]=s[c],n.modifies(c);n.mod.push(l)})),n}});function $b(e){ae.call(this,[],e),this.count=0}$b.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};be($b,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.modified("size"),s=e.size,l=this.value.reduce((a,y)=>(a[Pe(y)]=1,a),{});let c=this.value,d=this.count,f=0;function u(a){let y,w;c.length<s?c.push(a):(w=~~((d+1)*sr()),w<c.length&&w>=f&&(y=c[w],l[Pe(y)]&&n.rem.push(y),c[w]=a)),++d}if(t.rem.length&&(t.visit(t.REM,a=>{const y=Pe(a);l[y]&&(l[y]=-1,n.rem.push(a)),--d}),c=c.filter(a=>l[Pe(a)]!==-1)),(t.rem.length||i)&&c.length<s&&t.source&&(f=d=c.length,t.visit(t.SOURCE,a=>{l[Pe(a)]||u(a)}),f=-1),i&&c.length>s){const a=c.length-s;for(let y=0;y<a;++y)l[Pe(c[y])]=-1,n.rem.push(c[y]);c=c.slice(a)}return t.mod.length&&t.visit(t.MOD,a=>{l[Pe(a)]&&n.mod.push(a)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||f<0)&&(n.add=c.filter(a=>!l[Pe(a)])),this.count=d,this.value=n.source=c,n}});function Hb(e){ae.call(this,null,e)}Hb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};be(Hb,ae,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ns(e.start,e.stop,e.step||1).map(s=>{const l={};return l[i]=s,$t(l)}),n.add=t.add.concat(this.value),n}});function y$(e){ae.call(this,null,e),this.modified(!0)}be(y$,ae,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function zb(e){ae.call(this,null,e)}const m$=["unit0","unit1"];zb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:cb,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:m$}]};be(zb,ae,{transform(e,t){const n=e.field,i=e.interval!==!1,s=e.timezone==="utc",l=this._floor(e,t),c=(s?Th:bh)(l.unit).offset,d=e.as||m$,f=d[0],u=d[1],a=l.step;let y=l.start||1/0,w=l.stop||-1/0,m=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Fi(n)))&&(t=t.reflow(!0),m=t.SOURCE,y=1/0,w=-1/0),t.visit(m,o=>{const b=n(o);let L,v;b==null?(o[f]=null,i&&(o[u]=null)):(o[f]=L=v=l(b),i&&(o[u]=v=c(L,a)),L<y&&(y=L),v>w&&(w=v))}),l.start=y,l.stop=w,t.modifies(i?d:f)},_floor(e,t){const n=e.timezone==="utc",{units:i,step:s}=e.units?{units:e.units,step:e.step||1}:BU({extent:e.extent||ja(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),l=db(i),c=this.value||{},d=(n?wU:mU)(l,s);return d.unit=Bt(l),d.units=l,d.step=s,d.start=c.start,d.stop=c.stop,this.value=d}});function w$(e){ae.call(this,Lh(),e)}be(w$,ae,{transform(e,t){const n=t.dataflow,i=e.field,s=this.value,l=d=>s.set(i(d),d);let c=!0;return e.modified("field")||t.modified(i.fields)?(s.clear(),t.visit(t.SOURCE,l)):t.changed()?(t.visit(t.REM,d=>s.delete(i(d))),t.visit(t.ADD,l)):c=!1,this.modified(c),s.empty>n.cleanThreshold&&n.runAfter(s.clean),t.fork()}});function L$(e){ae.call(this,null,e)}be(L$,ae,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(tf(e.sort)):t.source).map(e.field))}});function Mle(e,t,n,i){const s=v2[e](t,n);return{init:s.init||Ll,update:function(l,c){c[i]=s.next(l)}}}const v2={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?++e:e}}},percent_rank:function(){const e=v2.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,i=t.compare;let s=t.index;if(e<s){for(;s+1<n.length&&!i(n[s],n[s+1]);)++s;e=s}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||de("ntile num must be greater than zero.");const n=v2.cume_dist(),i=n.next;return{init:n.init,next:s=>Math.ceil(t*i(s))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,s=n.data;return i<s.length?e(s[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||de("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const i=e(n.data[n.index]);return i!=null?t=i:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:i=>{const s=i.data;return i.index<=n?t:(n=Ale(e,s,i.index))<0?(n=s.length,t=null):t=e(s[n])}}}};function Ale(e,t,n){for(let i=t.length;n<i;++n)if(e(t[n])!=null)return n;return-1}const Ole=Object.keys(v2);function b$(e){const t=Fe(e.ops),n=Fe(e.fields),i=Fe(e.params),s=Fe(e.as),l=this.outputs=[],c=this.windows=[],d={},f={},u=[],a=[];let y=!0;function w(m){Fe(Fi(m)).forEach(o=>d[o]=1)}w(e.sort),t.forEach((m,o)=>{const b=n[o],L=Sn(b),v=KU(m,L,s[o]);if(w(b),l.push(v),Ue(v2,m))c.push(Mle(m,n[o],i[o],v));else{if(b==null&&m!=="count"&&de("Null aggregate field specified."),m==="count"){u.push(v);return}y=!1;let S=f[L];S||(S=f[L]=[],S.field=b,a.push(S)),S.push(ZU(m,v))}}),(u.length||a.length)&&(this.cell=Nle(a,u,y)),this.inputs=Object.keys(d)}const T$=b$.prototype;T$.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};T$.update=function(e,t){const n=this.cell,i=this.windows,s=e.data,l=i&&i.length;let c;if(n){for(c=e.p0;c<e.i0;++c)n.rem(s[c]);for(c=e.p1;c<e.i1;++c)n.add(s[c]);n.set(t)}for(c=0;c<l;++c)i[c].update(e,t)};function Nle(e,t,n){e=e.map(f=>JU(f,f.field));const i={num:0,agg:null,store:!1,count:t};if(!n)for(var s=e.length,l=i.agg=Array(s),c=0;c<s;++c)l[c]=new e[c](i);if(i.store)var d=i.data=new wb;return i.add=function(f){if(i.num+=1,!n){d&&d.add(f);for(let u=0;u<s;++u)l[u].add(l[u].get(f),f)}},i.rem=function(f){if(i.num-=1,!n){d&&d.rem(f);for(let u=0;u<s;++u)l[u].rem(l[u].get(f),f)}},i.set=function(f){let u,a;for(d&&d.values(),u=0,a=t.length;u<a;++u)f[t[u]]=i.num;if(!n)for(u=0,a=l.length;u<a;++u)l[u].set(f)},i.init=function(){i.num=0,d&&d.reset();for(let f=0;f<s;++f)l[f].init()},i}function jb(e){ae.call(this,{},e),this._mlen=0,this._mods=[]}jb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ole.concat(w0)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};be(jb,ae,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),i=tf(e.sort),s=y5(e.groupby),l=d=>this.group(s(d));let c=this.state;(!c||n)&&(c=this.state=new b$(e)),n||t.modified(c.inputs)?(this.value={},t.visit(t.SOURCE,d=>l(d).add(d))):(t.visit(t.REM,d=>l(d).remove(d)),t.visit(t.ADD,d=>l(d).add(d)));for(let d=0,f=this._mlen;d<f;++d)Cle(this._mods[d],c,i,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(c.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=e$(Pe),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Cle(e,t,n,i){const s=i.sort,l=s&&!i.ignorePeers,c=i.frame||[null,0],d=e.data(n),f=d.length,u=l?a0(s):null,a={i0:0,i1:0,p0:0,p1:0,index:0,data:d,compare:s||Ci(-1)};t.init();for(let y=0;y<f;++y)Rle(a,c,y,f),l&&Ple(a,u),t.update(a,d[y])}function Rle(e,t,n,i){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?i:Math.min(i,n+Math.abs(t[1])+1),e.index=n}function Ple(e,t){const n=e.i0,i=e.i1-1,s=e.compare,l=e.data,c=l.length-1;n>0&&!s(l[n],l[n-1])&&(e.i0=t.left(l,l[n])),i<c&&!s(l[i],l[i+1])&&(e.i1=t.right(l,l[i]))}const Dle=Object.freeze(Object.defineProperty({__proto__:null,aggregate:ql,bin:Lb,collect:bb,compare:t$,countpattern:Tb,cross:Eb,density:vb,dotbin:xb,expression:a$,extent:kb,facet:D4,field:o$,filter:Fb,flatten:Ib,fold:Mb,formula:Ab,generate:l$,impute:Ob,joinaggregate:Nb,kde:Cb,key:c$,load:d$,lookup:Rb,multiextent:f$,multivalues:u$,params:h$,pivot:Pb,prefacet:_$,project:Db,proxy:p$,quantile:Ub,relay:g$,sample:$b,sequence:Hb,sieve:y$,subflow:Bb,timeunit:zb,tupleindex:w$,values:L$,window:jb},Symbol.toStringTag,{value:"Module"}));function L0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Ule=()=>typeof Image<"u"?Image:null;function qb(e,t,n){const i=e-t+n*2;return e?i>0?i:1:0}const $le="identity",$u="linear",qo="log",b0="pow",T0="sqrt",U4="symlog",Id="time",Md="utc",Ia="sequential",Eh="diverging",Hu="quantile",$4="quantize",H4="threshold",Vb="ordinal",m5="point",E$="band",Gb="bin-ordinal",jn="continuous",E0="discrete",v0="discretizing",ur="interpolating",Wb="temporal";function Hle(e){return function(t){let n=t[0],i=t[1],s;return i<n&&(s=n,n=i,i=s),[e.invert(n),e.invert(i)]}}function zle(e){return function(t){const n=e.range();let i=t[0],s=t[1],l=-1,c,d,f,u;for(s<i&&(d=i,i=s,s=d),f=0,u=n.length;f<u;++f)n[f]>=i&&n[f]<=s&&(l<0&&(l=f),c=f);if(!(l<0))return i=e.invertExtent(n[l]),s=e.invertExtent(n[c]),[i[0]===void 0?i[1]:i[0],s[1]===void 0?s[0]:s[1]]}}function Yb(){const e=c7().unknown(void 0),t=e.domain,n=e.range;let i=[0,1],s,l,c=!1,d=0,f=0,u=.5;delete e.unknown;function a(){const y=t().length,w=i[1]<i[0],m=i[1-w],o=qb(y,d,f);let b=i[w-0];s=(m-b)/(o||1),c&&(s=Math.floor(s)),b+=(m-b-s*(y-d))*u,l=s*(1-d),c&&(b=Math.round(b),l=Math.round(l));const L=Ns(y).map(v=>b+s*v);return n(w?L.reverse():L)}return e.domain=function(y){return arguments.length?(t(y),a()):t()},e.range=function(y){return arguments.length?(i=[+y[0],+y[1]],a()):i.slice()},e.rangeRound=function(y){return i=[+y[0],+y[1]],c=!0,a()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(c=!!y,a()):c},e.padding=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),d=f,a()):d},e.paddingInner=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),a()):d},e.paddingOuter=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),a()):f},e.align=function(y){return arguments.length?(u=Math.max(0,Math.min(1,y)),a()):u},e.invertRange=function(y){if(y[0]==null||y[1]==null)return;const w=i[1]<i[0],m=w?n().reverse():n(),o=m.length-1;let b=+y[0],L=+y[1],v,S,x;if(!(b!==b||L!==L)&&(L<b&&(x=b,b=L,L=x),!(L<m[0]||b>i[1-w])))return v=Math.max(0,ng(m,b)-1),S=b===L?v:ng(m,L)-1,b-m[v]>l+1e-10&&++v,w&&(x=v,v=o-S,S=o-x),v>S?void 0:t().slice(v,S+1)},e.invert=function(y){const w=e.invertRange([y,y]);return w&&w[0]},e.copy=function(){return Yb().domain(t()).range(i).round(c).paddingInner(d).paddingOuter(f).align(u)},a()}function v$(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return v$(t())},e}function jle(){return v$(Yb().paddingInner(1))}var qle=Array.prototype.map;function Vle(e){return qle.call(e,Si)}const Gle=Array.prototype.slice;function S$(){let e=[],t=[];function n(i){return i==null||i!==i?void 0:t[(o0(e,i)-1)%t.length]}return n.domain=function(i){return arguments.length?(e=Vle(i),n):e.slice()},n.range=function(i){return arguments.length?(t=Gle.call(i),n):t.slice()},n.tickFormat=function(i,s){return OP(e[0],Bt(e),i??10,s)},n.copy=function(){return S$().domain(n.domain()).range(n.range())},n}const Qg=new Map,x$=Symbol("vega_scale");function k$(e){return e[x$]=!0,e}function Wle(e){return e&&e[x$]===!0}function Yle(e,t,n){const i=function(){const l=t();return l.invertRange||(l.invertRange=l.invert?Hle(l):l.invertExtent?zle(l):void 0),l.type=e,k$(l)};return i.metadata=Vr(Fe(n)),i}function Pt(e,t,n){return arguments.length>1?(Qg.set(e,Yle(e,t,n)),this):B$(e)?Qg.get(e):void 0}Pt($le,NP);Pt($u,d7,jn);Pt(qo,RP,[jn,qo]);Pt(b0,_7,jn);Pt(T0,Wne,jn);Pt(U4,PP,jn);Pt(Id,KP,[jn,Wb]);Pt(Md,lse,[jn,Wb]);Pt(Ia,w7,[jn,ur]);Pt(`${Ia}-${$u}`,w7,[jn,ur]);Pt(`${Ia}-${qo}`,ZP,[jn,ur,qo]);Pt(`${Ia}-${b0}`,L7,[jn,ur]);Pt(`${Ia}-${T0}`,cse,[jn,ur]);Pt(`${Ia}-${U4}`,QP,[jn,ur]);Pt(`${Eh}-${$u}`,JP,[jn,ur]);Pt(`${Eh}-${qo}`,eD,[jn,ur,qo]);Pt(`${Eh}-${b0}`,b7,[jn,ur]);Pt(`${Eh}-${T0}`,dse,[jn,ur]);Pt(`${Eh}-${U4}`,tD,[jn,ur]);Pt(Hu,DP,[v0,Hu]);Pt($4,UP,v0);Pt(H4,$P,v0);Pt(Gb,S$,[E0,v0]);Pt(Vb,c7,E0);Pt(E$,Yb,E0);Pt(m5,jle,E0);function B$(e){return Qg.has(e)}function sf(e,t){const n=Qg.get(e);return n&&n.metadata[t]}function Xb(e){return sf(e,jn)}function zu(e){return sf(e,E0)}function w5(e){return sf(e,v0)}function F$(e){return sf(e,qo)}function Xle(e){return sf(e,Wb)}function I$(e){return sf(e,ur)}function M$(e){return sf(e,Hu)}const Kle=["clamp","base","constant","exponent"];function A$(e,t){const n=t[0],i=Bt(t)-n;return function(s){return e(n+s*i)}}function z4(e,t,n){return W9(Kb(t||"rgb",n),e)}function O$(e,t){const n=new Array(t),i=t+1;for(let s=0;s<t;)n[s]=e(++s/i);return n}function N$(e,t,n){const i=n-t;let s,l,c;return!i||!Number.isFinite(i)?Ci(.5):(s=(l=e.type).indexOf("-"),l=s<0?l:l.slice(s+1),c=Pt(l)().domain([t,n]).range([0,1]),Kle.forEach(d=>e[d]?c[d](e[d]()):0),c)}function Kb(e,t){const n=cJ[Zle(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function Zle(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const Qle={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Jle={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function C$(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}function R$(e,t){for(const n in e)Zb(n,t(e[n]))}const gF={};R$(Jle,C$);R$(Qle,e=>z4(C$(e)));function Zb(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(gF[e]=t,this):gF[e]}const Tp="symbol",ece="discrete",tce="gradient",nce=e=>he(e)?e.map(t=>String(t)):String(e),ice=(e,t)=>e[1]-t[1],sce=(e,t)=>t[1]-e[1];function Qb(e,t,n){let i;return At(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(m0(e.domain())/n||1)))),Ie(t)&&(i=t.step,t=t.interval),ke(t)&&(t=e.type===Id?bh(t):e.type==Md?Th(t):de("Only time and utc scales accept interval strings."),i&&(t=t.every(i))),t}function P$(e,t,n){let i=e.range(),s=i[0],l=Bt(i),c=ice;if(s>l&&(i=l,l=s,s=i,c=sce),s=Math.floor(s),l=Math.ceil(l),t=t.map(d=>[d,e(d)]).filter(d=>s<=d[1]&&d[1]<=l).sort(c).map(d=>d[0]),n>0&&t.length>1){const d=[t[0],Bt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((f,u)=>!(u%2));t.length<3&&(t=d)}return t}function Jb(e,t){return e.bins?P$(e,e.bins):e.ticks?e.ticks(t):e.domain()}function D$(e,t,n,i,s,l){const c=t.type;let d=nce;if(c===Id||s===Id)d=e.timeFormat(i);else if(c===Md||s===Md)d=e.utcFormat(i);else if(F$(c)){const f=e.formatFloat(i);if(l||t.bins)d=f;else{const u=U$(t,n,!1);d=a=>u(a)?f(a):""}}else if(t.tickFormat){const f=t.domain();d=e.formatSpan(f[0],f[f.length-1],n,i)}else i&&(d=e.format(i));return d}function U$(e,t,n){const i=Jb(e,t),s=e.base(),l=Math.log(s),c=Math.max(1,s*t/i.length),d=f=>{let u=f/Math.pow(s,Math.round(Math.log(f)/l));return u*s<s-.5&&(u*=s),u<=c};return n?i.filter(d):d}const L5={[Hu]:"quantiles",[$4]:"thresholds",[H4]:"domain"},$$={[Hu]:"quantiles",[$4]:"domain"};function H$(e,t){return e.bins?oce(e.bins):e.type===qo?U$(e,t,!0):L5[e.type]?ace(e[L5[e.type]]()):Jb(e,t)}function rce(e,t,n){const i=t[$$[t.type]](),s=i.length;let l=s>1?i[1]-i[0]:i[0],c;for(c=1;c<s;++c)l=Math.min(l,i[c]-i[c-1]);return e.formatSpan(0,l,3*10,n)}function ace(e){const t=[-1/0].concat(e);return t.max=1/0,t}function oce(e){const t=e.slice(0,-1);return t.max=Bt(e),t}const lce=e=>L5[e.type]||e.bins;function z$(e,t,n,i,s,l,c){const d=$$[t.type]&&l!==Id&&l!==Md?rce(e,t,s):D$(e,t,n,s,l,c);return i===Tp&&lce(t)?cce(d):i===ece?dce(d):fce(d)}const cce=e=>(t,n,i)=>{const s=yF(i[n+1],yF(i.max,1/0)),l=mF(t,e),c=mF(s,e);return l&&c?l+"  "+c:c?"< "+c:" "+l},yF=(e,t)=>e??t,dce=e=>(t,n)=>n?e(t):null,fce=e=>t=>e(t),mF=(e,t)=>Number.isFinite(e)?t(e):null;function uce(e){const t=e.domain(),n=t.length-1;let i=+t[0],s=+Bt(t),l=s-i;if(e.type===H4){const c=n?l/n:.1;i-=c,s+=c,l=s-i}return c=>(c-i)/l}function hce(e,t,n,i){const s=i||t.type;return ke(n)&&Xle(s)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&s===Id?e.timeFormat("%A, %d %B %Y, %X"):!n&&s===Md?e.utcFormat("%A, %d %B %Y, %X UTC"):z$(e,t,5,null,n,i,!0)}function j$(e,t,n){n=n||{};const i=Math.max(3,n.maxlen||7),s=hce(e,t,n.format,n.formatType);if(w5(t.type)){const l=H$(t).slice(1).map(s),c=l.length;return`${c} boundar${c===1?"y":"ies"}: ${l.join(", ")}`}else if(zu(t.type)){const l=t.domain(),c=l.length,d=c>i?l.slice(0,i-2).map(s).join(", ")+", ending with "+l.slice(-1).map(s):l.map(s).join(", ");return`${c} value${c===1?"":"s"}: ${d}`}else{const l=t.domain();return`values from ${s(l[0])} to ${s(Bt(l))}`}}let q$=0;function _ce(){q$=0}const Jg="p_";function eT(e){return e&&e.gradient}function V$(e,t,n){const i=e.gradient;let s=e.id,l=i==="radial"?Jg:"";return s||(s=e.id="gradient_"+q$++,i==="radial"?(e.x1=oa(e.x1,.5),e.y1=oa(e.y1,.5),e.r1=oa(e.r1,0),e.x2=oa(e.x2,.5),e.y2=oa(e.y2,.5),e.r2=oa(e.r2,.5),l=Jg):(e.x1=oa(e.x1,0),e.y1=oa(e.y1,0),e.x2=oa(e.x2,1),e.y2=oa(e.y2,0))),t[s]=e,"url("+(n||"")+"#"+l+s+")"}function oa(e,t){return e??t}function G$(e,t){var n=[],i;return i={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(s,l){return n.push({offset:s,color:l}),i}}}const wF={basis:{curve:Tse},"basis-closed":{curve:Ese},"basis-open":{curve:vse},bundle:{curve:Sse,tension:"beta",value:.85},cardinal:{curve:xse,tension:"tension",value:0},"cardinal-open":{curve:Bse,tension:"tension",value:0},"cardinal-closed":{curve:kse,tension:"tension",value:0},"catmull-rom":{curve:Fse,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Ise,tension:"alpha",value:.5},"catmull-rom-open":{curve:Mse,tension:"alpha",value:.5},linear:{curve:T7},"linear-closed":{curve:Ase},monotone:{horizontal:Nse,vertical:Ose},natural:{curve:Cse},step:{curve:Rse},"step-after":{curve:Dse},"step-before":{curve:Pse}};function tT(e,t,n){var i=Ue(wF,e)&&wF[e],s=null;return i&&(s=i.curve||i[t||"vertical"],i.tension&&n!=null&&(s=s[i.tension](n))),s}const pce={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},gce=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,yce=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,mce=/^((\s+,?\s*)|(,\s*))/,wce=/^[01]/;function ju(e){const t=[];return(e.match(gce)||[]).forEach(i=>{let s=i[0];const l=s.toLowerCase(),c=pce[l],d=Lce(l,c,i.slice(1).trim()),f=d.length;if(f<c||f&&f%c!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([s,...d.slice(0,c)]),f!==c){l==="m"&&(s=s==="M"?"L":"l");for(let u=c;u<f;u+=c)t.push([s,...d.slice(u,u+c)])}}),t}function Lce(e,t,n){const i=[];for(let s=0;t&&s<n.length;)for(let l=0;l<t;++l){const c=e==="a"&&(l===3||l===4)?wce:yce,d=n.slice(s).match(c);if(d===null)throw Error("Invalid SVG path, incorrect parameter type");s+=d[0].length,i.push(+d[0]);const f=n.slice(s).match(mce);f!==null&&(s+=f[0].length)}return i}const Vl=Math.PI/180,bce=1e-14,Yc=Math.PI/2,va=Math.PI*2,Ef=Math.sqrt(3)/2;var ow={},lw={},W$=[].join;function Tce(e,t,n,i,s,l,c,d,f){const u=W$.call(arguments);if(ow[u])return ow[u];const a=c*Vl,y=Math.sin(a),w=Math.cos(a);n=Math.abs(n),i=Math.abs(i);const m=w*(d-e)*.5+y*(f-t)*.5,o=w*(f-t)*.5-y*(d-e)*.5;let b=m*m/(n*n)+o*o/(i*i);b>1&&(b=Math.sqrt(b),n*=b,i*=b);const L=w/n,v=y/n,S=-y/i,x=w/i,F=L*d+v*f,k=S*d+x*f,A=L*e+v*t,M=S*e+x*t;let R=1/((A-F)*(A-F)+(M-k)*(M-k))-.25;R<0&&(R=0);let D=Math.sqrt(R);l==s&&(D=-D);const U=.5*(F+A)-D*(M-k),X=.5*(k+M)+D*(A-F),j=Math.atan2(k-X,F-U);let V=Math.atan2(M-X,A-U)-j;V<0&&l===1?V+=va:V>0&&l===0&&(V-=va);const W=Math.ceil(Math.abs(V/(Yc+.001))),Z=[];for(let q=0;q<W;++q){const oe=j+q*V/W,fe=j+(q+1)*V/W;Z[q]=[U,X,oe,fe,n,i,y,w]}return ow[u]=Z}function Ece(e){const t=W$.call(e);if(lw[t])return lw[t];var n=e[0],i=e[1],s=e[2],l=e[3],c=e[4],d=e[5],f=e[6],u=e[7];const a=u*c,y=-f*d,w=f*c,m=u*d,o=Math.cos(s),b=Math.sin(s),L=Math.cos(l),v=Math.sin(l),S=.5*(l-s),x=Math.sin(S*.5),F=8/3*x*x/Math.sin(S),k=n+o-F*b,A=i+b+F*o,M=n+L,C=i+v,R=M+F*v,D=C-F*L;return lw[t]=[a*k+y*A,w*k+m*A,a*R+y*D,w*R+m*D,a*M+y*C,w*M+m*C]}const qs=["l",0,0,0,0,0,0,0];function vce(e,t,n){const i=qs[0]=e[0];if(i==="a"||i==="A")qs[1]=t*e[1],qs[2]=n*e[2],qs[3]=e[3],qs[4]=e[4],qs[5]=e[5],qs[6]=t*e[6],qs[7]=n*e[7];else if(i==="h"||i==="H")qs[1]=t*e[1];else if(i==="v"||i==="V")qs[1]=n*e[1];else for(var s=1,l=e.length;s<l;++s)qs[s]=(s%2==1?t:n)*e[s];return qs}function S2(e,t,n,i,s,l){var c,d=null,f=0,u=0,a=0,y=0,w,m,o,b,L=0,v=0;n==null&&(n=0),i==null&&(i=0),s==null&&(s=1),l==null&&(l=s),e.beginPath&&e.beginPath();for(var S=0,x=t.length;S<x;++S){switch(c=t[S],(s!==1||l!==1)&&(c=vce(c,s,l)),c[0]){case"l":f+=c[1],u+=c[2],e.lineTo(f+n,u+i);break;case"L":f=c[1],u=c[2],e.lineTo(f+n,u+i);break;case"h":f+=c[1],e.lineTo(f+n,u+i);break;case"H":f=c[1],e.lineTo(f+n,u+i);break;case"v":u+=c[1],e.lineTo(f+n,u+i);break;case"V":u=c[1],e.lineTo(f+n,u+i);break;case"m":f+=c[1],u+=c[2],L=f,v=u,e.moveTo(f+n,u+i);break;case"M":f=c[1],u=c[2],L=f,v=u,e.moveTo(f+n,u+i);break;case"c":w=f+c[5],m=u+c[6],a=f+c[3],y=u+c[4],e.bezierCurveTo(f+c[1]+n,u+c[2]+i,a+n,y+i,w+n,m+i),f=w,u=m;break;case"C":f=c[5],u=c[6],a=c[3],y=c[4],e.bezierCurveTo(c[1]+n,c[2]+i,a+n,y+i,f+n,u+i);break;case"s":w=f+c[3],m=u+c[4],a=2*f-a,y=2*u-y,e.bezierCurveTo(a+n,y+i,f+c[1]+n,u+c[2]+i,w+n,m+i),a=f+c[1],y=u+c[2],f=w,u=m;break;case"S":w=c[3],m=c[4],a=2*f-a,y=2*u-y,e.bezierCurveTo(a+n,y+i,c[1]+n,c[2]+i,w+n,m+i),f=w,u=m,a=c[1],y=c[2];break;case"q":w=f+c[3],m=u+c[4],a=f+c[1],y=u+c[2],e.quadraticCurveTo(a+n,y+i,w+n,m+i),f=w,u=m;break;case"Q":w=c[3],m=c[4],e.quadraticCurveTo(c[1]+n,c[2]+i,w+n,m+i),f=w,u=m,a=c[1],y=c[2];break;case"t":w=f+c[1],m=u+c[2],d[0].match(/[QqTt]/)===null?(a=f,y=u):d[0]==="t"?(a=2*f-o,y=2*u-b):d[0]==="q"&&(a=2*f-a,y=2*u-y),o=a,b=y,e.quadraticCurveTo(a+n,y+i,w+n,m+i),f=w,u=m,a=f+c[1],y=u+c[2];break;case"T":w=c[1],m=c[2],a=2*f-a,y=2*u-y,e.quadraticCurveTo(a+n,y+i,w+n,m+i),f=w,u=m;break;case"a":LF(e,f+n,u+i,[c[1],c[2],c[3],c[4],c[5],c[6]+f+n,c[7]+u+i]),f+=c[6],u+=c[7];break;case"A":LF(e,f+n,u+i,[c[1],c[2],c[3],c[4],c[5],c[6]+n,c[7]+i]),f=c[6],u=c[7];break;case"z":case"Z":f=L,u=v,e.closePath();break}d=c}}function LF(e,t,n,i){const s=Tce(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n);for(let l=0;l<s.length;++l){const c=Ece(s[l]);e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5])}}const bF=.5773502691896257,TF={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,va)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,s=n/2.5,l=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-l),e.lineTo(s,-l),e.lineTo(0,-n),e.lineTo(-s,-l),e.lineTo(-i,-l),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n,s=i-n*bF,l=n/4;e.moveTo(0,-i-s),e.lineTo(-l,i-s),e.lineTo(l,i-s),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n,s=i-n*bF;e.moveTo(0,-i-s),e.lineTo(-n,i-s),e.lineTo(n,i-s),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Ef*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Y$(e){return Ue(TF,e)?TF[e]:Sce(e)}var cw={};function Sce(e){if(!Ue(cw,e)){const t=ju(e);cw[e]={draw:function(n,i){S2(n,t,0,0,Math.sqrt(i)/2)}}}return cw[e]}const ol=.448084975506;function xce(e){return e.x}function kce(e){return e.y}function Bce(e){return e.width}function Fce(e){return e.height}function uo(e){return typeof e=="function"?e:()=>+e}function R_(e,t,n){return Math.max(t,Math.min(e,n))}function X$(){var e=xce,t=kce,n=Bce,i=Fce,s=uo(0),l=s,c=s,d=s,f=null;function u(a,y,w){var m,o=y??+e.call(this,a),b=w??+t.call(this,a),L=+n.call(this,a),v=+i.call(this,a),S=Math.min(L,v)/2,x=R_(+s.call(this,a),0,S),F=R_(+l.call(this,a),0,S),k=R_(+c.call(this,a),0,S),A=R_(+d.call(this,a),0,S);if(f||(f=m=a4()),x<=0&&F<=0&&k<=0&&A<=0)f.rect(o,b,L,v);else{var M=o+L,C=b+v;f.moveTo(o+x,b),f.lineTo(M-F,b),f.bezierCurveTo(M-ol*F,b,M,b+ol*F,M,b+F),f.lineTo(M,C-A),f.bezierCurveTo(M,C-ol*A,M-ol*A,C,M-A,C),f.lineTo(o+k,C),f.bezierCurveTo(o+ol*k,C,o,C-ol*k,o,C-k),f.lineTo(o,b+x),f.bezierCurveTo(o,b+ol*x,o+ol*x,b,o+x,b),f.closePath()}if(m)return f=null,m+""||null}return u.x=function(a){return arguments.length?(e=uo(a),u):e},u.y=function(a){return arguments.length?(t=uo(a),u):t},u.width=function(a){return arguments.length?(n=uo(a),u):n},u.height=function(a){return arguments.length?(i=uo(a),u):i},u.cornerRadius=function(a,y,w,m){return arguments.length?(s=uo(a),l=y!=null?uo(y):s,d=w!=null?uo(w):s,c=m!=null?uo(m):l,u):s},u.context=function(a){return arguments.length?(f=a??null,u):f},u}function K$(){var e,t,n,i,s=null,l,c,d,f;function u(y,w,m){const o=m/2;if(l){var b=d-w,L=y-c;if(b||L){var v=Math.sqrt(b*b+L*L),S=(b/=v)*f,x=(L/=v)*f,F=Math.atan2(L,b);s.moveTo(c-S,d-x),s.lineTo(y-b*o,w-L*o),s.arc(y,w,o,F-Math.PI,F),s.lineTo(c+S,d+x),s.arc(c,d,f,F,F+Math.PI)}else s.arc(y,w,o,0,va);s.closePath()}else l=1;c=y,d=w,f=o}function a(y){var w,m=y.length,o,b=!1,L;for(s==null&&(s=L=a4()),w=0;w<=m;++w)!(w<m&&i(o=y[w],w,y))===b&&(b=!b)&&(l=0),b&&u(+e(o,w,y),+t(o,w,y),+n(o,w,y));if(L)return s=null,L+""||null}return a.x=function(y){return arguments.length?(e=y,a):e},a.y=function(y){return arguments.length?(t=y,a):t},a.size=function(y){return arguments.length?(n=y,a):n},a.defined=function(y){return arguments.length?(i=y,a):i},a.context=function(y){return arguments.length?(y==null?s=null:s=y,a):s},a}function S0(e,t){return e??t}const x0=e=>e.x||0,k0=e=>e.y||0,Ice=e=>e.width||0,Mce=e=>e.height||0,Ace=e=>(e.x||0)+(e.width||0),Oce=e=>(e.y||0)+(e.height||0),Nce=e=>e.startAngle||0,Cce=e=>e.endAngle||0,Rce=e=>e.padAngle||0,Pce=e=>e.innerRadius||0,Dce=e=>e.outerRadius||0,Uce=e=>e.cornerRadius||0,$ce=e=>S0(e.cornerRadiusTopLeft,e.cornerRadius)||0,Hce=e=>S0(e.cornerRadiusTopRight,e.cornerRadius)||0,zce=e=>S0(e.cornerRadiusBottomRight,e.cornerRadius)||0,jce=e=>S0(e.cornerRadiusBottomLeft,e.cornerRadius)||0,qce=e=>S0(e.size,64),Vce=e=>e.size||1,j4=e=>e.defined!==!1,Gce=e=>Y$(e.shape||"circle"),Wce=wse().startAngle(Nce).endAngle(Cce).padAngle(Rce).innerRadius(Pce).outerRadius(Dce).cornerRadius(Uce),Yce=lD().x(x0).y1(k0).y0(Oce).defined(j4),Xce=lD().y(k0).x1(x0).x0(Ace).defined(j4),Kce=oD().x(x0).y(k0).defined(j4),Zce=X$().x(x0).y(k0).width(Ice).height(Mce).cornerRadius($ce,Hce,zce,jce),Qce=bse().type(Gce).size(qce),Jce=K$().x(x0).y(k0).defined(j4).size(Vce);function nT(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function ede(e,t){return Wce.context(e)(t)}function tde(e,t){const n=t[0],i=n.interpolate||"linear";return(n.orient==="horizontal"?Xce:Yce).curve(tT(i,n.orient,n.tension)).context(e)(t)}function nde(e,t){const n=t[0],i=n.interpolate||"linear";return Kce.curve(tT(i,n.orient,n.tension)).context(e)(t)}function vh(e,t,n,i){return Zce.context(e)(t,n,i)}function ide(e,t){return(t.mark.shape||t.shape).context(e)(t)}function sde(e,t){return Qce.context(e)(t)}function rde(e,t){return Jce.context(e)(t)}var Z$=1;function Q$(){Z$=1}function iT(e,t,n){var i=t.clip,s=e._defs,l=t.clip_id||(t.clip_id="clip"+Z$++),c=s.clipping[l]||(s.clipping[l]={id:l});return ft(i)?c.path=i(null):nT(n)?c.path=vh(null,n,0,0):(c.width=n.width||0,c.height=n.height||0),"url(#"+l+")"}function On(e){this.clear(),e&&this.union(e)}On.prototype={clone(){return new On(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:s,x2:l,y2:c}=this,d=Math.cos(e),f=Math.sin(e),u=t-t*d+n*f,a=n-t*f-n*d;return[d*i-f*s+u,f*i+d*s+a,d*i-f*c+u,f*i+d*c+a,d*l-f*s+u,f*l+d*s+a,d*l-f*c+u,f*l+d*c+a]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function q4(e){this.mark=e,this.bounds=this.bounds||new On}function V4(e){q4.call(this,e),this.items=this.items||[]}be(V4,q4);function sT(e){this._pending=0,this._loader=e||A4()}function EF(e){e._pending+=1}function Yh(e){e._pending-=1}sT.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return EF(t),t._loader.sanitize(e,{context:"href"}).then(n=>(Yh(t),n)).catch(()=>(Yh(t),null))},loadImage(e){const t=this,n=Ule();return EF(t),t._loader.sanitize(e,{context:"image"}).then(i=>{const s=i.href;if(!s||!n)throw{url:s};const l=new n,c=Ue(i,"crossOrigin")?i.crossOrigin:"anonymous";return c!=null&&(l.crossOrigin=c),l.onload=()=>Yh(t),l.onerror=()=>Yh(t),l.src=s,l}).catch(i=>(Yh(t),{complete:!1,width:0,height:0,src:i&&i.url||""}))},ready(){const e=this;return new Promise(t=>{function n(i){e.pending()?setTimeout(()=>{n(!0)},10):t(i)}n(!1)})}};function Xo(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const i=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(i+(n?ade(t,i):0))}return e}function ade(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const ode=va-1e-8;let G4,Ep,vp,ld,b5,Sp,T5,E5;const Tl=(e,t)=>G4.add(e,t),xp=(e,t)=>Tl(Ep=e,vp=t),vF=e=>Tl(e,G4.y1),SF=e=>Tl(G4.x1,e),Xc=(e,t)=>b5*e+T5*t,Kc=(e,t)=>Sp*e+E5*t,dw=(e,t)=>Tl(Xc(e,t),Kc(e,t)),fw=(e,t)=>xp(Xc(e,t),Kc(e,t));function B0(e,t){return G4=e,t?(ld=t*Vl,b5=E5=Math.cos(ld),Sp=Math.sin(ld),T5=-Sp):(b5=E5=1,ld=Sp=T5=0),lde}const lde={beginPath(){},closePath(){},moveTo:fw,lineTo:fw,rect(e,t,n,i){ld?(dw(e+n,t),dw(e+n,t+i),dw(e,t+i),fw(e,t)):(Tl(e+n,t+i),xp(e,t))},quadraticCurveTo(e,t,n,i){const s=Xc(e,t),l=Kc(e,t),c=Xc(n,i),d=Kc(n,i);xF(Ep,s,c,vF),xF(vp,l,d,SF),xp(c,d)},bezierCurveTo(e,t,n,i,s,l){const c=Xc(e,t),d=Kc(e,t),f=Xc(n,i),u=Kc(n,i),a=Xc(s,l),y=Kc(s,l);kF(Ep,c,f,a,vF),kF(vp,d,u,y,SF),xp(a,y)},arc(e,t,n,i,s,l){if(i+=ld,s+=ld,Ep=n*Math.cos(s)+e,vp=n*Math.sin(s)+t,Math.abs(s-i)>ode)Tl(e-n,t-n),Tl(e+n,t+n);else{const c=u=>Tl(n*Math.cos(u)+e,n*Math.sin(u)+t);let d,f;if(c(i),c(s),s!==i)if(i=i%va,i<0&&(i+=va),s=s%va,s<0&&(s+=va),s<i&&(l=!l,d=i,i=s,s=d),l)for(s-=va,d=i-i%Yc,f=0;f<4&&d>s;++f,d-=Yc)c(d);else for(d=i-i%Yc+Yc,f=0;f<4&&d<s;++f,d=d+Yc)c(d)}}};function xF(e,t,n,i){const s=(e-t)/(e+n-2*t);0<s&&s<1&&i(e+(t-e)*s)}function kF(e,t,n,i,s){const l=i-e+3*t-3*n,c=e+n-2*t,d=e-t;let f=0,u=0,a;Math.abs(l)>bce?(a=c*c+d*l,a>=0&&(a=Math.sqrt(a),f=(-c+a)/l,u=(-c-a)/l)):f=.5*d/c,0<f&&f<1&&s(BF(f,e,t,n,i)),0<u&&u<1&&s(BF(u,e,t,n,i))}function BF(e,t,n,i,s){const l=1-e,c=l*l,d=e*e;return c*l*t+3*c*e*n+3*l*d*i+d*e*s}var Nl=(Nl=L0(1,1))?Nl.getContext("2d"):null;const v5=new On;function rT(e){return function(t,n){if(!Nl)return!0;e(Nl,t),v5.clear().union(t.bounds).intersect(n).round();const{x1:i,y1:s,x2:l,y2:c}=v5;for(let d=s;d<=c;++d)for(let f=i;f<=l;++f)if(Nl.isPointInPath(f,d))return!0;return!1}}function aT(e,t){return t.contains(e.x||0,e.y||0)}function J$(e,t){const n=e.x||0,i=e.y||0,s=e.width||0,l=e.height||0;return t.intersects(v5.set(n,i,n+s,i+l))}function eH(e,t){const n=e.x||0,i=e.y||0,s=e.x2!=null?e.x2:n,l=e.y2!=null?e.y2:i;return Xf(t,n,i,s,l)}function Xf(e,t,n,i,s){const{x1:l,y1:c,x2:d,y2:f}=e,u=i-t,a=s-n;let y=0,w=1,m,o,b,L;for(L=0;L<4;++L){if(L===0&&(m=-u,o=-(l-t)),L===1&&(m=u,o=d-t),L===2&&(m=-a,o=-(c-n)),L===3&&(m=a,o=f-n),Math.abs(m)<1e-10&&o<0)return!1;if(b=o/m,m<0){if(b>w)return!1;b>y&&(y=b)}else if(m>0){if(b<y)return!1;b<w&&(w=b)}}return!0}function qu(e,t){e.globalCompositeOperation=t.blend||"source-over"}function gr(e,t){return e??t}function FF(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function cde(e,t,n){const i=n.width(),s=n.height();let l;if(t.gradient==="radial")l=e.createRadialGradient(n.x1+gr(t.x1,.5)*i,n.y1+gr(t.y1,.5)*s,Math.max(i,s)*gr(t.r1,0),n.x1+gr(t.x2,.5)*i,n.y1+gr(t.y2,.5)*s,Math.max(i,s)*gr(t.r2,.5));else{const c=gr(t.x1,0),d=gr(t.y1,0),f=gr(t.x2,1),u=gr(t.y2,0);if(c===f||d===u||i===s)l=e.createLinearGradient(n.x1+c*i,n.y1+d*s,n.x1+f*i,n.y1+u*s);else{const a=L0(Math.ceil(i),Math.ceil(s)),y=a.getContext("2d");return y.scale(i,s),y.fillStyle=FF(y.createLinearGradient(c,d,f,u),t.stops),y.fillRect(0,0,i,s),e.createPattern(a,"no-repeat")}}return FF(l,t.stops)}function tH(e,t,n){return eT(n)?cde(e,n,t.bounds):n}function ey(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=tH(e,t,t.fill),!0):!1}var dde=[];function Vu(e,t,n){var i=(i=t.strokeWidth)!=null?i:1;return i<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=tH(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||dde),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function fde(e,t){return e.zindex-t.zindex||e.index-t.index}function oT(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],i,s,l;for(s=0,l=t.length;s<l;++s)i=t[s],i.index=s,i.zindex&&n.push(i);return e.zdirty=!1,e.zitems=n.sort(fde)}function Wr(e,t){var n=e.items,i,s;if(!n||!n.length)return;const l=oT(e);if(l&&l.length){for(i=0,s=n.length;i<s;++i)n[i].zindex||t(n[i]);n=l}for(i=0,s=n.length;i<s;++i)t(n[i])}function ty(e,t){var n=e.items,i,s;if(!n||!n.length)return null;const l=oT(e);for(l&&l.length&&(n=l),s=n.length;--s>=0;)if(i=t(n[s]))return i;if(n===l){for(n=e.items,s=n.length;--s>=0;)if(!n[s].zindex&&(i=t(n[s])))return i}return null}function lT(e){return function(t,n,i){Wr(n,s=>{(!i||i.intersects(s.bounds))&&nH(e,t,s,s)})}}function ude(e){return function(t,n,i){n.items.length&&(!i||i.intersects(n.bounds))&&nH(e,t,n.items[0],n.items)}}function nH(e,t,n,i){var s=n.opacity==null?1:n.opacity;s!==0&&(e(t,i)||(qu(t,n),n.fill&&ey(t,n,s)&&t.fill(),n.stroke&&Vu(t,n,s)&&t.stroke()))}function W4(e){return e=e||rr,function(t,n,i,s,l,c){return i*=t.pixelRatio,s*=t.pixelRatio,ty(n,d=>{const f=d.bounds;if(!(f&&!f.contains(l,c)||!f)&&e(t,d,i,s,l,c))return d})}}function F0(e,t){return function(n,i,s,l){var c=Array.isArray(i)?i[0]:i,d=t??c.fill,f=c.stroke&&n.isPointInStroke,u,a;return f&&(u=c.strokeWidth,a=c.strokeCap,n.lineWidth=u??1,n.lineCap=a??"butt"),e(n,i)?!1:d&&n.isPointInPath(s,l)||f&&n.isPointInStroke(s,l)}}function cT(e){return W4(F0(e))}function _d(e,t){return"translate("+e+","+t+")"}function dT(e){return"rotate("+e+")"}function hde(e,t){return"scale("+e+","+t+")"}function iH(e){return _d(e.x||0,e.y||0)}function _de(e){return _d(e.x||0,e.y||0)+(e.angle?" "+dT(e.angle):"")}function pde(e){return _d(e.x||0,e.y||0)+(e.angle?" "+dT(e.angle):"")+(e.scaleX||e.scaleY?" "+hde(e.scaleX||1,e.scaleY||1):"")}function fT(e,t,n){function i(c,d){c("transform",_de(d)),c("d",t(null,d))}function s(c,d){return t(B0(c,d.angle),d),Xo(c,d).translate(d.x||0,d.y||0)}function l(c,d){var f=d.x||0,u=d.y||0,a=d.angle||0;c.translate(f,u),a&&c.rotate(a*=Vl),c.beginPath(),t(c,d),a&&c.rotate(-a),c.translate(-f,-u)}return{type:e,tag:"path",nested:!1,attr:i,bound:s,draw:lT(l),pick:cT(l),isect:n||rT(l)}}var gde=fT("arc",ede);function yde(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],i=e[0].orient==="horizontal"?"y":"x",s=e.length,l=1/0,c,d;--s>=0;)e[s].defined!==!1&&(d=Math.abs(e[s][i]-n),d<l&&(l=d,c=e[s]));return c}function mde(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),i=e.length,s,l,c;--i>=0;)if(e[i].defined!==!1&&(s=e[i].x-t[0],l=e[i].y-t[1],c=s*s+l*l,c<n))return e[i];return null}function wde(e,t){for(var n=e.length,i,s,l;--n>=0;)if(e[n].defined!==!1&&(i=e[n].x-t[0],s=e[n].y-t[1],l=i*i+s*s,i=e[n].size||1,l<i*i))return e[n];return null}function uT(e,t,n){function i(f,u){var a=u.mark.items;a.length&&f("d",t(null,a))}function s(f,u){var a=u.items;return a.length===0?f:(t(B0(f),a),Xo(f,a[0]))}function l(f,u){f.beginPath(),t(f,u)}const c=F0(l);function d(f,u,a,y,w,m){var o=u.items,b=u.bounds;return!o||!o.length||b&&!b.contains(w,m)?null:(a*=f.pixelRatio,y*=f.pixelRatio,c(f,o,a,y)?o[0]:null)}return{type:e,tag:"path",nested:!0,attr:i,bound:s,draw:ude(l),pick:d,isect:aT,tip:n}}var Lde=uT("area",tde,yde);function bde(e,t){var n=t.clip;e.save(),ft(n)?(e.beginPath(),n(e),e.clip()):sH(e,t.group)}function sH(e,t){e.beginPath(),nT(t)?vh(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function rH(e){const t=gr(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Tde(e,t){e("transform",iH(t))}function aH(e,t){const n=rH(t);e("d",vh(null,t,n,n))}function Ede(e,t){e("class","background"),e("aria-hidden",!0),aH(e,t)}function vde(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?aH(e,t):e("d","")}function Sde(e,t,n){const i=t.clip?iT(n,t,t):null;e("clip-path",i)}function xde(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let s=0;s<i;++s)e.union(n[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Xo(e,t),e.translate(t.x||0,t.y||0)}function x2(e,t,n,i){const s=rH(t);e.beginPath(),vh(e,t,(n||0)+s,(i||0)+s)}const kde=F0(x2),Bde=F0(x2,!1),Fde=F0(x2,!0);function Ide(e,t,n){Wr(t,i=>{const s=i.x||0,l=i.y||0,c=i.strokeForeground,d=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&d&&(x2(e,i,s,l),qu(e,i),i.fill&&ey(e,i,d)&&e.fill(),i.stroke&&!c&&Vu(e,i,d)&&e.stroke()),e.save(),e.translate(s,l),i.clip&&sH(e,i),n&&n.translate(-s,-l),Wr(i,f=>{this.draw(e,f,n)}),n&&n.translate(s,l),e.restore(),c&&i.stroke&&d&&(x2(e,i,s,l),qu(e,i),Vu(e,i,d)&&e.stroke())})}function Mde(e,t,n,i,s,l){if(t.bounds&&!t.bounds.contains(s,l)||!t.items)return null;const c=n*e.pixelRatio,d=i*e.pixelRatio;return ty(t,f=>{let u,a,y;const w=f.bounds;if(w&&!w.contains(s,l))return;a=f.x||0,y=f.y||0;const m=a+(f.width||0),o=y+(f.height||0),b=f.clip;if(b&&(s<a||s>m||l<y||l>o))return;if(e.save(),e.translate(a,y),a=s-a,y=l-y,b&&nT(f)&&!Fde(e,f,c,d))return e.restore(),null;const L=f.strokeForeground,v=t.interactive!==!1;return v&&L&&f.stroke&&Bde(e,f,c,d)?(e.restore(),f):(u=ty(f,S=>Ade(S,a,y)?this.pick(S,n,i,a,y):null),!u&&v&&(f.fill||!L&&f.stroke)&&kde(e,f,c,d)&&(u=f),e.restore(),u||null)})}function Ade(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var Ode={type:"group",tag:"g",nested:!1,attr:Tde,bound:xde,draw:Ide,pick:Mde,isect:J$,content:Sde,background:Ede,foreground:vde},k2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function hT(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(i=>{e.image=i,e.image.url=e.url})),n}function _T(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function pT(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function Y4(e,t){return e==="center"?t/2:e==="right"?t:0}function X4(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function Nde(e,t,n){const i=hT(t,n),s=_T(t,i),l=pT(t,i),c=(t.x||0)-Y4(t.align,s),d=(t.y||0)-X4(t.baseline,l),f=!i.src&&i.toDataURL?i.toDataURL():i.src||"";e("href",f,k2["xmlns:xlink"],"xlink:href"),e("transform",_d(c,d)),e("width",s),e("height",l),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Cde(e,t){const n=t.image,i=_T(t,n),s=pT(t,n),l=(t.x||0)-Y4(t.align,i),c=(t.y||0)-X4(t.baseline,s);return e.set(l,c,l+i,c+s)}function Rde(e,t,n){Wr(t,i=>{if(n&&!n.intersects(i.bounds))return;const s=hT(i,this);let l=_T(i,s),c=pT(i,s);if(l===0||c===0)return;let d=(i.x||0)-Y4(i.align,l),f=(i.y||0)-X4(i.baseline,c),u,a,y,w;i.aspect!==!1&&(a=s.width/s.height,y=i.width/i.height,a===a&&y===y&&a!==y&&(y<a?(w=l/a,f+=(c-w)/2,c=w):(w=c*a,d+=(l-w)/2,l=w))),(s.complete||s.toDataURL)&&(qu(e,i),e.globalAlpha=(u=i.opacity)!=null?u:1,e.imageSmoothingEnabled=i.smooth!==!1,e.drawImage(s,d,f,l,c))})}var Pde={type:"image",tag:"image",nested:!1,attr:Nde,bound:Cde,draw:Rde,pick:W4(),isect:rr,get:hT,xOffset:Y4,yOffset:X4},Dde=uT("line",nde,mde);function Ude(e,t){var n=t.scaleX||1,i=t.scaleY||1;(n!==1||i!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",pde(t)),e("d",t.path)}function kp(e,t){var n=t.path;if(n==null)return!0;var i=t.x||0,s=t.y||0,l=t.scaleX||1,c=t.scaleY||1,d=(t.angle||0)*Vl,f=t.pathCache;(!f||f.path!==n)&&((t.pathCache=f=ju(n)).path=n),d&&e.rotate&&e.translate?(e.translate(i,s),e.rotate(d),S2(e,f,0,0,l,c),e.rotate(-d),e.translate(-i,-s)):S2(e,f,i,s,l,c)}function $de(e,t){return kp(B0(e,t.angle),t)?e.set(0,0,0,0):Xo(e,t,!0)}var Hde={type:"path",tag:"path",nested:!1,attr:Ude,bound:$de,draw:lT(kp),pick:cT(kp),isect:rT(kp)};function zde(e,t){e("d",vh(null,t))}function jde(e,t){var n,i;return Xo(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)}function IF(e,t){e.beginPath(),vh(e,t)}var qde={type:"rect",tag:"path",nested:!1,attr:zde,bound:jde,draw:lT(IF),pick:cT(IF),isect:J$};function Vde(e,t){e("transform",iH(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function Gde(e,t){var n,i;return Xo(e.set(n=t.x||0,i=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:i),t)}function oH(e,t,n){var i,s,l,c;return t.stroke&&Vu(e,t,n)?(i=t.x||0,s=t.y||0,l=t.x2!=null?t.x2:i,c=t.y2!=null?t.y2:s,e.beginPath(),e.moveTo(i,s),e.lineTo(l,c),!0):!1}function Wde(e,t,n){Wr(t,i=>{if(!(n&&!n.intersects(i.bounds))){var s=i.opacity==null?1:i.opacity;s&&oH(e,i,s)&&(qu(e,i),e.stroke())}})}function Yde(e,t,n,i){return e.isPointInStroke?oH(e,t,1)&&e.isPointInStroke(n,i):!1}var Xde={type:"rule",tag:"line",nested:!1,attr:Vde,bound:Gde,draw:Wde,pick:W4(Yde),isect:eH},Kde=fT("shape",ide),Zde=fT("symbol",sde,aT);const MF=rU();var Ur={height:to,measureWidth:gT,estimateWidth:S5,width:S5,canvas:lH};lH(!0);function lH(e){Ur.width=e&&Nl?gT:S5}function S5(e,t){return cH(Wl(e,t),to(e))}function cH(e,t){return~~(.8*e.length*t)}function gT(e,t){return to(e)<=0||!(t=Wl(e,t))?0:dH(t,K4(e))}function dH(e,t){const n=`(${t}) ${e}`;let i=MF.get(n);return i===void 0&&(Nl.font=t,i=Nl.measureText(e).width,MF.set(n,i)),i}function to(e){return e.fontSize!=null?+e.fontSize||0:11}function Gl(e){return e.lineHeight!=null?e.lineHeight:to(e)+2}function Qde(e){return he(e)?e.length>1?e:e[0]:e}function I0(e){return Qde(e.lineBreak&&e.text&&!he(e.text)?e.text.split(e.lineBreak):e.text)}function yT(e){const t=I0(e);return(he(t)?t.length-1:0)*Gl(e)}function Wl(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?efe(e,n):n}function Jde(e){if(Ur.width===gT){const t=K4(e);return n=>dH(n,t)}else{const t=to(e);return n=>cH(n,t)}}function efe(e,t){var n=+e.limit,i=Jde(e);if(i(t)<n)return t;var s=e.ellipsis||"",l=e.dir==="rtl",c=0,d=t.length,f;if(n-=i(s),l){for(;c<d;)f=c+d>>>1,i(t.slice(f))>n?c=f+1:d=f;return s+t.slice(c)}else{for(;c<d;)f=1+(c+d>>>1),i(t.slice(0,f))<n?c=f:d=f-1;return t.slice(0,c)+s}}function M0(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function K4(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+to(e)+"px "+M0(e,t)}function mT(e){var t=e.baseline,n=to(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Gl(e):t==="line-bottom"?.29*n-.5*Gl(e):0)}const tfe={left:"start",center:"middle",right:"end"},q1=new On;function Z4(e){var t=e.x||0,n=e.y||0,i=e.radius||0,s;return i&&(s=(e.theta||0)-Yc,t+=i*Math.cos(s),n+=i*Math.sin(s)),q1.x1=t,q1.y1=n,q1}function nfe(e,t){var n=t.dx||0,i=(t.dy||0)+mT(t),s=Z4(t),l=s.x1,c=s.y1,d=t.angle||0,f;e("text-anchor",tfe[t.align]||"start"),d?(f=_d(l,c)+" "+dT(d),(n||i)&&(f+=" "+_d(n,i))):f=_d(l+n,c+i),e("transform",f)}function wT(e,t,n){var i=Ur.height(t),s=t.align,l=Z4(t),c=l.x1,d=l.y1,f=t.dx||0,u=(t.dy||0)+mT(t)-Math.round(.8*i),a=I0(t),y;if(he(a)?(i+=Gl(t)*(a.length-1),y=a.reduce((w,m)=>Math.max(w,Ur.width(t,m)),0)):y=Ur.width(t,a),s==="center"?f-=y/2:s==="right"&&(f-=y),e.set(f+=c,u+=d,f+y,u+i),t.angle&&!n)e.rotate(t.angle*Vl,c,d);else if(n===2)return e.rotatedPoints(t.angle*Vl,c,d);return e}function ife(e,t,n){Wr(t,i=>{var s=i.opacity==null?1:i.opacity,l,c,d,f,u,a,y;if(!(n&&!n.intersects(i.bounds)||s===0||i.fontSize<=0||i.text==null||i.text.length===0)){if(e.font=K4(i),e.textAlign=i.align||"left",l=Z4(i),c=l.x1,d=l.y1,i.angle&&(e.save(),e.translate(c,d),e.rotate(i.angle*Vl),c=d=0),c+=i.dx||0,d+=(i.dy||0)+mT(i),a=I0(i),qu(e,i),he(a))for(u=Gl(i),f=0;f<a.length;++f)y=Wl(i,a[f]),i.fill&&ey(e,i,s)&&e.fillText(y,c,d),i.stroke&&Vu(e,i,s)&&e.strokeText(y,c,d),d+=u;else y=Wl(i,a),i.fill&&ey(e,i,s)&&e.fillText(y,c,d),i.stroke&&Vu(e,i,s)&&e.strokeText(y,c,d);i.angle&&e.restore()}})}function sfe(e,t,n,i,s,l){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var c=Z4(t),d=c.x1,f=c.y1,u=wT(q1,t,1),a=-t.angle*Vl,y=Math.cos(a),w=Math.sin(a),m=y*s-w*l+(d-y*d+w*f),o=w*s+y*l+(f-w*d-y*f);return u.contains(m,o)}function rfe(e,t){const n=wT(q1,e,2);return Xf(t,n[0],n[1],n[2],n[3])||Xf(t,n[0],n[1],n[4],n[5])||Xf(t,n[4],n[5],n[6],n[7])||Xf(t,n[2],n[3],n[6],n[7])}var afe={type:"text",tag:"text",nested:!1,attr:nfe,bound:wT,draw:ife,pick:W4(sfe),isect:rfe},ofe=uT("trail",rde,wde),Hs={arc:gde,area:Lde,group:Ode,image:Pde,line:Dde,path:Hde,rect:qde,rule:Xde,shape:Kde,symbol:Zde,text:afe,trail:ofe};function x5(e,t,n){var i=Hs[e.mark.marktype],s=t||i.bound;return i.nested&&(e=e.mark),s(e.bounds||(e.bounds=new On),e,n)}var AF={mark:null};function fH(e,t,n){var i=Hs[e.marktype],s=i.bound,l=e.items,c=l&&l.length,d,f,u,a;if(i.nested)return c?u=l[0]:(AF.mark=e,u=AF),a=x5(u,s,n),t=t&&t.union(a)||a,t;if(t=t||e.bounds&&e.bounds.clear()||new On,c)for(d=0,f=l.length;d<f;++d)t.union(x5(l[d],s,n));return e.bounds=t}const lfe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function uH(e,t){return JSON.stringify(e,lfe,t)}function hH(e){const t=typeof e=="string"?JSON.parse(e):e;return _H(t)}function _H(e){var t=e.marktype,n=e.items,i,s,l;if(n)for(s=0,l=n.length;s<l;++s)i=t?"mark":"group",n[s][i]=e,n[s].zindex&&(n[s][i].zdirty=!0),(t||i)==="group"&&_H(n[s]);return t&&fH(e),e}function LT(e){arguments.length?this.root=hH(e):(this.root=pH({marktype:"group",name:"root",role:"frame"}),this.root.items=[new V4(this.root)])}LT.prototype={toJSON(e){return uH(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const i=pH(e,t);return t.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}};function pH(e,t){const n={bounds:new On,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function El(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function bT(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,s=n.length;i<s;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function ls(e,t,n,i){var s=e.childNodes[t],l;return(!s||s.tagName.toLowerCase()!==n.toLowerCase())&&(l=s||null,s=El(e.ownerDocument,n,i),e.insertBefore(s,l)),s}function Fr(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function gH(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Q4(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function cfe(e,t,n,i){var s=e&&e.mark,l,c;if(s&&(l=Hs[s.marktype]).tip){for(c=Q4(t,n),c[0]-=i[0],c[1]-=i[1];e=e.mark.group;)c[0]-=e.x||0,c[1]-=e.y||0;e=l.tip(s.items,c)}return e}function Yl(e,t){this._active=null,this._handlers={},this._loader=e||A4(),this._tooltip=t||dfe}function dfe(e,t,n,i){e.element().setAttribute("title",i||"")}Yl.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const i in t)n.push(...t[i]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(i=>{const s=new MouseEvent(e.type,e),l=El(null,"a");for(const c in i)l.setAttribute(c,i[c]);l.dispatchEvent(s)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=cfe(t,e,this.canvas(),this._origin);const i=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,i)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,s=e.bounds,l=s.width(),c=s.height();let d=s.x1+i[0]+n.left,f=s.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)d+=e.x||0,f+=e.y||0;return{x:d,y:f,width:l,height:c,left:d,top:f,right:d+l,bottom:f+c}}};function no(e){this._el=null,this._bgcolor=null,this._loader=new sT(e)}no.prototype={initialize(e,t,n,i,s){return this._el=e,this.resize(t,n,i,s)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){const s=n._call;n._ready=n._loader.ready().then(l=>{l&&s(),n._ready=null})}return i},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const ffe="keydown",ufe="keypress",hfe="keyup",yH="dragenter",Bp="dragleave",mH="dragover",k5="mousedown",_fe="mouseup",ny="mousemove",V1="mouseout",wH="mouseover",iy="click",pfe="dblclick",gfe="wheel",LH="mousewheel",sy="touchstart",ry="touchmove",ay="touchend",yfe=[ffe,ufe,hfe,yH,Bp,mH,k5,_fe,ny,V1,wH,iy,pfe,gfe,LH,sy,ry,ay],B5=ny,B2=V1,F5=iy;function A0(e,t){Yl.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const mfe=e=>e===sy||e===ry||e===ay?[sy,ry,ay]:[e];function OF(e,t){mfe(t).forEach(n=>wfe(e,n))}function wfe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?i=>e[t](i):i=>e.fire(t,i)))}function NF(e,t,n){return function(i){const s=this._active,l=this.pickEvent(i);l===s?this.fire(e,i):((!s||!s.exit)&&this.fire(n,i),this._active=l,this.fire(t,i),this.fire(e,i))}}function CF(e){return function(t){this.fire(e,t),this._active=null}}be(A0,Yl,{initialize(e,t,n){return this._canvas=e&&bT(e,"canvas"),[iy,k5,ny,V1,Bp].forEach(i=>OF(this,i)),Yl.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:yfe,DOMMouseScroll(e){this.fire(LH,e)},mousemove:NF(ny,wH,V1),dragover:NF(mH,yH,Bp),mouseout:CF(V1),dragleave:CF(Bp),mousedown(e){this._down=this._active,this.fire(k5,e)},click(e){this._down===this._active&&(this.fire(iy,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(sy,e,!0)},touchmove(e){this.fire(ry,e,!0)},touchend(e){this.fire(ay,e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,s=this._handlers[e];if(t.vegaType=e,e===F5&&i&&i.href?this.handleHref(t,i,i.href):(e===B5||e===B2)&&this.handleTooltip(t,i,e!==B2),s)for(let l=0,c=s.length;l<c;++l)s[l].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(OF(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],s=this._handlerIndex(i,e,t);return s>=0&&i.splice(s,1),this},pickEvent(e){const t=Q4(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,s){const l=this.context();return Hs[e.marktype].pick.call(this,l,e,t,n,i,s)}});function Lfe(){return typeof window<"u"&&window.devicePixelRatio||1}var bfe=Lfe();function Tfe(e,t,n,i,s,l){const c=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,d=e.getContext("2d"),f=c?bfe:s;e.width=t*f,e.height=n*f;for(const u in l)d[u]=l[u];return c&&f!==1&&(e.style.width=t+"px",e.style.height=n+"px"),d.pixelRatio=f,d.setTransform(f,0,0,f,f*i[0],f*i[1]),e}function oy(e){no.call(this,e),this._options={},this._redraw=!1,this._dirty=new On,this._tempb=new On}const RF=no.prototype,Efe=(e,t,n)=>new On().set(0,0,t,n).translate(-e[0],-e[1]);function vfe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}be(oy,no,{initialize(e,t,n,i,s,l){return this._options=l||{},this._canvas=this._options.externalContext?null:L0(1,1,this._options.type),e&&this._canvas&&(Fr(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),RF.initialize.call(this,e,t,n,i,s)},resize(e,t,n,i){if(RF.resize.call(this,e,t,n,i),this._canvas)Tfe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||de("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,s=this._height,l=this._dirty,c=Efe(n,i,s);t.save();const d=this._redraw||l.empty()?(this._redraw=!1,c.expand(1)):vfe(t,c.intersect(l),n);return this.clear(-n[0],-n[1],i,s),this.draw(t,e,d),t.restore(),l.clear(),this},draw(e,t,n){const i=Hs[t.marktype];t.clip&&bde(e,t),i.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const s=this._options,l=this.context();s.type!=="pdf"&&!s.externalContext&&l.clearRect(e,t,n,i),this._bgcolor!=null&&(l.fillStyle=this._bgcolor,l.fillRect(e,t,n,i))}});function TT(e,t){Yl.call(this,e,t);const n=this;n._hrefHandler=I5(n,(i,s)=>{s&&s.href&&n.handleHref(i,s,s.href)}),n._tooltipHandler=I5(n,(i,s)=>{n.handleTooltip(i,s,i.type!==B2)})}const I5=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};be(TT,Yl,{initialize(e,t,n){let i=this._svg;return i&&(i.removeEventListener(F5,this._hrefHandler),i.removeEventListener(B5,this._tooltipHandler),i.removeEventListener(B2,this._tooltipHandler)),this._svg=i=e&&bT(e,"svg"),i&&(i.addEventListener(F5,this._hrefHandler),i.addEventListener(B5,this._tooltipHandler),i.addEventListener(B2,this._tooltipHandler)),Yl.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const l={type:e,handler:t,listener:I5(this,t)};(i[n]||(i[n]=[])).push(l),this._svg&&this._svg.addEventListener(n,l.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],s=this._handlerIndex(i,e,t);return s>=0&&(this._svg&&this._svg.removeEventListener(n,i[s].listener),i.splice(s,1)),this}});const bH="aria-hidden",ET="aria-label",vT="role",ST="aria-roledescription",TH="graphics-object",xT="graphics-symbol",EH=(e,t,n)=>({[vT]:e,[ST]:t,[ET]:n||void 0}),Sfe=Vr(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),PF={axis:{desc:"axis",caption:Bfe},legend:{desc:"legend",caption:Ffe},"title-text":{desc:"title",caption:e=>`Title text '${UF(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${UF(e)}'`}},DF={ariaRole:vT,ariaRoleDescription:ST,description:ET};function vH(e,t){const n=t.aria===!1;if(e(bH,n||void 0),n||t.description==null)for(const i in DF)e(DF[i],void 0);else{const i=t.mark.marktype;e(ET,t.description),e(vT,t.ariaRole||(i==="group"?TH:xT)),e(ST,t.ariaRoleDescription||`${i} mark`)}}function SH(e){return e.aria===!1?{[bH]:!0}:Sfe[e.role]?null:PF[e.role]?kfe(e,PF[e.role]):xfe(e)}function xfe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(i=>i.description!=null&&i.aria!==!1);return EH(n?TH:xT,`${t} mark container`,e.description)}function kfe(e,t){try{const n=e.items[0],i=t.caption||(()=>"");return EH(t.role||xT,t.desc,n.description||i(n))}catch{return null}}function UF(e){return Fe(e.text).join(" ")}function Bfe(e){const t=e.datum,n=e.orient,i=t.title?xH(e):null,s=e.context,l=s.scales[t.scale].value,c=s.dataflow.locale(),d=l.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(i?` titled '${i}'`:"")+` for a ${zu(d)?"discrete":d} scale with ${j$(c,l,e)}`}function Ffe(e){const t=e.datum,n=t.title?xH(e):null,i=`${t.type||""} legend`.trim(),s=t.scales,l=Object.keys(s),c=e.context,d=c.scales[s[l[0]]].value,f=c.dataflow.locale();return Mfe(i)+(n?` titled '${n}'`:"")+` for ${Ife(l)} with ${j$(f,d,e)}`}function xH(e){try{return Fe(Bt(e.items).items[0].text).join(" ")}catch{return null}}function Ife(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Bt(e)}function Mfe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const kH=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Afe=e=>kH(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function kT(){let e="",t="",n="";const i=[],s=()=>t=n="",l=f=>{t&&(e+=`${t}>${n}`,s()),i.push(f)},c=(f,u)=>(u!=null&&(t+=` ${f}="${Afe(u)}"`),d),d={open(f){l(f),t="<"+f;for(var u=arguments.length,a=new Array(u>1?u-1:0),y=1;y<u;y++)a[y-1]=arguments[y];for(const w of a)for(const m in w)c(m,w[m]);return d},close(){const f=i.pop();return t?e+=t+(n?`>${n}</${f}>`:"/>"):e+=`</${f}>`,s(),d},attr:c,text:f=>(n+=kH(f),d),toString:()=>e};return d}const BH=e=>FH(kT(),e)+"";function FH(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,i=n.length;for(let s=0;s<i;++s)e.attr(n[s].name,n[s].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const i of n)i.nodeType===3?e.text(i.nodeValue):FH(e,i)}return e.close()}const ly={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},cy={blend:"mix-blend-mode"},IH={fill:"none","stroke-miterlimit":10},Xh=0,$F="http://www.w3.org/2000/xmlns/",Pn=k2.xmlns;function BT(e){no.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const uw=no.prototype;be(BT,no,{initialize(e,t,n,i,s){return this._defs={},this._clearDefs(),e&&(this._svg=ls(e,0,"svg",Pn),this._svg.setAttributeNS($F,"xmlns",Pn),this._svg.setAttributeNS($F,"xmlns:xlink",k2["xmlns:xlink"]),this._svg.setAttribute("version",k2.version),this._svg.setAttribute("class","marks"),Fr(e,1),this._root=ls(this._svg,Xh,"g",Pn),vl(this._root,IH),Fr(this._svg,Xh+1)),this.background(this._bgcolor),uw.initialize.call(this,e,t,n,i,s)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),uw.background.apply(this,arguments)},resize(e,t,n,i){return uw.resize.call(this,e,t,n,i),this._svg&&(vl(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=ls(e,Xh,"rect",Pn),vl(n,{width:this._width,height:this._height,fill:t}));const i=BH(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Fr(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,s,l,c,d,f;for(c=0,d=e.length;c<d;++c)if(n=e[c],i=n.mark,i.marktype!==s&&(s=i.marktype,l=Hs[s]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,HF(n,t),i.items.forEach(u=>{u.dirty=t})),!i.zdirty){if(n.exit){l.nested&&i.items.length?(f=i.items[0],f._svg&&this._update(l,f._svg,f)):n._svg&&(f=n._svg.parentNode,f&&f.removeChild(n._svg)),n._svg=null;continue}n=l.nested?i.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,HF(n,t)):this._update(l,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,s=Hs[t.marktype],l=t.interactive===!1?"none":null,c=s.tag==="g",d=zF(t,e,n,"g",i);d.setAttribute("class",gH(t));const f=SH(t);for(const w in f)$i(d,w,f[w]);c||$i(d,"pointer-events",l),$i(d,"clip-path",t.clip?iT(this,t,t.group):null);let u=null,a=0;const y=w=>{const m=this.isDirty(w),o=zF(w,d,u,s.tag,i);m&&(this._update(s,o,w),c&&Cfe(this,o,w)),u=o,++a};return s.nested?t.items.length&&y(t.items[0]):Wr(t,y),Fr(d,a),d},_update(e,t,n){Io=t,Ti=t.__values__,vH(G1,n),e.attr(G1,n,this);const i=Pfe[e.type];i&&i.call(this,e,t,n),Io&&this.style(Io,n)},style(e,t){if(t!=null){for(const n in ly){let i=n==="font"?M0(t):t[n];if(i===Ti[n])continue;const s=ly[n];i==null?e.removeAttribute(s):(eT(i)&&(i=V$(i,this._defs.gradient,MH())),e.setAttribute(s,i+"")),Ti[n]=i}for(const n in cy)Fp(e,cy[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const s in t.gradient)n||(t.el=n=ls(e,Xh+1,"defs",Pn)),i=Ofe(n,t.gradient[s],i);for(const s in t.clipping)n||(t.el=n=ls(e,Xh+1,"defs",Pn)),i=Nfe(n,t.clipping[s],i);n&&(i===0?(e.removeChild(n),t.el=null):Fr(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function HF(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Ofe(e,t,n){let i,s,l;if(t.gradient==="radial"){let c=ls(e,n++,"pattern",Pn);vl(c,{id:Jg+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),c=ls(c,0,"rect",Pn),vl(c,{width:1,height:1,fill:`url(${MH()}#${t.id})`}),e=ls(e,n++,"radialGradient",Pn),vl(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ls(e,n++,"linearGradient",Pn),vl(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,s=t.stops.length;i<s;++i)l=ls(e,i,"stop",Pn),l.setAttribute("offset",t.stops[i].offset),l.setAttribute("stop-color",t.stops[i].color);return Fr(e,i),n}function Nfe(e,t,n){let i;return e=ls(e,n,"clipPath",Pn),e.setAttribute("id",t.id),t.path?(i=ls(e,0,"path",Pn),i.setAttribute("d",t.path)):(i=ls(e,0,"rect",Pn),vl(i,{x:0,y:0,width:t.width,height:t.height})),Fr(e,1),n+1}function Cfe(e,t,n){t=t.lastChild.previousSibling;let i,s=0;Wr(n,l=>{i=e.mark(t,l,i),++s}),Fr(t,1+s)}function zF(e,t,n,i,s){let l=e._svg,c;if(!l&&(c=t.ownerDocument,l=El(c,i,Pn),e._svg=l,e.mark&&(l.__data__=e,l.__values__={fill:"default"},i==="g"))){const d=El(c,"path",Pn);l.appendChild(d),d.__data__=e;const f=El(c,"g",Pn);l.appendChild(f),f.__data__=e;const u=El(c,"path",Pn);l.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(l.ownerSVGElement!==s||Rfe(l,n))&&t.insertBefore(l,n?n.nextSibling:t.firstChild),l}function Rfe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Io=null,Ti=null;const Pfe={group(e,t,n){const i=Io=t.childNodes[2];Ti=i.__values__,e.foreground(G1,n,this),Ti=t.__values__,Io=t.childNodes[1],e.content(G1,n,this);const s=Io=t.childNodes[0];e.background(G1,n,this);const l=n.mark.interactive===!1?"none":null;if(l!==Ti.events&&($i(i,"pointer-events",l),$i(s,"pointer-events",l),Ti.events=l),n.strokeForeground&&n.stroke){const c=n.fill;$i(i,"display",null),this.style(s,n),$i(s,"stroke",null),c&&(n.fill=null),Ti=i.__values__,this.style(i,n),c&&(n.fill=c),Io=null}else $i(i,"display","none")},image(e,t,n){n.smooth===!1?(Fp(t,"image-rendering","optimizeSpeed"),Fp(t,"image-rendering","pixelated")):Fp(t,"image-rendering",null)},text(e,t,n){const i=I0(n);let s,l,c,d;he(i)?(l=i.map(f=>Wl(n,f)),s=l.join(`
`),s!==Ti.text&&(Fr(t,0),c=t.ownerDocument,d=Gl(n),l.forEach((f,u)=>{const a=El(c,"tspan",Pn);a.__data__=n,a.textContent=f,u&&(a.setAttribute("x",0),a.setAttribute("dy",d)),t.appendChild(a)}),Ti.text=s)):(l=Wl(n,i),l!==Ti.text&&(t.textContent=l,Ti.text=l)),$i(t,"font-family",M0(n)),$i(t,"font-size",to(n)+"px"),$i(t,"font-style",n.fontStyle),$i(t,"font-variant",n.fontVariant),$i(t,"font-weight",n.fontWeight)}};function G1(e,t,n){t!==Ti[e]&&(n?Dfe(Io,e,t,n):$i(Io,e,t),Ti[e]=t)}function Fp(e,t,n){n!==Ti[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ti[t]=n)}function vl(e,t){for(const n in t)$i(e,n,t[n])}function $i(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Dfe(e,t,n,i){n!=null?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}function MH(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function FT(e){no.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}be(FT,no,{svg(){return this._text},_render(e){const t=kT();t.open("svg",dt({},k2,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",IH,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=Hs[t.marktype],i=n.tag,s=[vH,n.attr];e.open("g",{class:gH(t),"clip-path":t.clip?iT(this,t,t.group):null},SH(t),{"pointer-events":i!=="g"&&t.interactive===!1?"none":null});const l=c=>{const d=this.href(c);if(d&&e.open("a",d),e.open(i,this.attr(t,c,s,i!=="g"?i:null)),i==="text"){const f=I0(c);if(he(f)){const u={x:0,dy:Gl(c)};for(let a=0;a<f.length;++a)e.open("tspan",a?u:null).text(Wl(c,f[a])).close()}else e.text(Wl(c,f))}else if(i==="g"){const f=c.strokeForeground,u=c.fill,a=c.stroke;f&&a&&(c.stroke=null),e.open("path",this.attr(t,c,n.background,"bgrect")).close(),e.open("g",this.attr(t,c,n.content)),Wr(c,y=>this.mark(e,y)),e.close(),f&&a?(u&&(c.fill=null),c.stroke=a,e.open("path",this.attr(t,c,n.foreground,"bgrect")).close(),u&&(c.fill=u)):e.open("path",this.attr(t,c,n.foreground,"bgfore")).close()}e.close(),d&&e.close()};return n.nested?t.items&&t.items.length&&l(t.items[0]):Wr(t,l),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[t]=i})}return null},attr(e,t,n,i){const s={},l=(c,d,f,u)=>{s[u||c]=d};return Array.isArray(n)?n.forEach(c=>c(l,t,this)):n(l,t,this),i&&Ufe(s,t,e,i,this._defs),s},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const s in t){const l=t[s],c=l.stops;l.gradient==="radial"?(e.open("pattern",{id:Jg+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),e.close(),e.open("radialGradient",{id:s,fx:l.x1,fy:l.y1,fr:l.r1,cx:l.x2,cy:l.y2,r:l.r2})):e.open("linearGradient",{id:s,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2});for(let d=0;d<c.length;++d)e.open("stop",{offset:c[d].offset,"stop-color":c[d].color}).close();e.close()}for(const s in n){const l=n[s];e.open("clipPath",{id:s}),l.path?e.open("path",{d:l.path}).close():e.open("rect",{x:0,y:0,width:l.width,height:l.height}).close(),e.close()}e.close()}}});function Ufe(e,t,n,i,s){let l;if(t==null||(i==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),i==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;i==="image"&&t.smooth===!1&&(l=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),i==="text"&&(e["font-family"]=M0(t),e["font-size"]=to(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const c in ly){let d=t[c];const f=ly[c];d==="transparent"&&(f==="fill"||f==="stroke")||d!=null&&(eT(d)&&(d=V$(d,s.gradient,"")),e[f]=d)}for(const c in cy){const d=t[c];d!=null&&(l=l||[],l.push(`${cy[c]}: ${d};`))}return l&&(e.style=l.join(" ")),e}const AH="canvas",OH="png",NH="svg",CH="none",Sl={Canvas:AH,PNG:OH,SVG:NH,None:CH},Gu={};Gu[AH]=Gu[OH]={renderer:oy,headless:oy,handler:A0};Gu[NH]={renderer:BT,headless:FT,handler:TT};Gu[CH]={};function J4(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Gu[e]=t,this):Gu[e]}function RH(e,t,n){const i=[],s=new On().union(t),l=e.marktype;return l?PH(e,s,n,i):l==="group"?DH(e,s,n,i):de("Intersect scene must be mark node or group item.")}function PH(e,t,n,i){if($fe(e,t,n)){const s=e.items,l=e.marktype,c=s.length;let d=0;if(l==="group")for(;d<c;++d)DH(s[d],t,n,i);else for(const f=Hs[l].isect;d<c;++d){const u=s[d];UH(u,t,f)&&i.push(u)}}return i}function $fe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function DH(e,t,n,i){n&&n(e.mark)&&UH(e,t,Hs.group.isect)&&i.push(e);const s=e.items,l=s&&s.length;if(l){const c=e.x||0,d=e.y||0;t.translate(-c,-d);for(let f=0;f<l;++f)PH(s[f],t,n,i);t.translate(c,d)}return i}function UH(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}const hw=new On;function $H(e){const t=e.clip;if(ft(t))t(B0(hw.clear()));else if(t)hw.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(hw)}const Hfe=1e-9;function IT(e,t,n){return e===t?!0:n==="path"?HH(e,t):e instanceof Date&&t instanceof Date?+e==+t:At(e)&&At(t)?Math.abs(e-t)<=Hfe:!e||!t||!Ie(e)&&!Ie(t)?e==t:zfe(e,t)}function HH(e,t){return IT(ju(e),ju(t))}function zfe(e,t){var n=Object.keys(e),i=Object.keys(t),s,l;if(n.length!==i.length)return!1;for(n.sort(),i.sort(),l=n.length-1;l>=0;l--)if(n[l]!=i[l])return!1;for(l=n.length-1;l>=0;l--)if(s=n[l],!IT(e[s],t[s],s))return!1;return typeof e==typeof t}function jfe(){Q$(),_ce()}const Wu="top",Ir="left",Or="right",Xl="bottom",qfe="top-left",Vfe="top-right",Gfe="bottom-left",Wfe="bottom-right",MT="start",M5="middle",zi="end",Yfe="x",Xfe="y",em="group",AT="axis",OT="title",Kfe="frame",Zfe="scope",NT="legend",zH="row-header",jH="row-footer",qH="row-title",VH="column-header",GH="column-footer",WH="column-title",Qfe="padding",Jfe="symbol",YH="fit",XH="fit-x",KH="fit-y",eue="pad",CT="none",P_="all",A5="each",RT="flush",xl="column",kl="row";function ZH(e){ae.call(this,null,e)}be(ZH,ae,{transform(e,t){const n=t.dataflow,i=e.mark,s=i.marktype,l=Hs[s],c=l.bound;let d=i.bounds,f;if(l.nested)i.items.length&&n.dirty(i.items[0]),d=D_(i,c),i.items.forEach(u=>{u.bounds.clear().union(d)});else if(s===em||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),d.clear(),i.items.forEach(u=>d.union(D_(u,c))),i.role){case AT:case NT:case OT:t.reflow()}else f=t.changed(t.REM),t.visit(t.ADD,u=>{d.union(D_(u,c))}),t.visit(t.MOD,u=>{f=f||d.alignsWith(u.bounds),n.dirty(u),d.union(D_(u,c))}),f&&(d.clear(),i.items.forEach(u=>d.union(u.bounds)));return $H(i),t.modifies("bounds")}});function D_(e,t,n){return t(e.bounds.clear(),e,n)}const jF=":vega_identifier:";function PT(e){ae.call(this,0,e)}PT.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};be(PT,ae,{transform(e,t){const n=tue(t.dataflow),i=e.as;let s=n.value;return t.visit(t.ADD,l=>l[i]=l[i]||++s),n.set(this.value=s),t}});function tue(e){return e._signals[jF]||(e._signals[jF]=e.add(0))}function QH(e){ae.call(this,null,e)}be(QH,ae,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,nue(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const i=n.marktype===em?V4:q4;return t.visit(t.ADD,s=>i.call(s,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function nue(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function JH(e){ae.call(this,null,e)}const qF={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((i,s)=>!s||!ez(n.bounds,i.bounds,t)?(n=i,1):i.opacity=0)}},ez=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),VF=(e,t)=>{for(var n=1,i=e.length,s=e[0].bounds,l;n<i;s=l,++n)if(ez(s,l=e[n].bounds,t))return!0},iue=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},sue=(e,t,n)=>{var i=e.range(),s=new On;return t===Wu||t===Xl?s.set(i[0],-1/0,i[1],1/0):s.set(-1/0,i[0],1/0,i[1]),s.expand(n||1),l=>s.encloses(l.bounds)},GF=e=>(e.forEach(t=>t.opacity=1),e),WF=(e,t)=>e.reflow(t.modified()).modifies("opacity");be(JH,ae,{transform(e,t){const n=qF[e.method]||qF.parity,i=e.separation||0;let s=t.materialize(t.SOURCE).source,l,c;if(!s||!s.length)return;if(!e.method)return e.modified("method")&&(GF(s),t=WF(t,e)),t;if(s=s.filter(iue),!s.length)return;if(e.sort&&(s=s.slice().sort(e.sort)),l=GF(s),t=WF(t,e),l.length>=3&&VF(l,i)){do l=n(l,i);while(l.length>=3&&VF(l,i));l.length<3&&!Bt(s).opacity&&(l.length>1&&(Bt(l).opacity=0),Bt(s).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(c=sue(e.boundScale,e.boundOrient,+e.boundTolerance),s.forEach(f=>{c(f)||(f.opacity=0)}));const d=l[0].mark.bounds.clear();return s.forEach(f=>{f.opacity&&d.union(f.bounds)}),t}});function tz(e){ae.call(this,null,e)}be(tz,ae,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,i=>n.dirty(i)),t.fields&&t.fields.zindex){const i=t.source&&t.source[0];i&&(i.mark.zdirty=!0)}}});const bi=new On;function Kf(e,t,n){return e[t]===n?0:(e[t]=n,1)}function rue(e){var t=e.items[0].orient;return t===Ir||t===Or}function aue(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function oue(e,t,n,i){var s=t.items[0],l=s.datum,c=s.translate!=null?s.translate:.5,d=s.orient,f=aue(l),u=s.range,a=s.offset,y=s.position,w=s.minExtent,m=s.maxExtent,o=l.title&&s.items[f[2]].items[0],b=s.titlePadding,L=s.bounds,v=o&&yT(o),S=0,x=0,F,k;switch(bi.clear().union(L),L.clear(),(F=f[0])>-1&&L.union(s.items[F].bounds),(F=f[1])>-1&&L.union(s.items[F].bounds),d){case Wu:S=y||0,x=-a,k=Math.max(w,Math.min(m,-L.y1)),L.add(0,-k).add(u,0),o&&U_(e,o,k,b,v,0,-1,L);break;case Ir:S=-a,x=y||0,k=Math.max(w,Math.min(m,-L.x1)),L.add(-k,0).add(0,u),o&&U_(e,o,k,b,v,1,-1,L);break;case Or:S=n+a,x=y||0,k=Math.max(w,Math.min(m,L.x2)),L.add(0,0).add(k,u),o&&U_(e,o,k,b,v,1,1,L);break;case Xl:S=y||0,x=i+a,k=Math.max(w,Math.min(m,L.y2)),L.add(0,0).add(u,k),o&&U_(e,o,k,b,0,0,1,L);break;default:S=s.x,x=s.y}return Xo(L.translate(S,x),s),Kf(s,"x",S+c)|Kf(s,"y",x+c)&&(s.bounds=bi,e.dirty(s),s.bounds=L,e.dirty(s)),s.mark.bounds.clear().union(L)}function U_(e,t,n,i,s,l,c,d){const f=t.bounds;if(t.auto){const u=c*(n+s+i);let a=0,y=0;e.dirty(t),l?a=(t.x||0)-(t.x=u):y=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(f.translate(-a,-y)),e.dirty(t)}d.union(f)}const YF=(e,t)=>Math.floor(Math.min(e,t)),XF=(e,t)=>Math.ceil(Math.max(e,t));function lue(e){var t=e.items,n=t.length,i=0,s,l;const c={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<n;++i)if(s=t[i],l=s.items,s.marktype===em)switch(s.role){case AT:case NT:case OT:break;case zH:c.rowheaders.push(...l);break;case jH:c.rowfooters.push(...l);break;case VH:c.colheaders.push(...l);break;case GH:c.colfooters.push(...l);break;case qH:c.rowtitle=l[0];break;case WH:c.coltitle=l[0];break;default:c.marks.push(...l)}return c}function cue(e){return new On().set(0,0,e.width||0,e.height||0)}function due(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function _n(e,t,n){const i=Ie(e)?e[t]:e;return i??(n!==void 0?n:0)}function KF(e){return e<0?Math.ceil(-e):0}function nz(e,t,n){var i=!n.nodirty,s=n.bounds===RT?cue:due,l=bi.set(0,0,0,0),c=_n(n.align,xl),d=_n(n.align,kl),f=_n(n.padding,xl),u=_n(n.padding,kl),a=n.columns||t.length,y=a<=0?1:Math.ceil(t.length/a),w=t.length,m=Array(w),o=Array(a),b=0,L=Array(w),v=Array(y),S=0,x=Array(w),F=Array(w),k=Array(w),A,M,C,R,D,U,X,j,G,V,W;for(M=0;M<a;++M)o[M]=0;for(M=0;M<y;++M)v[M]=0;for(M=0;M<w;++M)U=t[M],D=k[M]=s(U),U.x=U.x||0,x[M]=0,U.y=U.y||0,F[M]=0,C=M%a,R=~~(M/a),b=Math.max(b,X=Math.ceil(D.x2)),S=Math.max(S,j=Math.ceil(D.y2)),o[C]=Math.max(o[C],X),v[R]=Math.max(v[R],j),m[M]=f+KF(D.x1),L[M]=u+KF(D.y1),i&&e.dirty(t[M]);for(M=0;M<w;++M)M%a===0&&(m[M]=0),M<a&&(L[M]=0);if(c===A5)for(C=1;C<a;++C){for(W=0,M=C;M<w;M+=a)W<m[M]&&(W=m[M]);for(M=C;M<w;M+=a)m[M]=W+o[C-1]}else if(c===P_){for(W=0,M=0;M<w;++M)M%a&&W<m[M]&&(W=m[M]);for(M=0;M<w;++M)M%a&&(m[M]=W+b)}else for(c=!1,C=1;C<a;++C)for(M=C;M<w;M+=a)m[M]+=o[C-1];if(d===A5)for(R=1;R<y;++R){for(W=0,M=R*a,A=M+a;M<A;++M)W<L[M]&&(W=L[M]);for(M=R*a;M<A;++M)L[M]=W+v[R-1]}else if(d===P_){for(W=0,M=a;M<w;++M)W<L[M]&&(W=L[M]);for(M=a;M<w;++M)L[M]=W+S}else for(d=!1,R=1;R<y;++R)for(M=R*a,A=M+a;M<A;++M)L[M]+=v[R-1];for(G=0,M=0;M<w;++M)G=m[M]+(M%a?G:0),x[M]+=G-t[M].x;for(C=0;C<a;++C)for(V=0,M=C;M<w;M+=a)V+=L[M],F[M]+=V-t[M].y;if(c&&_n(n.center,xl)&&y>1)for(M=0;M<w;++M)D=c===P_?b:o[M%a],G=D-k[M].x2-t[M].x-x[M],G>0&&(x[M]+=G/2);if(d&&_n(n.center,kl)&&a!==1)for(M=0;M<w;++M)D=d===P_?S:v[~~(M/a)],V=D-k[M].y2-t[M].y-F[M],V>0&&(F[M]+=V/2);for(M=0;M<w;++M)l.union(k[M].translate(x[M],F[M]));switch(G=_n(n.anchor,Yfe),V=_n(n.anchor,Xfe),_n(n.anchor,xl)){case zi:G-=l.width();break;case M5:G-=l.width()/2}switch(_n(n.anchor,kl)){case zi:V-=l.height();break;case M5:V-=l.height()/2}for(G=Math.round(G),V=Math.round(V),l.clear(),M=0;M<w;++M)t[M].mark.bounds.clear();for(M=0;M<w;++M)U=t[M],U.x+=x[M]+=G,U.y+=F[M]+=V,l.union(U.mark.bounds.union(U.bounds.translate(x[M],F[M]))),i&&e.dirty(U);return l}function fue(e,t,n){var i=lue(t),s=i.marks,l=n.bounds===RT?uue:hue,c=n.offset,d=n.columns||s.length,f=d<=0?1:Math.ceil(s.length/d),u=f*d,a,y,w,m,o,b,L;const v=nz(e,s,n);v.empty()&&v.set(0,0,0,0),i.rowheaders&&(b=_n(n.headerBand,kl,null),a=$_(e,i.rowheaders,s,d,f,-_n(c,"rowHeader"),YF,0,l,"x1",0,d,1,b)),i.colheaders&&(b=_n(n.headerBand,xl,null),y=$_(e,i.colheaders,s,d,d,-_n(c,"columnHeader"),YF,1,l,"y1",0,1,d,b)),i.rowfooters&&(b=_n(n.footerBand,kl,null),w=$_(e,i.rowfooters,s,d,f,_n(c,"rowFooter"),XF,0,l,"x2",d-1,d,1,b)),i.colfooters&&(b=_n(n.footerBand,xl,null),m=$_(e,i.colfooters,s,d,d,_n(c,"columnFooter"),XF,1,l,"y2",u-d,1,d,b)),i.rowtitle&&(o=_n(n.titleAnchor,kl),L=_n(c,"rowTitle"),L=o===zi?w+L:a-L,b=_n(n.titleBand,kl,.5),ZF(e,i.rowtitle,L,0,v,b)),i.coltitle&&(o=_n(n.titleAnchor,xl),L=_n(c,"columnTitle"),L=o===zi?m+L:y-L,b=_n(n.titleBand,xl,.5),ZF(e,i.coltitle,L,1,v,b))}function uue(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function hue(e,t){return e.bounds[t]}function $_(e,t,n,i,s,l,c,d,f,u,a,y,w,m){var o=n.length,b=0,L=0,v,S,x,F,k,A,M,C,R;if(!o)return b;for(v=a;v<o;v+=y)n[v]&&(b=c(b,f(n[v],u)));if(!t.length)return b;for(t.length>s&&(e.warn("Grid headers exceed limit: "+s),t=t.slice(0,s)),b+=l,S=0,F=t.length;S<F;++S)e.dirty(t[S]),t[S].mark.bounds.clear();for(v=a,S=0,F=t.length;S<F;++S,v+=y){for(A=t[S],k=A.mark.bounds,x=v;x>=0&&(M=n[x])==null;x-=w);d?(C=m==null?M.x:Math.round(M.bounds.x1+m*M.bounds.width()),R=b):(C=b,R=m==null?M.y:Math.round(M.bounds.y1+m*M.bounds.height())),k.union(A.bounds.translate(C-(A.x||0),R-(A.y||0))),A.x=C,A.y=R,e.dirty(A),L=c(L,k[u])}return L}function ZF(e,t,n,i,s,l){if(t){e.dirty(t);var c=n,d=n;i?c=Math.round(s.x1+l*s.width()):d=Math.round(s.y1+l*s.height()),t.bounds.translate(c-(t.x||0),d-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=c,t.y=d,e.dirty(t)}}function _ue(e,t){const n=e[t]||{};return(i,s)=>n[i]!=null?n[i]:e[i]!=null?e[i]:s}function pue(e,t){let n=-1/0;return e.forEach(i=>{i.offset!=null&&(n=Math.max(n,i.offset))}),n>-1/0?n:t}function gue(e,t,n,i,s,l,c){const d=_ue(n,t),f=pue(e,d("offset",0)),u=d("anchor",MT),a=u===zi?1:u===M5?.5:0,y={align:A5,bounds:d("bounds",RT),columns:d("direction")==="vertical"?1:e.length,padding:d("margin",8),center:d("center"),nodirty:!0};switch(t){case Ir:y.anchor={x:Math.floor(i.x1)-f,column:zi,y:a*(c||i.height()+2*i.y1),row:u};break;case Or:y.anchor={x:Math.ceil(i.x2)+f,y:a*(c||i.height()+2*i.y1),row:u};break;case Wu:y.anchor={y:Math.floor(s.y1)-f,row:zi,x:a*(l||s.width()+2*s.x1),column:u};break;case Xl:y.anchor={y:Math.ceil(s.y2)+f,x:a*(l||s.width()+2*s.x1),column:u};break;case qfe:y.anchor={x:f,y:f};break;case Vfe:y.anchor={x:l-f,y:f,column:zi};break;case Gfe:y.anchor={x:f,y:c-f,row:zi};break;case Wfe:y.anchor={x:l-f,y:c-f,column:zi,row:zi};break}return y}function yue(e,t){var n=t.items[0],i=n.datum,s=n.orient,l=n.bounds,c=n.x,d=n.y,f,u;return n._bounds?n._bounds.clear().union(l):n._bounds=l.clone(),l.clear(),wue(e,n,n.items[0].items[0]),l=mue(n,l),f=2*n.padding,u=2*n.padding,l.empty()||(f=Math.ceil(l.width()+f),u=Math.ceil(l.height()+u)),i.type===Jfe&&Lue(n.items[0].items[0].items[0].items),s!==CT&&(n.x=c=0,n.y=d=0),n.width=f,n.height=u,Xo(l.set(c,d,c+f,d+u),n),n.mark.bounds.clear().union(l),n}function mue(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function wue(e,t,n){var i=t.padding,s=i-n.x,l=i-n.y;if(!t.datum.title)(s||l)&&Kh(e,n,s,l);else{var c=t.items[1].items[0],d=c.anchor,f=t.titlePadding||0,u=i-c.x,a=i-c.y;switch(c.orient){case Ir:s+=Math.ceil(c.bounds.width())+f;break;case Or:case Xl:break;default:l+=c.bounds.height()+f}switch((s||l)&&Kh(e,n,s,l),c.orient){case Ir:a+=vf(t,n,c,d,1,1);break;case Or:u+=vf(t,n,c,zi,0,0)+f,a+=vf(t,n,c,d,1,1);break;case Xl:u+=vf(t,n,c,d,0,0),a+=vf(t,n,c,zi,-1,0,1)+f;break;default:u+=vf(t,n,c,d,0,0)}(u||a)&&Kh(e,c,u,a),(u=Math.round(c.bounds.x1-i))<0&&(Kh(e,n,-u,0),Kh(e,c,-u,0))}}function vf(e,t,n,i,s,l,c){const d=e.datum.type!=="symbol",f=n.datum.vgrad,u=d&&(l||!f)&&!c?t.items[0]:t,a=u.bounds[s?"y2":"x2"]-e.padding,y=f&&l?a:0,w=f&&l?0:a,m=s<=0?0:yT(n);return Math.round(i===MT?y:i===zi?w-m:.5*(a-m))}function Kh(e,t,n,i){t.x+=n,t.y+=i,t.bounds.translate(n,i),t.mark.bounds.translate(n,i),e.dirty(t)}function Lue(e){const t=e.reduce((n,i)=>(n[i.column]=Math.max(i.bounds.x2-i.x,n[i.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function bue(e,t,n,i,s){var l=t.items[0],c=l.frame,d=l.orient,f=l.anchor,u=l.offset,a=l.padding,y=l.items[0].items[0],w=l.items[1]&&l.items[1].items[0],m=d===Ir||d===Or?i:n,o=0,b=0,L=0,v=0,S=0,x;if(c!==em?d===Ir?(o=s.y2,m=s.y1):d===Or?(o=s.y1,m=s.y2):(o=s.x1,m=s.x2):d===Ir&&(o=i,m=0),x=f===MT?o:f===zi?m:(o+m)/2,w&&w.text){switch(d){case Wu:case Xl:S=y.bounds.height()+a;break;case Ir:v=y.bounds.width()+a;break;case Or:v=-y.bounds.width()-a;break}bi.clear().union(w.bounds),bi.translate(v-(w.x||0),S-(w.y||0)),Kf(w,"x",v)|Kf(w,"y",S)&&(e.dirty(w),w.bounds.clear().union(bi),w.mark.bounds.clear().union(bi),e.dirty(w)),bi.clear().union(w.bounds)}else bi.clear();switch(bi.union(y.bounds),d){case Wu:b=x,L=s.y1-bi.height()-u;break;case Ir:b=s.x1-bi.width()-u,L=x;break;case Or:b=s.x2+bi.width()+u,L=x;break;case Xl:b=x,L=s.y2+u;break;default:b=l.x,L=l.y}return Kf(l,"x",b)|Kf(l,"y",L)&&(bi.translate(b,L),e.dirty(l),l.bounds.clear().union(bi),t.bounds.clear().union(bi),e.dirty(l)),l.bounds}function iz(e){ae.call(this,null,e)}be(iz,ae,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(i=>{e.layout&&fue(n,i,e.layout),Eue(n,i,e)}),Tue(e.mark.group)?t.reflow():t}});function Tue(e){return e&&e.mark.role!=="legend-entry"}function Eue(e,t,n){var i=t.items,s=Math.max(0,t.width||0),l=Math.max(0,t.height||0),c=new On().set(0,0,s,l),d=c.clone(),f=c.clone(),u=[],a,y,w,m,o,b;for(o=0,b=i.length;o<b;++o)switch(y=i[o],y.role){case AT:m=rue(y)?d:f,m.union(oue(e,y,s,l));break;case OT:a=y;break;case NT:u.push(yue(e,y));break;case Kfe:case Zfe:case zH:case jH:case qH:case VH:case GH:case WH:d.union(y.bounds),f.union(y.bounds);break;default:c.union(y.bounds)}if(u.length){const L={};u.forEach(v=>{w=v.orient||Or,w!==CT&&(L[w]||(L[w]=[])).push(v)});for(const v in L){const S=L[v];nz(e,S,gue(S,v,n.legends,d,f,s,l))}u.forEach(v=>{const S=v.bounds;if(S.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=S,e.dirty(v)),n.autosize&&(n.autosize.type===YH||n.autosize.type===XH||n.autosize.type===KH))switch(v.orient){case Ir:case Or:c.add(S.x1,0).add(S.x2,0);break;case Wu:case Xl:c.add(0,S.y1).add(0,S.y2)}else c.union(S)})}c.union(d).union(f),a&&c.union(bue(e,a,s,l,c)),t.clip&&c.set(0,0,t.width||0,t.height||0),vue(e,t,c,n)}function vue(e,t,n,i){const s=i.autosize||{},l=s.type;if(e._autosize<1||!l)return;let c=e._width,d=e._height,f=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),a=Math.max(0,t.height||0),y=Math.max(0,Math.ceil(-n.y1));const w=Math.max(0,Math.ceil(n.x2-f)),m=Math.max(0,Math.ceil(n.y2-a));if(s.contains===Qfe){const o=e.padding();c-=o.left+o.right,d-=o.top+o.bottom}l===CT?(u=0,y=0,f=c,a=d):l===YH?(f=Math.max(0,c-u-w),a=Math.max(0,d-y-m)):l===XH?(f=Math.max(0,c-u-w),d=a+y+m):l===KH?(c=f+u+w,a=Math.max(0,d-y-m)):l===eue&&(c=f+u+w,d=a+y+m),e._resizeView(c,d,f,a,[u,y],s.resize)}const Sue=Object.freeze(Object.defineProperty({__proto__:null,bound:ZH,identifier:PT,mark:QH,overlap:JH,render:tz,viewlayout:iz},Symbol.toStringTag,{value:"Module"}));function sz(e){ae.call(this,null,e)}be(sz,ae,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,l=e.scale,c=e.count==null?e.values?e.values.length:10:e.count,d=Qb(l,c,e.minstep),f=e.format||D$(n,l,d,e.formatSpecifier,e.formatType,!!e.values),u=e.values?P$(l,e.values,d):Jb(l,d);return s&&(i.rem=s),s=u.map((a,y)=>$t({index:y/(u.length-1||1),value:a,label:f(a)})),e.extra&&s.length&&s.push($t({index:-1,extra:{value:s[0].value},label:""})),i.source=s,i.add=s,this.value=s,i}});function rz(e){ae.call(this,null,e)}function xue(){return $t({})}function kue(e){const t=Lh().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}be(rz,ae,{transform(e,t){var n=t.dataflow,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||xue,l=e.key||Pe,c=this.value;return he(i.encode)&&(i.encode=null),c&&(e.modified("key")||t.modified(l))&&de("DataJoin does not support modified key function or fields."),c||(t=t.addAll(),this.value=c=kue(l)),t.visit(t.ADD,d=>{const f=l(d);let u=c.get(f);u?u.exit?(c.empty--,i.add.push(u)):i.mod.push(u):(u=s(d),c.set(f,u),i.add.push(u)),u.datum=d,u.exit=!1}),t.visit(t.MOD,d=>{const f=l(d),u=c.get(f);u&&(u.datum=d,i.mod.push(u))}),t.visit(t.REM,d=>{const f=l(d),u=c.get(f);d===u.datum&&!u.exit&&(i.rem.push(u),u.exit=!0,++c.empty)}),t.changed(t.ADD_MOD)&&i.modifies("datum"),(t.clean()||e.clean&&c.empty>n.cleanThreshold)&&n.runAfter(c.clean),i}});function az(e){ae.call(this,null,e)}be(az,ae,{transform(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,s=e.encoders,l=t.encode;if(he(l))if(n.changed()||l.every(y=>s[y]))l=l[0],n.encode=null;else return t.StopPropagation;var c=l==="enter",d=s.update||ll,f=s.enter||ll,u=s.exit||ll,a=(l&&!c?s[l]:d)||ll;if(t.changed(t.ADD)&&(t.visit(t.ADD,y=>{f(y,e),d(y,e)}),n.modifies(f.output),n.modifies(d.output),a!==ll&&a!==d&&(t.visit(t.ADD,y=>{a(y,e)}),n.modifies(a.output))),t.changed(t.REM)&&u!==ll&&(t.visit(t.REM,y=>{u(y,e)}),n.modifies(u.output)),c||a!==ll){const y=t.MOD|(e.modified()?t.REFLOW:0);c?(t.visit(y,w=>{const m=f(w,e)||i;(a(w,e)||m)&&n.mod.push(w)}),n.mod.length&&n.modifies(f.output)):t.visit(y,w=>{(a(w,e)||i)&&n.mod.push(w)}),n.mod.length&&n.modifies(a.output)}return n.changed()?n:t.StopPropagation}});function oz(e){ae.call(this,[],e)}be(oz,ae,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,l=e.type||Tp,c=e.scale,d=+e.limit,f=Qb(c,e.count==null?5:e.count,e.minstep),u=!!e.values||l===Tp,a=e.format||z$(n,c,f,l,e.formatSpecifier,e.formatType,u),y=e.values||H$(c,f),w,m,o,b,L;return s&&(i.rem=s),l===Tp?(d&&y.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=y.slice(0,d-1),L=!0):s=y,ft(o=e.size)?(!e.values&&c(s[0])===0&&(s=s.slice(1)),b=s.reduce((v,S)=>Math.max(v,o(S,e)),0)):o=Ci(b=o||8),s=s.map((v,S)=>$t({index:S,label:a(v,S,s),value:v,offset:b,size:o(v,e)})),L&&(L=y[s.length],s.push($t({index:s.length,label:`${y.length-s.length} entries`,value:L,offset:b,size:o(L,e)})))):l===tce?(w=c.domain(),m=N$(c,w[0],Bt(w)),y.length<3&&!e.values&&w[0]!==Bt(w)&&(y=[w[0],Bt(w)]),s=y.map((v,S)=>$t({index:S,label:a(v,S,y),value:v,perc:m(v)}))):(o=y.length-1,m=uce(c),s=y.map((v,S)=>$t({index:S,label:a(v,S,y),value:v,perc:S?m(v):0,perc2:S===o?1:m(y[S+1])}))),i.source=s,i.add=s,this.value=s,i}});const Bue=e=>e.source.x,Fue=e=>e.source.y,Iue=e=>e.target.x,Mue=e=>e.target.y;function DT(e){ae.call(this,{},e)}DT.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};be(DT,ae,{transform(e,t){var n=e.sourceX||Bue,i=e.sourceY||Fue,s=e.targetX||Iue,l=e.targetY||Mue,c=e.as||"path",d=e.orient||"vertical",f=e.shape||"line",u=QF.get(f+"-"+d)||QF.get(f);return u||de("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,a=>{a[c]=u(n(a),i(a),s(a),l(a))}),t.reflow(e.modified()).modifies(c)}});const lz=(e,t,n,i)=>"M"+e+","+t+"L"+n+","+i,Aue=(e,t,n,i)=>lz(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),cz=(e,t,n,i)=>{var s=n-e,l=i-t,c=Math.hypot(s,l)/2,d=180*Math.atan2(l,s)/Math.PI;return"M"+e+","+t+"A"+c+","+c+" "+d+" 0 1 "+n+","+i},Oue=(e,t,n,i)=>cz(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),dz=(e,t,n,i)=>{const s=n-e,l=i-t,c=.2*(s+l),d=.2*(l-s);return"M"+e+","+t+"C"+(e+c)+","+(t+d)+" "+(n+d)+","+(i-c)+" "+n+","+i},Nue=(e,t,n,i)=>dz(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),Cue=(e,t,n,i)=>"M"+e+","+t+"V"+i+"H"+n,Rue=(e,t,n,i)=>"M"+e+","+t+"H"+n+"V"+i,Pue=(e,t,n,i)=>{const s=Math.cos(e),l=Math.sin(e),c=Math.cos(n),d=Math.sin(n),f=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*s+","+t*l+"A"+t+","+t+" 0 0,"+(f?1:0)+" "+t*c+","+t*d+"L"+i*c+","+i*d},Due=(e,t,n,i)=>{const s=(e+n)/2;return"M"+e+","+t+"C"+s+","+t+" "+s+","+i+" "+n+","+i},Uue=(e,t,n,i)=>{const s=(t+i)/2;return"M"+e+","+t+"C"+e+","+s+" "+n+","+s+" "+n+","+i},$ue=(e,t,n,i)=>{const s=Math.cos(e),l=Math.sin(e),c=Math.cos(n),d=Math.sin(n),f=(t+i)/2;return"M"+t*s+","+t*l+"C"+f*s+","+f*l+" "+f*c+","+f*d+" "+i*c+","+i*d},QF=Lh({line:lz,"line-radial":Aue,arc:cz,"arc-radial":Oue,curve:dz,"curve-radial":Nue,"orthogonal-horizontal":Cue,"orthogonal-vertical":Rue,"orthogonal-radial":Pue,"diagonal-horizontal":Due,"diagonal-vertical":Uue,"diagonal-radial":$ue});function UT(e){ae.call(this,null,e)}UT.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};be(UT,ae,{transform(e,t){var n=e.as||["startAngle","endAngle"],i=n[0],s=n[1],l=e.field||yh,c=e.startAngle||0,d=e.endAngle!=null?e.endAngle:2*Math.PI,f=t.source,u=f.map(l),a=u.length,y=c,w=(d-c)/ZC(u),m=Ns(a),o,b,L;for(e.sort&&m.sort((v,S)=>u[v]-u[S]),o=0;o<a;++o)L=u[m[o]],b=f[m[o]],b[i]=y,b[s]=y+=L*w;return this.value=u,t.reflow(e.modified()).modifies(n)}});const Hue=5;function zue(e){const t=e.type;return!e.bins&&(t===$u||t===b0||t===T0)}function fz(e){return Xb(e)&&e!==Ia}const jue=Vr(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function uz(e){ae.call(this,null,e),this.modified(!0)}be(uz,ae,{transform(e,t){var n=t.dataflow,i=this.value,s=que(e);(!i||s!==i.type)&&(this.value=i=Pt(s)());for(s in e)if(!jue[s]){if(s==="padding"&&fz(i.type))continue;ft(i[s])?i[s](e[s]):n.warn("Unsupported scale property: "+s)}return Kue(i,e,Xue(i,e,Gue(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function que(e){var t=e.type,n="",i;return t===Ia?Ia+"-"+$u:(Vue(e)&&(i=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=i===2?Ia+"-":i===3?Eh+"-":""),(n+t||$u).toLowerCase())}function Vue(e){const t=e.type;return Xb(t)&&t!==Id&&t!==Md&&(e.scheme||e.range&&e.range.length&&e.range.every(ke))}function Gue(e,t,n){const i=Wue(e,t.domainRaw,n);if(i>-1)return i;var s=t.domain,l=e.type,c=t.zero||t.zero===void 0&&zue(e),d,f;if(!s)return 0;if(fz(l)&&t.padding&&s[0]!==Bt(s)&&(s=Yue(l,s,t.range,t.padding,t.exponent,t.constant)),(c||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(d=(s=s.slice()).length-1||1,c&&(s[0]>0&&(s[0]=0),s[d]<0&&(s[d]=0)),t.domainMin!=null&&(s[0]=t.domainMin),t.domainMax!=null&&(s[d]=t.domainMax),t.domainMid!=null)){f=t.domainMid;const u=f>s[d]?d+1:f<s[0]?0:d;u!==d&&n.warn("Scale domainMid exceeds domain min or max.",f),s.splice(u,0,f)}return e.domain(hz(l,s,n)),l===Vb&&e.unknown(t.domainImplicit?JL:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Qb(e,t.nice)||null),s.length}function Wue(e,t,n){return t?(e.domain(hz(e.type,t,n)),t.length):-1}function Yue(e,t,n,i,s,l){var c=Math.abs(Bt(n)-n[0]),d=c/(c-2*i),f=e===qo?tb(t,null,d):e===T0?Xg(t,null,d,.5):e===b0?Xg(t,null,d,s||1):e===U4?nb(t,null,d,l||1):eb(t,null,d);return t=t.slice(),t[0]=f[0],t[t.length-1]=f[1],t}function hz(e,t,n){if(F$(e)){var i=Math.abs(t.reduce((s,l)=>s+(l<0?-1:l>0?1:0),0));i!==t.length&&n.warn("Log scale domain includes zero: "+Le(t))}return t}function Xue(e,t,n){let i=t.bins;if(i&&!he(i)){const s=e.domain(),l=s[0],c=Bt(s),d=i.step;let f=i.start==null?l:i.start,u=i.stop==null?c:i.stop;d||de("Scale bins parameter missing step property."),f<l&&(f=d*Math.ceil(l/d)),u>c&&(u=d*Math.floor(c/d)),i=Ns(f,u+d/2,d)}return i?e.bins=i:e.bins&&delete e.bins,e.type===Gb&&(i?!t.domain&&!t.domainRaw&&(e.domain(i),n=i.length):e.bins=e.domain()),n}function Kue(e,t,n){var i=e.type,s=t.round||!1,l=t.range;if(t.rangeStep!=null)l=Zue(i,t,n);else if(t.scheme&&(l=Que(i,t,n),ft(l))){if(e.interpolator)return e.interpolator(l);de(`Scale type ${i} does not support interpolating color schemes.`)}if(l&&I$(i))return e.interpolator(z4(O5(l,t.reverse),t.interpolate,t.interpolateGamma));l&&t.interpolate&&e.interpolate?e.interpolate(Kb(t.interpolate,t.interpolateGamma)):ft(e.round)?e.round(s):ft(e.rangeRound)&&e.interpolate(s?c0:cc),l&&e.range(O5(l,t.reverse))}function Zue(e,t,n){e!==E$&&e!==m5&&de("Only band and point scales support rangeStep.");var i=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,s=e===m5?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*qb(n,s,i)]}function Que(e,t,n){var i=t.schemeExtent,s,l;return he(t.scheme)?l=z4(t.scheme,t.interpolate,t.interpolateGamma):(s=t.scheme.toLowerCase(),l=Zb(s),l||de(`Unrecognized scheme name: ${t.scheme}`)),n=e===H4?n+1:e===Gb?n-1:e===Hu||e===$4?+t.schemeCount||Hue:n,I$(e)?JF(l,i,t.reverse):ft(l)?O$(JF(l,i),n):e===Vb?l:l.slice(0,n)}function JF(e,t,n){return ft(e)&&(t||n)?A$(e,O5(t||[0,1],n)):e}function O5(e,t){return t?e.slice().reverse():e}function _z(e){ae.call(this,null,e)}be(_z,ae,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(tf(e.sort)),this.modified(n),t}});const eI="zero",pz="center",gz="normalize",yz=["y0","y1"];function $T(e){ae.call(this,null,e)}$T.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:eI,values:[eI,pz,gz]},{name:"as",type:"string",array:!0,length:2,default:yz}]};be($T,ae,{transform(e,t){var n=e.as||yz,i=n[0],s=n[1],l=tf(e.sort),c=e.field||yh,d=e.offset===pz?Jue:e.offset===gz?ehe:the,f,u,a,y;for(f=nhe(t.source,e.groupby,l,c),u=0,a=f.length,y=f.max;u<a;++u)d(f[u],y,c,i,s);return t.reflow(e.modified()).modifies(n)}});function Jue(e,t,n,i,s){for(var l=(t-e.sum)/2,c=e.length,d=0,f;d<c;++d)f=e[d],f[i]=l,f[s]=l+=Math.abs(n(f))}function ehe(e,t,n,i,s){for(var l=1/e.sum,c=0,d=e.length,f=0,u=0,a;f<d;++f)a=e[f],a[i]=c,a[s]=c=l*(u+=Math.abs(n(a)))}function the(e,t,n,i,s){for(var l=0,c=0,d=e.length,f=0,u,a;f<d;++f)a=e[f],u=+n(a),u<0?(a[i]=c,a[s]=c+=u):(a[i]=l,a[s]=l+=u)}function nhe(e,t,n,i){var s=[],l=b=>b(a),c,d,f,u,a,y,w,m,o;if(t==null)s.push(e.slice());else for(c={},d=0,f=e.length;d<f;++d)a=e[d],y=t.map(l),w=c[y],w||(c[y]=w=[],s.push(w)),w.push(a);for(y=0,o=0,u=s.length;y<u;++y){for(w=s[y],d=0,m=0,f=w.length;d<f;++d)m+=Math.abs(i(w[d]));w.sum=m,m>o&&(o=m),n&&w.sort(n)}return s.max=o,s}const ihe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:sz,datajoin:rz,encode:az,legendentries:oz,linkpath:DT,pie:UT,scale:uz,sortitems:_z,stack:$T},Symbol.toStringTag,{value:"Module"}));var she=Math.abs,N5=Math.cos,dy=Math.sin,rhe=1e-6,mz=Math.PI,C5=mz/2,tI=ahe(2);function nI(e){return e>1?C5:e<-1?-C5:Math.asin(e)}function ahe(e){return e>0?Math.sqrt(e):0}function ohe(e,t){var n=e*dy(t),i=30,s;do t-=s=(t+dy(t)-n)/(1+N5(t));while(she(s)>rhe&&--i>0);return t/2}function lhe(e,t,n){function i(s,l){return[e*s*N5(l=ohe(n,l)),t*dy(l)]}return i.invert=function(s,l){return l=nI(l/t),[s/(e*N5(l)),nI((2*l+dy(2*l))/n)]},i}var che=lhe(tI/C5,tI,mz);function dhe(){return Qa(che).scale(169.529)}const fhe=fP(),R5=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function uhe(e,t){return function n(){const i=t();return i.type=e,i.path=fP().projection(i),i.copy=i.copy||function(){const s=n();return R5.forEach(l=>{i[l]&&s[l](i[l]())}),s.path.pointRadius(i.path.pointRadius()),s},k$(i)}}function HT(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(fy[e]=uhe(e,t),this):fy[e]||null}function wz(e){return e&&e.path||fhe}const fy={albers:hP,albersusa:wte,azimuthalequalarea:Lte,azimuthalequidistant:bte,conicconformal:vte,conicequalarea:Pg,conicequidistant:kte,equalEarth:Fte,equirectangular:Ste,gnomonic:Ite,identity:Mte,mercator:Tte,mollweide:dhe,naturalEarth1:Ate,orthographic:Ote,stereographic:Nte,transversemercator:Cte};for(const e in fy)HT(e,fy[e]);function hhe(){}const ho=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Lz(){var e=1,t=1,n=d;function i(f,u){return u.map(a=>s(f,a))}function s(f,u){var a=[],y=[];return l(f,u,w=>{n(w,f,u),_he(w)>0?a.push([w]):y.push(w)}),y.forEach(w=>{for(var m=0,o=a.length,b;m<o;++m)if(phe((b=a[m])[0],w)!==-1){b.push(w);return}}),{type:"MultiPolygon",value:u,coordinates:a}}function l(f,u,a){var y=new Array,w=new Array,m,o,b,L,v,S;for(m=o=-1,L=f[0]>=u,ho[L<<1].forEach(x);++m<e-1;)b=L,L=f[m+1]>=u,ho[b|L<<1].forEach(x);for(ho[L<<0].forEach(x);++o<t-1;){for(m=-1,L=f[o*e+e]>=u,v=f[o*e]>=u,ho[L<<1|v<<2].forEach(x);++m<e-1;)b=L,L=f[o*e+e+m+1]>=u,S=v,v=f[o*e+m+1]>=u,ho[b|L<<1|v<<2|S<<3].forEach(x);ho[L|v<<3].forEach(x)}for(m=-1,v=f[o*e]>=u,ho[v<<2].forEach(x);++m<e-1;)S=v,v=f[o*e+m+1]>=u,ho[v<<2|S<<3].forEach(x);ho[v<<3].forEach(x);function x(F){var k=[F[0][0]+m,F[0][1]+o],A=[F[1][0]+m,F[1][1]+o],M=c(k),C=c(A),R,D;(R=w[M])?(D=y[C])?(delete w[R.end],delete y[D.start],R===D?(R.ring.push(A),a(R.ring)):y[R.start]=w[D.end]={start:R.start,end:D.end,ring:R.ring.concat(D.ring)}):(delete w[R.end],R.ring.push(A),w[R.end=C]=R):(R=y[C])?(D=w[M])?(delete y[R.start],delete w[D.end],R===D?(R.ring.push(A),a(R.ring)):y[D.start]=w[R.end]={start:D.start,end:R.end,ring:D.ring.concat(R.ring)}):(delete y[R.start],R.ring.unshift(k),y[R.start=M]=R):y[M]=w[C]={start:M,end:C,ring:[k,A]}}}function c(f){return f[0]*2+f[1]*(e+1)*4}function d(f,u,a){f.forEach(y=>{var w=y[0],m=y[1],o=w|0,b=m|0,L,v=u[b*e+o];w>0&&w<e&&o===w&&(L=u[b*e+o-1],y[0]=w+(a-L)/(v-L)-.5),m>0&&m<t&&b===m&&(L=u[(b-1)*e+o],y[1]=m+(a-L)/(v-L)-.5)})}return i.contour=s,i.size=function(f){if(!arguments.length)return[e,t];var u=Math.floor(f[0]),a=Math.floor(f[1]);return u>=0&&a>=0||de("invalid size"),e=u,t=a,i},i.smooth=function(f){return arguments.length?(n=f?d:hhe,i):n===d},i}function _he(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}function phe(e,t){for(var n=-1,i=t.length,s;++n<i;)if(s=ghe(e,t[n]))return s;return 0}function ghe(e,t){for(var n=t[0],i=t[1],s=-1,l=0,c=e.length,d=c-1;l<c;d=l++){var f=e[l],u=f[0],a=f[1],y=e[d],w=y[0],m=y[1];if(yhe(f,y,t))return 0;a>i!=m>i&&n<(w-u)*(i-a)/(m-a)+u&&(s=-s)}return s}function yhe(e,t,n){var i;return mhe(e,t,n)&&whe(e[i=+(e[0]===t[0])],n[i],t[i])}function mhe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function whe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function bz(e,t,n){return function(i){var s=ja(i),l=n?Math.min(s[0],0):s[0],c=s[1],d=c-l,f=t?Hl(l,c,e):d/(e+1);return Ns(l+f,c,f)}}function zT(e){ae.call(this,null,e)}zT.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};be(zT,ae,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,s=e.field||Ni,l=Lz().smooth(e.smooth!==!1),c=e.thresholds||Lhe(i,s,e),d=e.as===null?null:e.as||"contour",f=[];return i.forEach(u=>{const a=s(u),y=l.size([a.width,a.height])(a.values,he(c)?c:c(a.values));bhe(y,a,u,e),y.forEach(w=>{f.push(C4(u,$t(d!=null?{[d]:w}:w)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function Lhe(e,t,n){const i=bz(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?i:i(e.map(s=>dd(t(s).values)))}function bhe(e,t,n,i){let s=i.scale||t.scale,l=i.translate||t.translate;if(ft(s)&&(s=s(n,i)),ft(l)&&(l=l(n,i)),(s===1||s==null)&&!l)return;const c=(At(s)?s:s[0])||1,d=(At(s)?s:s[1])||1,f=l&&l[0]||0,u=l&&l[1]||0;e.forEach(Tz(t,c,d,f,u))}function Tz(e,t,n,i,s){const l=e.x1||0,c=e.y1||0,d=t*n<0;function f(y){y.forEach(u)}function u(y){d&&y.reverse(),y.forEach(a)}function a(y){y[0]=(y[0]-l)*t+i,y[1]=(y[1]-c)*n+s}return function(y){return y.coordinates.forEach(f),y}}function iI(e,t,n){const i=e>=0?e:F7(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function _w(e){return ft(e)?e:Ci(+e)}function Ez(){var e=f=>f[0],t=f=>f[1],n=yh,i=[-1,-1],s=960,l=500,c=2;function d(f,u){const a=iI(i[0],f,e)>>c,y=iI(i[1],f,t)>>c,w=a?a+2:0,m=y?y+2:0,o=2*w+(s>>c),b=2*m+(l>>c),L=new Float32Array(o*b),v=new Float32Array(o*b);let S=L;f.forEach(F=>{const k=w+(+e(F)>>c),A=m+(+t(F)>>c);k>=0&&k<o&&A>=0&&A<b&&(L[k+A*o]+=+n(F))}),a>0&&y>0?(Sf(o,b,L,v,a),xf(o,b,v,L,y),Sf(o,b,L,v,a),xf(o,b,v,L,y),Sf(o,b,L,v,a),xf(o,b,v,L,y)):a>0?(Sf(o,b,L,v,a),Sf(o,b,v,L,a),Sf(o,b,L,v,a),S=v):y>0&&(xf(o,b,L,v,y),xf(o,b,v,L,y),xf(o,b,L,v,y),S=v);const x=u?Math.pow(2,-2*c):1/ZC(S);for(let F=0,k=o*b;F<k;++F)S[F]*=x;return{values:S,scale:1<<c,width:o,height:b,x1:w,y1:m,x2:w+(s>>c),y2:m+(l>>c)}}return d.x=function(f){return arguments.length?(e=_w(f),d):e},d.y=function(f){return arguments.length?(t=_w(f),d):t},d.weight=function(f){return arguments.length?(n=_w(f),d):n},d.size=function(f){if(!arguments.length)return[s,l];var u=+f[0],a=+f[1];return u>=0&&a>=0||de("invalid size"),s=u,l=a,d},d.cellSize=function(f){return arguments.length?((f=+f)>=1||de("invalid cell size"),c=Math.floor(Math.log(f)/Math.LN2),d):1<<c},d.bandwidth=function(f){return arguments.length?(f=Fe(f),f.length===1&&(f=[+f[0],+f[0]]),f.length!==2&&de("invalid bandwidth"),i=f,d):i},d}function Sf(e,t,n,i,s){const l=(s<<1)+1;for(let c=0;c<t;++c)for(let d=0,f=0;d<e+s;++d)d<e&&(f+=n[d+c*e]),d>=s&&(d>=l&&(f-=n[d-l+c*e]),i[d-s+c*e]=f/Math.min(d+1,e-1+l-d,l))}function xf(e,t,n,i,s){const l=(s<<1)+1;for(let c=0;c<e;++c)for(let d=0,f=0;d<t+s;++d)d<t&&(f+=n[c+d*e]),d>=s&&(d>=l&&(f-=n[c+(d-l)*e]),i[c+(d-s)*e]=f/Math.min(d+1,t-1+l-d,l))}function jT(e){ae.call(this,null,e)}jT.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const The=["x","y","weight","size","cellSize","bandwidth"];function vz(e,t){return The.forEach(n=>t[n]!=null?e[n](t[n]):0),e}be(jT,ae,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,s=Ehe(i,e.groupby),l=(e.groupby||[]).map(Sn),c=vz(Ez(),e),d=e.as||"grid",f=[];function u(a,y){for(let w=0;w<l.length;++w)a[l[w]]=y[w];return a}return f=s.map(a=>$t(u({[d]:c(a,e.counts)},a.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function Ehe(e,t){var n=[],i=a=>a(d),s,l,c,d,f,u;if(t==null)n.push(e);else for(s={},l=0,c=e.length;l<c;++l)d=e[l],f=t.map(i),u=s[f],u||(s[f]=u=[],u.dims=f,n.push(u)),u.push(d);return n}function qT(e){ae.call(this,null,e)}qT.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};be(qT,ae,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=Lz().smooth(e.smooth!==!1),s=e.values,l=e.thresholds||bz(e.count||10,e.nice,!!s),c=e.size,d,f;return s||(s=t.materialize(t.SOURCE).source,d=vz(Ez(),e)(s,!0),f=Tz(d,d.scale||1,d.scale||1,0,0),c=[d.width,d.height],s=d.values),l=he(l)?l:l(s),s=i.size(c)(s,l),f&&s.forEach(f),this.value&&(n.rem=this.value),this.value=n.source=n.add=(s||[]).map($t),n}});const P5="Feature",VT="FeatureCollection",vhe="MultiPoint";function GT(e){ae.call(this,null,e)}GT.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};be(GT,ae,{transform(e,t){var n=this._features,i=this._points,s=e.fields,l=s&&s[0],c=s&&s[1],d=e.geojson||!s&&Ni,f=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Fi(d))||l&&t.modified(Fi(l))||c&&t.modified(Fi(c)),(!this.value||u)&&(f=t.SOURCE,this._features=n=[],this._points=i=[]),d&&t.visit(f,a=>n.push(d(a))),l&&c&&(t.visit(f,a=>{var y=l(a),w=c(a);y!=null&&w!=null&&(y=+y)===y&&(w=+w)===w&&i.push([y,w])}),n=n.concat({type:P5,geometry:{type:vhe,coordinates:i}})),this.value={type:VT,features:n}}});function WT(e){ae.call(this,null,e)}WT.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};be(WT,ae,{transform(e,t){var n=t.fork(t.ALL),i=this.value,s=e.field||Ni,l=e.as||"path",c=n.SOURCE;!i||e.modified()?(this.value=i=wz(e.projection),n.materialize().reflow()):c=s===Ni||t.modified(s.fields)?n.ADD_MOD:n.ADD;const d=She(i,e.pointRadius);return n.visit(c,f=>f[l]=i(s(f))),i.pointRadius(d),n.modifies(l)}});function She(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function YT(e){ae.call(this,null,e)}YT.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};be(YT,ae,{transform(e,t){var n=e.projection,i=e.fields[0],s=e.fields[1],l=e.as||["x","y"],c=l[0],d=l[1],f;function u(a){const y=n([i(a),s(a)]);y?(a[c]=y[0],a[d]=y[1]):(a[c]=void 0,a[d]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(f=t.modified(i.fields)||t.modified(s.fields),t.visit(f?t.ADD_MOD:t.ADD,u)),t.modifies(l)}});function XT(e){ae.call(this,null,e)}XT.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};be(XT,ae,{transform(e,t){var n=t.fork(t.ALL),i=this.value,s=e.as||"shape",l=n.ADD;return(!i||e.modified())&&(this.value=i=xhe(wz(e.projection),e.field||ms("datum"),e.pointRadius),n.materialize().reflow(),l=n.SOURCE),n.visit(l,c=>c[s]=i),n.modifies(s)}});function xhe(e,t,n){const i=n==null?s=>e(t(s)):s=>{var l=e.pointRadius(),c=e.pointRadius(n)(t(s));return e.pointRadius(l),c};return i.context=s=>(e.context(s),i),i}function KT(e){ae.call(this,[],e),this.generator=Zee()}KT.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};be(KT,ae,{transform(e,t){var n=this.value,i=this.generator,s;if(!n.length||e.modified())for(const l in e)ft(i[l])&&i[l](e[l]);return s=i(),n.length?t.mod.push(qU(n[0],s)):t.add.push($t(s)),n[0]=s,t}});function ZT(e){ae.call(this,null,e)}ZT.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};be(ZT,ae,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,i=e.resolve==="shared",s=e.field||Ni,l=Bhe(e.opacity,e),c=khe(e.color,e),d=e.as||"image",f={$x:0,$y:0,$value:0,$max:i?dd(n.map(u=>dd(s(u).values))):0};return n.forEach(u=>{const a=s(u),y=dt({},u,f);i||(y.$max=dd(a.values||[])),u[d]=Fhe(a,y,c.dep?c:Ci(c(y)),l.dep?l:Ci(l(y)))}),t.reflow(!0).modifies(d)}});function khe(e,t){let n;return ft(e)?(n=i=>zl(e(i,t)),n.dep=Sz(e)):n=Ci(zl(e||"#888")),n}function Bhe(e,t){let n;return ft(e)?(n=i=>e(i,t),n.dep=Sz(e)):e?n=Ci(e):(n=i=>i.$value/i.$max||0,n.dep=!0),n}function Sz(e){if(!ft(e))return!1;const t=Vr(Fi(e));return t.$x||t.$y||t.$value||t.$max}function Fhe(e,t,n,i){const s=e.width,l=e.height,c=e.x1||0,d=e.y1||0,f=e.x2||s,u=e.y2||l,a=e.values,y=a?L=>a[L]:Ll,w=L0(f-c,u-d),m=w.getContext("2d"),o=m.getImageData(0,0,f-c,u-d),b=o.data;for(let L=d,v=0;L<u;++L){t.$y=L-d;for(let S=c,x=L*s;S<f;++S,v+=4){t.$x=S-c,t.$value=y(S+x);const F=n(t);b[v+0]=F.r,b[v+1]=F.g,b[v+2]=F.b,b[v+3]=~~(255*i(t))}}return m.putImageData(o,0,0),w}function xz(e){ae.call(this,null,e),this.modified(!0)}be(xz,ae,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Mhe(e.type),R5.forEach(i=>{e[i]!=null&&sI(n,i,e[i])})):R5.forEach(i=>{e.modified(i)&&sI(n,i,e[i])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Ihe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Ihe(e,t){const n=Ahe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Mhe(e){const t=HT((e||"mercator").toLowerCase());return t||de("Unrecognized projection type: "+e),t()}function sI(e,t,n){ft(e[t])&&e[t](n)}function Ahe(e){return e=Fe(e),e.length===1?e[0]:{type:VT,features:e.reduce((t,n)=>t.concat(Ohe(n)),[])}}function Ohe(e){return e.type===VT?e.features:Fe(e).filter(t=>t!=null).map(t=>t.type===P5?t:{type:P5,geometry:t})}const Nhe=Object.freeze(Object.defineProperty({__proto__:null,contour:qT,geojson:GT,geopath:WT,geopoint:YT,geoshape:XT,graticule:KT,heatmap:ZT,isocontour:zT,kde2d:jT,projection:xz},Symbol.toStringTag,{value:"Module"})),rI={center:HJ,collide:aee,nbody:yee,link:lee,x:mee,y:wee},I1="forces",D5=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Che=["static","iterations"],kz=["x","y","vx","vy"];function QT(e){ae.call(this,null,e)}QT.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:kz}]};be(QT,ae,{transform(e,t){var n=this.value,i=t.changed(t.ADD_REM),s=e.modified(D5),l=e.iterations||300;if(n?(i&&(t.modifies("index"),n.nodes(t.source)),(s||t.changed(t.MOD))&&Bz(n,e,0,t)):(this.value=n=Phe(t.source,e),n.on("tick",Rhe(t.dataflow,this)),e.static||(i=!0,n.tick()),t.modifies("index")),s||i||e.modified(Che)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/l)),e.static)for(n.stop();--l>=0;)n.tick();else if(n.stopped()&&n.restart(),!i)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let d=this._argops,f=0,u=d.length,a;f<u;++f)if(a=d[f],!(a.name!==I1||a.op._argval.force!=="link")){for(var i=a.op._argops,s=0,l=i.length,c;s<l;++s)if(i[s].name==="links"&&(c=i[s].op.source)){n.pulse(c,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(kz)}});function Rhe(e,t){return()=>e.touch(t).run()}function Phe(e,t){const n=gee(e),i=n.stop,s=n.restart;let l=!1;return n.stopped=()=>l,n.restart=()=>(l=!1,s()),n.stop=()=>(l=!0,i()),Bz(n,t,!0).on("end",()=>l=!0)}function Bz(e,t,n,i){var s=Fe(t.forces),l,c,d,f;for(l=0,c=D5.length;l<c;++l)d=D5[l],d!==I1&&t.modified(d)&&e[d](t[d]);for(l=0,c=s.length;l<c;++l)f=I1+l,d=n||t.modified(I1,l)?Uhe(s[l]):i&&Dhe(s[l],i)?e.force(f):null,d&&e.force(f,d);for(c=e.numForces||0;l<c;++l)e.force(I1+l,null);return e.numForces=s.length,e}function Dhe(e,t){var n,i;for(n in e)if(ft(i=e[n])&&t.modified(Fi(i)))return 1;return 0}function Uhe(e){var t,n;Ue(rI,e.force)||de("Unrecognized force: "+e.force),t=rI[e.force]();for(n in e)ft(t[n])&&$he(t[n],e[n],e);return t}function $he(e,t,n){e(ft(t)?i=>t(i,n):t)}const Hhe=Object.freeze(Object.defineProperty({__proto__:null,force:QT},Symbol.toStringTag,{value:"Module"}));function U5(e,t,n){const i={};return e.each(s=>{const l=s.data;n(l)&&(i[t(l)]=s)}),e.lookup=i,e}function JT(e){ae.call(this,null,e)}JT.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const zhe=e=>e.values;be(JT,ae,{transform(e,t){t.source||de("Nest transform requires an upstream data source.");var n=e.generate,i=e.modified(),s=t.clone(),l=this.value;return(!l||i||t.changed())&&(l&&l.each(c=>{c.children&&N4(c.data)&&s.rem.push(c.data)}),this.value=l=l7({values:Fe(e.keys).reduce((c,d)=>(c.key(d),c),jhe()).entries(s.source)},zhe),n&&l.each(c=>{c.children&&(c=$t(c.data),s.add.push(c),s.source.push(c))}),U5(l,Pe,Pe)),s.source.root=l,s}});function jhe(){const e=[],t={entries:s=>i(n(s,0),0),key:s=>(e.push(s),t)};function n(s,l){if(l>=e.length)return s;const c=s.length,d=e[l++],f={},u={};let a=-1,y,w,m;for(;++a<c;)y=d(w=s[a])+"",(m=f[y])?m.push(w):f[y]=[w];for(y in f)u[y]=n(f[y],l);return u}function i(s,l){if(++l>e.length)return s;const c=[];for(const d in s)c.push({key:d,values:i(s[d],l)});return c}return t}function Ko(e){ae.call(this,null,e)}const qhe=(e,t)=>e.parent===t.parent?1:2;be(Ko,ae,{transform(e,t){(!t.source||!t.source.root)&&de(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),i=this.fields,s=t.source.root,l=e.as||i;e.field?s.sum(e.field):s.count(),e.sort&&s.sort(tf(e.sort,c=>c.data)),Vhe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?qhe:yh);try{this.value=n(s)}catch(c){de(c)}return s.each(c=>Ghe(c,i,l)),t.reflow(e.modified()).modifies(l).modifies("leaf")}});function Vhe(e,t,n){for(let i,s=0,l=t.length;s<l;++s)i=t[s],i in n&&e[i](n[i])}function Ghe(e,t,n){const i=e.data,s=t.length-1;for(let l=0;l<s;++l)i[n[l]]=e[t[l]];i[n[s]]=e.children?e.children.length:0}const $5=["x","y","r","depth","children"];function eE(e){Ko.call(this,e)}eE.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:$5.length,default:$5}]};be(eE,Ko,{layout:Lne,params:["radius","size","padding"],fields:$5});const H5=["x0","y0","x1","y1","depth","children"];function tE(e){Ko.call(this,e)}tE.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:H5.length,default:H5}]};be(tE,Ko,{layout:bne,params:["size","round","padding"],fields:H5});function nE(e){ae.call(this,null,e)}nE.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};be(nE,ae,{transform(e,t){t.source||de("Stratify transform requires an upstream data source.");let n=this.value;const i=e.modified(),s=t.fork(t.ALL).materialize(t.SOURCE),l=!n||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s.source=s.source.slice(),l&&(n=s.source.length?U5(EB().id(e.key).parentId(e.parentKey)(s.source),e.key,rr):U5(EB()([{}]),e.key,e.key)),s.source.root=this.value=n,s}});const aI={tidy:Mne,cluster:jte},z5=["x","y","depth","children"];function iE(e){Ko.call(this,e)}iE.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:z5.length,default:z5}]};be(iE,Ko,{layout(e){const t=e||"tidy";if(Ue(aI,t))return aI[t]();de("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:z5});function sE(e){ae.call(this,[],e)}sE.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};be(sE,ae,{transform(e,t){const n=this.value,i=t.source&&t.source.root,s=t.fork(t.NO_SOURCE),l={};return i||de("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(s.rem=n,t.visit(t.SOURCE,c=>l[Pe(c)]=1),i.each(c=>{const d=c.data,f=c.parent&&c.parent.data;f&&l[Pe(d)]&&l[Pe(f)]&&s.add.push($t({source:f,target:d}))}),this.value=s.add):t.changed(t.MOD)&&(t.visit(t.MOD,c=>l[Pe(c)]=1),n.forEach(c=>{(l[Pe(c.source)]||l[Pe(c.target)])&&s.mod.push(c)})),s}});const oI={binary:One,dice:h0,slice:f4,slicedice:Nne,squarify:MP,resquarify:Cne},j5=["x0","y0","x1","y1","depth","children"];function rE(e){Ko.call(this,e)}rE.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:j5.length,default:j5}]};be(rE,Ko,{layout(){const e=Ane();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ue(oI,t)?e.tile(oI[t]):de("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:j5});const Whe=Object.freeze(Object.defineProperty({__proto__:null,nest:JT,pack:eE,partition:tE,stratify:nE,tree:iE,treelinks:sE,treemap:rE},Symbol.toStringTag,{value:"Module"}));function pw(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const gw=4278190080;function Yhe(e,t){const n=e.bitmap();return(t||[]).forEach(i=>n.set(e(i.boundary[0]),e(i.boundary[3]))),[n,void 0]}function Xhe(e,t,n,i,s){const l=e.width,c=e.height,d=i||s,f=pw(l,c).getContext("2d"),u=pw(l,c).getContext("2d"),a=d&&pw(l,c).getContext("2d");n.forEach(C=>Ip(f,C,!1)),Ip(u,t,!1),d&&Ip(a,t,!0);const y=yw(f,l,c),w=yw(u,l,c),m=d&&yw(a,l,c),o=e.bitmap(),b=d&&e.bitmap();let L,v,S,x,F,k,A,M;for(v=0;v<c;++v)for(L=0;L<l;++L)F=v*l+L,k=y[F]&gw,M=w[F]&gw,A=d&&m[F]&gw,(k||A||M)&&(S=e(L),x=e(v),!s&&(k||M)&&o.set(S,x),d&&(k||A)&&b.set(S,x));return[o,b]}function yw(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function Ip(e,t,n){if(!t.length)return;const i=t[0].mark.marktype;i==="group"?t.forEach(s=>{s.items.forEach(l=>Ip(e,l.items,n))}):Hs[i].draw(e,{items:n?t.map(Khe):t})}function Khe(e){const t=C4(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const _o=5,Ui=31,F2=32,yl=new Uint32Array(F2+1),Sr=new Uint32Array(F2+1);Sr[0]=0;yl[0]=~Sr[0];for(let e=1;e<=F2;++e)Sr[e]=Sr[e-1]<<1|1,yl[e]=~Sr[e];function Zhe(e,t){const n=new Uint32Array(~~((e*t+F2)/F2));function i(l,c){n[l]|=c}function s(l,c){n[l]&=c}return{array:n,get:(l,c)=>{const d=c*e+l;return n[d>>>_o]&1<<(d&Ui)},set:(l,c)=>{const d=c*e+l;i(d>>>_o,1<<(d&Ui))},clear:(l,c)=>{const d=c*e+l;s(d>>>_o,~(1<<(d&Ui)))},getRange:(l,c,d,f)=>{let u=f,a,y,w,m;for(;u>=c;--u)if(a=u*e+l,y=u*e+d,w=a>>>_o,m=y>>>_o,w===m){if(n[w]&yl[a&Ui]&Sr[(y&Ui)+1])return!0}else{if(n[w]&yl[a&Ui]||n[m]&Sr[(y&Ui)+1])return!0;for(let o=w+1;o<m;++o)if(n[o])return!0}return!1},setRange:(l,c,d,f)=>{let u,a,y,w,m;for(;c<=f;++c)if(u=c*e+l,a=c*e+d,y=u>>>_o,w=a>>>_o,y===w)i(y,yl[u&Ui]&Sr[(a&Ui)+1]);else for(i(y,yl[u&Ui]),i(w,Sr[(a&Ui)+1]),m=y+1;m<w;++m)i(m,4294967295)},clearRange:(l,c,d,f)=>{let u,a,y,w,m;for(;c<=f;++c)if(u=c*e+l,a=c*e+d,y=u>>>_o,w=a>>>_o,y===w)s(y,Sr[u&Ui]|yl[(a&Ui)+1]);else for(s(y,Sr[u&Ui]),s(w,yl[(a&Ui)+1]),m=y+1;m<w;++m)s(m,0)},outOfBounds:(l,c,d,f)=>l<0||c<0||f>=t||d>=e}}function Qhe(e,t,n){const i=Math.max(1,Math.sqrt(e*t/1e6)),s=~~((e+2*n+i)/i),l=~~((t+2*n+i)/i),c=d=>~~((d+n)/i);return c.invert=d=>d*i-n,c.bitmap=()=>Zhe(s,l),c.ratio=i,c.padding=n,c.width=e,c.height=t,c}function Jhe(e,t,n,i){const s=e.width,l=e.height;return function(c){const d=c.datum.datum.items[i].items,f=d.length,u=c.datum.fontSize,a=Ur.width(c.datum,c.datum.text);let y=0,w,m,o,b,L,v,S;for(let x=0;x<f;++x)w=d[x].x,o=d[x].y,m=d[x].x2===void 0?w:d[x].x2,b=d[x].y2===void 0?o:d[x].y2,L=(w+m)/2,v=(o+b)/2,S=Math.abs(m-w+b-o),S>=y&&(y=S,c.x=L,c.y=v);return L=a/2,v=u/2,w=c.x-L,m=c.x+L,o=c.y-v,b=c.y+v,c.align="center",w<0&&m<=s?c.align="left":0<=w&&s<m&&(c.align="right"),c.baseline="middle",o<0&&b<=l?c.baseline="top":0<=o&&l<b&&(c.baseline="bottom"),!0}}function uy(e,t,n,i,s,l){let c=n/2;return e-c<0||e+c>s||t-(c=i/2)<0||t+c>l}function Bl(e,t,n,i,s,l,c,d){const f=s*l/(i*2),u=e(t-f),a=e(t+f),y=e(n-(l=l/2)),w=e(n+l);return c.outOfBounds(u,y,a,w)||c.getRange(u,y,a,w)||d&&d.getRange(u,y,a,w)}function e1e(e,t,n,i){const s=e.width,l=e.height,c=t[0],d=t[1];function f(u,a,y,w,m){const o=e.invert(u),b=e.invert(a);let L=y,v=l,S;if(!uy(o,b,w,m,s,l)&&!Bl(e,o,b,m,w,L,c,d)&&!Bl(e,o,b,m,w,m,c,null)){for(;v-L>=1;)S=(L+v)/2,Bl(e,o,b,m,w,S,c,d)?v=S:L=S;if(L>y)return[o,b,L,!0]}}return function(u){const a=u.datum.datum.items[i].items,y=a.length,w=u.datum.fontSize,m=Ur.width(u.datum,u.datum.text);let o=n?w:0,b=!1,L=!1,v=0,S,x,F,k,A,M,C,R,D,U,X,j,G,V,W,Z,q;for(let oe=0;oe<y;++oe){for(S=a[oe].x,F=a[oe].y,x=a[oe].x2===void 0?S:a[oe].x2,k=a[oe].y2===void 0?F:a[oe].y2,S>x&&(q=S,S=x,x=q),F>k&&(q=F,F=k,k=q),D=e(S),X=e(x),U=~~((D+X)/2),j=e(F),V=e(k),G=~~((j+V)/2),C=U;C>=D;--C)for(R=G;R>=j;--R)Z=f(C,R,o,m,w),Z&&([u.x,u.y,o,b]=Z);for(C=U;C<=X;++C)for(R=G;R<=V;++R)Z=f(C,R,o,m,w),Z&&([u.x,u.y,o,b]=Z);!b&&!n&&(W=Math.abs(x-S+k-F),A=(S+x)/2,M=(F+k)/2,W>=v&&!uy(A,M,m,w,s,l)&&!Bl(e,A,M,w,m,w,c,null)&&(v=W,u.x=A,u.y=M,L=!0))}return b||L?(A=m/2,M=w/2,c.setRange(e(u.x-A),e(u.y-M),e(u.x+A),e(u.y+M)),u.align="center",u.baseline="middle",!0):!1}}const t1e=[-1,-1,1,1],n1e=[-1,1,-1,1];function i1e(e,t,n,i){const s=e.width,l=e.height,c=t[0],d=t[1],f=e.bitmap();return function(u){const a=u.datum.datum.items[i].items,y=a.length,w=u.datum.fontSize,m=Ur.width(u.datum,u.datum.text),o=[];let b=n?w:0,L=!1,v=!1,S=0,x,F,k,A,M,C,R,D,U,X,j,G;for(let V=0;V<y;++V){for(x=a[V].x,k=a[V].y,F=a[V].x2===void 0?x:a[V].x2,A=a[V].y2===void 0?k:a[V].y2,o.push([e((x+F)/2),e((k+A)/2)]);o.length;)if([R,D]=o.pop(),!(c.get(R,D)||d.get(R,D)||f.get(R,D))){f.set(R,D);for(let W=0;W<4;++W)M=R+t1e[W],C=D+n1e[W],f.outOfBounds(M,C,M,C)||o.push([M,C]);if(M=e.invert(R),C=e.invert(D),U=b,X=l,!uy(M,C,m,w,s,l)&&!Bl(e,M,C,w,m,U,c,d)&&!Bl(e,M,C,w,m,w,c,null)){for(;X-U>=1;)j=(U+X)/2,Bl(e,M,C,w,m,j,c,d)?X=j:U=j;U>b&&(u.x=M,u.y=C,b=U,L=!0)}}!L&&!n&&(G=Math.abs(F-x+A-k),M=(x+F)/2,C=(k+A)/2,G>=S&&!uy(M,C,m,w,s,l)&&!Bl(e,M,C,w,m,w,c,null)&&(S=G,u.x=M,u.y=C,v=!0))}return L||v?(M=m/2,C=w/2,c.setRange(e(u.x-M),e(u.y-C),e(u.x+M),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const s1e=["right","center","left"],r1e=["bottom","middle","top"];function a1e(e,t,n,i){const s=e.width,l=e.height,c=t[0],d=t[1],f=i.length;return function(u){const a=u.boundary,y=u.datum.fontSize;if(a[2]<0||a[5]<0||a[0]>s||a[3]>l)return!1;let w=u.textWidth??0,m,o,b,L,v,S,x,F,k,A,M,C,R,D,U;for(let X=0;X<f;++X){if(m=(n[X]&3)-1,o=(n[X]>>>2&3)-1,b=m===0&&o===0||i[X]<0,L=m&&o?Math.SQRT1_2:1,v=i[X]<0?-1:1,S=a[1+m]+i[X]*m*L,M=a[4+o]+v*y*o/2+i[X]*o*L,F=M-y/2,k=M+y/2,C=e(S),D=e(F),U=e(k),!w)if(lI(C,C,D,U,c,d,S,S,F,k,a,b))w=Ur.width(u.datum,u.datum.text);else continue;if(A=S+v*w*m/2,S=A-w/2,x=A+w/2,C=e(S),R=e(x),lI(C,R,D,U,c,d,S,x,F,k,a,b))return u.x=m?m*v<0?x:S:A,u.y=o?o*v<0?k:F:M,u.align=s1e[m*v+1],u.baseline=r1e[o*v+1],c.setRange(C,D,R,U),!0}return!1}}function lI(e,t,n,i,s,l,c,d,f,u,a,y){return!(s.outOfBounds(e,n,t,i)||(y&&l||s).getRange(e,n,t,i))}const mw=0,ww=4,Lw=8,bw=0,Tw=1,Ew=2,o1e={"top-left":mw+bw,top:mw+Tw,"top-right":mw+Ew,left:ww+bw,middle:ww+Tw,right:ww+Ew,"bottom-left":Lw+bw,bottom:Lw+Tw,"bottom-right":Lw+Ew},l1e={naive:Jhe,"reduced-search":e1e,floodfill:i1e};function c1e(e,t,n,i,s,l,c,d,f,u,a){if(!e.length)return e;const y=Math.max(i.length,s.length),w=d1e(i,y),m=f1e(s,y),o=u1e(e[0].datum),b=o==="group"&&e[0].datum.items[f].marktype,L=b==="area",v=h1e(o,b,d,f),S=u===null||u===1/0,x=L&&a==="naive";let F=-1,k=-1;const A=e.map(D=>{const U=S?Ur.width(D,D.text):void 0;return F=Math.max(F,U),k=Math.max(k,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(D),textWidth:U}});u=u===null||u===1/0?Math.max(F,k)+Math.max(...i):u;const M=Qhe(t[0],t[1],u);let C;if(!x){n&&A.sort((X,j)=>n(X.datum,j.datum));let D=!1;for(let X=0;X<m.length&&!D;++X)D=m[X]===5||w[X]<0;const U=(o&&c||L)&&e.map(X=>X.datum);C=l.length||U?Xhe(M,U||[],l,D,L):Yhe(M,c&&A)}const R=L?l1e[a](M,C,c,f):a1e(M,C,m,w);return A.forEach(D=>D.opacity=+R(D)),A}function d1e(e,t){const n=new Float64Array(t),i=e.length;for(let s=0;s<i;++s)n[s]=e[s]||0;for(let s=i;s<t;++s)n[s]=n[i-1];return n}function f1e(e,t){const n=new Int8Array(t),i=e.length;for(let s=0;s<i;++s)n[s]|=o1e[e[s]];for(let s=i;s<t;++s)n[s]=n[i-1];return n}function u1e(e){return e&&e.mark&&e.mark.marktype}function h1e(e,t,n,i){const s=l=>[l.x,l.x,l.x,l.y,l.y,l.y];return e?e==="line"||e==="area"?l=>s(l.datum):t==="line"?l=>{const c=l.datum.items[i].items;return s(c.length?c[n==="start"?0:c.length-1]:{x:NaN,y:NaN})}:l=>{const c=l.datum.bounds;return[c.x1,(c.x1+c.x2)/2,c.x2,c.y1,(c.y1+c.y2)/2,c.y2]}:s}const q5=["x","y","opacity","align","baseline"],Fz=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function aE(e){ae.call(this,null,e)}aE.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Fz},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:q5.length,default:q5}]};be(aE,ae,{transform(e,t){function n(l){const c=e[l];return ft(c)&&t.modified(c.fields)}const i=e.modified();if(!(i||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&de("Size parameter should be specified as a [width, height] array.");const s=e.as||q5;return c1e(t.materialize(t.SOURCE).source||[],e.size,e.sort,Fe(e.offset==null?1:e.offset),Fe(e.anchor||Fz),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(l=>{const c=l.datum;c[s[0]]=l.x,c[s[1]]=l.y,c[s[2]]=l.opacity,c[s[3]]=l.align,c[s[4]]=l.baseline}),t.reflow(i).modifies(s)}});const _1e=Object.freeze(Object.defineProperty({__proto__:null,label:aE},Symbol.toStringTag,{value:"Module"}));function Iz(e,t){var n=[],i=function(a){return a(d)},s,l,c,d,f,u;if(t==null)n.push(e);else for(s={},l=0,c=e.length;l<c;++l)d=e[l],f=t.map(i),u=s[f],u||(s[f]=u=[],u.dims=f,n.push(u)),u.push(d);return n}function oE(e){ae.call(this,null,e)}oE.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};be(oE,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,s=Iz(i,e.groupby),l=(e.groupby||[]).map(Sn),c=l.length,d=e.as||[Sn(e.x),Sn(e.y)],f=[];s.forEach(u=>{ID(u,e.x,e.y,e.bandwidth||.3).forEach(a=>{const y={};for(let w=0;w<c;++w)y[l[w]]=u.dims[w];y[d[0]]=a[0],y[d[1]]=a[1],f.push($t(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const V5={constant:z7,linear:j7,log:xD,exp:kD,pow:BD,quad:q7,poly:FD},p1e=(e,t)=>e==="poly"?t:e==="quad"?2:1;function lE(e){ae.call(this,null,e)}lE.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(V5)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};be(lE,ae,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,s=Iz(i,e.groupby),l=(e.groupby||[]).map(Sn),c=e.method||"linear",d=e.order==null?3:e.order,f=p1e(c,d),u=e.as||[Sn(e.x),Sn(e.y)],a=V5[c],y=[];let w=e.extent;Ue(V5,c)||de("Invalid regression method: "+c),w!=null&&c==="log"&&w[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),w=null),s.forEach(m=>{if(m.length<=f){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const b=a(m,e.x,e.y,d);if(e.params){y.push($t({keys:m.dims,coef:b.coef,rSquared:b.rSquared}));return}const L=w||ja(m,e.x),v=S=>{const x={};for(let F=0;F<l.length;++F)x[l[F]]=m.dims[F];x[u[0]]=S[0],x[u[1]]=S[1],y.push($t(x))};c==="linear"||c==="constant"?L.forEach(S=>v([S,b.predict(S)])):x4(b.predict,L,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=y}return n}});const g1e=Object.freeze(Object.defineProperty({__proto__:null,loess:oE,regression:lE},Symbol.toStringTag,{value:"Module"}));function cE(e){ae.call(this,null,e)}cE.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const y1e=[-1e5,-1e5,1e5,1e5];be(cE,ae,{transform(e,t){const n=e.as||"path",i=t.source;if(!i||!i.length)return t;let s=e.size;s=s?[0,0,s[0],s[1]]:(s=e.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:y1e;const l=this.value=K9.from(i,e.x,e.y).voronoi(s);for(let c=0,d=i.length;c<d;++c){const f=l.cellPolygon(c);i[c][n]=f?m1e(f):null}return t.reflow(e.modified()).modifies(n)}});function m1e(e){const t=e[0][0],n=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===n;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}const w1e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:cE},Symbol.toStringTag,{value:"Module"}));var vw=Math.PI/180,M1=64,Mp=2048;function L1e(){var e=[256,256],t,n,i,s,l,c,d,f=Mz,u=[],a=Math.random,y={};y.layout=function(){for(var o=w(L0()),b=x1e((e[0]>>5)*e[1]),L=null,v=u.length,S=-1,x=[],F=u.map(A=>({text:t(A),font:n(A),style:s(A),weight:l(A),rotate:c(A),size:~~(i(A)+1e-14),padding:d(A),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:A})).sort((A,M)=>M.size-A.size);++S<v;){var k=F[S];k.x=e[0]*(a()+.5)>>1,k.y=e[1]*(a()+.5)>>1,b1e(o,k,F,S),k.hasText&&m(b,k,L)&&(x.push(k),L?E1e(L,k):L=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=e[0]>>1,k.y-=e[1]>>1)}return x};function w(o){o.width=o.height=1;var b=Math.sqrt(o.getContext("2d").getImageData(0,0,1,1).data.length>>2);o.width=(M1<<5)/b,o.height=Mp/b;var L=o.getContext("2d");return L.fillStyle=L.strokeStyle="red",L.textAlign="center",{context:L,ratio:b}}function m(o,b,L){for(var v=b.x,S=b.y,x=Math.sqrt(e[0]*e[0]+e[1]*e[1]),F=f(e),k=a()<.5?1:-1,A=-k,M,C,R;(M=F(A+=k))&&(C=~~M[0],R=~~M[1],!(Math.min(Math.abs(C),Math.abs(R))>=x));)if(b.x=v+C,b.y=S+R,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>e[0]||b.y+b.y1>e[1])&&(!L||!T1e(b,o,e[0]))&&(!L||v1e(b,L))){for(var D=b.sprite,U=b.width>>5,X=e[0]>>5,j=b.x-(U<<4),G=j&127,V=32-G,W=b.y1-b.y0,Z=(b.y+b.y0)*X+(j>>5),q,oe=0;oe<W;oe++){q=0;for(var fe=0;fe<=U;fe++)o[Z+fe]|=q<<V|(fe<U?(q=D[oe*U+fe])>>>G:0);Z+=X}return b.sprite=null,!0}return!1}return y.words=function(o){return arguments.length?(u=o,y):u},y.size=function(o){return arguments.length?(e=[+o[0],+o[1]],y):e},y.font=function(o){return arguments.length?(n=Sc(o),y):n},y.fontStyle=function(o){return arguments.length?(s=Sc(o),y):s},y.fontWeight=function(o){return arguments.length?(l=Sc(o),y):l},y.rotate=function(o){return arguments.length?(c=Sc(o),y):c},y.text=function(o){return arguments.length?(t=Sc(o),y):t},y.spiral=function(o){return arguments.length?(f=k1e[o]||o,y):f},y.fontSize=function(o){return arguments.length?(i=Sc(o),y):i},y.padding=function(o){return arguments.length?(d=Sc(o),y):d},y.random=function(o){return arguments.length?(a=o,y):a},y}function b1e(e,t,n,i){if(!t.sprite){var s=e.context,l=e.ratio;s.clearRect(0,0,(M1<<5)/l,Mp/l);var c=0,d=0,f=0,u=n.length,a,y,w,m,o;for(--i;++i<u;){if(t=n[i],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/l)+"px "+t.font,a=s.measureText(t.text+"m").width*l,w=t.size<<1,t.rotate){var b=Math.sin(t.rotate*vw),L=Math.cos(t.rotate*vw),v=a*L,S=a*b,x=w*L,F=w*b;a=Math.max(Math.abs(v+F),Math.abs(v-F))+31>>5<<5,w=~~Math.max(Math.abs(S+x),Math.abs(S-x))}else a=a+31>>5<<5;if(w>f&&(f=w),c+a>=M1<<5&&(c=0,d+=f,f=0),d+w>=Mp)break;s.translate((c+(a>>1))/l,(d+(w>>1))/l),t.rotate&&s.rotate(t.rotate*vw),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=a,t.height=w,t.xoff=c,t.yoff=d,t.x1=a>>1,t.y1=w>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,c+=a}for(var k=s.getImageData(0,0,(M1<<5)/l,Mp/l).data,A=[];--i>=0;)if(t=n[i],!!t.hasText){for(a=t.width,y=a>>5,w=t.y1-t.y0,m=0;m<w*y;m++)A[m]=0;if(c=t.xoff,c==null)return;d=t.yoff;var M=0,C=-1;for(o=0;o<w;o++){for(m=0;m<a;m++){var R=y*o+(m>>5),D=k[(d+o)*(M1<<5)+(c+m)<<2]?1<<31-m%32:0;A[R]|=D,M|=D}M?C=o:(t.y0++,w--,o--,d++)}t.y1=t.y0+C,t.sprite=A.slice(0,(t.y1-t.y0)*y)}}}function T1e(e,t,n){n>>=5;for(var i=e.sprite,s=e.width>>5,l=e.x-(s<<4),c=l&127,d=32-c,f=e.y1-e.y0,u=(e.y+e.y0)*n+(l>>5),a,y=0;y<f;y++){a=0;for(var w=0;w<=s;w++)if((a<<d|(w<s?(a=i[y*s+w])>>>c:0))&t[u+w])return!0;u+=n}return!1}function E1e(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function v1e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Mz(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function S1e(e){var t=4,n=t*e[0]/e[1],i=0,s=0;return function(l){var c=l<0?-1:1;switch(Math.sqrt(1+4*c*l)-c&3){case 0:i+=n;break;case 1:s+=t;break;case 2:i-=n;break;default:s-=t;break}return[i,s]}}function x1e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Sc(e){return typeof e=="function"?e:function(){return e}}var k1e={archimedean:Mz,rectangular:S1e};const Az=["x","y","font","fontSize","fontStyle","fontWeight","angle"],B1e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function dE(e){ae.call(this,L1e(),e)}dE.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Az}]};be(dE,ae,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&de("Wordcloud size dimensions must be non-zero.");function n(o){const b=e[o];return ft(b)&&t.modified(b.fields)}const i=e.modified();if(!(i||t.changed(t.ADD_REM)||B1e.some(n)))return;const s=t.materialize(t.SOURCE).source,l=this.value,c=e.as||Az;let d=e.fontSize||14,f;if(ft(d)?f=e.fontSizeRange:d=Ci(d),f){const o=d,b=Pt("sqrt")().domain(ja(s,o)).range(f);d=L=>b(o(L))}s.forEach(o=>{o[c[0]]=NaN,o[c[1]]=NaN,o[c[3]]=0});const u=l.words(s).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(d).random(sr).layout(),a=l.size(),y=a[0]>>1,w=a[1]>>1,m=u.length;for(let o=0,b,L;o<m;++o)b=u[o],L=b.datum,L[c[0]]=b.x+y,L[c[1]]=b.y+w,L[c[2]]=b.font,L[c[3]]=b.size,L[c[4]]=b.style,L[c[5]]=b.weight,L[c[6]]=b.rotate;return t.reflow(i).modifies(c)}});const F1e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:dE},Symbol.toStringTag,{value:"Module"})),I1e=e=>new Uint8Array(e),M1e=e=>new Uint16Array(e),W1=e=>new Uint32Array(e);function A1e(){let e=8,t=[],n=W1(0),i=H_(0,e),s=H_(0,e);return{data:()=>t,seen:()=>n=O1e(n,t.length),add(l){for(let c=0,d=t.length,f=l.length,u;c<f;++c)u=l[c],u._index=d++,t.push(u)},remove(l,c){const d=t.length,f=Array(d-l),u=t;let a,y,w;for(y=0;!c[y]&&y<d;++y)f[y]=t[y],u[y]=y;for(w=y;y<d;++y)a=t[y],c[y]?u[y]=-1:(u[y]=w,i[w]=i[y],s[w]=s[y],f[w]=a,a._index=w++),i[y]=0;return t=f,u},size:()=>t.length,curr:()=>i,prev:()=>s,reset:l=>s[l]=i[l],all:()=>e<257?255:e<65537?65535:4294967295,set(l,c){i[l]|=c},clear(l,c){i[l]&=~c},resize(l,c){const d=i.length;(l>d||c>e)&&(e=Math.max(c,e),i=H_(l,e,i),s=H_(l,e))}}}function O1e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function H_(e,t,n){const i=(t<257?I1e:t<65537?M1e:W1)(e);return n&&i.set(n),i}function cI(e,t,n){const i=1<<t;return{one:i,zero:~i,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(s,l){const c=this,d=c.bisect(c.range,s.value),f=s.index,u=d[0],a=d[1],y=f.length;let w;for(w=0;w<u;++w)l[f[w]]|=i;for(w=a;w<y;++w)l[f[w]]|=i;return c}}}function dI(){let e=W1(0),t=[],n=0;function i(d,f,u){if(!f.length)return[];const a=n,y=f.length,w=W1(y);let m=Array(y),o,b,L;for(L=0;L<y;++L)m[L]=d(f[L]),w[L]=L;if(m=N1e(m,w),a)o=t,b=e,t=Array(a+y),e=W1(a+y),C1e(u,o,b,a,m,w,y,t,e);else{if(u>0)for(L=0;L<y;++L)w[L]+=u;t=m,e=w}return n=a+y,{index:w,value:m}}function s(d,f){const u=n;let a,y,w;for(y=0;!f[e[y]]&&y<u;++y);for(w=y;y<u;++y)f[a=e[y]]||(e[w]=a,t[w]=t[y],++w);n=u-d}function l(d){for(let f=0,u=n;f<u;++f)e[f]=d[e[f]]}function c(d,f){let u;return f?u=f.length:(f=t,u=n),[uQ(f,d[0],0,u),ng(f,d[1],0,u)]}return{insert:i,remove:s,bisect:c,reindex:l,index:()=>e,size:()=>n}}function N1e(e,t){return e.sort.call(t,(n,i)=>{const s=e[n],l=e[i];return s<l?-1:s>l?1:0}),gQ(e,t)}function C1e(e,t,n,i,s,l,c,d,f){let u=0,a=0,y;for(y=0;u<i&&a<c;++y)t[u]<s[a]?(d[y]=t[u],f[y]=n[u++]):(d[y]=s[a],f[y]=l[a++]+e);for(;u<i;++u,++y)d[y]=t[u],f[y]=n[u];for(;a<c;++a,++y)d[y]=s[a],f[y]=l[a]+e}function fE(e){ae.call(this,A1e(),e),this._indices=null,this._dims=null}fE.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};be(fE,ae,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(i=>t.modified(i.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,i=e.query,s=this._indices={},l=this._dims=[],c=i.length;let d=0,f,u;for(;d<c;++d)f=n[d].fname,u=s[f]||(s[f]=dI()),l.push(cI(u,d,i[d]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),i=e.fields,s=e.query,l=this._indices,c=this._dims,d=this.value,f=d.curr(),u=d.prev(),a=d.all(),y=n.rem=n.add,w=n.mod,m=s.length,o={};let b,L,v,S,x,F,k,A,M;if(u.set(f),t.rem.length&&(x=this.remove(e,t,n)),t.add.length&&d.add(t.add),t.mod.length)for(F={},S=t.mod,k=0,A=S.length;k<A;++k)F[S[k]._index]=1;for(k=0;k<m;++k)M=i[k],(!c[k]||e.modified("fields",k)||t.modified(M.fields))&&(v=M.fname,(b=o[v])||(l[v]=L=dI(),o[v]=b=L.insert(M,t.source,0)),c[k]=cI(L,k,s[k]).onAdd(b,f));for(k=0,A=d.data().length;k<A;++k)x[k]||(u[k]!==f[k]?y.push(k):F[k]&&f[k]!==a&&w.push(k));return d.mask=(1<<m)-1,n},eval(e,t){const n=t.materialize().fork(),i=this._dims.length;let s=0;return t.rem.length&&(this.remove(e,t,n),s|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(s|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),s|=(1<<i)-1),t.mod.length&&(this.modify(t,n),s|=(1<<i)-1),this.value.mask=s,n},insert(e,t,n){const i=t.add,s=this.value,l=this._dims,c=this._indices,d=e.fields,f={},u=n.add,a=s.size()+i.length,y=l.length;let w=s.size(),m,o,b;s.resize(a,y),s.add(i);const L=s.curr(),v=s.prev(),S=s.all();for(m=0;m<y;++m)o=d[m].fname,b=f[o]||(f[o]=c[o].insert(d[m],i,w)),l[m].onAdd(b,L);for(;w<a;++w)v[w]=S,L[w]!==S&&u.push(w)},modify(e,t){const n=t.mod,i=this.value,s=i.curr(),l=i.all(),c=e.mod;let d,f,u;for(d=0,f=c.length;d<f;++d)u=c[d]._index,s[u]!==l&&n.push(u)},remove(e,t,n){const i=this._indices,s=this.value,l=s.curr(),c=s.prev(),d=s.all(),f={},u=n.rem,a=t.rem;let y,w,m,o;for(y=0,w=a.length;y<w;++y)m=a[y]._index,f[m]=1,c[m]=o=l[m],l[m]=d,o!==d&&u.push(m);for(m in i)i[m].remove(w,f);return this.reindex(t,w,f),f},reindex(e,t,n){const i=this._indices,s=this.value;e.runAfter(()=>{const l=s.remove(t,n);for(const c in i)i[c].reindex(l)})},update(e,t,n){const i=this._dims,s=e.query,l=t.stamp,c=i.length;let d=0,f,u;for(n.filters=0,u=0;u<c;++u)e.modified("query",u)&&(f=u,++d);if(d===1)d=i[f].one,this.incrementOne(i[f],s[f],n.add,n.rem);else for(u=0,d=0;u<c;++u)e.modified("query",u)&&(d|=i[u].one,this.incrementAll(i[u],s[u],l,n.add),n.rem=n.add);return d},incrementAll(e,t,n,i){const s=this.value,l=s.seen(),c=s.curr(),d=s.prev(),f=e.index(),u=e.bisect(e.range),a=e.bisect(t),y=a[0],w=a[1],m=u[0],o=u[1],b=e.one;let L,v,S;if(y<m)for(L=y,v=Math.min(m,w);L<v;++L)S=f[L],l[S]!==n&&(d[S]=c[S],l[S]=n,i.push(S)),c[S]^=b;else if(y>m)for(L=m,v=Math.min(y,o);L<v;++L)S=f[L],l[S]!==n&&(d[S]=c[S],l[S]=n,i.push(S)),c[S]^=b;if(w>o)for(L=Math.max(y,o),v=w;L<v;++L)S=f[L],l[S]!==n&&(d[S]=c[S],l[S]=n,i.push(S)),c[S]^=b;else if(w<o)for(L=Math.max(m,w),v=o;L<v;++L)S=f[L],l[S]!==n&&(d[S]=c[S],l[S]=n,i.push(S)),c[S]^=b;e.range=t.slice()},incrementOne(e,t,n,i){const s=this.value,l=s.curr(),c=e.index(),d=e.bisect(e.range),f=e.bisect(t),u=f[0],a=f[1],y=d[0],w=d[1],m=e.one;let o,b,L;if(u<y)for(o=u,b=Math.min(y,a);o<b;++o)L=c[o],l[L]^=m,n.push(L);else if(u>y)for(o=y,b=Math.min(u,w);o<b;++o)L=c[o],l[L]^=m,i.push(L);if(a>w)for(o=Math.max(u,w),b=a;o<b;++o)L=c[o],l[L]^=m,n.push(L);else if(a<w)for(o=Math.max(y,a),b=w;o<b;++o)L=c[o],l[L]^=m,i.push(L);e.range=t.slice()}});function uE(e){ae.call(this,null,e)}uE.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};be(uE,ae,{transform(e,t){const n=~(e.ignore||0),i=e.filter,s=i.mask;if(!(s&n))return t.StopPropagation;const l=t.fork(t.ALL),c=i.data(),d=i.curr(),f=i.prev(),u=a=>d[a]&n?null:c[a];return l.filter(l.MOD,u),s&s-1?(l.filter(l.ADD,a=>{const y=d[a]&n;return!y&&y^f[a]&n?c[a]:null}),l.filter(l.REM,a=>{const y=d[a]&n;return y&&!(y^(y^f[a]&n))?c[a]:null})):(l.filter(l.ADD,u),l.filter(l.REM,a=>(d[a]&n)===s?c[a]:null)),l.filter(l.SOURCE,a=>u(a._index))}});const R1e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:fE,resolvefilter:uE},Symbol.toStringTag,{value:"Module"})),P1e="RawCode",Ad="Literal",D1e="Property",U1e="Identifier",$1e="ArrayExpression",H1e="BinaryExpression",Oz="CallExpression",z1e="ConditionalExpression",j1e="LogicalExpression",q1e="MemberExpression",V1e="ObjectExpression",G1e="UnaryExpression";function Qr(e){this.type=e}Qr.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=W1e(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1};function W1e(e){switch(e.type){case $1e:return e.elements;case H1e:case j1e:return[e.left,e.right];case Oz:return[e.callee].concat(e.arguments);case z1e:return[e.test,e.consequent,e.alternate];case q1e:return[e.object,e.property];case V1e:return e.properties;case D1e:return[e.key,e.value];case G1e:return[e.argument];case U1e:case Ad:case P1e:default:return[]}}var io,Oe,ce,Mi,Xt,tm=1,O0=2,Od=3,hc=4,nm=5,rf=6,ss=7,N0=8,Y1e=9;io={};io[tm]="Boolean";io[O0]="<end>";io[Od]="Identifier";io[hc]="Keyword";io[nm]="Null";io[rf]="Numeric";io[ss]="Punctuator";io[N0]="String";io[Y1e]="RegularExpression";var X1e="ArrayExpression",K1e="BinaryExpression",Z1e="CallExpression",Q1e="ConditionalExpression",Nz="Identifier",J1e="Literal",e2e="LogicalExpression",t2e="MemberExpression",n2e="ObjectExpression",i2e="Property",s2e="UnaryExpression",Kn="Unexpected token %0",r2e="Unexpected number",a2e="Unexpected string",o2e="Unexpected identifier",l2e="Unexpected reserved word",c2e="Unexpected end of input",G5="Invalid regular expression",Sw="Invalid regular expression: missing /",Cz="Octal literals are not allowed in strict mode.",d2e="Duplicate data property in object literal not allowed in strict mode",fi="ILLEGAL",I2="Disabled.",f2e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),u2e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function im(e,t){if(!e)throw new Error("ASSERT: "+t)}function bo(e){return e>=48&&e<=57}function hE(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Y1(e){return"01234567".indexOf(e)>=0}function h2e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function M2(e){return e===10||e===13||e===8232||e===8233}function C0(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&f2e.test(String.fromCharCode(e))}function hy(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&u2e.test(String.fromCharCode(e))}const _2e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Rz(){for(;ce<Mi;){const e=Oe.charCodeAt(ce);if(h2e(e)||M2(e))++ce;else break}}function W5(e){var t,n,i,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)ce<Mi&&hE(Oe[ce])?(i=Oe[ce++],s=s*16+"0123456789abcdef".indexOf(i.toLowerCase())):Ct({},Kn,fi);return String.fromCharCode(s)}function p2e(){var e,t,n,i;for(e=Oe[ce],t=0,e==="}"&&Ct({},Kn,fi);ce<Mi&&(e=Oe[ce++],!!hE(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ct({},Kn,fi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(n,i))}function Pz(){var e,t;for(e=Oe.charCodeAt(ce++),t=String.fromCharCode(e),e===92&&(Oe.charCodeAt(ce)!==117&&Ct({},Kn,fi),++ce,e=W5("u"),(!e||e==="\\"||!C0(e.charCodeAt(0)))&&Ct({},Kn,fi),t=e);ce<Mi&&(e=Oe.charCodeAt(ce),!!hy(e));)++ce,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Oe.charCodeAt(ce)!==117&&Ct({},Kn,fi),++ce,e=W5("u"),(!e||e==="\\"||!hy(e.charCodeAt(0)))&&Ct({},Kn,fi),t+=e);return t}function g2e(){var e,t;for(e=ce++;ce<Mi;){if(t=Oe.charCodeAt(ce),t===92)return ce=e,Pz();if(hy(t))++ce;else break}return Oe.slice(e,ce)}function y2e(){var e,t,n;return e=ce,t=Oe.charCodeAt(ce)===92?Pz():g2e(),t.length===1?n=Od:_2e.hasOwnProperty(t)?n=hc:t==="null"?n=nm:t==="true"||t==="false"?n=tm:n=Od,{type:n,value:t,start:e,end:ce}}function xw(){var e=ce,t=Oe.charCodeAt(ce),n,i=Oe[ce],s,l,c;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,{type:ss,value:String.fromCharCode(t),start:e,end:ce};default:if(n=Oe.charCodeAt(ce+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:ss,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ce};case 33:case 61:return ce+=2,Oe.charCodeAt(ce)===61&&++ce,{type:ss,value:Oe.slice(e,ce),start:e,end:ce}}}if(c=Oe.substr(ce,4),c===">>>=")return ce+=4,{type:ss,value:c,start:e,end:ce};if(l=c.substr(0,3),l===">>>"||l==="<<="||l===">>=")return ce+=3,{type:ss,value:l,start:e,end:ce};if(s=l.substr(0,2),i===s[1]&&"+-<>&|".indexOf(i)>=0||s==="=>")return ce+=2,{type:ss,value:s,start:e,end:ce};if(s==="//"&&Ct({},Kn,fi),"<>=!+-*%&|^/".indexOf(i)>=0)return++ce,{type:ss,value:i,start:e,end:ce};Ct({},Kn,fi)}function m2e(e){let t="";for(;ce<Mi&&hE(Oe[ce]);)t+=Oe[ce++];return t.length===0&&Ct({},Kn,fi),C0(Oe.charCodeAt(ce))&&Ct({},Kn,fi),{type:rf,value:parseInt("0x"+t,16),start:e,end:ce}}function w2e(e){let t="0"+Oe[ce++];for(;ce<Mi&&Y1(Oe[ce]);)t+=Oe[ce++];return(C0(Oe.charCodeAt(ce))||bo(Oe.charCodeAt(ce)))&&Ct({},Kn,fi),{type:rf,value:parseInt(t,8),octal:!0,start:e,end:ce}}function fI(){var e,t,n;if(n=Oe[ce],im(bo(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ce,e="",n!=="."){if(e=Oe[ce++],n=Oe[ce],e==="0"){if(n==="x"||n==="X")return++ce,m2e(t);if(Y1(n))return w2e(t);n&&bo(n.charCodeAt(0))&&Ct({},Kn,fi)}for(;bo(Oe.charCodeAt(ce));)e+=Oe[ce++];n=Oe[ce]}if(n==="."){for(e+=Oe[ce++];bo(Oe.charCodeAt(ce));)e+=Oe[ce++];n=Oe[ce]}if(n==="e"||n==="E")if(e+=Oe[ce++],n=Oe[ce],(n==="+"||n==="-")&&(e+=Oe[ce++]),bo(Oe.charCodeAt(ce)))for(;bo(Oe.charCodeAt(ce));)e+=Oe[ce++];else Ct({},Kn,fi);return C0(Oe.charCodeAt(ce))&&Ct({},Kn,fi),{type:rf,value:parseFloat(e),start:t,end:ce}}function L2e(){var e="",t,n,i,s,l=!1;for(t=Oe[ce],im(t==="'"||t==='"',"String literal must starts with a quote"),n=ce,++ce;ce<Mi;)if(i=Oe[ce++],i===t){t="";break}else if(i==="\\")if(i=Oe[ce++],!i||!M2(i.charCodeAt(0)))switch(i){case"u":case"x":Oe[ce]==="{"?(++ce,e+=p2e()):e+=W5(i);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Y1(i)?(s="01234567".indexOf(i),s!==0&&(l=!0),ce<Mi&&Y1(Oe[ce])&&(l=!0,s=s*8+"01234567".indexOf(Oe[ce++]),"0123".indexOf(i)>=0&&ce<Mi&&Y1(Oe[ce])&&(s=s*8+"01234567".indexOf(Oe[ce++]))),e+=String.fromCharCode(s)):e+=i;break}else i==="\r"&&Oe[ce]===`
`&&++ce;else{if(M2(i.charCodeAt(0)))break;e+=i}return t!==""&&Ct({},Kn,fi),{type:N0,value:e,octal:l,start:n,end:ce}}function b2e(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,s)=>{if(parseInt(s,16)<=1114111)return"x";Ct({},G5)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ct({},G5)}try{return new RegExp(e,t)}catch{return null}}function T2e(){var e,t,n,i,s;for(e=Oe[ce],im(e==="/","Regular expression literal must start with a slash"),t=Oe[ce++],n=!1,i=!1;ce<Mi;)if(e=Oe[ce++],t+=e,e==="\\")e=Oe[ce++],M2(e.charCodeAt(0))&&Ct({},Sw),t+=e;else if(M2(e.charCodeAt(0)))Ct({},Sw);else if(n)e==="]"&&(n=!1);else if(e==="/"){i=!0;break}else e==="["&&(n=!0);return i||Ct({},Sw),s=t.substr(1,t.length-2),{value:s,literal:t}}function E2e(){var e,t,n;for(t="",n="";ce<Mi&&(e=Oe[ce],!!hy(e.charCodeAt(0)));)++ce,e==="\\"&&ce<Mi?Ct({},Kn,fi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ct({},G5,n),{value:n,literal:t}}function v2e(){var e,t,n,i;return Xt=null,Rz(),e=ce,t=T2e(),n=E2e(),i=b2e(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:ce}}function S2e(e){return e.type===Od||e.type===hc||e.type===tm||e.type===nm}function Dz(){if(Rz(),ce>=Mi)return{type:O0,start:ce,end:ce};const e=Oe.charCodeAt(ce);return C0(e)?y2e():e===40||e===41||e===59?xw():e===39||e===34?L2e():e===46?bo(Oe.charCodeAt(ce+1))?fI():xw():bo(e)?fI():xw()}function cs(){const e=Xt;return ce=e.end,Xt=Dz(),ce=e.end,e}function Uz(){const e=ce;Xt=Dz(),ce=e}function x2e(e){const t=new Qr(X1e);return t.elements=e,t}function uI(e,t,n){const i=new Qr(e==="||"||e==="&&"?e2e:K1e);return i.operator=e,i.left=t,i.right=n,i}function k2e(e,t){const n=new Qr(Z1e);return n.callee=e,n.arguments=t,n}function B2e(e,t,n){const i=new Qr(Q1e);return i.test=e,i.consequent=t,i.alternate=n,i}function _E(e){const t=new Qr(Nz);return t.name=e,t}function A1(e){const t=new Qr(J1e);return t.value=e.value,t.raw=Oe.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function hI(e,t,n){const i=new Qr(t2e);return i.computed=e==="[",i.object=t,i.property=n,i.computed||(n.member=!0),i}function F2e(e){const t=new Qr(n2e);return t.properties=e,t}function _I(e,t,n){const i=new Qr(i2e);return i.key=t,i.value=n,i.kind=e,i}function I2e(e,t){const n=new Qr(s2e);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ct(e,t){var n,i=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(l,c)=>(im(c<i.length,"Message reference must be in range"),i[c]));throw n=new Error(s),n.index=ce,n.description=s,n}function sm(e){e.type===O0&&Ct(e,c2e),e.type===rf&&Ct(e,r2e),e.type===N0&&Ct(e,a2e),e.type===Od&&Ct(e,o2e),e.type===hc&&Ct(e,l2e),Ct(e,Kn,e.value)}function Ai(e){const t=cs();(t.type!==ss||t.value!==e)&&sm(t)}function un(e){return Xt.type===ss&&Xt.value===e}function kw(e){return Xt.type===hc&&Xt.value===e}function M2e(){const e=[];for(ce=Xt.start,Ai("[");!un("]");)un(",")?(cs(),e.push(null)):(e.push(Nd()),un("]")||Ai(","));return cs(),x2e(e)}function pI(){ce=Xt.start;const e=cs();return e.type===N0||e.type===rf?(e.octal&&Ct(e,Cz),A1(e)):_E(e.value)}function A2e(){var e,t,n,i;if(ce=Xt.start,e=Xt,e.type===Od)return n=pI(),Ai(":"),i=Nd(),_I("init",n,i);if(e.type===O0||e.type===ss)sm(e);else return t=pI(),Ai(":"),i=Nd(),_I("init",t,i)}function O2e(){var e=[],t,n,i,s={},l=String;for(ce=Xt.start,Ai("{");!un("}");)t=A2e(),t.key.type===Nz?n=t.key.name:n=l(t.key.value),i="$"+n,Object.prototype.hasOwnProperty.call(s,i)?Ct({},d2e):s[i]=!0,e.push(t),un("}")||Ai(",");return Ai("}"),F2e(e)}function N2e(){Ai("(");const e=pE();return Ai(")"),e}const C2e={if:1};function R2e(){var e,t,n;if(un("("))return N2e();if(un("["))return M2e();if(un("{"))return O2e();if(e=Xt.type,ce=Xt.start,e===Od||C2e[Xt.value])n=_E(cs().value);else if(e===N0||e===rf)Xt.octal&&Ct(Xt,Cz),n=A1(cs());else{if(e===hc)throw new Error(I2);e===tm?(t=cs(),t.value=t.value==="true",n=A1(t)):e===nm?(t=cs(),t.value=null,n=A1(t)):un("/")||un("/=")?(n=A1(v2e()),Uz()):sm(cs())}return n}function P2e(){const e=[];if(Ai("("),!un(")"))for(;ce<Mi&&(e.push(Nd()),!un(")"));)Ai(",");return Ai(")"),e}function D2e(){ce=Xt.start;const e=cs();return S2e(e)||sm(e),_E(e.value)}function U2e(){return Ai("."),D2e()}function $2e(){Ai("[");const e=pE();return Ai("]"),e}function H2e(){var e,t,n;for(e=R2e();;)if(un("."))n=U2e(),e=hI(".",e,n);else if(un("("))t=P2e(),e=k2e(e,t);else if(un("["))n=$2e(),e=hI("[",e,n);else break;return e}function gI(){const e=H2e();if(Xt.type===ss&&(un("++")||un("--")))throw new Error(I2);return e}function Ap(){var e,t;if(Xt.type!==ss&&Xt.type!==hc)t=gI();else{if(un("++")||un("--"))throw new Error(I2);if(un("+")||un("-")||un("~")||un("!"))e=cs(),t=Ap(),t=I2e(e.value,t);else{if(kw("delete")||kw("void")||kw("typeof"))throw new Error(I2);t=gI()}}return t}function yI(e){let t=0;if(e.type!==ss&&e.type!==hc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function z2e(){var e,t,n,i,s,l,c,d,f,u;if(e=Xt,f=Ap(),i=Xt,s=yI(i),s===0)return f;for(i.prec=s,cs(),t=[e,Xt],c=Ap(),l=[f,i,c];(s=yI(Xt))>0;){for(;l.length>2&&s<=l[l.length-2].prec;)c=l.pop(),d=l.pop().value,f=l.pop(),t.pop(),n=uI(d,f,c),l.push(n);i=cs(),i.prec=s,l.push(i),t.push(Xt),n=Ap(),l.push(n)}for(u=l.length-1,n=l[u],t.pop();u>1;)t.pop(),n=uI(l[u-1].value,l[u-2],n),u-=2;return n}function Nd(){var e,t,n;return e=z2e(),un("?")&&(cs(),t=Nd(),Ai(":"),n=Nd(),e=B2e(e,t,n)),e}function pE(){const e=Nd();if(un(","))throw new Error(I2);return e}function gE(e){Oe=e,ce=0,Mi=Oe.length,Xt=null,Uz();const t=pE();if(Xt.type!==O0)throw new Error("Unexpect token after expression.");return t}var $z={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Hz(e){function t(c,d,f,u){let a=e(d[0]);return f&&(a=f+"("+a+")",f.lastIndexOf("new ",0)===0&&(a="("+a+")")),a+"."+c+(u<0?"":u===0?"()":"("+d.slice(1).map(e).join(",")+")")}function n(c,d,f){return u=>t(c,u,d,f)}const i="new Date",s="String",l="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(c){c.length<3&&de("Missing arguments to clamp function."),c.length>3&&de("Too many arguments to clamp function.");const d=c.map(e);return"Math.max("+d[1]+", Math.min("+d[2]+","+d[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:n("getDate",i,0),day:n("getDay",i,0),year:n("getFullYear",i,0),month:n("getMonth",i,0),hours:n("getHours",i,0),minutes:n("getMinutes",i,0),seconds:n("getSeconds",i,0),milliseconds:n("getMilliseconds",i,0),time:n("getTime",i,0),timezoneoffset:n("getTimezoneOffset",i,0),utcdate:n("getUTCDate",i,0),utcday:n("getUTCDay",i,0),utcyear:n("getUTCFullYear",i,0),utcmonth:n("getUTCMonth",i,0),utchours:n("getUTCHours",i,0),utcminutes:n("getUTCMinutes",i,0),utcseconds:n("getUTCSeconds",i,0),utcmilliseconds:n("getUTCMilliseconds",i,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),regexp:l,test:n("test",l),if:function(c){c.length<3&&de("Missing arguments to if function."),c.length>3&&de("Too many arguments to if function.");const d=c.map(e);return"("+d[0]+"?"+d[1]+":"+d[2]+")"}}}function j2e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function zz(e){e=e||{};const t=e.allowed?Vr(e.allowed):{},n=e.forbidden?Vr(e.forbidden):{},i=e.constants||$z,s=(e.functions||Hz)(y),l=e.globalvar,c=e.fieldvar,d=ft(l)?l:o=>`${l}["${o}"]`;let f={},u={},a=0;function y(o){if(ke(o))return o;const b=w[o.type];return b==null&&de("Unsupported type: "+o.type),b(o)}const w={Literal:o=>o.raw,Identifier:o=>{const b=o.name;return a>0?b:Ue(n,b)?de("Illegal identifier: "+b):Ue(i,b)?i[b]:Ue(t,b)?b:(f[b]=1,d(b))},MemberExpression:o=>{const b=!o.computed,L=y(o.object);b&&(a+=1);const v=y(o.property);return L===c&&(u[j2e(v)]=1),b&&(a-=1),L+(b?"."+v:"["+v+"]")},CallExpression:o=>{o.callee.type!=="Identifier"&&de("Illegal callee type: "+o.callee.type);const b=o.callee.name,L=o.arguments,v=Ue(s,b)&&s[b];return v||de("Unrecognized function: "+b),ft(v)?v(L):v+"("+L.map(y).join(",")+")"},ArrayExpression:o=>"["+o.elements.map(y).join(",")+"]",BinaryExpression:o=>"("+y(o.left)+" "+o.operator+" "+y(o.right)+")",UnaryExpression:o=>"("+o.operator+y(o.argument)+")",ConditionalExpression:o=>"("+y(o.test)+"?"+y(o.consequent)+":"+y(o.alternate)+")",LogicalExpression:o=>"("+y(o.left)+o.operator+y(o.right)+")",ObjectExpression:o=>"{"+o.properties.map(y).join(",")+"}",Property:o=>{a+=1;const b=y(o.key);return a-=1,b+":"+y(o.value)}};function m(o){const b={code:y(o),globals:Object.keys(f),fields:Object.keys(u)};return f={},u={},b}return m.functions=s,m.constants=i,m}function Bw(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V2e(e){let t,n,i;e.length!==2?(t=Bw,n=(d,f)=>Bw(e(d),f),i=(d,f)=>e(d)-f):(t=e===Bw||e===q2e?e:G2e,n=e,i=e);function s(d,f,u=0,a=d.length){if(u<a){if(t(f,f)!==0)return a;do{const y=u+a>>>1;n(d[y],f)<0?u=y+1:a=y}while(u<a)}return u}function l(d,f,u=0,a=d.length){if(u<a){if(t(f,f)!==0)return a;do{const y=u+a>>>1;n(d[y],f)<=0?u=y+1:a=y}while(u<a)}return u}function c(d,f,u=0,a=d.length){const y=s(d,f,u,a-1);return y>u&&i(d[y-1],f)>-i(d[y],f)?y-1:y}return{left:s,center:c,right:l}}function G2e(){return 0}function W2e(e,...t){e=new ig(e),t=t.map(Y2e);e:for(const n of e)for(const i of t)if(!i.has(n)){e.delete(n);continue e}return e}function Y2e(e){return e instanceof ig?e:new ig(e)}function X2e(...e){const t=new ig;for(const n of e)for(const i of n)t.add(i);return t}const yE="intersect",mI="union",K2e="vlMulti",Z2e="vlPoint",wI="or",Q2e="and",ga="_vgsid_",A2=ms(ga),J2e="E",e0e="R",t0e="R-E",n0e="R-LE",i0e="R-RE",_y="index:unit";function LI(e,t){for(var n=t.fields,i=t.values,s=n.length,l=0,c,d;l<s;++l)if(d=n[l],d.getter=ms.getter||ms(d.field),c=d.getter(e),Al(c)&&(c=Si(c)),Al(i[l])&&(i[l]=Si(i[l])),Al(i[l][0])&&(i[l]=i[l].map(Si)),d.type===J2e){if(he(i[l])?i[l].indexOf(c)<0:c!==i[l])return!1}else if(d.type===e0e){if(!Yf(c,i[l]))return!1}else if(d.type===i0e){if(!Yf(c,i[l],!0,!1))return!1}else if(d.type===t0e){if(!Yf(c,i[l],!1,!1))return!1}else if(d.type===n0e&&!Yf(c,i[l],!1,!0))return!1;return!0}function s0e(e,t,n){for(var i=this.context.data[e],s=i?i.values.value:[],l=i?i[_y]&&i[_y].value:void 0,c=n===yE,d=s.length,f=0,u,a,y,w,m;f<d;++f)if(u=s[f],l&&c){if(a=a||{},y=a[w=u.unit]||0,y===-1)continue;if(m=LI(t,u),a[w]=m?-1:++y,m&&l.size===1)return!0;if(!m&&y===l.get(w).count)return!1}else if(m=LI(t,u),c^m)return m;return d&&c}const jz=V2e(A2),r0e=jz.left,a0e=jz.right;function o0e(e,t,n){const i=this.context.data[e],s=i?i.values.value:[],l=i?i[_y]&&i[_y].value:void 0,c=n===yE,d=A2(t),f=r0e(s,d);if(f===s.length||A2(s[f])!==d)return!1;if(l&&c){if(l.size===1)return!0;if(a0e(s,d)-f<l.size)return!1}return!0}function l0e(e,t){return e.map(n=>dt(t.fields?{values:t.fields.map(i=>(i.getter||(i.getter=ms(i.field)))(n.datum))}:{[ga]:A2(n.datum)},t))}function c0e(e,t,n,i){for(var s=this.context.data[e],l=s?s.values.value:[],c={},d={},f={},u,a,y,w,m,o,b,L,v,S,x=l.length,F=0,k,A;F<x;++F)if(u=l[F],w=u.unit,a=u.fields,y=u.values,a&&y){for(k=0,A=a.length;k<A;++k)m=a[k],b=c[m.field]||(c[m.field]={}),L=b[w]||(b[w]=[]),f[m.field]=v=m.type.charAt(0),S=Fw[`${v}_union`],b[w]=S(L,Fe(y[k]));n&&(L=d[w]||(d[w]=[]),L.push(Fe(y).reduce((M,C,R)=>(M[a[R].field]=C,M),{})))}else m=ga,o=A2(u),b=c[m]||(c[m]={}),L=b[w]||(b[w]=[]),L.push(o),n&&(L=d[w]||(d[w]=[]),L.push({[ga]:o}));if(t=t||mI,c[ga]?c[ga]=Fw[`${ga}_${t}`](...Object.values(c[ga])):Object.keys(c).forEach(M=>{c[M]=Object.keys(c[M]).map(C=>c[M][C]).reduce((C,R)=>C===void 0?R:Fw[`${f[M]}_${t}`](C,R))}),l=Object.keys(d),n&&l.length){const M=i?Z2e:K2e;c[M]=t===mI?{[wI]:l.reduce((C,R)=>(C.push(...d[R]),C),[])}:{[Q2e]:l.map(C=>({[wI]:d[C]}))}}return c}var Fw={[`${ga}_union`]:X2e,[`${ga}_intersect`]:W2e,E_union:function(e,t){if(!e.length)return t;for(var n=0,i=t.length;n<i;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Si(t[0]),i=Si(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<i&&(e[1]=i),e):[n,i]},R_intersect:function(e,t){var n=Si(t[0]),i=Si(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?i<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>i&&(e[1]=i),e):[n,i]}};const d0e=":",f0e="@";function mE(e,t,n,i){t[0].type!==Ad&&de("First argument to selection functions must be a string literal.");const s=t[0].value,l=t.length>=2&&Bt(t).value,c="unit",d=f0e+c,f=d0e+s;l===yE&&!Ue(i,d)&&(i[d]=n.getData(s).indataRef(n,c)),Ue(i,f)||(i[f]=n.getData(s).tuplesRef())}function qz(e){const t=this.context.data[e];return t?t.values.value:[]}function u0e(e,t,n){const i=this.context.data[e]["index:"+t],s=i?i.value.get(n):void 0;return s&&s.count}function h0e(e,t){const n=this.context.dataflow,i=this.context.data[e],s=i.input;return n.pulse(s,n.changeset().remove(rr).insert(t)),1}function _0e(e,t,n){if(e){const i=this.context.dataflow,s=e.mark.source;i.pulse(s,i.changeset().encode(e,t))}return n!==void 0?n:e}const R0=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},p0e=R0("format"),Vz=R0("timeFormat"),g0e=R0("utcFormat"),y0e=R0("timeParse"),m0e=R0("utcParse"),z_=new Date(2e3,0,1);function rm(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(z_.setYear(2e3),z_.setMonth(e),z_.setDate(t),Vz.call(this,z_,n))}function w0e(e){return rm.call(this,e,1,"%B")}function L0e(e){return rm.call(this,e,1,"%b")}function b0e(e){return rm.call(this,0,2+e,"%A")}function T0e(e){return rm.call(this,0,2+e,"%a")}const E0e=":",v0e="@",Y5="%",Gz="$";function wE(e,t,n,i){t[0].type!==Ad&&de("First argument to data functions must be a string literal.");const s=t[0].value,l=E0e+s;if(!Ue(l,i))try{i[l]=n.getData(s).tuplesRef()}catch{}}function S0e(e,t,n,i){t[0].type!==Ad&&de("First argument to indata must be a string literal."),t[1].type!==Ad&&de("Second argument to indata must be a string literal.");const s=t[0].value,l=t[1].value,c=v0e+l;Ue(c,i)||(i[c]=n.getData(s).indataRef(n,l))}function fs(e,t,n,i){if(t[0].type===Ad)bI(n,i,t[0].value);else for(e in n.scales)bI(n,i,e)}function bI(e,t,n){const i=Y5+n;if(!Ue(t,i))try{t[i]=e.scaleRef(n)}catch{}}function Zo(e,t){if(ft(e))return e;if(ke(e)){const n=t.scales[e];return n&&Wle(n.value)?n.value:void 0}}function x0e(e,t,n){t.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,n._bandwidth=fs,n._range=fs,n._scale=fs;const i=s=>"_["+(s.type===Ad?Le(Y5+s.value):Le(Y5)+"+"+e(s))+"]";return{_bandwidth:s=>`this.__bandwidth(${i(s[0])})`,_range:s=>`${i(s[0])}.range()`,_scale:s=>`${i(s[0])}(${e(s[1])})`}}function LE(e,t){return function(n,i,s){if(n){const l=Zo(n,(s||this).context);return l&&l.path[e](i)}else return t(i)}}const k0e=LE("area",Iee),B0e=LE("bounds",Nee),F0e=LE("centroid",$ee);function I0e(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function bE(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(i){e.warn(i)}return n[n.length-1]}function M0e(){return bE(this.context.dataflow,"warn",arguments)}function A0e(){return bE(this.context.dataflow,"info",arguments)}function O0e(){return bE(this.context.dataflow,"debug",arguments)}function Iw(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function X5(e){const t=zl(e),n=Iw(t.r),i=Iw(t.g),s=Iw(t.b);return .2126*n+.7152*i+.0722*s}function N0e(e,t){const n=X5(e),i=X5(t),s=Math.max(n,i),l=Math.min(n,i);return(s+.05)/(l+.05)}function C0e(){const e=[].slice.call(arguments);return e.unshift({}),dt(...e)}function Wz(e,t){return e===t||e!==e&&t!==t?!0:he(e)?he(t)&&e.length===t.length?R0e(e,t):!1:Ie(e)&&Ie(t)?Yz(e,t):!1}function R0e(e,t){for(let n=0,i=e.length;n<i;++n)if(!Wz(e[n],t[n]))return!1;return!0}function Yz(e,t){for(const n in e)if(!Wz(e[n],t[n]))return!1;return!0}function TI(e){return t=>Yz(e,t)}function P0e(e,t,n,i,s,l){const c=this.context.dataflow,d=this.context.data[e],f=d.input,u=c.stamp();let a=d.changes,y,w;if(c._trigger===!1||!(f.value.length||t||i))return 0;if((!a||a.stamp<u)&&(d.changes=a=c.changeset(),a.stamp=u,c.runAfter(()=>{d.modified=!0,c.pulse(f,a).run()},!0,1)),n&&(y=n===!0?rr:he(n)||N4(n)?n:TI(n),a.remove(y)),t&&a.insert(t),i&&(y=TI(i),f.value.some(y)?a.remove(y):a.insert(i)),s)for(w in l)a.modify(s,w,l[w]);return 1}function D0e(e){const t=e.touches,n=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.hypot(n,i)}function U0e(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const EI={};function $0e(e,t){const n=EI[t]||(EI[t]=ms(t));return he(e)?e.map(n):n(e)}function TE(e){return he(e)||ArrayBuffer.isView(e)?e:null}function EE(e){return TE(e)||(ke(e)?e:null)}function H0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return TE(e).join(...n)}function z0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return EE(e).indexOf(...n)}function j0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return EE(e).lastIndexOf(...n)}function q0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return EE(e).slice(...n)}function V0e(e,t,n){return ft(n)&&de("Function argument passed to replace."),String(e).replace(t,n)}function G0e(e){return TE(e).slice().reverse()}function W0e(e,t,n){return qb(e||0,t||0,n||0)}function Y0e(e,t){const n=Zo(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function X0e(e,t){const n=Zo(e,(t||this).context);return n?n.copy():void 0}function K0e(e,t){const n=Zo(e,(t||this).context);return n?n.domain():[]}function Z0e(e,t,n){const i=Zo(e,(n||this).context);return i?he(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}function Q0e(e,t){const n=Zo(e,(t||this).context);return n&&n.range?n.range():[]}function J0e(e,t,n){const i=Zo(e,(n||this).context);return i?i(t):void 0}function e3e(e,t,n,i,s){e=Zo(e,(s||this).context);const l=G$(t,n);let c=e.domain(),d=c[0],f=Bt(c),u=Ni;return f-d?u=N$(e,d,f):e=(e.interpolator?Pt("sequential")().interpolator(e.interpolator()):Pt("linear")().interpolate(e.interpolate()).range(e.range())).domain([d=0,f=1]),e.ticks&&(c=e.ticks(+i||15),d!==c[0]&&c.unshift(d),f!==Bt(c)&&c.push(f)),c.forEach(a=>l.stop(u(a),e(a))),l}function t3e(e,t,n){const i=Zo(e,(n||this).context);return function(s){return i?i.path.context(s)(t):""}}function n3e(e){let t=null;return function(n){return n?S2(n,t=t||ju(e)):e}}const Xz=e=>e.data;function Kz(e,t){const n=qz.call(t,e);return n.root&&n.root.lookup||{}}function i3e(e,t,n){const i=Kz(e,this),s=i[t],l=i[n];return s&&l?s.path(l).map(Xz):void 0}function s3e(e,t){const n=Kz(e,this)[t];return n?n.ancestors().map(Xz):void 0}const Zz=()=>typeof window<"u"&&window||null;function r3e(){const e=Zz();return e?e.screen:{}}function a3e(){const e=Zz();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function o3e(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Qz(e,t,n){if(!e)return[];const[i,s]=e,l=new On().set(i[0],i[1],s[0],s[1]),c=n||this.context.dataflow.scenegraph().root;return RH(c,l,l3e(t))}function l3e(e){let t=null;if(e){const n=Fe(e.marktype),i=Fe(e.markname);t=s=>(!n.length||n.some(l=>s.marktype===l))&&(!i.length||i.some(l=>s.name===l))}return t}function c3e(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Fe(e);const s=e[e.length-1];return s===void 0||Math.hypot(s[0]-t,s[1]-n)>i?[...e,[t,n]]:e}function d3e(e){return Fe(e).reduce((t,n,i)=>{let[s,l]=n;return t+=i==0?`M ${s},${l} `:i===e.length-1?" Z":`L ${s},${l} `},"")}function f3e(e,t,n){const{x:i,y:s,mark:l}=n,c=new On().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[f,u]of t)f<c.x1&&(c.x1=f),f>c.x2&&(c.x2=f),u<c.y1&&(c.y1=u),u>c.y2&&(c.y2=u);return c.translate(i,s),Qz([[c.x1,c.y1],[c.x2,c.y2]],e,l).filter(f=>u3e(f.x,f.y,t))}function u3e(e,t,n){let i=0;for(let s=0,l=n.length-1;s<n.length;l=s++){const[c,d]=n[l],[f,u]=n[s];u>t!=d>t&&e<(c-f)*(t-u)/(d-u)+f&&i++}return i&1}const O2={random(){return sr()},cumulativeNormal:E4,cumulativeLogNormal:R7,cumulativeUniform:$7,densityNormal:M7,densityLogNormal:C7,densityUniform:U7,quantileNormal:v4,quantileLogNormal:P7,quantileUniform:H7,sampleNormal:T4,sampleLogNormal:N7,sampleUniform:D7,isArray:he,isBoolean:uc,isDate:Al,isDefined(e){return e!==void 0},isNumber:At,isObject:Ie,isRegExp:iU,isString:ke,isTuple:N4,isValid(e){return e!=null&&e===e},toBoolean:ab,toDate(e){return ob(e)},toNumber:Si,toString:lb,indexof:z0e,join:H0e,lastindexof:j0e,replace:V0e,reverse:G0e,slice:q0e,flush:tU,lerp:sU,merge:C0e,pad:oU,peek:Bt,pluck:$0e,span:m0,inrange:Yf,truncate:lU,rgb:zl,lab:lg,hcl:cg,hsl:ag,luminance:X5,contrast:N0e,sequence:Ns,format:p0e,utcFormat:g0e,utcParse:m0e,utcOffset:TU,utcSequence:SU,timeFormat:Vz,timeParse:y0e,timeOffset:bU,timeSequence:vU,timeUnitSpecifier:dU,monthFormat:w0e,monthAbbrevFormat:L0e,dayFormat:b0e,dayAbbrevFormat:T0e,quarter:ZD,utcquarter:QD,week:uU,utcweek:pU,dayofyear:fU,utcdayofyear:_U,warn:M0e,info:A0e,debug:O0e,extent(e){return ja(e)},inScope:I0e,intersect:Qz,clampRange:JD,pinchDistance:D0e,pinchAngle:U0e,screen:r3e,containerSize:o3e,windowSize:a3e,bandspace:W0e,setdata:h0e,pathShape:n3e,panLinear:WD,panLog:YD,panPow:XD,panSymlog:KD,zoomLinear:eb,zoomLog:tb,zoomPow:Xg,zoomSymlog:nb,encode:_0e,modify:P0e,lassoAppend:c3e,lassoPath:d3e,intersectLasso:f3e},h3e=["view","item","group","xy","x","y"],_3e="event.vega.",Jz="this.",vE={},ej={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Le(Gz+e)}]`,functions:p3e,constants:$z,visitors:vE},K5=zz(ej);function p3e(e){const t=Hz(e);h3e.forEach(n=>t[n]=_3e+n);for(const n in O2)t[n]=Jz+n;return dt(t,x0e(e,O2,vE)),t}function Nn(e,t,n){return arguments.length===1?O2[e]:(O2[e]=t,n&&(vE[e]=n),K5&&(K5.functions[e]=Jz+e),this)}Nn("bandwidth",Y0e,fs);Nn("copy",X0e,fs);Nn("domain",K0e,fs);Nn("range",Q0e,fs);Nn("invert",Z0e,fs);Nn("scale",J0e,fs);Nn("gradient",e3e,fs);Nn("geoArea",k0e,fs);Nn("geoBounds",B0e,fs);Nn("geoCentroid",F0e,fs);Nn("geoShape",t3e,fs);Nn("indata",u0e,S0e);Nn("data",qz,wE);Nn("treePath",i3e,wE);Nn("treeAncestors",s3e,wE);Nn("vlSelectionTest",s0e,mE);Nn("vlSelectionIdTest",o0e,mE);Nn("vlSelectionResolve",c0e,mE);Nn("vlSelectionTuples",l0e);function Va(e,t){const n={};let i;try{e=ke(e)?e:Le(e)+"",i=gE(e)}catch{de("Expression parse error: "+e)}i.visit(l=>{if(l.type!==Oz)return;const c=l.callee.name,d=ej.visitors[c];d&&d(c,l.arguments,t,n)});const s=K5(i);return s.globals.forEach(l=>{const c=Gz+l;!Ue(n,c)&&t.getSignal(l)&&(n[c]=t.signalRef(l))}),{$expr:dt({code:s.code},t.options.ast?{ast:i}:null),$fields:s.fields,$params:n}}function g3e(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(i=>t.parseOperator(i)),n.forEach(i=>t.parseOperatorParameters(i)),(e.streams||[]).forEach(i=>t.parseStream(i)),(e.updates||[]).forEach(i=>t.parseUpdate(i)),t.resolve()}const y3e=Vr(["rule"]),vI=Vr(["group","image","rect"]);function m3e(e,t){let n="";return y3e[t]||(e.x2&&(e.x?(vI[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(vI[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function SE(e){return(e+"").toLowerCase()}function w3e(e){return SE(e)==="operator"}function L3e(e){return SE(e)==="collect"}function Zh(e,t,n){n.endsWith(";")||(n="return("+n+");");const i=Function(...t.concat(n));return e&&e.functions?i.bind(e.functions):i}function b3e(e,t,n,i){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${i}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${i} : `}var T3e={operator:(e,t)=>Zh(e,["_"],t.code),parameter:(e,t)=>Zh(e,["datum","_"],t.code),event:(e,t)=>Zh(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Zh(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:i}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const l in i){const c="o["+Le(l)+"]";s+=`$=${i[l].code};if(${c}!==$)${c}=$,m=1;`}return s+=m3e(i,n),s+="return m;",Zh(e,["item","_"],s)},codegen:{get(e){const t=`[${e.map(Le).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const i=(l,c)=>{const d=t[c];let f,u;return l.path?(f=`a${l.path}`,u=`b${l.path}`):((n=n||{})["f"+c]=l,f=`this.f${c}(a)`,u=`this.f${c}(b)`),b3e(f,u,-d,d)},s=Function("a","b","var u, v; return "+e.map(i).join("")+"0;");return n?s.bind(n):s}}};function E3e(e){const t=this;w3e(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function v3e(e){const t=this;if(e.params){const n=t.get(e.id);n||de("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function S3e(e,t){t=t||{};const n=this;for(const i in e){const s=e[i];t[i]=he(s)?s.map(l=>SI(l,n,t)):SI(s,n,t)}return t}function SI(e,t,n){if(!e||!Ie(e))return e;for(let i=0,s=xI.length,l;i<s;++i)if(l=xI[i],Ue(e,l.key))return l.parse(e,t,n);return e}var xI=[{key:"$ref",parse:x3e},{key:"$key",parse:B3e},{key:"$expr",parse:k3e},{key:"$field",parse:F3e},{key:"$encode",parse:M3e},{key:"$compare",parse:I3e},{key:"$context",parse:A3e},{key:"$subflow",parse:O3e},{key:"$tupleid",parse:N3e}];function x3e(e,t){return t.get(e.$ref)||de("Operator not defined: "+e.$ref)}function k3e(e,t,n){e.$params&&t.parseParameters(e.$params,n);const i="e:"+e.$expr.code;return t.fn[i]||(t.fn[i]=Ss(t.parameterExpression(e.$expr),e.$fields))}function B3e(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=rb(e.$key,e.$flat,t.expr.codegen))}function F3e(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=ms(e.$field,e.$name,t.expr.codegen))}function I3e(e,t){const n="c:"+e.$compare+"_"+e.$order,i=Fe(e.$compare).map(s=>s&&s.$tupleid?Pe:s);return t.fn[n]||(t.fn[n]=ib(i,e.$order,t.expr.codegen))}function M3e(e,t){const n=e.$encode,i={};for(const s in n){const l=n[s];i[s]=Ss(t.encodeExpression(l.$expr),l.$fields),i[s].output=l.$output}return i}function A3e(e,t){return t}function O3e(e,t){const n=e.$subflow;return function(i,s,l){const c=t.fork().parse(n),d=c.get(n.operators[0].id),f=c.signals.parent;return f&&f.set(l),d.detachSubflow=()=>t.detach(c),d}}function N3e(){return Pe}function C3e(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,i=e.stream!=null?t.get(e.stream):void 0,s;e.source?i=t.events(e.source,e.type,n):e.merge&&(s=e.merge.map(l=>t.get(l)),i=s[0].merge.apply(s[0],s.slice(1))),e.between&&(s=e.between.map(l=>t.get(l)),i=i.between(s[0],s[1])),e.filter&&(i=i.filter(n)),e.throttle!=null&&(i=i.throttle(+e.throttle)),e.debounce!=null&&(i=i.debounce(+e.debounce)),i==null&&de("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}function R3e(e){var t=this,n=Ie(n=e.source)?n.$ref:n,i=t.get(n),s=null,l=e.update,c=void 0;i||de("Source not defined: "+e.source),s=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),l&&l.$expr&&(l.$params&&(c=t.parseParameters(l.$params)),l=t.handlerExpression(l.$expr)),t.update(e,i,s,l,c)}const P3e={skip:!0};function D3e(e){var t=this,n={};if(e.signals){var i=n.signals={};Object.keys(t.signals).forEach(l=>{const c=t.signals[l];e.signals(l,c)&&(i[l]=c.value)})}if(e.data){var s=n.data={};Object.keys(t.data).forEach(l=>{const c=t.data[l];e.data(l,c)&&(s[l]=c.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(l=>l.getState(e))),n}function U3e(e){var t=this,n=t.dataflow,i=e.data,s=e.signals;Object.keys(s||{}).forEach(l=>{n.update(t.signals[l],s[l],P3e)}),Object.keys(i||{}).forEach(l=>{n.pulse(t.data[l].input,n.changeset().remove(rr).insert(i[l]))}),(e.subcontext||[]).forEach((l,c)=>{const d=t.subcontext[c];d&&d.setState(l)})}function tj(e,t,n,i){return new nj(e,t,n,i)}function nj(e,t,n,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||T3e,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function kI(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}nj.prototype=kI.prototype={fork(){const e=new kI(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,i=n.dataflow,s=e.value;if(n.set(e.id,t),L3e(e.type)&&s&&(s.$ingest?i.ingest(t,s.$ingest,s.$format):s.$request?i.preload(t,s.$request,s.$format):i.pulse(t,i.changeset().insert(s))),e.root&&(n.root=t),e.parent){let l=n.get(e.parent.$ref);l?(i.connect(l,[t]),t.targets().add(l)):(n.unresolved=n.unresolved||[]).push(()=>{l=n.get(e.parent.$ref),i.connect(l,[t]),t.targets().add(l)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const l in e.data){const c=n.data[l]||(n.data[l]={});e.data[l].forEach(d=>c[d]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[SE(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,i,s){this.dataflow.on(t,n,i,s,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:g3e,parseOperator:E3e,parseOperatorParameters:v3e,parseParameters:S3e,parseStream:C3e,parseUpdate:R3e,getState:D3e,setState:U3e};function $3e(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),ij(t,e.description()))}function ij(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function H3e(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Mw="default";function z3e(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Mw,item:null}));e.on(e.events("view","mousemove"),t,(n,i)=>{const s=t.value,l=s?ke(s)?s:s.user:Mw,c=i.item&&i.item.cursor||null;return s&&l===s.user&&c==s.item?s:{user:l,item:c}}),e.add(null,function(n){let i=n.cursor,s=this.value;return ke(i)||(s=i.item,i=i.user),Z5(e,i&&i!==Mw?i:s||i),s},{cursor:t})}function Z5(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function py(e,t){var n=e._runtime.data;return Ue(n,t)||de("Unrecognized data set: "+t),n[t]}function j3e(e,t){return arguments.length<2?py(this,e).values.value:am.call(this,e,nf().remove(rr).insert(t))}function am(e,t){VU(t)||de("Second argument to changes must be a changeset.");const n=py(this,e);return n.modified=!0,this.pulse(n.input,t)}function q3e(e,t){return am.call(this,e,nf().insert(t))}function V3e(e,t){return am.call(this,e,nf().remove(t))}function sj(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function rj(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function om(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function G3e(e){var t=om(e),n=sj(e),i=rj(e);e._renderer.background(e.background()),e._renderer.resize(n,i,t),e._handler.origin(t),e._resizeListeners.forEach(s=>{try{s(n,i)}catch(l){e.error(l)}})}function W3e(e,t,n){var i=e._renderer,s=i&&i.canvas(),l,c,d;return s&&(d=om(e),c=t.changedTouches?t.changedTouches[0]:t,l=Q4(c,s),l[0]-=d[0],l[1]-=d[1]),t.dataflow=e,t.item=n,t.vega=Y3e(e,n,l),t}function Y3e(e,t,n){const i=t?t.mark.marktype==="group"?t:t.mark.group:null;function s(c){var d=i,f;if(c){for(f=t;f;f=f.mark.group)if(f.mark.name===c){d=f;break}}return d&&d.mark&&d.mark.interactive?d:{}}function l(c){if(!c)return n;ke(c)&&(c=s(c));const d=n.slice();for(;c;)d[0]-=c.x||0,d[1]-=c.y||0,c=c.mark&&c.mark.group;return d}return{view:Ci(e),item:Ci(t||{}),group:s,xy:l,x:c=>l(c)[0],y:c=>l(c)[1]}}const BI="view",X3e="timer",K3e="window",Z3e={trap:!1};function Q3e(e){const t=dt({defaults:{}},e),n=(i,s)=>{s.forEach(l=>{he(i[l])&&(i[l]=Vr(i[l]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function aj(e,t,n,i){e._eventListeners.push({type:n,sources:Fe(t),handler:i})}function J3e(e,t){var n=e._eventConfig.defaults,i=n.prevent,s=n.allow;return i===!1||s===!0?!1:i===!0||s===!1?!0:i?i[t]:s?!s[t]:e.preventDefault()}function j_(e,t,n){const i=e._eventConfig&&e._eventConfig[t];return i===!1||Ie(i)&&!i[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function e_e(e,t,n){var i=this,s=new P4(n),l=function(u,a){i.runAsync(null,()=>{e===BI&&J3e(i,t)&&u.preventDefault(),s.receive(W3e(i,u,a))})},c;if(e===X3e)j_(i,"timer",t)&&i.timer(l,t);else if(e===BI)j_(i,"view",t)&&i.addEventListener(t,l,Z3e);else if(e===K3e?j_(i,"window",t)&&typeof window<"u"&&(c=[window]):typeof document<"u"&&j_(i,"selector",t)&&(c=Array.from(document.querySelectorAll(e))),!c)i.warn("Can not resolve event source: "+e);else{for(var d=0,f=c.length;d<f;++d)c[d].addEventListener(t,l);aj(i,c,t,l)}return s}function FI(e){return e.item}function II(e){return e.item.mark.source}function MI(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function t_e(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",FI),II,MI(e)),this.on(this.events("view","mouseout",FI),II,MI(t)),this}function n_e(){var e=this._tooltip,t=this._timers,n=this._eventListeners,i,s,l;for(i=t.length;--i>=0;)t[i].stop();for(i=n.length;--i>=0;)for(l=n[i],s=l.sources.length;--s>=0;)l.sources[s].removeEventListener(l.type,l.handler);return e&&e.call(this,this._handler,null,null,null),this}function Ps(e,t,n){const i=document.createElement(e);for(const s in t)i.setAttribute(s,t[s]);return n!=null&&(i.textContent=n),i}const i_e="vega-bind",s_e="vega-bind-name",r_e="vega-bind-radio";function a_e(e,t,n){if(!t)return;const i=n.param;let s=n.state;return s||(s=n.state={elements:null,active:!1,set:null,update:c=>{c!=e.signal(i.signal)&&e.runAsync(null,()=>{s.source=!0,e.signal(i.signal,c)})}},i.debounce&&(s.update=sb(i.debounce,s.update))),(i.input==null&&i.element?o_e:c_e)(s,t,i,e),s.active||(e.on(e._signals[i.signal],null,()=>{s.source?s.source=!1:s.set(e.signal(i.signal))}),s.active=!0),s}function o_e(e,t,n,i){const s=n.event||"input",l=()=>e.update(t.value);i.signal(n.signal,t.value),t.addEventListener(s,l),aj(i,t,s,l),e.set=c=>{t.value=c,t.dispatchEvent(l_e(s))}}function l_e(e){return typeof Event<"u"?new Event(e):{type:e}}function c_e(e,t,n,i){const s=i.signal(n.signal),l=Ps("div",{class:i_e}),c=n.input==="radio"?l:l.appendChild(Ps("label"));c.appendChild(Ps("span",{class:s_e},n.name||n.signal)),t.appendChild(l);let d=d_e;switch(n.input){case"checkbox":d=f_e;break;case"select":d=u_e;break;case"radio":d=h_e;break;case"range":d=__e;break}d(e,c,n,s)}function d_e(e,t,n,i){const s=Ps("input");for(const l in n)l!=="signal"&&l!=="element"&&s.setAttribute(l==="input"?"type":l,n[l]);s.setAttribute("name",n.signal),s.value=i,t.appendChild(s),s.addEventListener("input",()=>e.update(s.value)),e.elements=[s],e.set=l=>s.value=l}function f_e(e,t,n,i){const s={type:"checkbox",name:n.signal};i&&(s.checked=!0);const l=Ps("input",s);t.appendChild(l),l.addEventListener("change",()=>e.update(l.checked)),e.elements=[l],e.set=c=>l.checked=!!c||null}function u_e(e,t,n,i){const s=Ps("select",{name:n.signal}),l=n.labels||[];n.options.forEach((c,d)=>{const f={value:c};gy(c,i)&&(f.selected=!0),s.appendChild(Ps("option",f,(l[d]||c)+""))}),t.appendChild(s),s.addEventListener("change",()=>{e.update(n.options[s.selectedIndex])}),e.elements=[s],e.set=c=>{for(let d=0,f=n.options.length;d<f;++d)if(gy(n.options[d],c)){s.selectedIndex=d;return}}}function h_e(e,t,n,i){const s=Ps("span",{class:r_e}),l=n.labels||[];t.appendChild(s),e.elements=n.options.map((c,d)=>{const f={type:"radio",name:n.signal,value:c};gy(c,i)&&(f.checked=!0);const u=Ps("input",f);u.addEventListener("change",()=>e.update(c));const a=Ps("label",{},(l[d]||c)+"");return a.prepend(u),s.appendChild(a),u}),e.set=c=>{const d=e.elements,f=d.length;for(let u=0;u<f;++u)gy(d[u].value,c)&&(d[u].checked=!0)}}function __e(e,t,n,i){i=i!==void 0?i:(+n.max+ +n.min)/2;const s=n.max!=null?n.max:Math.max(100,+i)||100,l=n.min||Math.min(0,s,+i)||0,c=n.step||Hl(l,s,100),d=Ps("input",{type:"range",name:n.signal,min:l,max:s,step:c});d.value=i;const f=Ps("span",{},+i);t.appendChild(d),t.appendChild(f);const u=()=>{f.textContent=d.value,e.update(+d.value)};d.addEventListener("input",u),d.addEventListener("change",u),e.elements=[d],e.set=a=>{d.value=a,f.textContent=a}}function gy(e,t){return e===t||e+""==t+""}function oj(e,t,n,i,s,l){return t=t||new i(e.loader()),t.initialize(n,sj(e),rj(e),om(e),s,l).background(e.background())}function xE(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function p_e(e,t,n,i){const s=new i(e.loader(),xE(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,om(e),e);return t&&t.handlers().forEach(l=>{s.on(l.type,l.handler)}),s}function g_e(e,t){const n=this,i=n._renderType,s=n._eventConfig.bind,l=J4(i);e=n._el=e?Aw(n,e,!0):null,$3e(n),l||n.error("Unrecognized renderer type: "+i);const c=l.handler||A0,d=e?l.renderer:l.headless;return n._renderer=d?oj(n,n._renderer,e,d):null,n._handler=p_e(n,n._handler,e,c),n._redraw=!0,e&&s!=="none"&&(t=t?n._elBind=Aw(n,t,!0):e.appendChild(Ps("form",{class:"vega-bindings"})),n._bind.forEach(f=>{f.param.element&&s!=="container"&&(f.element=Aw(n,f.param.element,!!f.param.input))}),n._bind.forEach(f=>{a_e(n,f.element||t,f)})),n}function Aw(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(i){t=null,e.error(i)}return t}const Qh=e=>+e||0,y_e=e=>({top:e,bottom:e,left:e,right:e});function AI(e){return Ie(e)?{top:Qh(e.top),bottom:Qh(e.bottom),left:Qh(e.left),right:Qh(e.right)}:y_e(Qh(e))}async function kE(e,t,n,i){const s=J4(t),l=s&&s.headless;return l||de("Unrecognized renderer type: "+t),await e.runAsync(),oj(e,null,null,l,n,i).renderAsync(e._scenegraph.root)}async function m_e(e,t){e!==Sl.Canvas&&e!==Sl.SVG&&e!==Sl.PNG&&de("Unrecognized image type: "+e);const n=await kE(this,e,t);return e===Sl.SVG?w_e(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function w_e(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function L_e(e,t){return(await kE(this,Sl.Canvas,e,t)).canvas()}async function b_e(e){return(await kE(this,Sl.SVG,e)).svg()}function T_e(e,t,n){return tj(e,Uu,O2,n).parse(t)}function E_e(e){var t=this._runtime.scales;return Ue(t,e)||de("Unrecognized scale or projection: "+e),t[e].value}var lj="width",cj="height",BE="padding",OI={skip:!0};function dj(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===BE?i.left+i.right:0)}function fj(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===BE?i.top+i.bottom:0)}function v_e(e){var t=e._signals,n=t[lj],i=t[cj],s=t[BE];function l(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,d=>{e._width=d.size,e._viewWidth=dj(e,d.size),l()},{size:n}),e._resizeHeight=e.add(null,d=>{e._height=d.size,e._viewHeight=fj(e,d.size),l()},{size:i});const c=e.add(null,l,{pad:s});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=i.rank+1,c.rank=s.rank+1}function S_e(e,t,n,i,s,l){this.runAfter(c=>{let d=0;c._autosize=0,c.width()!==n&&(d=1,c.signal(lj,n,OI),c._resizeWidth.skip(!0)),c.height()!==i&&(d=1,c.signal(cj,i,OI),c._resizeHeight.skip(!0)),c._viewWidth!==e&&(c._resize=1,c._viewWidth=e),c._viewHeight!==t&&(c._resize=1,c._viewHeight=t),(c._origin[0]!==s[0]||c._origin[1]!==s[1])&&(c._resize=1,c._origin=s),d&&c.run("enter"),l&&c.runAfter(f=>f.resize())},!1,1)}function x_e(e){return this._runtime.getState(e||{data:k_e,signals:B_e,recurse:!0})}function k_e(e,t){return t.modified&&he(t.input.value)&&e.indexOf("_:vega:_")}function B_e(e,t){return!(e==="parent"||t instanceof Uu.proxy)}function F_e(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function I_e(e,t){function n(i){e({timestamp:Date.now(),elapsed:i})}this._timers.push(_J(n,t))}function M_e(e,t,n,i){const s=e.element();s&&s.setAttribute("title",A_e(i))}function A_e(e){return e==null?"":he(e)?uj(e):Ie(e)&&!Al(e)?O_e(e):e+""}function O_e(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(he(n)?uj(n):hj(n))}).join(`
`)}function uj(e){return"["+e.map(hj).join(", ")+"]"}function hj(e){return he(e)?"[]":Ie(e)&&!Al(e)?"{}":e}function _j(e,t){const n=this;if(t=t||{},lu.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const l=dt({},e.locale,t.locale);n.locale(CU(l.number,l.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Sl.Canvas,n._scenegraph=new LT;const i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||M_e,n._redraw=!0,n._handler=new A0().scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Q3e(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const s=T_e(n,e,t.expr);n._runtime=s,n._signals=s.signals,n._bind=(e.bindings||[]).map(l=>({state:null,param:dt({},l)})),s.root&&s.root.set(i),i.source=s.data.root.input,n.pulse(s.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=dj(n,n._width),n._viewHeight=fj(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,v_e(n),H3e(n),z3e(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function q_(e,t){return Ue(e._signals,t)?e._signals[t]:de("Unrecognized signal name: "+Le(t))}function pj(e,t){const n=(e._targets||[]).filter(i=>i._update&&i._update.handler===t);return n.length?n[0]:null}function NI(e,t,n,i){let s=pj(n,i);return s||(s=xE(e,()=>i(t,n.value)),s.handler=i,e.on(n,null,s)),e}function CI(e,t,n){const i=pj(t,n);return i&&t._targets.remove(i),e}be(_j,lu,{async evaluate(e,t,n){if(await lu.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,G3e(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(i){this.error(i)}return n&&Lp(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&ij(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const i=q_(this,e);return arguments.length===1?i.value:this.update(i,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",AI(e)):AI(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(J4(e)||de("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(lu.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(q_(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:S_e,addEventListener(e,t,n){let i=t;return n&&n.trap===!1||(i=xE(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),i=n.length,s,l;--i>=0;)if(l=n[i].type,s=n[i].handler,e===l&&(t===s||t===s.raw)){this._handler.off(l,s);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return NI(this,e,q_(this,e),t)},removeSignalListener(e,t){return CI(this,q_(this,e),t)},addDataListener(e,t){return NI(this,e,py(this,e).values,t)},removeDataListener(e,t){return CI(this,py(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Z5(this,null);this._globalCursor=!!e,t&&Z5(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:I_e,events:e_e,finalize:n_e,hover:t_e,data:j3e,change:am,insert:q3e,remove:V3e,scale:E_e,initialize:g_e,toImageURL:m_e,toCanvas:L_e,toSVG:b_e,getState:x_e,setState:F_e});const N_e="view",yy="[",my="]",gj="{",yj="}",C_e=":",mj=",",R_e="@",P_e=">",D_e=/[[\]{}]/,U_e={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let wj,Lj;function _c(e,t,n){return wj=t||N_e,Lj=n||U_e,bj(e.trim()).map(Q5)}function $_e(e){return Lj[e]}function X1(e,t,n,i,s){const l=e.length;let c=0,d;for(;t<l;++t){if(d=e[t],!c&&d===n)return t;s&&s.indexOf(d)>=0?--c:i&&i.indexOf(d)>=0&&++c}return t}function bj(e){const t=[],n=e.length;let i=0,s=0;for(;s<n;)s=X1(e,s,mj,yy+gj,my+yj),t.push(e.substring(i,s).trim()),i=++s;if(t.length===0)throw"Empty event selector: "+e;return t}function Q5(e){return e[0]==="["?H_e(e):z_e(e)}function H_e(e){const t=e.length;let n=1,i;if(n=X1(e,n,my,yy,my),n===t)throw"Empty between selector: "+e;if(i=bj(e.substring(1,n)),i.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==P_e)throw"Expected '>' after between selector: "+e;i=i.map(Q5);const s=Q5(e.slice(1).trim());return s.between?{between:i,stream:s}:(s.between=i,s)}function z_e(e){const t={source:wj},n=[];let i=[0,0],s=0,l=0,c=e.length,d=0,f,u;if(e[c-1]===yj){if(d=e.lastIndexOf(gj),d>=0){try{i=j_e(e.substring(d+1,c-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,d).trim(),c=e.length}else throw"Unmatched right brace: "+e;d=0}if(!c)throw e;if(e[0]===R_e&&(s=++d),f=X1(e,d,C_e),f<c&&(n.push(e.substring(l,f).trim()),l=d=++f),d=X1(e,d,yy),d===c)n.push(e.substring(l,c).trim());else if(n.push(e.substring(l,d).trim()),u=[],l=++d,l===c)throw"Unmatched left bracket: "+e;for(;d<c;){if(d=X1(e,d,my),d===c)throw"Unmatched left bracket: "+e;if(u.push(e.substring(l,d).trim()),d<c-1&&e[++d]!==yy)throw"Expected left bracket: "+e;l=++d}if(!(c=n.length)||D_e.test(n[c-1]))throw"Invalid event selector: "+e;return c>1?(t.type=n[1],s?t.markname=n[0].slice(1):$_e(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),i[0]&&(t.throttle=i[0]),i[1]&&(t.debounce=i[1]),t}function j_e(e){const t=e.split(mj);if(!e.length||t.length>2)throw e;return t.map(n=>{const i=+n;if(i!==i)throw e;return i})}function q_e(e){return Ie(e)?e:{type:e||"pad"}}const Jh=e=>+e||0,V_e=e=>({top:e,bottom:e,left:e,right:e});function G_e(e){return Ie(e)?e.signal?e:{top:Jh(e.top),bottom:Jh(e.bottom),left:Jh(e.left),right:Jh(e.right)}:V_e(Jh(e))}const Zn=e=>Ie(e)&&!he(e)?dt({},e):{value:e};function RI(e,t,n,i){return n!=null?(Ie(n)&&!he(n)||he(n)&&n.length&&Ie(n[0])?e.update[t]=n:e[i||"enter"][t]={value:n},1):0}function gi(e,t,n){for(const i in t)RI(e,i,t[i]);for(const i in n)RI(e,i,n[i],"update")}function Sh(e,t,n){for(const i in t)n&&Ue(n,i)||(e[i]=dt(e[i]||{},t[i]));return e}function zf(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const FE="mark",IE="frame",ME="scope",W_e="axis",Y_e="axis-domain",X_e="axis-grid",K_e="axis-label",Z_e="axis-tick",Q_e="axis-title",J_e="legend",epe="legend-band",tpe="legend-entry",npe="legend-gradient",Tj="legend-label",ipe="legend-symbol",spe="legend-title",rpe="title",ape="title-text",ope="title-subtitle";function lpe(e,t,n,i,s){const l={},c={};let d,f,u,a;f="lineBreak",t==="text"&&s[f]!=null&&!zf(f,e)&&Ow(l,f,s[f]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),a=n===IE?s.group:n===FE?dt({},s.mark,s[t]):null;for(f in a)u=zf(f,e)||(f==="fill"||f==="stroke")&&(zf("fill",e)||zf("stroke",e)),u||Ow(l,f,a[f]);Fe(i).forEach(y=>{const w=s.style&&s.style[y];for(const m in w)zf(m,e)||Ow(l,m,w[m])}),e=dt({},e);for(f in l)a=l[f],a.signal?(d=d||{})[f]=a:c[f]=a;return e.enter=dt(c,e.enter),d&&(e.update=dt(d,e.update)),e}function Ow(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Ej=e=>ke(e)?Le(e):e.signal?`(${e.signal})`:vj(e);function lm(e){if(e.gradient!=null)return dpe(e);let t=e.signal?`(${e.signal})`:e.color?cpe(e.color):e.field!=null?vj(e.field):e.value!==void 0?Le(e.value):void 0;return e.scale!=null&&(t=fpe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${Op(e.exponent)})`),e.mult!=null&&(t+=`*${Op(e.mult)}`),e.offset!=null&&(t+=`+${Op(e.offset)}`),e.round&&(t=`round(${t})`),t}const V_=(e,t,n,i)=>`(${e}(${[t,n,i].map(lm).join(",")})+'')`;function cpe(e){return e.c?V_("hcl",e.h,e.c,e.l):e.h||e.s?V_("hsl",e.h,e.s,e.l):e.l||e.a?V_("lab",e.l,e.a,e.b):e.r||e.g||e.b?V_("rgb",e.r,e.g,e.b):null}function dpe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Le(n));for(;t.length&&Bt(t)==null;)t.pop();return t.unshift(Ej(e.gradient)),`gradient(${t.join(",")})`}function Op(e){return Ie(e)?"("+lm(e)+")":e}function vj(e){return Sj(Ie(e)?e:{datum:e})}function Sj(e){let t,n,i;if(e.signal)t="datum",i=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(i=e.parent,t+=".datum"):i=e.group}else e.datum?(t="datum",i=e.datum):de("Invalid field reference: "+Le(e));return e.signal||(i=ke(i)?eo(i).map(Le).join("]["):Sj(i)),t+"["+i+"]"}function fpe(e,t){const n=Ej(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+Op(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function upe(e){let t="";return e.forEach(n=>{const i=lm(n);t+=n.test?`(${n.test})?${i}:`:i}),Bt(t)===":"&&(t+="null"),t}function xj(e,t,n,i,s,l){const c={};l=l||{},l.encoders={$encode:c},e=lpe(e,t,n,i,s.config);for(const d in e)c[d]=hpe(e[d],t,l,s);return l}function hpe(e,t,n,i){const s={},l={};for(const c in e)e[c]!=null&&(s[c]=ppe(_pe(e[c]),i,n,l));return{$expr:{marktype:t,channels:s},$fields:Object.keys(l),$output:Object.keys(e)}}function _pe(e){return he(e)?upe(e):lm(e)}function ppe(e,t,n,i){const s=Va(e,t);return s.$fields.forEach(l=>i[l]=1),dt(n,s.$params),s.$expr}const gpe="outer",ype=["value","update","init","react","bind"];function PI(e,t){de(e+' for "outer" push: '+Le(t))}function kj(e,t){const n=e.name;if(e.push===gpe)t.signals[n]||PI("No prior signal definition",n),ype.forEach(i=>{e[i]!==void 0&&PI("Invalid property ",i)});else{const i=t.addSignal(n,e.value);e.react===!1&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}}function J5(e,t,n,i){this.id=-1,this.type=e,this.value=t,this.params=n,i&&(this.parent=i)}function cm(e,t,n,i){return new J5(e,t,n,i)}function wy(e,t){return cm("operator",e,t)}function Re(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function N2(e,t){return t?{$field:e,$name:t}:{$field:e}}const e8=N2("key");function DI(e,t){return{$compare:e,$order:t}}function mpe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const wpe="ascending",Lpe="descending";function bpe(e){return Ie(e)?(e.order===Lpe?"-":"+")+dm(e.op,e.field):""}function dm(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const AE="scope",t8="view";function Hn(e){return e&&e.signal}function Tpe(e){return e&&e.expr}function Np(e){if(Hn(e))return!0;if(Ie(e)){for(const t in e)if(Np(e[t]))return!0}return!1}function Er(e,t){return e??t}function pd(e){return e&&e.signal||e}const UI="timer";function C2(e,t){return(e.merge?vpe:e.stream?Spe:e.type?xpe:de("Invalid stream specification: "+Le(e)))(e,t)}function Epe(e){return e===AE?t8:e||t8}function vpe(e,t){const n=e.merge.map(s=>C2(s,t)),i=OE({merge:n},e,t);return t.addStream(i).id}function Spe(e,t){const n=C2(e.stream,t),i=OE({stream:n},e,t);return t.addStream(i).id}function xpe(e,t){let n;e.type===UI?(n=t.event(UI,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(Epe(e.source),e.type);const i=OE({stream:n},e,t);return Object.keys(i).length===1?n:t.addStream(i).id}function OE(e,t,n){let i=t.between;return i&&(i.length!==2&&de('Stream "between" parameter must have 2 entries: '+Le(t)),e.between=[C2(i[0],n),C2(i[1],n)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(kpe(t.marktype,t.markname,t.markrole)),t.source===AE&&i.push("inScope(event.item)"),i.length&&(e.filter=Va("("+i.join(")&&(")+")",n).$expr),(i=t.throttle)!=null&&(e.throttle=+i),(i=t.debounce)!=null&&(e.debounce=+i),t.consume&&(e.consume=!0),e}function kpe(e,t,n){const i="event.item";return i+(e&&e!=="*"?"&&"+i+".mark.marktype==='"+e+"'":"")+(n?"&&"+i+".mark.role==='"+n+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}const Bpe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Fpe(e,t,n){const i=e.encode,s={target:n};let l=e.events,c=e.update,d=[];l||de("Signal update missing events specification."),ke(l)&&(l=_c(l,t.isSubscope()?AE:t8)),l=Fe(l).filter(f=>f.signal||f.scale?(d.push(f),0):1),d.length>1&&(d=[Mpe(d)]),l.length&&d.push(l.length>1?{merge:l}:l[0]),i!=null&&(c&&de("Signal encode and update are mutually exclusive."),c="encode(item(),"+Le(i)+")"),s.update=ke(c)?Va(c,t):c.expr!=null?Va(c.expr,t):c.value!=null?c.value:c.signal!=null?{$expr:Bpe,$params:{$value:t.signalRef(c.signal)}}:de("Invalid signal update specification."),e.force&&(s.options={force:!0}),d.forEach(f=>t.addUpdate(dt(Ipe(f,t),s)))}function Ipe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):C2(e,t)}}function Mpe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function Ape(e,t){const n=t.getSignal(e.name);let i=e.update;e.init&&(i?de("Signals can not include both init and update expressions."):(i=e.init,n.initonly=!0)),i&&(i=Va(i,t),n.update=i.$expr,n.params=i.$params),e.on&&e.on.forEach(s=>Fpe(s,t,n.id))}const tn=e=>(t,n,i)=>cm(e,n,t||void 0,i),Bj=tn("aggregate"),Ope=tn("axisticks"),Fj=tn("bound"),Jr=tn("collect"),$I=tn("compare"),Npe=tn("datajoin"),Ij=tn("encode"),Cpe=tn("expression"),Rpe=tn("facet"),Ppe=tn("field"),Dpe=tn("key"),Upe=tn("legendentries"),$pe=tn("load"),Hpe=tn("mark"),zpe=tn("multiextent"),jpe=tn("multivalues"),qpe=tn("overlap"),Vpe=tn("params"),Mj=tn("prefacet"),Gpe=tn("projection"),Wpe=tn("proxy"),Ype=tn("relay"),Aj=tn("render"),Xpe=tn("scale"),af=tn("sieve"),Kpe=tn("sortitems"),Oj=tn("viewlayout"),Zpe=tn("values");let Qpe=0;const Nj={min:"min",max:"max",count:"sum"};function Jpe(e,t){const n=e.type||"linear";B$(n)||de("Unrecognized scale type: "+Le(n)),t.addScale(e.name,{type:n,domain:void 0})}function ege(e,t){const n=t.getScale(e.name).params;let i;n.domain=Cj(e.domain,e,t),e.range!=null&&(n.range=Pj(e,t,n)),e.interpolate!=null&&dge(e.interpolate,n),e.nice!=null&&(n.nice=cge(e.nice)),e.bins!=null&&(n.bins=lge(e.bins,t));for(i in e)Ue(n,i)||i==="name"||(n[i]=Zs(e[i],t))}function Zs(e,t){return Ie(e)?e.signal?t.signalRef(e.signal):de("Unsupported object: "+Le(e)):e}function Cp(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Zs(n,t))}function fm(e){de("Can not find data set: "+Le(e))}function Cj(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&de("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(he(e)?tge:e.fields?ige:nge)(e,t,n)}function tge(e,t,n){return e.map(i=>Zs(i,n))}function nge(e,t,n){const i=n.getData(e.data);return i||fm(e.data),zu(t.type)?i.valuesRef(n,e.field,Rj(e.sort,!1)):M$(t.type)?i.domainRef(n,e.field):i.extentRef(n,e.field)}function ige(e,t,n){const i=e.data,s=e.fields.reduce((l,c)=>(c=ke(c)?{data:i,field:c}:he(c)||c.signal?sge(c,n):c,l.push(c),l),[]);return(zu(t.type)?rge:M$(t.type)?age:oge)(e,n,s)}function sge(e,t){const n="_:vega:_"+Qpe++,i=Jr({});if(he(e))i.value={$ingest:e};else if(e.signal){const s="setdata("+Le(n)+","+e.signal+")";i.params.input=t.signalRef(s)}return t.addDataPipeline(n,[i,af({})]),{data:n,field:"data"}}function rge(e,t,n){const i=Rj(e.sort,!0);let s,l;const c=n.map(u=>{const a=t.getData(u.data);return a||fm(u.data),a.countsRef(t,u.field,i)}),d={groupby:e8,pulse:c};i&&(s=i.op||"count",l=i.field?dm(s,i.field):"count",d.ops=[Nj[s]],d.fields=[t.fieldRef(l)],d.as=[l]),s=t.add(Bj(d));const f=t.add(Jr({pulse:Re(s)}));return l=t.add(Zpe({field:e8,sort:t.sortRef(i),pulse:Re(f)})),Re(l)}function Rj(e,t){return e&&(!e.field&&!e.op?Ie(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?de("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Nj[e.op]&&de("Multiple domain scales can not be sorted using "+e.op)),e}function age(e,t,n){const i=n.map(s=>{const l=t.getData(s.data);return l||fm(s.data),l.domainRef(t,s.field)});return Re(t.add(jpe({values:i})))}function oge(e,t,n){const i=n.map(s=>{const l=t.getData(s.data);return l||fm(s.data),l.extentRef(t,s.field)});return Re(t.add(zpe({extents:i})))}function lge(e,t){return e.signal||he(e)?Cp(e,t):t.objectProperty(e)}function cge(e){return Ie(e)?{interval:Zs(e.interval),step:Zs(e.step)}:Zs(e)}function dge(e,t){t.interpolate=Zs(e.type||e),e.gamma!=null&&(t.interpolateGamma=Zs(e.gamma))}function Pj(e,t,n){const i=t.config.range;let s=e.range;if(s.signal)return t.signalRef(s.signal);if(ke(s)){if(i&&Ue(i,s))return e=dt({},e,{range:i[s]}),Pj(e,t,n);s==="width"?s=[0,{signal:"width"}]:s==="height"?s=zu(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:de("Unrecognized scale range value: "+Le(s))}else if(s.scheme){n.scheme=he(s.scheme)?Cp(s.scheme,t):Zs(s.scheme,t),s.extent&&(n.schemeExtent=Cp(s.extent,t)),s.count&&(n.schemeCount=Zs(s.count,t));return}else if(s.step){n.rangeStep=Zs(s.step,t);return}else{if(zu(e.type)&&!he(s))return Cj(s,e,t);he(s)||de("Unsupported range type: "+Le(s))}return s.map(l=>(he(l)?Cp:Zs)(l,t))}function fge(e,t){const n=t.config.projection||{},i={};for(const s in e)s!=="name"&&(i[s]=n8(e[s],s,t));for(const s in n)i[s]==null&&(i[s]=n8(n[s],s,t));t.addProjection(e.name,i)}function n8(e,t,n){return he(e)?e.map(i=>n8(i,t,n)):Ie(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:de("Unsupported parameter object: "+Le(e)):e}const ea="top",xh="left",kh="right",Kl="bottom",Dj="center",uge="vertical",hge="start",_ge="middle",pge="end",i8="index",NE="label",gge="offset",Yu="perc",yge="perc2",Js="value",P0="guide-label",CE="guide-title",mge="group-title",wge="group-subtitle",HI="symbol",Rp="gradient",s8="discrete",r8="size",Lge="shape",bge="fill",Tge="stroke",Ege="strokeWidth",vge="strokeDash",Sge="opacity",RE=[r8,Lge,bge,Tge,Ege,vge,Sge],D0={name:1,style:1,interactive:1},Mt={value:0},er={value:1},um="group",Uj="rect",PE="rule",xge="symbol",of="text";function R2(e){return e.type=um,e.interactive=e.interactive||!1,e}function xs(e,t){const n=(i,s)=>Er(e[i],Er(t[i],s));return n.isVertical=i=>uge===Er(e.direction,t.direction||(i?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Er(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Er(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Er(e.columns,Er(t.columns,+n.isVertical(!0))),n}function $j(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function kge(e,t,n){const i=t.config.style[n];return i&&i[e]}function hm(e,t,n){return`item.anchor === '${hge}' ? ${e} : item.anchor === '${pge}' ? ${t} : ${n}`}const DE=hm(Le(xh),Le(kh),Le(Dj));function Bge(e){const t=e("tickBand");let n=e("tickOffset"),i,s;return t?t.signal?(i={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},s={signal:`(${t.signal}) === 'extent'`},Ie(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(i=1,s=!0,n=0):(i=.5,s=!1):(i=e("bandPosition"),s=e("tickExtra")),{extra:s,band:i,offset:n}}function Hj(e,t){return t?e?Ie(e)?Object.assign({},e,{offset:Hj(e.offset,t)}):{value:e,offset:t}:t:e}function zs(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Sh(e.encode,t,D0)):e.interactive=!1,e}function Fge(e,t,n,i){const s=xs(e,n),l=s.isVertical(),c=s.gradientThickness(),d=s.gradientLength();let f,u,a,y,w;l?(u=[0,1],a=[0,0],y=c,w=d):(u=[0,0],a=[1,0],y=d,w=c);const m={enter:f={opacity:Mt,x:Mt,y:Mt,width:Zn(y),height:Zn(w)},update:dt({},f,{opacity:er,fill:{gradient:t,start:u,stop:a}}),exit:{opacity:Mt}};return gi(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),zs({type:Uj,role:npe,encode:m},i)}function Ige(e,t,n,i,s){const l=xs(e,n),c=l.isVertical(),d=l.gradientThickness(),f=l.gradientLength();let u,a,y,w,m="";c?(u="y",y="y2",a="x",w="width",m="1-"):(u="x",y="x2",a="y",w="height");const o={opacity:Mt,fill:{scale:t,field:Js}};o[u]={signal:m+"datum."+Yu,mult:f},o[a]=Mt,o[y]={signal:m+"datum."+yge,mult:f},o[w]=Zn(d);const b={enter:o,update:dt({},o,{opacity:er}),exit:{opacity:Mt}};return gi(b,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),zs({type:Uj,role:epe,key:Js,from:s,encode:b},i)}const Mge=`datum.${Yu}<=0?"${xh}":datum.${Yu}>=1?"${kh}":"${Dj}"`,Age=`datum.${Yu}<=0?"${Kl}":datum.${Yu}>=1?"${ea}":"${_ge}"`;function zI(e,t,n,i){const s=xs(e,t),l=s.isVertical(),c=Zn(s.gradientThickness()),d=s.gradientLength();let f=s("labelOverlap"),u,a,y,w,m="";const o={enter:u={opacity:Mt},update:a={opacity:er,text:{field:NE}},exit:{opacity:Mt}};return gi(o,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:Er(e.labelLimit,t.gradientLabelLimit)}),l?(u.align={value:"left"},u.baseline=a.baseline={signal:Age},y="y",w="x",m="1-"):(u.align=a.align={signal:Mge},u.baseline={value:"top"},y="x",w="y"),u[y]=a[y]={signal:m+"datum."+Yu,mult:d},u[w]=a[w]=c,c.offset=Er(e.labelOffset,t.gradientLabelOffset)||0,f=f?{separation:s("labelSeparation"),method:f,order:"datum."+i8}:void 0,zs({type:of,role:Tj,style:P0,key:Js,from:i,encode:o,overlap:f},n)}function Oge(e,t,n,i,s){const l=xs(e,t),c=n.entries,d=!!(c&&c.interactive),f=c?c.name:void 0,u=l("clipHeight"),a=l("symbolOffset"),y={data:"value"},w=`(${s}) ? datum.${gge} : datum.${r8}`,m=u?Zn(u):{field:r8},o=`datum.${i8}`,b=`max(1, ${s})`;let L,v,S,x,F;m.mult=.5,L={enter:v={opacity:Mt,x:{signal:w,mult:.5,offset:a},y:m},update:S={opacity:er,x:v.x,y:v.y},exit:{opacity:Mt}};let k=null,A=null;e.fill||(k=t.symbolBaseFillColor,A=t.symbolBaseStrokeColor),gi(L,{fill:l("symbolFillColor",k),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",A),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),RE.forEach(D=>{e[D]&&(S[D]=v[D]={scale:e[D],field:Js})});const M=zs({type:xge,role:ipe,key:Js,from:y,clip:u?!0:void 0,encode:L},n.symbols),C=Zn(a);C.offset=l("labelOffset"),L={enter:v={opacity:Mt,x:{signal:w,offset:C},y:m},update:S={opacity:er,text:{field:NE},x:v.x,y:v.y},exit:{opacity:Mt}},gi(L,{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});const R=zs({type:of,role:Tj,style:P0,key:Js,from:y,encode:L},n.labels);return L={enter:{noBound:{value:!u},width:Mt,height:u?Zn(u):Mt,opacity:Mt},exit:{opacity:Mt},update:S={opacity:er,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(x=`ceil(item.mark.items.length / ${b})`,S.row.signal=`${o}%${x}`,S.column.signal=`floor(${o} / ${x})`,F={field:["row",o]}):(S.row.signal=`floor(${o} / ${b})`,S.column.signal=`${o} % ${b}`,F={field:o}),S.column.signal=`(${s})?${S.column.signal}:${o}`,i={facet:{data:i,name:"value",groupby:i8}},R2({role:ME,from:i,encode:Sh(L,c,D0),marks:[M,R],name:f,interactive:d,sort:F})}function Nge(e,t){const n=xs(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const UE='item.orient === "left"',$E='item.orient === "right"',_m=`(${UE} || ${$E})`,Cge=`datum.vgrad && ${_m}`,Rge=hm('"top"','"bottom"','"middle"'),Pge=hm('"right"','"left"','"center"'),Dge=`datum.vgrad && ${$E} ? (${Pge}) : (${_m} && !(datum.vgrad && ${UE})) ? "left" : ${DE}`,Uge=`item._anchor || (${_m} ? "middle" : "start")`,$ge=`${Cge} ? (${UE} ? -90 : 90) : 0`,Hge=`${_m} ? (datum.vgrad ? (${$E} ? "bottom" : "top") : ${Rge}) : "top"`;function zge(e,t,n,i){const s=xs(e,t),l={enter:{opacity:Mt},update:{opacity:er,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Mt}};return gi(l,{orient:s("titleOrient"),_anchor:s("titleAnchor"),anchor:{signal:Uge},angle:{signal:$ge},align:{signal:Dge},baseline:{signal:Hge},text:e.title,fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),baseline:s("titleBaseline")}),zs({type:of,role:spe,style:CE,from:i,encode:l},n)}function jge(e,t){let n;return Ie(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+jI(e.path)+")":e.sphere&&(n="geoShape("+jI(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function jI(e){return Ie(e)&&e.signal?e.signal:Le(e)}function zj(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===um?ME:t||FE}function qge(e){return{marktype:e.type,name:e.name||void 0,role:e.role||zj(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Vge(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function HE(e,t){const n=YU(e.type);n||de("Unrecognized transform type: "+Le(e.type));const i=cm(n.type.toLowerCase(),null,jj(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=n.metadata||{},i}function jj(e,t,n){const i={},s=e.params.length;for(let l=0;l<s;++l){const c=e.params[l];i[c.name]=Gge(c,t,n)}return i}function Gge(e,t,n){const i=e.type,s=t[e.name];if(i==="index")return Wge(e,t,n);if(s===void 0){e.required&&de("Missing required "+Le(t.type)+" parameter: "+Le(e.name));return}else{if(i==="param")return Yge(e,t,n);if(i==="projection")return n.projectionRef(t[e.name])}return e.array&&!Hn(s)?s.map(l=>qI(e,l,n)):qI(e,s,n)}function qI(e,t,n){const i=e.type;if(Hn(t))return GI(i)?de("Expression references can not be signals."):Nw(i)?n.fieldRef(t):WI(i)?n.compareRef(t):n.signalRef(t.signal);{const s=e.expr||Nw(i);return s&&Xge(t)?n.exprRef(t.expr,t.as):s&&Kge(t)?N2(t.field,t.as):GI(i)?Va(t,n):Zge(i)?Re(n.getData(t).values):Nw(i)?N2(t):WI(i)?n.compareRef(t):t}}function Wge(e,t,n){return ke(t.from)||de('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function Yge(e,t,n){const i=t[e.name];return e.array?(he(i)||de("Expected an array of sub-parameters. Instead: "+Le(i)),i.map(s=>VI(e,s,n))):VI(e,i,n)}function VI(e,t,n){const i=e.params.length;let s;for(let c=0;c<i;++c){s=e.params[c];for(const d in s.key)if(s.key[d]!==t[d]){s=null;break}if(s)break}s||de("Unsupported parameter: "+Le(t));const l=dt(jj(s,t,n),s.key);return Re(n.add(Vpe(l)))}const Xge=e=>e&&e.expr,Kge=e=>e&&e.field,Zge=e=>e==="data",GI=e=>e==="expr",Nw=e=>e==="field",WI=e=>e==="compare";function Qge(e,t,n){let i,s,l,c,d;return e?(i=e.facet)&&(t||de("Only group marks can be faceted."),i.field!=null?c=d=Pp(i,n):(e.data?d=Re(n.getData(e.data).aggregate):(l=HE(dt({type:"aggregate",groupby:Fe(i.groupby)},i.aggregate),n),l.params.key=n.keyRef(i.groupby),l.params.pulse=Pp(i,n),c=d=Re(n.add(l))),s=n.keyRef(i.groupby,!0))):c=Re(n.add(Jr(null,[{}]))),c||(c=Pp(e,n)),{key:s,pulse:c,parent:d}}function Pp(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Re(t.getData(e.data).output)}function Cd(e,t,n,i,s){this.scope=e,this.input=t,this.output=n,this.values=i,this.aggregate=s,this.index={}}Cd.fromEntries=function(e,t){const n=t.length,i=t[n-1],s=t[n-2];let l=t[0],c=null,d=1;for(l&&l.type==="load"&&(l=t[1]),e.add(t[0]);d<n;++d)t[d].params.pulse=Re(t[d-1]),e.add(t[d]),t[d].type==="aggregate"&&(c=t[d]);return new Cd(e,l,s,i,c)};function qj(e){return ke(e)?e:null}function YI(e,t,n){const i=dm(n.op,n.field);let s;if(t.ops){for(let l=0,c=t.as.length;l<c;++l)if(t.as[l]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((s=n.op.signal)?e.signalRef(s):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function e1(e,t,n,i,s,l,c){const d=t[n]||(t[n]={}),f=bpe(l);let u=qj(s),a,y;if(u!=null&&(e=t.scope,u=u+(f?"|"+f:""),a=d[u]),!a){const w=l?{field:e8,pulse:t.countsRef(e,s,l)}:{field:e.fieldRef(s),pulse:Re(t.output)};f&&(w.sort=e.sortRef(l)),y=e.add(cm(i,void 0,w)),c&&(t.index[s]=y),a=Re(y),u!=null&&(d[u]=a)}return a}Cd.prototype={countsRef(e,t,n){const i=this,s=i.counts||(i.counts={}),l=qj(t);let c,d,f;return l!=null&&(e=i.scope,c=s[l]),c?n&&n.field&&YI(e,c.agg.params,n):(f={groupby:e.fieldRef(t,"key"),pulse:Re(i.output)},n&&n.field&&YI(e,f,n),d=e.add(Bj(f)),c=e.add(Jr({pulse:Re(d)})),c={agg:d,ref:Re(c)},l!=null&&(s[l]=c)),c.ref},tuplesRef(){return Re(this.values)},extentRef(e,t){return e1(e,this,"extent","extent",t,!1)},domainRef(e,t){return e1(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return e1(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return e1(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return e1(e,this,"indata","tupleindex",t,!0,!0)}};function Jge(e,t,n){const i=e.from.facet,s=i.name,l=Pp(i,t);let c;i.name||de("Facet must have a name: "+Le(i)),i.data||de("Facet must reference a data set: "+Le(i)),i.field?c=t.add(Mj({field:t.fieldRef(i.field),pulse:l})):i.groupby?c=t.add(Rpe({key:t.keyRef(i.groupby),group:Re(t.proxy(n.parent)),pulse:l})):de("Facet must specify groupby or field: "+Le(i));const d=t.fork(),f=d.add(Jr()),u=d.add(af({pulse:Re(f)}));d.addData(s,new Cd(d,f,f,u)),d.addSignal("parent",null),c.params.subflow={$subflow:d.parse(e).toRuntime()}}function eye(e,t,n){const i=t.add(Mj({pulse:n.pulse})),s=t.fork();s.add(af()),s.addSignal("parent",null),i.params.subflow={$subflow:s.parse(e).toRuntime()}}function Vj(e,t,n){const i=e.remove,s=e.insert,l=e.toggle,c=e.modify,d=e.values,f=t.add(wy()),u="if("+e.trigger+',modify("'+n+'",'+[s,i,l,c,d].map(y=>y??"null").join(",")+"),0)",a=Va(u,t);f.update=a.$expr,f.params=a.$params}function pm(e,t){const n=zj(e),i=e.type===um,s=e.from&&e.from.facet,l=e.overlap;let c=e.layout||n===ME||n===IE,d,f,u,a,y,w,m;const o=n===FE||c||s,b=Qge(e.from,i,t);f=t.add(Npe({key:b.key||(e.key?N2(e.key):void 0),pulse:b.pulse,clean:!i}));const L=Re(f);f=u=t.add(Jr({pulse:L})),f=t.add(Hpe({markdef:qge(e),interactive:Vge(e.interactive,t),clip:jge(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Re(f)}));const v=Re(f);f=a=t.add(Ij(xj(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),f.params.parent=t.encode(),e.transform&&e.transform.forEach(A=>{const M=HE(A,t),C=M.metadata;(C.generates||C.changes)&&de("Mark transforms should not generate new data."),C.nomod||(a.params.mod=!0),M.params.pulse=Re(f),t.add(f=M)}),e.sort&&(f=t.add(Kpe({sort:t.compareRef(e.sort),pulse:Re(f)})));const S=Re(f);(s||c)&&(c=t.add(Oj({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:S})),w=Re(c));const x=t.add(Fj({mark:v,pulse:w||S}));m=Re(x),i&&(o&&(d=t.operators,d.pop(),c&&d.pop()),t.pushState(S,w||m,L),s?Jge(e,t,b):o?eye(e,t,b):t.parse(e),t.popState(),o&&(c&&d.push(c),d.push(x))),l&&(m=tye(l,m,t));const F=t.add(Aj({pulse:m})),k=t.add(af({pulse:Re(F)},void 0,t.parent()));e.name!=null&&(y=e.name,t.addData(y,new Cd(t,u,F,k)),e.on&&e.on.forEach(A=>{(A.insert||A.remove||A.toggle)&&de("Marks only support modify triggers."),Vj(A,t,y)}))}function tye(e,t,n){const i=e.method,s=e.bound,l=e.separation,c={separation:Hn(l)?n.signalRef(l.signal):l,method:Hn(i)?n.signalRef(i.signal):i,pulse:t};if(e.order&&(c.sort=n.compareRef({field:e.order})),s){const d=s.tolerance;c.boundTolerance=Hn(d)?n.signalRef(d.signal):+d,c.boundScale=n.scaleRef(s.scale),c.boundOrient=s.orient}return Re(n.add(qpe(c)))}function nye(e,t){const n=t.config.legend,i=e.encode||{},s=xs(e,n),l=i.legend||{},c=l.name||void 0,d=l.interactive,f=l.style,u={};let a=0,y,w,m;RE.forEach(x=>e[x]?(u[x]=e[x],a=a||e[x]):0),a||de("Missing valid scale for legend.");const o=iye(e,t.scaleType(a)),b={title:e.title!=null,scales:u,type:o,vgrad:o!=="symbol"&&s.isVertical()},L=Re(t.add(Jr(null,[b]))),v={enter:{x:{value:0},y:{value:0}}},S=Re(t.add(Upe(w={type:o,scale:t.scaleRef(a),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return o===Rp?(m=[Fge(e,a,n,i.gradient),zI(e,n,i.labels,S)],w.count=w.count||t.signalRef(`max(2,2*floor((${pd(s.gradientLength())})/100))`)):o===s8?m=[Ige(e,a,n,i.gradient,S),zI(e,n,i.labels,S)]:(y=Nge(e,n),m=[Oge(e,n,i,S,pd(y.columns))],w.size=aye(e,t,m[0].marks)),m=[R2({role:tpe,from:L,encode:v,marks:m,layout:y,interactive:d})],b.title&&m.push(zge(e,n,i.title,L)),pm(R2({role:J_e,from:L,encode:Sh(rye(s,e,n),l,D0),marks:m,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:c,interactive:d,style:f}),t)}function iye(e,t){let n=e.type||HI;return!e.type&&sye(e)===1&&(e.fill||e.stroke)&&(n=Xb(t)?Rp:w5(t)?s8:HI),n!==Rp?n:w5(t)?s8:Rp}function sye(e){return RE.reduce((t,n)=>t+(e[n]?1:0),0)}function rye(e,t,n){const i={enter:{},update:{}};return gi(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function aye(e,t,n){const i=pd(XI("size",e,n)),s=pd(XI("strokeWidth",e,n)),l=pd(oye(n[1].encode,t,P0));return Va(`max(ceil(sqrt(${i})+${s}),${l})`,t)}function XI(e,t,n){return t[e]?`scale("${t[e]}",datum)`:$j(e,n[0].encode)}function oye(e,t,n){return $j("fontSize",e)||kge("fontSize",t,n)}const lye=`item.orient==="${xh}"?-90:item.orient==="${kh}"?90:0`;function cye(e,t){e=ke(e)?{text:e}:e;const n=xs(e,t.config.title),i=e.encode||{},s=i.group||{},l=s.name||void 0,c=s.interactive,d=s.style,f=[],u={},a=Re(t.add(Jr(null,[u])));return f.push(uye(e,n,dye(e),a)),e.subtitle&&f.push(hye(e,n,i.subtitle,a)),pm(R2({role:rpe,from:a,encode:fye(n,s),marks:f,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:l,interactive:c,style:d}),t)}function dye(e){const t=e.encode;return t&&t.title||dt({name:e.name,interactive:e.interactive,style:e.style},t)}function fye(e,t){const n={enter:{},update:{}};return gi(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:DE},angle:{signal:lye},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Sh(n,t,D0)}function uye(e,t,n,i){const s={value:0},l=e.text,c={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return gi(c,{text:l,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zs({type:of,role:ape,style:mge,from:i,encode:c},n)}function hye(e,t,n,i){const s={value:0},l=e.subtitle,c={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return gi(c,{text:l,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zs({type:of,role:ope,style:wge,from:i,encode:c},n)}function _ye(e,t){const n=[];e.transform&&e.transform.forEach(i=>{n.push(HE(i,t))}),e.on&&e.on.forEach(i=>{Vj(i,t,e.name)}),t.addDataPipeline(e.name,pye(e,t,n))}function pye(e,t,n){const i=[];let s=null,l=!1,c=!1,d,f,u,a,y;for(e.values?Hn(e.values)||Np(e.format)?(i.push(KI(t,e)),i.push(s=xc())):i.push(s=xc({$ingest:e.values,$format:e.format})):e.url?Np(e.url)||Np(e.format)?(i.push(KI(t,e)),i.push(s=xc())):i.push(s=xc({$request:e.url,$format:e.format})):e.source&&(s=d=Fe(e.source).map(w=>Re(t.getData(w).output)),i.push(null)),f=0,u=n.length;f<u;++f)a=n[f],y=a.metadata,!s&&!y.source&&i.push(s=xc()),i.push(a),y.generates&&(c=!0),y.modifies&&!c&&(l=!0),y.source?s=a:y.changes&&(s=null);return d&&(u=d.length-1,i[0]=Ype({derive:l,pulse:u?d:d[0]}),(l||u)&&i.splice(1,0,xc())),s||i.push(xc()),i.push(af({})),i}function xc(e){const t=Jr({},e);return t.metadata={source:!0},t}function KI(e,t){return $pe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Gj=e=>e===Kl||e===ea,gm=(e,t,n)=>Hn(e)?wye(e.signal,t,n):e===xh||e===ea?t:n,Qn=(e,t,n)=>Hn(e)?yye(e.signal,t,n):Gj(e)?t:n,$r=(e,t,n)=>Hn(e)?mye(e.signal,t,n):Gj(e)?n:t,Wj=(e,t,n)=>Hn(e)?Lye(e.signal,t,n):e===ea?{value:t}:{value:n},gye=(e,t,n)=>Hn(e)?bye(e.signal,t,n):e===kh?{value:t}:{value:n},yye=(e,t,n)=>Yj(`${e} === '${ea}' || ${e} === '${Kl}'`,t,n),mye=(e,t,n)=>Yj(`${e} !== '${ea}' && ${e} !== '${Kl}'`,t,n),wye=(e,t,n)=>zE(`${e} === '${xh}' || ${e} === '${ea}'`,t,n),Lye=(e,t,n)=>zE(`${e} === '${ea}'`,t,n),bye=(e,t,n)=>zE(`${e} === '${kh}'`,t,n),Yj=(e,t,n)=>(t=t!=null?Zn(t):t,n=n!=null?Zn(n):n,ZI(t)&&ZI(n)?(t=t?t.signal||Le(t.value):null,n=n?n.signal||Le(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[dt({test:e},t)].concat(n||[])),ZI=e=>e==null||Object.keys(e).length===1,zE=(e,t,n)=>({signal:`${e} ? (${Zf(t)}) : (${Zf(n)})`}),Tye=(e,t,n,i,s)=>({signal:(i!=null?`${e} === '${xh}' ? (${Zf(i)}) : `:"")+(n!=null?`${e} === '${Kl}' ? (${Zf(n)}) : `:"")+(s!=null?`${e} === '${kh}' ? (${Zf(s)}) : `:"")+(t!=null?`${e} === '${ea}' ? (${Zf(t)}) : `:"")+"(null)"}),Zf=e=>Hn(e)?e.signal:e==null?null:Le(e),Eye=(e,t)=>t===0?0:Hn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},cu=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function kf(e,t,n,i){let s;if(t&&Ue(t,e))return t[e];if(Ue(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":s="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":s=e[5].toLowerCase()+e.slice(6)}return i[CE][s]}else if(e.startsWith("label")){switch(e){case"labelColor":s="fill";break;case"labelFont":case"labelFontSize":s=e[5].toLowerCase()+e.slice(6)}return i[P0][s]}return null}function QI(e){const t={};for(const n of e)if(n)for(const i in n)t[i]=1;return Object.keys(t)}function vye(e,t){var n=t.config,i=n.style,s=n.axis,l=t.scaleType(e.scale)==="band"&&n.axisBand,c=e.orient,d,f,u;if(Hn(c)){const y=QI([n.axisX,n.axisY]),w=QI([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);d={};for(u of y)d[u]=Qn(c,kf(u,n.axisX,s,i),kf(u,n.axisY,s,i));f={};for(u of w)f[u]=Tye(c.signal,kf(u,n.axisTop,s,i),kf(u,n.axisBottom,s,i),kf(u,n.axisLeft,s,i),kf(u,n.axisRight,s,i))}else d=c===ea||c===Kl?n.axisX:n.axisY,f=n["axis"+c[0].toUpperCase()+c.slice(1)];return d||f||l?dt({},s,d,f,l):s}function Sye(e,t,n,i){const s=xs(e,t),l=e.orient;let c,d;const f={enter:c={opacity:Mt},update:d={opacity:er},exit:{opacity:Mt}};gi(f,{stroke:s("domainColor"),strokeCap:s("domainCap"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")});const u=JI(e,0),a=JI(e,1);return c.x=d.x=Qn(l,u,Mt),c.x2=d.x2=Qn(l,a),c.y=d.y=$r(l,u,Mt),c.y2=d.y2=$r(l,a),zs({type:PE,role:Y_e,from:i,encode:f},n)}function JI(e,t){return{scale:e.scale,range:t}}function xye(e,t,n,i,s){const l=xs(e,t),c=e.orient,d=e.gridScale,f=gm(c,1,-1),u=kye(e.offset,f);let a,y,w;const m={enter:a={opacity:Mt},update:w={opacity:er},exit:y={opacity:Mt}};gi(m,{stroke:l("gridColor"),strokeCap:l("gridCap"),strokeDash:l("gridDash"),strokeDashOffset:l("gridDashOffset"),strokeOpacity:l("gridOpacity"),strokeWidth:l("gridWidth")});const o={scale:e.scale,field:Js,band:s.band,extra:s.extra,offset:s.offset,round:l("tickRound")},b=Qn(c,{signal:"height"},{signal:"width"}),L=d?{scale:d,range:0,mult:f,offset:u}:{value:0,offset:u},v=d?{scale:d,range:1,mult:f,offset:u}:dt(b,{mult:f,offset:u});return a.x=w.x=Qn(c,o,L),a.y=w.y=$r(c,o,L),a.x2=w.x2=$r(c,v),a.y2=w.y2=Qn(c,v),y.x=Qn(c,o),y.y=$r(c,o),zs({type:PE,role:X_e,key:Js,from:i,encode:m},n)}function kye(e,t){if(t!==1)if(!Ie(e))e=Hn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=dt({},e);for(;n.mult!=null;)if(Ie(n.mult))n=n.mult=dt({},n.mult);else return n.mult=Hn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function Bye(e,t,n,i,s,l){const c=xs(e,t),d=e.orient,f=gm(d,-1,1);let u,a,y;const w={enter:u={opacity:Mt},update:y={opacity:er},exit:a={opacity:Mt}};gi(w,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});const m=Zn(s);m.mult=f;const o={scale:e.scale,field:Js,band:l.band,extra:l.extra,offset:l.offset,round:c("tickRound")};return y.y=u.y=Qn(d,Mt,o),y.y2=u.y2=Qn(d,m),a.x=Qn(d,o),y.x=u.x=$r(d,Mt,o),y.x2=u.x2=$r(d,m),a.y=$r(d,o),zs({type:PE,role:Z_e,key:Js,from:i,encode:w},n)}function Cw(e,t,n,i,s){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+i+","+s+")"}}function Fye(e,t,n,i,s,l){const c=xs(e,t),d=e.orient,f=e.scale,u=gm(d,-1,1),a=pd(c("labelFlush")),y=pd(c("labelFlushOffset")),w=c("labelAlign"),m=c("labelBaseline");let o=a===0||!!a,b;const L=Zn(s);L.mult=u,L.offset=Zn(c("labelPadding")||0),L.offset.mult=u;const v={scale:f,field:Js,band:.5,offset:Hj(l.offset,c("labelOffset"))},S=Qn(d,o?Cw(f,a,'"left"','"right"','"center"'):{value:"center"},gye(d,"left","right")),x=Qn(d,Wj(d,"bottom","top"),o?Cw(f,a,'"top"','"bottom"','"middle"'):{value:"middle"}),F=Cw(f,a,`-(${y})`,y,0);o=o&&y;const k={opacity:Mt,x:Qn(d,v,L),y:$r(d,v,L)},A={enter:k,update:b={opacity:er,text:{field:NE},x:k.x,y:k.y,align:S,baseline:x},exit:{opacity:Mt,x:k.x,y:k.y}};gi(A,{dx:!w&&o?Qn(d,F):null,dy:!m&&o?$r(d,F):null}),gi(A,{angle:c("labelAngle"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontWeight:c("labelFontWeight"),fontStyle:c("labelFontStyle"),limit:c("labelLimit"),lineHeight:c("labelLineHeight")},{align:w,baseline:m});const M=c("labelBound");let C=c("labelOverlap");return C=C||M?{separation:c("labelSeparation"),method:C,order:"datum.index",bound:M?{scale:f,orient:d,tolerance:M}:null}:void 0,b.align!==S&&(b.align=cu(b.align,S)),b.baseline!==x&&(b.baseline=cu(b.baseline,x)),zs({type:of,role:K_e,style:P0,key:Js,from:i,encode:A,overlap:C},n)}function Iye(e,t,n,i){const s=xs(e,t),l=e.orient,c=gm(l,-1,1);let d,f;const u={enter:d={opacity:Mt,anchor:Zn(s("titleAnchor",null)),align:{signal:DE}},update:f=dt({},d,{opacity:er,text:Zn(e.title)}),exit:{opacity:Mt}},a={signal:`lerp(range("${e.scale}"), ${hm(0,1,.5)})`};return f.x=Qn(l,a),f.y=$r(l,a),d.angle=Qn(l,Mt,Eye(c,90)),d.baseline=Qn(l,Wj(l,Kl,ea),{value:Kl}),f.angle=d.angle,f.baseline=d.baseline,gi(u,{fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),angle:s("titleAngle"),baseline:s("titleBaseline")}),Mye(s,l,u,n),u.update.align=cu(u.update.align,d.align),u.update.angle=cu(u.update.angle,d.angle),u.update.baseline=cu(u.update.baseline,d.baseline),zs({type:of,role:Q_e,style:CE,from:i,encode:u},n)}function Mye(e,t,n,i){const s=(d,f)=>d!=null?(n.update[f]=cu(Zn(d),n.update[f]),!1):!zf(f,i),l=s(e("titleX"),"x"),c=s(e("titleY"),"y");n.enter.auto=c===l?Zn(c):Qn(t,Zn(c),Zn(l))}function Aye(e,t){const n=vye(e,t),i=e.encode||{},s=i.axis||{},l=s.name||void 0,c=s.interactive,d=s.style,f=xs(e,n),u=Bge(f),a={scale:e.scale,ticks:!!f("ticks"),labels:!!f("labels"),grid:!!f("grid"),domain:!!f("domain"),title:e.title!=null},y=Re(t.add(Jr({},[a]))),w=Re(t.add(Ope({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),m=[];let o;return a.grid&&m.push(xye(e,n,i.grid,w,u)),a.ticks&&(o=f("tickSize"),m.push(Bye(e,n,i.ticks,w,o,u))),a.labels&&(o=a.ticks?o:0,m.push(Fye(e,n,i.labels,w,o,u))),a.domain&&m.push(Sye(e,n,i.domain,y)),a.title&&m.push(Iye(e,n,i.title,y)),pm(R2({role:W_e,from:y,encode:Sh(Oye(f,e),s,D0),marks:m,aria:f("aria"),description:f("description"),zindex:f("zindex"),name:l,interactive:c,style:d}),t)}function Oye(e,t){const n={enter:{},update:{}};return gi(n,{orient:e("orient"),offset:e("offset")||0,position:Er(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Xj(e,t,n){const i=Fe(e.signals),s=Fe(e.scales);return n||i.forEach(l=>kj(l,t)),Fe(e.projections).forEach(l=>fge(l,t)),s.forEach(l=>Jpe(l,t)),Fe(e.data).forEach(l=>_ye(l,t)),s.forEach(l=>ege(l,t)),(n||i).forEach(l=>Ape(l,t)),Fe(e.axes).forEach(l=>Aye(l,t)),Fe(e.marks).forEach(l=>pm(l,t)),Fe(e.legends).forEach(l=>nye(l,t)),e.title&&cye(e.title,t),t.parseLambdas(),t}const Nye=e=>Sh({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Cye(e,t){const n=t.config,i=Re(t.root=t.add(wy())),s=Rye(e,n);s.forEach(u=>kj(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const l=t.add(Jr()),c=t.add(Ij(xj(Nye(e.encode),um,IE,e.style,t,{pulse:Re(l)}))),d=t.add(Oj({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:i,pulse:Re(c)}));t.operators.pop(),t.pushState(Re(c),Re(d),null),Xj(e,t,s),t.operators.push(d);let f=t.add(Fj({mark:i,pulse:Re(d)}));return f=t.add(Aj({pulse:Re(f)})),f=t.add(af({pulse:Re(f)})),t.addData("root",new Cd(t,l,l,f)),t}function t1(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Rye(e,t){const n=c=>Er(e[c],t[c]),i=[t1("background",n("background")),t1("autosize",q_e(n("autosize"))),t1("padding",G_e(n("padding"))),t1("width",n("width")||0),t1("height",n("height")||0)],s=i.reduce((c,d)=>(c[d.name]=d,c),{}),l={};return Fe(e.signals).forEach(c=>{Ue(s,c.name)?c=dt(s[c.name],c):i.push(c),l[c.name]=c}),Fe(t.signals).forEach(c=>{!Ue(l,c.name)&&!Ue(s,c.name)&&i.push(c)}),i}function Kj(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function eM(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Kj.prototype=eM.prototype={parse(e){return Xj(e,this)},fork(){return new eM(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof J5?Re(e):e;return this.add(Wpe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(i,s,l){let c,d;i&&(c=i.data||(i.data={}),d=c[s]||(c[s]=[]),d.push(l))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const i in t.index)n(t.index[i],e,"index:"+i)}return this},pushState(e,t,n){this._encode.push(Re(this.add(af({pulse:e})))),this._parent.push(t),this._lookup.push(n?Re(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Bt(this._parent)},encode(){return Bt(this._encode)},lookup(){return Bt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ke(e))return N2(e,t);e.signal||de("Unsupported field reference: "+Le(e));const n=e.signal;let i=this.field[n];if(!i){const s={name:this.signalRef(n)};t&&(s.as=t),this.field[n]=i=Re(this.add(Ppe(s)))}return i},compareRef(e){let t=!1;const n=l=>Hn(l)?(t=!0,this.signalRef(l.signal)):Tpe(l)?(t=!0,this.exprRef(l.expr)):l,i=Fe(e.field).map(n),s=Fe(e.order).map(n);return t?Re(this.add($I({fields:i,orders:s}))):DI(i,s)},keyRef(e,t){let n=!1;const i=l=>Hn(l)?(n=!0,Re(s[l.signal])):l,s=this.signals;return e=Fe(e).map(i),n?Re(this.add(Dpe({fields:e,flat:t}))):mpe(e,t)},sortRef(e){if(!e)return e;const t=dm(e.op,e.field),n=e.order||wpe;return n.signal?Re(this.add($I({fields:t,orders:this.signalRef(n.signal)}))):DI(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[n]=i}return this.events[n]},hasOwnSignal(e){return Ue(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&de("Duplicate signal name: "+Le(e));const n=t instanceof J5?t:this.add(wy(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||de("Unrecognized signal name: "+Le(e)),this.signals[e]},signalRef(e){return this.signals[e]?Re(this.signals[e]):(Ue(this.lambdas,e)||(this.lambdas[e]=this.add(wy(null))),Re(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const i=e[t],s=Va(i,this),l=this.lambdas[i];l.params=s.$params,l.update=s.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Ie(e)?e:this.signalRef(e.signal||jE(e))},exprRef(e,t){const n={expr:Va(e,this)};return t&&(n.expr.$name=t),Re(this.add(Cpe(n)))},addBinding(e,t){this.bindings||de("Nested signals do not support binding: "+Le(e)),this.bindings.push(dt({signal:e},t))},addScaleProj(e,t){Ue(this.scales,e)&&de("Duplicate scale or projection name: "+Le(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Xpe(t))},addProjection(e,t){this.addScaleProj(e,Gpe(t))},getScale(e){return this.scales[e]||de("Unrecognized scale name: "+Le(e)),this.scales[e]},scaleRef(e){return Re(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ue(this.data,e)&&de("Duplicate data set name: "+Le(e)),this.data[e]=t},getData(e){return this.data[e]||de("Undefined data set name: "+Le(e)),this.data[e]},addDataPipeline(e,t){return Ue(this.data,e)&&de("Duplicate data set name: "+Le(e)),this.addData(e,Cd.fromEntries(this,t))}};function jE(e){return(he(e)?Pye:Dye)(e)}function Pye(e){const t=e.length;let n="[";for(let i=0;i<t;++i){const s=e[i];n+=(i>0?",":"")+(Ie(s)?s.signal||jE(s):Le(s))}return n+"]"}function Dye(e){let t="{",n=0,i,s;for(i in e)s=e[i],t+=(++n>1?",":"")+Le(i)+":"+(Ie(s)?s.signal||jE(s):Le(s));return t+"}"}function Uye(){const e="sans-serif",i="#4c78a8",s="#000",l="#888",c="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:i},area:{fill:i},image:null,line:{stroke:i,strokeWidth:2},path:{stroke:i},rect:{fill:i},rule:{stroke:s},shape:{stroke:i},symbol:{fill:i,size:64},text:{fill:s,font:e,fontSize:11},trail:{fill:i,size:2},style:{"guide-label":{fill:s,font:e,fontSize:10},"guide-title":{fill:s,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:s,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:s,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:c},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:l,grid:!1,gridWidth:1,gridColor:c,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:l,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:c,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:l,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function $ye(e,t,n){return Ie(e)||de("Input Vega specification must be an object."),t=mh(Uye(),t,e.config),Cye(e,new Kj(t,n)).toRuntime()}var Hye="5.25.0";dt(Uu,Dle,Sue,ihe,Nhe,Hhe,_1e,Whe,g1e,w1e,F1e,R1e);const zye=Object.freeze(Object.defineProperty({__proto__:null,Bounds:On,CanvasHandler:A0,CanvasRenderer:oy,DATE:Ls,DAY:vi,DAYOFYEAR:qa,Dataflow:lu,Debug:zD,Error:Z7,EventStream:P4,Gradient:G$,GroupItem:V4,HOURS:Us,Handler:Yl,Info:HD,Item:q4,MILLISECONDS:Gr,MINUTES:$s,MONTH:Ii,Marks:Hs,MultiPulse:yb,None:$D,Operator:an,Parameters:R4,Pulse:Ol,QUARTER:ws,RenderType:Sl,Renderer:no,ResourceLoader:sT,SECONDS:ar,SVGHandler:TT,SVGRenderer:BT,SVGStringRenderer:FT,Scenegraph:LT,TIME_UNITS:cb,Transform:ae,View:_j,WEEK:Dn,Warn:Q7,YEAR:hi,accessor:Ss,accessorFields:Fi,accessorName:Sn,array:Fe,ascending:I4,bandwidthNRD:F7,bin:I7,bootstrapCI:LD,boundClip:$H,boundContext:B0,boundItem:x5,boundMark:fH,boundStroke:Xo,changeset:nf,clampRange:JD,codegenExpression:zz,compare:ib,constant:Ci,cumulativeLogNormal:R7,cumulativeNormal:E4,cumulativeUniform:$7,dayofyear:fU,debounce:sb,defaultLocale:ub,definition:YU,densityLogNormal:C7,densityNormal:M7,densityUniform:U7,domChild:ls,domClear:Fr,domCreate:El,domFind:bT,dotbin:bD,error:de,expressionFunction:Nn,extend:dt,extent:ja,extentIndex:eU,falsy:ll,fastmap:Lh,field:ms,flush:tU,font:K4,fontFamily:M0,fontSize:to,format:wp,formatLocale:Kg,formats:pb,hasOwnProperty:Ue,id:y0,identity:Ni,inferType:PU,inferTypes:DU,ingest:$t,inherits:be,inrange:Yf,interpolate:Kb,interpolateColors:z4,interpolateRange:A$,intersect:RH,intersectBoxLine:Xf,intersectPath:rT,intersectPoint:aT,intersectRule:eH,isArray:he,isBoolean:uc,isDate:Al,isFunction:ft,isIterable:nU,isNumber:At,isObject:Ie,isRegExp:iU,isString:ke,isTuple:N4,key:rb,lerp:sU,lineHeight:Gl,loader:A4,locale:CU,logger:J7,lruCache:rU,markup:kT,merge:aU,mergeConfig:mh,multiLineOffset:yT,one:yh,pad:oU,panLinear:WD,panLog:YD,panPow:XD,panSymlog:KD,parse:$ye,parseExpression:gE,parseSelector:_c,path:a4,pathCurves:tT,pathEqual:HH,pathParse:ju,pathRectangle:X$,pathRender:S2,pathSymbols:Y$,pathTrail:K$,peek:Bt,point:Q4,projection:HT,quantileLogNormal:P7,quantileNormal:v4,quantileUniform:H7,quantiles:k7,quantizeInterpolator:O$,quarter:ZD,quartiles:B7,get random(){return sr},randomInteger:zse,randomKDE:O7,randomLCG:Hse,randomLogNormal:ED,randomMixture:vD,randomNormal:A7,randomUniform:SD,read:HU,regressionConstant:z7,regressionExp:kD,regressionLinear:j7,regressionLoess:ID,regressionLog:xD,regressionPoly:FD,regressionPow:BD,regressionQuad:q7,renderModule:J4,repeat:T1,resetDefaultLocale:Qae,resetSVGClipId:Q$,resetSVGDefIds:jfe,responseType:$U,runtimeContext:tj,sampleCurve:x4,sampleLogNormal:N7,sampleNormal:T4,sampleUniform:D7,scale:Pt,sceneEqual:IT,sceneFromJSON:hH,scenePickVisit:ty,sceneToJSON:uH,sceneVisit:Wr,sceneZOrder:oT,scheme:Zb,serializeXML:BH,setRandom:Use,span:m0,splitAccessPath:eo,stringValue:Le,textMetrics:Ur,timeBin:BU,timeFloor:mU,timeFormatLocale:T2,timeInterval:bh,timeOffset:bU,timeSequence:vU,timeUnitSpecifier:dU,timeUnits:db,toBoolean:ab,toDate:ob,toNumber:Si,toSet:Vr,toString:lb,transform:XU,transforms:Uu,truncate:lU,truthy:rr,tupleid:Pe,typeParsers:g5,utcFloor:wU,utcInterval:Th,utcOffset:TU,utcSequence:SU,utcdayofyear:_U,utcquarter:QD,utcweek:pU,version:Hye,visitArray:pl,week:uU,writeConfig:wh,zero:Ll,zoomLinear:eb,zoomLog:tb,zoomPow:Xg,zoomSymlog:nb},Symbol.toStringTag,{value:"Module"}));function jye(e,t,n){let i;t.x2&&(t.x?(n&&e.x>e.x2&&(i=e.x,e.x=e.x2,e.x2=i),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(i=e.y,e.y=e.y2,e.y2=i),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var qye={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Vye={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Gye={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Wye=Array.prototype.slice,kc=(e,t,n)=>{const i=n?n(t[0]):t[0];return i[e].apply(i,Wye.call(t,1))},Yye=(e,t,n,i,s,l,c)=>new Date(e,t||0,n??1,i||0,s||0,l||0,c||0);var Xye={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:Yye,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return kc("join",arguments)},indexof:function(){return kc("indexOf",arguments)},lastindexof:function(){return kc("lastIndexOf",arguments)},slice:function(){return kc("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return kc("substring",arguments,String)},split:function(){return kc("split",arguments,String)},replace:function(){return kc("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Kye=["view","item","group","xy","x","y"],a8=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&a8.add(setImmediate);const Zye={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:qye[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,i=e(t.object);n&&(e.memberDepth+=1);const s=e(t.property);if(n&&(e.memberDepth-=1),a8.has(i[s])){console.error(`Prevented interpretation of member "${s}" which could lead to insecure code execution`);return}return i[s]},CallExpression:(e,t)=>{const n=t.arguments;let i=t.callee.name;return i.startsWith("_")&&(i=i.slice(1)),i==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[i]||Xye[i]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Vye[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Gye[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,i)=>{e.memberDepth+=1;const s=e(i.key);return e.memberDepth-=1,a8.has(e(i.value))?console.error(`Prevented interpretation of property "${s}" which could lead to insecure code execution`):n[s]=e(i.value),n},{})};function n1(e,t,n,i,s,l){const c=d=>Zye[d.type](c,d);return c.memberDepth=0,c.fn=Object.create(t),c.params=n,c.datum=i,c.event=s,c.item=l,Kye.forEach(d=>c.fn[d]=function(){return s.vega[d](...arguments)}),c(e)}var Qye={operator(e,t){const n=t.ast,i=e.functions;return s=>n1(n,i,s)},parameter(e,t){const n=t.ast,i=e.functions;return(s,l)=>n1(n,i,l,s)},event(e,t){const n=t.ast,i=e.functions;return s=>n1(n,i,void 0,void 0,s)},handler(e,t){const n=t.ast,i=e.functions;return(s,l)=>{const c=l.item&&l.item.datum;return n1(n,i,s,c,l)}},encode(e,t){const{marktype:n,channels:i}=t,s=e.functions,l=n==="group"||n==="image"||n==="rect";return(c,d)=>{const f=c.datum;let u=0,a;for(const y in i)a=n1(i[y].ast,s,d,f,void 0,c),c[y]!==a&&(c[y]=a,u=1);return n!=="rule"&&jye(c,i,l),u}}};const Jye="vega-lite",e4e='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',t4e="5.16.3",n4e=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],i4e="https://vega.github.io/vega-lite/",s4e="Vega-Lite is a concise high-level language for interactive visualization.",r4e=["vega","chart","visualization"],a4e="build/vega-lite.js",o4e="build/vega-lite.min.js",l4e="build/vega-lite.min.js",c4e="build/src/index",d4e="build/src/index.d.ts",f4e={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},u4e=["bin","build","src","vega-lite*","tsconfig.json"],h4e={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},_4e={type:"git",url:"https://github.com/vega/vega-lite.git"},p4e="BSD-3-Clause",g4e={url:"https://github.com/vega/vega-lite/issues"},y4e={"@babel/core":"^7.22.10","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.22.10","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.4","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.2.1","@rollup/plugin-terser":"^0.4.3","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^29.5.4","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^6.4.1","@typescript-eslint/parser":"^6.4.1",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.0.0",d3:"^7.8.5","del-cli":"^5.0.0",eslint:"^8.47.0","eslint-config-prettier":"^9.0.0","eslint-plugin-jest":"^27.2.3","eslint-plugin-prettier":"^5.0.0","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.8.0",jest:"^29.6.3","jest-dev-server":"^9.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.0.2",puppeteer:"^15.0.0","release-it":"^16.1.5",rollup:"^3.28.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.1",terser:"^5.19.2","ts-jest":"^29.1.1","ts-json-schema-generator":"^1.3.0",typescript:"~5.2.2","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.2","vega-tooltip":"^0.33.0","yaml-front-matter":"^4.1.1"},m4e={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},w4e={vega:"^5.24.0"},L4e={node:">=18"},b4e={name:Jye,author:e4e,version:t4e,collaborators:n4e,homepage:i4e,description:s4e,keywords:r4e,main:a4e,unpkg:o4e,jsdelivr:l4e,module:c4e,types:d4e,bin:f4e,files:u4e,scripts:h4e,repository:_4e,license:p4e,bugs:g4e,devDependencies:y4e,dependencies:m4e,peerDependencies:w4e,engines:L4e};function qE(e){return!!e.or}function VE(e){return!!e.and}function GE(e){return!!e.not}function Dp(e,t){if(GE(e))Dp(e.not,t);else if(VE(e))for(const n of e.and)Dp(n,t);else if(qE(e))for(const n of e.or)Dp(n,t);else t(e)}function du(e,t){return GE(e)?{not:du(e.not,t)}:VE(e)?{and:e.and.map(n=>du(n,t))}:qE(e)?{or:e.or.map(n=>du(n,t))}:t(e)}const Je=structuredClone;function Zj(e){throw new Error(e)}function Xu(e,t){const n={};for(const i of t)Ue(e,i)&&(n[i]=e[i]);return n}function us(e,t){const n={...e};for(const i of t)delete n[i];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>en(e)).join(",")})`};function vt(e){if(At(e))return e;const t=ke(e)?e:en(e);if(t.length<250)return t;let n=0;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);n=(n<<5)-n+s,n=n&n}return n}function o8(e){return e===!1||e===null}function St(e,t){return e.includes(t)}function Rd(e,t){let n=0;for(const[i,s]of e.entries())if(t(s,i,n++))return!0;return!1}function WE(e,t){let n=0;for(const[i,s]of e.entries())if(!t(s,i,n++))return!1;return!0}function Qj(e,...t){for(const n of t)T4e(e,n??{});return e}function T4e(e,t){for(const n of ge(t))wh(e,n,t[n],!0)}function ka(e,t){const n=[],i={};let s;for(const l of e)s=t(l),!(s in i)&&(i[s]=1,n.push(l));return n}function E4e(e,t){const n=ge(e),i=ge(t);if(n.length!==i.length)return!1;for(const s of n)if(e[s]!==t[s])return!1;return!0}function Jj(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function YE(e,t){for(const n of e)if(t.has(n))return!0;return!1}function l8(e){const t=new Set;for(const n of e){const s=eo(n).map((c,d)=>d===0?c:`[${c}]`),l=s.map((c,d)=>s.slice(0,d+1).join(""));for(const c of l)t.add(c)}return t}function XE(e,t){return e===void 0||t===void 0?!0:YE(l8(e),l8(t))}function Jt(e){return ge(e).length===0}const ge=Object.keys,_i=Object.values,Zl=Object.entries;function P2(e){return e===!0||e===!1}function pn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function K1(e,t){return GE(e)?`!(${K1(e.not,t)})`:VE(e)?`(${e.and.map(n=>K1(n,t)).join(") && (")})`:qE(e)?`(${e.or.map(n=>K1(n,t)).join(") || (")})`:t(e)}function Ly(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Ly(e[n],t)&&delete e[n],Jt(e)}function U0(e){return e.charAt(0).toUpperCase()+e.substr(1)}function KE(e,t="datum"){const n=eo(e),i=[];for(let s=1;s<=n.length;s++){const l=`[${n.slice(0,s).map(Le).join("][")}]`;i.push(`${t}${l}`)}return i.join(" && ")}function eq(e,t="datum"){return`${t}[${Le(eo(e).join("."))}]`}function v4e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function or(e){return`${eo(e).map(v4e).join("\\.")}`}function Pd(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function ZE(e){return`${eo(e).join(".")}`}function Ku(e){return e?eo(e).length:0}function Fn(...e){for(const t of e)if(t!==void 0)return t}let tq=42;function nq(e){const t=++tq;return e?String(e)+t:t}function S4e(){tq=42}function iq(e){return sq(e)?e:`__${e}`}function sq(e){return e.startsWith("__")}function D2(e){if(e!==void 0)return(e%360+360)%360}function ym(e){return At(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const tM=Object.getPrototypeOf(structuredClone({}));function Rs(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Rs(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Rs(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==tM.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==tM.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!Rs(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function en(e){const t=[];return function n(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i===void 0)return;if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);let s,l;if(Array.isArray(i)){for(l="[",s=0;s<i.length;s++)s&&(l+=","),l+=n(i[s])||"null";return l+"]"}if(i===null)return"null";if(t.includes(i))throw new TypeError("Converting circular structure to JSON");const c=t.push(i)-1,d=Object.keys(i).sort();for(l="",s=0;s<d.length;s++){const f=d[s],u=n(i[f]);u&&(l&&(l+=","),l+=JSON.stringify(f)+":"+u)}return t.splice(c,1),`{${l}}`}(e)}const Co="row",Ro="column",mm="facet",gn="x",ri="y",ta="x2",so="y2",pc="xOffset",Bh="yOffset",na="radius",Qo="radius2",hr="theta",Jo="theta2",ia="latitude",sa="longitude",ra="latitude2",lr="longitude2",bs="color",ro="fill",ao="stroke",Ts="shape",el="size",lf="angle",tl="opacity",gc="fillOpacity",yc="strokeOpacity",mc="strokeWidth",wc="strokeDash",$0="text",Zu="order",H0="detail",wm="key",Dd="tooltip",Lm="href",bm="url",Tm="description",x4e={x:1,y:1,x2:1,y2:1},rq={theta:1,theta2:1,radius:1,radius2:1};function aq(e){return e in rq}const QE={longitude:1,longitude2:1,latitude:1,latitude2:1};function oq(e){switch(e){case ia:return"y";case ra:return"y2";case sa:return"x";case lr:return"x2"}}function lq(e){return e in QE}const k4e=ge(QE),JE={...x4e,...rq,...QE,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function fu(e){return e===bs||e===ro||e===ao}const cq={row:1,column:1,facet:1},Qs=ge(cq),ev={...JE,...cq},B4e=ge(ev),{order:Rve,detail:Pve,tooltip:Dve,...F4e}=ev,{row:Uve,column:$ve,facet:Hve,...I4e}=F4e;function M4e(e){return!!I4e[e]}function dq(e){return!!ev[e]}const A4e=[ta,so,ra,lr,Jo,Qo];function fq(e){return cf(e)!==e}function cf(e){switch(e){case ta:return gn;case so:return ri;case ra:return ia;case lr:return sa;case Jo:return hr;case Qo:return na}return e}function Ql(e){if(aq(e))switch(e){case hr:return"startAngle";case Jo:return"endAngle";case na:return"outerRadius";case Qo:return"innerRadius"}return e}function oo(e){switch(e){case gn:return ta;case ri:return so;case ia:return ra;case sa:return lr;case hr:return Jo;case na:return Qo}}function Es(e){switch(e){case gn:case ta:return"width";case ri:case so:return"height"}}function uq(e){switch(e){case gn:return"xOffset";case ri:return"yOffset";case ta:return"x2Offset";case so:return"y2Offset";case hr:return"thetaOffset";case na:return"radiusOffset";case Jo:return"theta2Offset";case Qo:return"radius2Offset"}}function tv(e){switch(e){case gn:return"xOffset";case ri:return"yOffset"}}function O4e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const N4e=ge(JE),{x:zve,y:jve,x2:qve,y2:Vve,xOffset:Gve,yOffset:Wve,latitude:Yve,longitude:Xve,latitude2:Kve,longitude2:Zve,theta:Qve,theta2:Jve,radius:eSe,radius2:tSe,...nv}=JE,C4e=ge(nv),iv={x:1,y:1},lo=ge(iv);function In(e){return e in iv}const sv={theta:1,radius:1},R4e=ge(sv);function Em(e){return e==="width"?gn:ri}const hq={xOffset:1,yOffset:1};function z0(e){return e in hq}const{text:nSe,tooltip:iSe,href:sSe,url:rSe,description:aSe,detail:oSe,key:lSe,order:cSe,..._q}=nv,P4e=ge(_q);function D4e(e){return!!nv[e]}function U4e(e){switch(e){case bs:case ro:case ao:case el:case Ts:case tl:case mc:case wc:return!0;case gc:case yc:case lf:return!1}}const pq={...iv,...sv,...hq,..._q},vm=ge(pq);function nl(e){return!!pq[e]}function $4e(e,t){return z4e(e)[t]}const gq={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:dSe,...H4e}=gq;function z4e(e){switch(e){case bs:case ro:case ao:case Tm:case H0:case wm:case Dd:case Lm:case Zu:case tl:case gc:case yc:case mc:case mm:case Co:case Ro:return gq;case gn:case ri:case pc:case Bh:case ia:case sa:return H4e;case ta:case so:case ra:case lr:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case el:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case wc:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ts:return{point:"always",geoshape:"always"};case $0:return{text:"always"};case lf:return{point:"always",square:"always",text:"always"};case bm:return{image:"always"};case hr:return{text:"always",arc:"always"};case na:return{text:"always",arc:"always"};case Jo:case Qo:return{arc:"always"}}}function Rw(e){switch(e){case gn:case ri:case hr:case na:case pc:case Bh:case el:case lf:case mc:case tl:case gc:case yc:case ta:case so:case Jo:case Qo:return;case mm:case Co:case Ro:case Ts:case wc:case $0:case Dd:case Lm:case bm:case Tm:return"discrete";case bs:case ro:case ao:return"flexible";case ia:case sa:case ra:case lr:case H0:case wm:case Zu:return}}const j4e={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},q4e={count:1,min:1,max:1};function Vo(e){return!!e&&!!e.argmin}function Lc(e){return!!e&&!!e.argmax}function rv(e){return ke(e)&&!!j4e[e]}const V4e=new Set(["count","valid","missing","distinct"]);function yq(e){return ke(e)&&V4e.has(e)}function G4e(e){return ke(e)&&St(["min","max"],e)}const W4e=new Set(["count","sum","distinct","valid","missing"]),Y4e=new Set(["mean","average","median","q1","q3","min","max"]);function mq(e){return uc(e)&&(e=Rm(e,void 0)),"bin"+ge(e).map(t=>Sm(e[t])?pn(`_${t}_${Zl(e[t])}`):pn(`_${t}_${e[t]}`)).join("")}function dn(e){return e===!0||df(e)&&!e.binned}function li(e){return e==="binned"||df(e)&&e.binned===!0}function df(e){return Ie(e)}function Sm(e){return e==null?void 0:e.param}function nM(e){switch(e){case Co:case Ro:case el:case bs:case ro:case ao:case mc:case tl:case gc:case yc:case Ts:return 6;case wc:return 4;default:return 10}}function j0(e){return!!(e!=null&&e.expr)}function as(e){const t=ge(e||{}),n={};for(const i of t)n[i]=Os(e[i]);return n}function wq(e){const{anchor:t,frame:n,offset:i,orient:s,angle:l,limit:c,color:d,subtitleColor:f,subtitleFont:u,subtitleFontSize:a,subtitleFontStyle:y,subtitleFontWeight:w,subtitleLineHeight:m,subtitlePadding:o,...b}=e,L={...b,...d?{fill:d}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...i?{offset:i}:{},...s?{orient:s}:{},...l!==void 0?{angle:l}:{},...c!==void 0?{limit:c}:{}},S={...f?{subtitleColor:f}:{},...u?{subtitleFont:u}:{},...a?{subtitleFontSize:a}:{},...y?{subtitleFontStyle:y}:{},...w?{subtitleFontWeight:w}:{},...m?{subtitleLineHeight:m}:{},...o?{subtitlePadding:o}:{}},x=Xu(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:L,subtitleMarkConfig:x,nonMarkTitleProperties:v,subtitle:S}}function ml(e){return ke(e)||he(e)&&ke(e[0])}function Ne(e){return!!(e!=null&&e.signal)}function bc(e){return!!e.step}function X4e(e){return he(e)?!1:"fields"in e&&!("data"in e)}function K4e(e){return he(e)?!1:"fields"in e&&"data"in e}function Mo(e){return he(e)?!1:"field"in e&&"data"in e}const Z4e={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Q4e=ge(Z4e),J4e={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},c8=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Lq(e){const t=he(e.condition)?e.condition.map(iM):iM(e.condition);return{...Os(e),condition:t}}function Os(e){if(j0(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function iM(e){if(j0(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function hn(e){if(j0(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ne(e)?e:e!==void 0?{value:e}:void 0}function eme(e){return Ne(e)?e.signal:Le(e)}function sM(e){return Ne(e)?e.signal:Le(e.value)}function Nr(e){return Ne(e)?e.signal:e==null?null:Le(e)}function tme(e,t,n){for(const i of n){const s=Go(i,t.markDef,t.config);s!==void 0&&(e[i]=hn(s))}return e}function bq(e){return[].concat(e.type,e.style??[])}function Gt(e,t,n,i={}){const{vgChannel:s,ignoreVgConfig:l}=i;return s&&t[s]!==void 0?t[s]:t[e]!==void 0?t[e]:l&&(!s||s===e)?void 0:Go(e,t,n,i)}function Go(e,t,n,{vgChannel:i}={}){return Fn(i?by(e,t,n.style):void 0,by(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function by(e,t,n){return Tq(e,bq(t),n)}function Tq(e,t,n){t=Fe(t);let i;for(const s of t){const l=n[s];l&&l[e]!==void 0&&(i=l[e])}return i}function Eq(e,t){return Fe(e).reduce((n,i)=>(n.field.push(ve(i,t)),n.order.push(i.sort??"ascending"),n),{field:[],order:[]})}function vq(e,t){const n=[...e];return t.forEach(i=>{for(const s of n)if(Rs(s,i))return;n.push(i)}),n}function Sq(e,t){return Rs(e,t)||!t?e:e?[...Fe(e),...Fe(t)].join(", "):t}function xq(e,t){const n=e.value,i=t.value;if(n==null||i===null)return{explicit:e.explicit,value:null};if((ml(n)||Ne(n))&&(ml(i)||Ne(i)))return{explicit:e.explicit,value:Sq(n,i)};if(ml(n)||Ne(n))return{explicit:e.explicit,value:n};if(ml(i)||Ne(i))return{explicit:e.explicit,value:i};if(!ml(n)&&!Ne(n)&&!ml(i)&&!Ne(i))return{explicit:e.explicit,value:vq(n,i)};throw new Error("It should never reach here")}function av(e){return`Invalid specification ${en(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const nme='Autosize "fit" only works for single views and layered views.';function rM(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function aM(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function oM(e){return e?`Dropping "fit-${e}" because spec has discrete ${Es(e)}.`:'Dropping "fit" because spec has discrete size.'}function ov(e){return`Unknown field for ${e}. Cannot calculate view size.`}function lM(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function ime(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function sme(e){return`The "nearest" transform is not supported for ${e} marks.`}function kq(e){return`Selection not supported for ${e} yet.`}function rme(e){return`Cannot find a selection named "${e}".`}const ame="Scale bindings are currently only supported for scales with unbinned, continuous domains.",ome="Legend bindings are only supported for selections over an individual field or encoding channel.";function lme(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function cme(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const dme="The same selection must be used to override scale domains in a layered view.",fme='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function ume(e){return`Unknown repeated value "${e}".`}function cM(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const hme="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function _me(e){return`Unrecognized parse "${e}".`}function dM(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const pme="Attempt to add the same child twice.";function gme(e){return`Ignoring an invalid transform: ${en(e)}.`}const yme='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function fM(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function mme(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${en(t)} is overridden by a child projection ${en(n)}.`}const wme="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Lme(e){return`${e}Offset dropped because ${e} is continuous`}function bme(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${en(n)}}.`}function Bq(e){return`Invalid field type "${e}".`}function Tme(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Eme(e){return`Invalid aggregation operator "${e}".`}function Fq(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has ${n&&i?"fill and stroke":n?"fill":"stroke"}.`}function vme(e){return`Position range does not support relative band size for ${e}.`}function d8(e,t){return`Dropping ${en(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Sme="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function xm(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function xme(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function kme(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Bme(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Fme(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Pw(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function Ime(e){return`The ${e} for range marks cannot be an expression`}function Mme(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Ame(e,t){return`Specified orient "${e}" overridden with "${t}".`}function Ome(e){return`Cannot use the scale property "${e}" with non-color channel.`}function Nme(e){return`Cannot use the relative band size with ${e} scale.`}function Cme(e){return`Using unaggregated domain with raw field has no effect (${en(e)}).`}function Rme(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function Pme(e){return`Unaggregated domain is currently unsupported for log scale (${en(e)}).`}function Dme(e){return`Cannot apply size to non-oriented mark "${e}".`}function Ume(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function $me(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function Iq(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Mq(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function Hme(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${en(n)} and ${en(i)}). Using ${en(n)}.`}function zme(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${en(n)} and ${en(i)}). Using the union of the two domains.`}function jme(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function qme(e){return`Dropping sort property ${en(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const uM="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Vme="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Gme="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Wme="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Yme(e){return`Cannot stack "${e}" if there is already "${e}2".`}function Xme(e){return`Cannot stack non-linear scale (${e}).`}function Kme(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Ty(e,t){return`Invalid ${e}: ${en(t)}.`}function Zme(e){return`Dropping day from datetime ${en(e)} as day cannot be combined with other units.`}function Qme(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function Jme(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function e6e(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function hM(e){return`1D error band does not support ${e}.`}function Aq(e){return`Channel ${e} is required for "binned" bin.`}function t6e(e){return`Channel ${e} should not be used with "binned" bin.`}function n6e(e){return`Domain for ${e} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const Oq=J7(Q7);let Qu=Oq;function i6e(e){return Qu=e,Qu}function s6e(){return Qu=Oq,Qu}function we(...e){Qu.warn(...e)}function r6e(...e){Qu.debug(...e)}function ff(e){if(e&&Ie(e)){for(const t of cv)if(t in e)return!0}return!1}const Nq=["january","february","march","april","may","june","july","august","september","october","november","december"],a6e=Nq.map(e=>e.substr(0,3)),Cq=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o6e=Cq.map(e=>e.substr(0,3));function l6e(e){if(ym(e)&&(e=+e),At(e))return e>4&&we(Ty("quarter",e)),e-1;throw new Error(Ty("quarter",e))}function c6e(e){if(ym(e)&&(e=+e),At(e))return e-1;{const t=e.toLowerCase(),n=Nq.indexOf(t);if(n!==-1)return n;const i=t.substr(0,3),s=a6e.indexOf(i);if(s!==-1)return s;throw new Error(Ty("month",e))}}function d6e(e){if(ym(e)&&(e=+e),At(e))return e%7;{const t=e.toLowerCase(),n=Cq.indexOf(t);if(n!==-1)return n;const i=t.substr(0,3),s=o6e.indexOf(i);if(s!==-1)return s;throw new Error(Ty("day",e))}}function lv(e,t){const n=[];if(t&&e.day!==void 0&&ge(e).length>1&&(we(Zme(e)),e=Je(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const i=t?c6e(e.month):e.month;n.push(i)}else if(e.quarter!==void 0){const i=t?l6e(e.quarter):e.quarter;n.push(At(i)?i*3:`${i}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const i=t?d6e(e.day):e.day;n.push(At(i)?i+1:`${i}+1`)}else n.push(1);for(const i of["hours","minutes","seconds","milliseconds"]){const s=e[i];n.push(typeof s>"u"?0:s)}return n}function Ud(e){const n=lv(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function f6e(e){const n=lv(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function u6e(e){const t=lv(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const Rq={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},cv=ge(Rq);function h6e(e){return!!Rq[e]}function uf(e){return Ie(e)?e.binned:Pq(e)}function Pq(e){return e&&e.startsWith("binned")}function dv(e){return e.startsWith("utc")}function _6e(e){return e.substring(3)}const p6e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function km(e){return cv.filter(t=>Uq(e,t))}function Dq(e){const t=km(e);return t[t.length-1]}function Uq(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function g6e(e,t,{end:n}={end:!1}){const i=KE(t),s=dv(e)?"utc":"";function l(f){return f==="quarter"?`(${s}quarter(${i})-1)`:`${s}${f}(${i})`}let c;const d={};for(const f of cv)Uq(e,f)&&(d[f]=l(f),c=f);return n&&(d[c]+="+1"),f6e(d)}function $q(e){if(!e)return;const t=km(e);return`timeUnitSpecifier(${en(t)}, ${en(p6e)})`}function y6e(e,t,n){if(!e)return;const i=$q(e);return`${n||dv(e)?"utc":"time"}Format(${t}, ${i})`}function Jn(e){if(!e)return;let t;return ke(e)?Pq(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Ie(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),dv(t.unit)&&(t.utc=!0,t.unit=_6e(t.unit)),t}function m6e(e){const{utc:t,...n}=Jn(e);return n.unit?(t?"utc":"")+ge(n).map(i=>pn(`${i==="unit"?"":`_${i}_`}${n[i]}`)).join(""):(t?"utc":"")+"timeunit"+ge(n).map(i=>pn(`_${i}_${n[i]}`)).join("")}function Hq(e,t=n=>n){const n=Jn(e),i=Dq(n.unit);if(i&&i!=="day"){const s={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:l,part:c}=zq(i,n.step),d={...s,[c]:+s[c]+l};return`${t(Ud(d))} - ${t(Ud(s))}`}}const w6e={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function L6e(e){return!!w6e[e]}function zq(e,t=1){if(L6e(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function b6e(e){return e==null?void 0:e.param}function fv(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function uv(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function hv(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function _v(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function pv(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function gv(e){if(e!=null&&e.field){if(he(e.range)&&e.range.length===2)return!0;if(Ne(e.range))return!0}return!1}function yv(e){return!!(e!=null&&e.field)&&(he(e.oneOf)||he(e.in))}function T6e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function jq(e){return yv(e)||fv(e)||gv(e)||uv(e)||_v(e)||hv(e)||pv(e)}function ca(e,t){return Pm(e,{timeUnit:t,wrapTime:!0})}function E6e(e,t){return e.map(n=>ca(n,t))}function qq(e,t=!0){const{field:n}=e,i=Jn(e.timeUnit),{unit:s,binned:l}=i||{},c=ve(e,{expr:"datum"}),d=s?`time(${l?c:g6e(s,n)})`:c;if(fv(e))return`${d}===${ca(e.equal,s)}`;if(uv(e)){const f=e.lt;return`${d}<${ca(f,s)}`}else if(_v(e)){const f=e.gt;return`${d}>${ca(f,s)}`}else if(hv(e)){const f=e.lte;return`${d}<=${ca(f,s)}`}else if(pv(e)){const f=e.gte;return`${d}>=${ca(f,s)}`}else{if(yv(e))return`indexof([${E6e(e.oneOf,s).join(",")}], ${d}) !== -1`;if(T6e(e))return mv(d,e.valid);if(gv(e)){const{range:f}=e,u=Ne(f)?{signal:`${f.signal}[0]`}:f[0],a=Ne(f)?{signal:`${f.signal}[1]`}:f[1];if(u!==null&&a!==null&&t)return"inrange("+d+", ["+ca(u,s)+", "+ca(a,s)+"])";const y=[];return u!==null&&y.push(`${d} >= ${ca(u,s)}`),a!==null&&y.push(`${d} <= ${ca(a,s)}`),y.length>0?y.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${en(e)}`)}function mv(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function v6e(e){return jq(e)&&e.timeUnit?{...e,timeUnit:Jn(e.timeUnit)}:e}const q0={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function S6e(e){return e==="quantitative"||e==="temporal"}function Vq(e){return e==="ordinal"||e==="nominal"}const $d=q0.quantitative,wv=q0.ordinal,Ju=q0.temporal,Lv=q0.nominal,Fh=q0.geojson;function x6e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case $d:return"quantitative";case"t":case Ju:return"temporal";case"o":case wv:return"ordinal";case"n":case Lv:return"nominal";case Fh:return"geojson"}}const hs={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},f8={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function k6e(e,t){const n=f8[e],i=f8[t];return n===i||n==="ordinal-position"&&i==="time"||i==="ordinal-position"&&n==="time"}const B6e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function _M(e){return B6e[e]}const Gq=new Set(["linear","log","pow","sqrt","symlog"]),Wq=new Set([...Gq,"time","utc"]);function Yq(e){return Gq.has(e)}const Xq=new Set(["quantile","quantize","threshold"]),F6e=new Set([...Wq,...Xq,"sequential","identity"]),I6e=new Set(["ordinal","bin-ordinal","point","band"]);function ii(e){return I6e.has(e)}function js(e){return F6e.has(e)}function Cr(e){return Wq.has(e)}function eh(e){return Xq.has(e)}const M6e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function A6e(e){return!ke(e)&&!!e.name}function Kq(e){return e==null?void 0:e.param}function O6e(e){return e==null?void 0:e.unionWith}function N6e(e){return Ie(e)&&"field"in e}const C6e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:fSe,domain:uSe,range:hSe,rangeMax:_Se,rangeMin:pSe,scheme:gSe,...R6e}=C6e,P6e=ge(R6e);function u8(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Cr(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Cr(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Cr(e);case"nice":return Cr(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return js(e)&&!St(["log","time","utc","threshold","quantile"],e)}}function Zq(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return fu(e)?void 0:Ome(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function D6e(e,t){return St([wv,Lv],t)?e===void 0||ii(e):t===Ju?St([hs.TIME,hs.UTC,void 0],e):t===$d?Yq(e)||eh(e)||e===void 0:!0}function U6e(e,t,n=!1){if(!nl(e))return!1;switch(e){case gn:case ri:case pc:case Bh:case hr:case na:return Cr(t)||t==="band"?!0:t==="point"?!n:!1;case el:case mc:case tl:case gc:case yc:case lf:return Cr(t)||eh(t)||St(["band","point","ordinal"],t);case bs:case ro:case ao:return t!=="band";case wc:case Ts:return t==="ordinal"||eh(t)}}const ts={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Qq=ts.arc,Bm=ts.area,Fm=ts.bar,$6e=ts.image,Im=ts.line,Mm=ts.point,H6e=ts.rect,Ey=ts.rule,Jq=ts.text,bv=ts.tick,z6e=ts.trail,Tv=ts.circle,Ev=ts.square,eV=ts.geoshape;function Tc(e){return["line","area","trail"].includes(e)}function U2(e){return["rect","bar","image","arc"].includes(e)}const j6e=new Set(ge(ts));function Ga(e){return e.type}const q6e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],V6e=["fill","fillOpacity"],G6e=[...q6e,...V6e],W6e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},pM=ge(W6e),Y6e={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},X6e={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},K6e={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},tV=ge(K6e);function Hd(e){return e&&e.band!=null}const Z6e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},nV=5,Q6e={binSpacing:1,continuousBandSize:nV,minBandSize:.25,timeUnitBandPosition:.5},J6e={binSpacing:0,continuousBandSize:nV,minBandSize:.25,timeUnitBandPosition:.5},ewe={thickness:1};function twe(e){return Ga(e)?e.type:e}function vv(e){const{channel:t,channelDef:n,markDef:i,scale:s,config:l}=e,c=xv(e);return me(n)&&!yq(n.aggregate)&&s&&Cr(s.get("type"))?nwe({fieldDef:n,channel:t,markDef:i,ref:c,config:l}):c}function nwe({fieldDef:e,channel:t,markDef:n,ref:i,config:s}){return Tc(n.type)?i:Gt("invalid",n,s)===null?[iwe(e,t),i]:i}function iwe(e,t){const n=Sv(e,!0),s=cf(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...s}}function Sv(e,t=!0){return mv(ke(e)?e:ve(e,{expr:"datum"}),!t)}function swe(e){const{datum:t}=e;return ff(t)?Ud(t):`${en(t)}`}function gd(e,t,n,i){const s={};if(t&&(s.scale=t),co(e)){const{datum:l}=e;ff(l)?s.signal=Ud(l):Ne(l)?s.signal=l.signal:j0(l)?s.signal=l.expr:s.value=l}else s.field=ve(e,n);if(i){const{offset:l,band:c}=i;l&&(s.offset=l),c&&(s.band=c)}return s}function vy({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:i,startSuffix:s,endSuffix:l="end",bandPosition:c=.5}){const d=!Ne(c)&&0<c&&c<1?"datum":void 0,f=ve(t,{expr:d,suffix:s}),u=n!==void 0?ve(n,{expr:d}):ve(t,{suffix:l,expr:d}),a={};if(c===0||c===1){a.scale=e;const y=c===0?f:u;a.field=y}else{const y=Ne(c)?`(1-${c.signal}) * ${f} + ${c.signal} * ${u}`:`${1-c} * ${f} + ${c} * ${u}`;a.signal=`scale("${e}", ${y})`}return i&&(a.offset=i),a}function rwe({scaleName:e,fieldDef:t}){const n=ve(t,{expr:"datum"}),i=ve(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${i}) - scale("${e}", ${n}))`}function xv({channel:e,channelDef:t,channel2Def:n,markDef:i,config:s,scaleName:l,scale:c,stack:d,offset:f,defaultRef:u,bandPosition:a}){if(t){if(et(t)){const y=c==null?void 0:c.get("type");if(Ji(t)){a??(a=Jl({fieldDef:t,fieldDef2:n,markDef:i,config:s}));const{bin:w,timeUnit:m,type:o}=t;if(dn(w)||a&&m&&o===Ju)return d!=null&&d.impute?gd(t,l,{binSuffix:"mid"},{offset:f}):a&&!ii(y)?vy({scaleName:l,fieldOrDatumDef:t,bandPosition:a,offset:f}):gd(t,l,Y0(t,e)?{binSuffix:"range"}:{},{offset:f});if(li(w)){if(me(n))return vy({scaleName:l,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:a,offset:f});we(Aq(e===gn?ta:so))}}return gd(t,l,ii(y)?{binSuffix:"range"}:{},{offset:f,band:y==="band"?a??t.bandPosition??.5:void 0})}else if(Yr(t)){const y=t.value,w=f?{offset:f}:{};return{...Z1(e,y),...w}}}return ft(u)&&(u=u()),u&&{...u,...f?{offset:f}:{}}}function Z1(e,t){return St(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:St(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:hn(t)}function zd(e){return e&&e!=="number"&&e!=="time"}function iV(e,t,n){return`${e}(${t}${n?`, ${en(n)}`:""})`}const awe="  ";function kv({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:s,config:l}){var f,u;if(zd(n))return Rr({fieldOrDatumDef:e,format:t,formatType:n,expr:i,config:l});const c=sV(e,i,s),d=th(e);if(t===void 0&&n===void 0&&l.customFormatTypes){if(d==="quantitative"){if(s&&l.normalizedNumberFormatType)return Rr({fieldOrDatumDef:e,format:l.normalizedNumberFormat,formatType:l.normalizedNumberFormatType,expr:i,config:l});if(l.numberFormatType)return Rr({fieldOrDatumDef:e,format:l.numberFormat,formatType:l.numberFormatType,expr:i,config:l})}if(d==="temporal"&&l.timeFormatType&&me(e)&&e.timeUnit===void 0)return Rr({fieldOrDatumDef:e,format:l.timeFormat,formatType:l.timeFormatType,expr:i,config:l})}if(ih(e)){const a=lwe({field:c,timeUnit:me(e)?(f=Jn(e.timeUnit))==null?void 0:f.unit:void 0,format:t,formatType:l.timeFormatType,rawTimeFormat:l.timeFormat,isUTCScale:hf(e)&&((u=e.scale)==null?void 0:u.type)===hs.UTC});return a?{signal:a}:void 0}if(t=h8({type:d,specifiedFormat:t,config:l,normalizeStack:s}),me(e)&&dn(e.bin)){const a=ve(e,{expr:i,binSuffix:"end"});return{signal:V0(c,a,t,n,l)}}else return t||th(e)==="quantitative"?{signal:`${oV(c,t)}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}function sV(e,t,n){return me(e)?n?`${ve(e,{expr:t,suffix:"end"})}-${ve(e,{expr:t,suffix:"start"})}`:ve(e,{expr:t}):swe(e)}function Rr({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:s,config:l,field:c}){if(c??(c=sV(e,i,s)),c!=="datum.value"&&me(e)&&dn(e.bin)){const d=ve(e,{expr:i,binSuffix:"end"});return{signal:V0(c,d,t,n,l)}}return{signal:iV(n,c,t)}}function rV(e,t,n,i,s,l){var c;if(!(ke(i)&&zd(i))&&!(n===void 0&&i===void 0&&s.customFormatTypes&&th(e)==="quantitative"&&(s.normalizedNumberFormatType&&nh(e)&&e.stack==="normalize"||s.numberFormatType))){if(nh(e)&&e.stack==="normalize"&&s.normalizedNumberFormat)return h8({type:"quantitative",config:s,normalizeStack:!0});if(ih(e)){const d=me(e)?(c=Jn(e.timeUnit))==null?void 0:c.unit:void 0;return d===void 0&&s.customFormatTypes&&s.timeFormatType?void 0:owe({specifiedFormat:n,timeUnit:d,config:s,omitTimeFormatConfig:l})}return h8({type:t,specifiedFormat:n,config:s})}}function aV(e,t,n){var i;if(e&&(Ne(e)||e==="number"||e==="time"))return e;if(ih(t)&&n!=="time"&&n!=="utc")return me(t)&&((i=Jn(t==null?void 0:t.timeUnit))!=null&&i.utc)?"utc":"time"}function h8({type:e,specifiedFormat:t,config:n,normalizeStack:i}){if(ke(t))return t;if(e===$d)return i?n.normalizedNumberFormat:n.numberFormat}function owe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:i}){return e||(t?{signal:$q(t)}:i?void 0:n.timeFormat)}function oV(e,t){return`format(${e}, "${t||""}")`}function gM(e,t,n,i){return zd(n)?iV(n,e,t):oV(e,(ke(t)?t:void 0)??i.numberFormat)}function V0(e,t,n,i,s){if(n===void 0&&i===void 0&&s.customFormatTypes&&s.numberFormatType)return V0(e,t,s.numberFormat,s.numberFormatType,s);const l=gM(e,n,i,s),c=gM(t,n,i,s);return`${mv(e,!1)} ? "null" : ${l} + "${awe}" + ${c}`}function lwe({field:e,timeUnit:t,format:n,formatType:i,rawTimeFormat:s,isUTCScale:l}){return!t||n?!t&&i?`${i}(${e}, '${n}')`:(n=ke(n)?n:s,`${l?"utc":"time"}Format(${e}, '${n}')`):y6e(t,e,l)}const Am="min",cwe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function yM(e){return e in cwe}function lV(e){return!!(e!=null&&e.encoding)}function Ma(e){return e&&(e.op==="count"||!!e.field)}function cV(e){return e&&he(e)}function G0(e){return"row"in e||"column"in e}function Bv(e){return!!e&&"header"in e}function Om(e){return"facet"in e}function dwe(e){return e.param}function fwe(e){return e&&!ke(e)&&"repeat"in e}function mM(e){const{field:t,timeUnit:n,bin:i,aggregate:s}=e;return{...n?{timeUnit:n}:{},...i?{bin:i}:{},...s?{aggregate:s}:{},field:t}}function Fv(e){return"sort"in e}function Jl({fieldDef:e,fieldDef2:t,markDef:n,config:i}){if(et(e)&&e.bandPosition!==void 0)return e.bandPosition;if(me(e)){const{timeUnit:s,bin:l}=e;if(s&&!t)return Go("timeUnitBandPosition",n,i);if(dn(l))return .5}}function dV({channel:e,fieldDef:t,fieldDef2:n,markDef:i,config:s,scaleType:l,useVlSizeChannel:c}){var u,a,y;const d=Es(e),f=Gt(c?"size":d,i,s,{vgChannel:d});if(f!==void 0)return f;if(me(t)){const{timeUnit:w,bin:m}=t;if(w&&!n)return{band:Go("timeUnitBandSize",i,s)};if(dn(m)&&!ii(l))return{band:1}}if(U2(i.type))return l?ii(l)?((u=s[i.type])==null?void 0:u.discreteBandSize)||{band:1}:(a=s[i.type])==null?void 0:a.continuousBandSize:(y=s[i.type])==null?void 0:y.discreteBandSize}function fV(e,t,n,i){return dn(e.bin)||e.timeUnit&&Ji(e)&&e.type==="temporal"?Jl({fieldDef:e,fieldDef2:t,markDef:n,config:i})!==void 0:!1}function uV(e){return e&&!!e.sort&&!e.field}function Nm(e){return e&&"condition"in e}function Cm(e){const t=e==null?void 0:e.condition;return!!t&&!he(t)&&me(t)}function W0(e){const t=e==null?void 0:e.condition;return!!t&&!he(t)&&et(t)}function uwe(e){const t=e==null?void 0:e.condition;return!!t&&(he(t)||Yr(t))}function me(e){return e&&(!!e.field||e.aggregate==="count")}function th(e){return e==null?void 0:e.type}function co(e){return e&&"datum"in e}function Fl(e){return Ji(e)&&!xy(e)||Sy(e)}function wM(e){return Ji(e)&&e.type==="quantitative"&&!e.bin||Sy(e)}function Sy(e){return co(e)&&At(e.datum)}function et(e){return me(e)||co(e)}function Ji(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function Yr(e){return e&&"value"in e&&"value"in e}function hf(e){return e&&("scale"in e||"sort"in e)}function nh(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function hV(e){return e&&"legend"in e}function _V(e){return e&&("format"in e||"formatType"in e)}function hwe(e){return us(e,["legend","axis","header","scale"])}function _we(e){return"op"in e}function ve(e,t={}){let n=e.field;const i=t.prefix;let s=t.suffix,l="";if(gwe(e))n=iq("count");else{let c;if(!t.nofn)if(_we(e))c=e.op;else{const{bin:d,aggregate:f,timeUnit:u}=e;dn(d)?(c=mq(d),s=(t.binSuffix??"")+(t.suffix??"")):f?Lc(f)?(l=`["${n}"]`,n=`argmax_${f.argmax}`):Vo(f)?(l=`["${n}"]`,n=`argmin_${f.argmin}`):c=String(f):u&&!uf(u)&&(c=m6e(u),s=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}c&&(n=n?`${c}_${n}`:c)}return s&&(n=`${n}_${s}`),i&&(n=`${i}_${n}`),t.forAs?ZE(n):t.expr?eq(n,t.expr)+l:or(n)+l}function xy(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return me(e)&&!!e.bin;case"temporal":return!1}throw new Error(Bq(e.type))}function pwe(e){var t;return hf(e)&&eh((t=e.scale)==null?void 0:t.type)}function gwe(e){return e.aggregate==="count"}function ywe(e,t){var c;const{field:n,bin:i,timeUnit:s,aggregate:l}=e;if(l==="count")return t.countTitle;if(dn(i))return`${n} (binned)`;if(s&&!uf(s)){const d=(c=Jn(s))==null?void 0:c.unit;if(d)return`${n} (${km(d).join("-")})`}else if(l)return Lc(l)?`${n} for max ${l.argmax}`:Vo(l)?`${n} for min ${l.argmin}`:`${U0(l)} of ${n}`;return n}function mwe(e){const{aggregate:t,bin:n,timeUnit:i,field:s}=e;if(Lc(t))return`${s} for argmax(${t.argmax})`;if(Vo(t))return`${s} for argmin(${t.argmin})`;const l=i&&!uf(i)?Jn(i):void 0,c=t||(l==null?void 0:l.unit)||(l==null?void 0:l.maxbins)&&"timeunit"||dn(n)&&"bin";return c?`${c.toUpperCase()}(${s})`:s}const pV=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return mwe(e);default:return ywe(e,t)}};let gV=pV;function yV(e){gV=e}function wwe(){yV(pV)}function uu(e,t,{allowDisabling:n,includeDefault:i=!0}){var d;const s=(d=Iv(e))==null?void 0:d.title;if(!me(e))return s??e.title;const l=e,c=i?Mv(l,t):void 0;return n?Fn(s,l.title,c):s??l.title??c}function Iv(e){if(nh(e)&&e.axis)return e.axis;if(hV(e)&&e.legend)return e.legend;if(Bv(e)&&e.header)return e.header}function Mv(e,t){return gV(e,t)}function ky(e){if(_V(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=Iv(e)??{},{format:n,formatType:i}=t;return{format:n,formatType:i}}}function Lwe(e,t){var l;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Fv(e)&&he(e.sort))return"ordinal";const{aggregate:n,bin:i,timeUnit:s}=e;if(s)return"temporal";if(i||n&&!Lc(n)&&!Vo(n))return"quantitative";if(hf(e)&&((l=e.scale)!=null&&l.type))switch(f8[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Wa(e){if(me(e))return e;if(Cm(e))return e.condition}function Un(e){if(et(e))return e;if(W0(e))return e.condition}function mV(e,t,n,i={}){if(ke(e)||At(e)||uc(e)){const s=ke(e)?"string":At(e)?"number":"boolean";return we(bme(t,s,e)),{value:e}}return et(e)?By(e,t,n,i):W0(e)?{...e,condition:By(e.condition,t,n,i)}:e}function By(e,t,n,i){if(_V(e)){const{format:s,formatType:l,...c}=e;if(zd(l)&&!n.customFormatTypes)return we(fM(t)),By(c,t,n,i)}else{const s=nh(e)?"axis":hV(e)?"legend":Bv(e)?"header":null;if(s&&e[s]){const{format:l,formatType:c,...d}=e[s];if(zd(c)&&!n.customFormatTypes)return we(fM(t)),By({...e,[s]:d},t,n,i)}}return me(e)?Av(e,t,i):bwe(e)}function bwe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=At(n)?"quantitative":ke(n)?"nominal":ff(n)?"temporal":void 0,{...e,type:t}}function Av(e,t,{compositeMark:n=!1}={}){const{aggregate:i,timeUnit:s,bin:l,field:c}=e,d={...e};if(!n&&i&&!rv(i)&&!Lc(i)&&!Vo(i)&&(we(Eme(i)),delete d.aggregate),s&&(d.timeUnit=Jn(s)),c&&(d.field=`${c}`),dn(l)&&(d.bin=Rm(l,t)),li(l)&&!In(t)&&we(t6e(t)),Ji(d)){const{type:f}=d,u=x6e(f);f!==u&&(d.type=u),f!=="quantitative"&&yq(i)&&(we(Tme(f,i)),d.type="quantitative")}else if(!fq(t)){const f=Lwe(d,t);d.type=f}if(Ji(d)){const{compatible:f,warning:u}=Twe(d,t)||{};f===!1&&we(u)}if(Fv(d)&&ke(d.sort)){const{sort:f}=d;if(yM(f))return{...d,sort:{encoding:f}};const u=f.substr(1);if(f.charAt(0)==="-"&&yM(u))return{...d,sort:{encoding:u,order:"descending"}}}if(Bv(d)){const{header:f}=d;if(f){const{orient:u,...a}=f;if(u)return{...d,header:{...a,labelOrient:f.labelOrient||u,titleOrient:f.titleOrient||u}}}}return d}function Rm(e,t){return uc(e)?{maxbins:nM(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:nM(t)}:e}const Bf={compatible:!0};function Twe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Co:case Ro:case mm:return xy(e)?Bf:{compatible:!1,warning:kme(t)};case gn:case ri:case pc:case Bh:case bs:case ro:case ao:case $0:case H0:case wm:case Dd:case Lm:case bm:case lf:case hr:case na:case Tm:return Bf;case sa:case lr:case ia:case ra:return n!==$d?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Bf;case tl:case gc:case yc:case mc:case el:case Jo:case Qo:case ta:case so:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Bf;case Ts:case wc:return!xy(e)&&!pwe(e)?{compatible:!1,warning:Bme(t)}:Bf;case Zu:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Bf}}function ih(e){const{formatType:t}=ky(e);return t==="time"||!t&&Ewe(e)}function Ewe(e){return e&&(e.type==="temporal"||me(e)&&!!e.timeUnit)}function Pm(e,{timeUnit:t,type:n,wrapTime:i,undefinedIfExprNotRequired:s}){var f;const l=t&&((f=Jn(t))==null?void 0:f.unit);let c=l||n==="temporal",d;return j0(e)?d=e.expr:Ne(e)?d=e.signal:ff(e)?(c=!0,d=Ud(e)):(ke(e)||At(e))&&c&&(d=`datetime(${en(e)})`,h6e(l)&&(At(e)&&e<1e4||ke(e)&&isNaN(Date.parse(e)))&&(d=Ud({[l]:e}))),d?i&&c?`time(${d})`:d:s?void 0:en(e)}function wV(e,t){const{type:n}=e;return t.map(i=>{const s=me(e)&&!uf(e.timeUnit)?e.timeUnit:void 0,l=Pm(i,{timeUnit:s,type:n,undefinedIfExprNotRequired:!0});return l!==void 0?{signal:l}:i})}function Y0(e,t){return dn(e.bin)?nl(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const LM={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function X0(e){return e==null?void 0:e.condition}const LV=["domain","grid","labels","ticks","title"],vwe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},bV={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Swe={...bV,style:1,labelExpr:1,encoding:1};function bM(e){return!!Swe[e]}const xwe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},TV=ge(xwe);function il(e){return"mark"in e}class Dm{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return il(t)?twe(t.mark)===this.name:!1}}function yd(e,t){const n=e&&e[t];return n?he(n)?Rd(n,i=>!!i.field):me(n)||Cm(n):!1}function EV(e,t){const n=e&&e[t];return n?he(n)?Rd(n,i=>!!i.field):me(n)||co(n)||W0(n):!1}function vV(e,t){if(In(t)){const n=e[t];if((me(n)||co(n))&&(Vq(n.type)||me(n)&&n.timeUnit)){const i=tv(t);return EV(e,i)}}return!1}function Ov(e){return Rd(B4e,t=>{if(yd(e,t)){const n=e[t];if(he(n))return Rd(n,i=>!!i.aggregate);{const i=Wa(n);return i&&!!i.aggregate}}return!1})}function SV(e,t){const n=[],i=[],s=[],l=[],c={};return Nv(e,(d,f)=>{if(me(d)){const{field:u,aggregate:a,bin:y,timeUnit:w,...m}=d;if(a||w||y){const o=Iv(d),b=o==null?void 0:o.title;let L=ve(d,{forAs:!0});const v={...b?[]:{title:uu(d,t,{allowDisabling:!0})},...m,field:L};if(a){let S;if(Lc(a)?(S="argmax",L=ve({op:"argmax",field:a.argmax},{forAs:!0}),v.field=`${L}.${u}`):Vo(a)?(S="argmin",L=ve({op:"argmin",field:a.argmin},{forAs:!0}),v.field=`${L}.${u}`):a!=="boxplot"&&a!=="errorbar"&&a!=="errorband"&&(S=a),S){const x={op:S,as:L};u&&(x.field=u),l.push(x)}}else if(n.push(L),Ji(d)&&dn(y)){if(i.push({bin:y,field:u,as:L}),n.push(ve(d,{binSuffix:"end"})),Y0(d,f)&&n.push(ve(d,{binSuffix:"range"})),In(f)){const S={field:`${L}_end`};c[`${f}2`]=S}v.bin="binned",fq(f)||(v.type=$d)}else if(w&&!uf(w)){s.push({timeUnit:w,field:u,as:L});const S=Ji(d)&&d.type!==Ju&&"time";S&&(f===$0||f===Dd?v.formatType=S:D4e(f)?v.legend={formatType:S,...v.legend}:In(f)&&(v.axis={formatType:S,...v.axis}))}c[f]=v}else n.push(u),c[f]=e[f]}else c[f]=e[f]}),{bins:i,timeUnits:s,aggregate:l,groupby:n,encoding:c}}function kwe(e,t,n){const i=$4e(t,n);if(i){if(i==="binned"){const s=e[t===ta?gn:ri];return!!(me(s)&&me(e[t])&&li(s.bin))}}else return!1;return!0}function Bwe(e,t,n,i){const s={};for(const l of ge(e))dq(l)||we(xme(l));for(let l of N4e){if(!e[l])continue;const c=e[l];if(z0(l)){const d=O4e(l),f=s[d];if(me(f)&&S6e(f.type)&&me(c)&&!f.timeUnit){we(Lme(d));continue}}if(l==="angle"&&t==="arc"&&!e.theta&&(we(wme),l=hr),!kwe(e,l,t)){we(xm(l,t));continue}if(l===el&&t==="line"){const d=Wa(e[l]);if(d!=null&&d.aggregate){we(Sme);continue}}if(l===bs&&(n?"fill"in e:"stroke"in e)){we(Fq("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(l===H0||l===Zu&&!he(c)&&!Yr(c)||l===Dd&&he(c)){if(c){if(l===Zu){const d=e[l];if(uV(d)){s[l]=d;continue}}s[l]=Fe(c).reduce((d,f)=>(me(f)?d.push(Av(f,l)):we(d8(f,l)),d),[])}}else{if(l===Dd&&c===null)s[l]=null;else if(!me(c)&&!co(c)&&!Yr(c)&&!Nm(c)&&!Ne(c)){we(d8(c,l));continue}s[l]=mV(c,l,i)}}return s}function Um(e,t){const n={};for(const i of ge(e)){const s=mV(e[i],i,t,{compositeMark:!0});n[i]=s}return n}function Fwe(e){const t=[];for(const n of ge(e))if(yd(e,n)){const i=e[n],s=Fe(i);for(const l of s)me(l)?t.push(l):Cm(l)&&t.push(l.condition)}return t}function Nv(e,t,n){if(e)for(const i of ge(e)){const s=e[i];if(he(s))for(const l of s)t.call(n,l,i);else t.call(n,s,i)}}function Iwe(e,t,n,i){return e?ge(e).reduce((s,l)=>{const c=e[l];return he(c)?c.reduce((d,f)=>t.call(i,d,f,l),s):t.call(i,s,c,l)},n):n}function xV(e,t){return ge(t).reduce((n,i)=>{switch(i){case gn:case ri:case Lm:case Tm:case bm:case ta:case so:case pc:case Bh:case hr:case Jo:case na:case Qo:case ia:case sa:case ra:case lr:case $0:case Ts:case lf:case Dd:return n;case Zu:if(e==="line"||e==="trail")return n;case H0:case wm:{const s=t[i];if(he(s)||me(s))for(const l of Fe(s))l.aggregate||n.push(ve(l,{}));return n}case el:if(e==="trail")return n;case bs:case ro:case ao:case tl:case gc:case yc:case wc:case mc:{const s=Wa(t[i]);return s&&!s.aggregate&&n.push(ve(s,{})),n}}},[])}function Mwe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let i,s;if(he(t)){for(const l of t)l.aggregate?(i||(i=[]),i.push(l)):(s||(s=[]),s.push(l));i&&(n.tooltip=i)}else t.aggregate?n.tooltip=t:s=t;return he(s)&&s.length===1&&(s=s[0]),{customTooltipWithoutAggregatedField:s,filteredEncoding:n}}function _8(e,t,n,i=!0){if("tooltip"in n)return{tooltip:n.tooltip};const s=e.map(({fieldPrefix:c,titlePrefix:d})=>{const f=i?` of ${Cv(t)}`:"";return{field:c+t.field,type:t.type,title:Ne(d)?{signal:`${d}"${escape(f)}"`}:d+f}}),l=Fwe(n).map(hwe);return{tooltip:[...s,...ka(l,vt)]}}function Cv(e){const{title:t,field:n}=e;return Fn(t,n)}function Rv(e,t,n,i,s){const{scale:l,axis:c}=n;return({partName:d,mark:f,positionPrefix:u,endPositionPrefix:a=void 0,extraEncoding:y={}})=>{const w=Cv(n);return kV(e,d,s,{mark:f,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...w!==void 0?{title:w}:{},...l!==void 0?{scale:l}:{},...c!==void 0?{axis:c}:{}},...ke(a)?{[`${t}2`]:{field:`${a}_${n.field}`}}:{},...i,...y}})}}function kV(e,t,n,i){const{clip:s,color:l,opacity:c}=e,d=e.type;return e[t]||e[t]===void 0&&n[t]?[{...i,mark:{...n[t],...s?{clip:s}:{},...l?{color:l}:{},...c?{opacity:c}:{},...Ga(i.mark)?i.mark:{type:i.mark},style:`${d}-${String(t)}`,...uc(e[t])?{}:e[t]}}]:[]}function BV(e,t,n){const{encoding:i}=e,s=t==="vertical"?"y":"x",l=i[s],c=i[`${s}2`],d=i[`${s}Error`],f=i[`${s}Error2`];return{continuousAxisChannelDef:G_(l,n),continuousAxisChannelDef2:G_(c,n),continuousAxisChannelDefError:G_(d,n),continuousAxisChannelDefError2:G_(f,n),continuousAxis:s}}function G_(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...i}=e;return n!==t&&we(e6e(n,t)),i}else return e}function FV(e,t){const{mark:n,encoding:i}=e,{x:s,y:l}=i;if(Ga(n)&&n.orient)return n.orient;if(Fl(s)){if(Fl(l)){const c=me(s)&&s.aggregate,d=me(l)&&l.aggregate;if(!c&&d===t)return"vertical";if(!d&&c===t)return"horizontal";if(c===t&&d===t)throw new Error("Both x and y cannot have aggregate");return ih(l)&&!ih(s)?"horizontal":"vertical"}return"horizontal"}else{if(Fl(l))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const Fy="boxplot",Awe=["box","median","outliers","rule","ticks"],Owe=new Dm(Fy,MV);function IV(e){return At(e)?"tukey":e}function MV(e,{config:t}){e={...e,encoding:Um(e.encoding,t)};const{mark:n,encoding:i,params:s,projection:l,...c}=e,d=Ga(n)?n:{type:n};s&&we(kq("boxplot"));const f=d.extent??t.boxplot.extent,u=Gt("size",d,t),a=d.invalid,y=IV(f),{bins:w,timeUnits:m,transform:o,continuousAxisChannelDef:b,continuousAxis:L,groupby:v,aggregate:S,encodingWithoutContinuousAxis:x,ticksOrient:F,boxOrient:k,customTooltipWithoutAggregatedField:A}=Nwe(e,f,t),{color:M,size:C,...R}=x,D=se=>Rv(d,L,b,se,t.boxplot),U=D(R),X=D(x),j=D({...R,...C?{size:C}:{}}),G=_8([{fieldPrefix:y==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:y==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],b,x),V={type:"tick",color:"black",opacity:1,orient:F,invalid:a,aria:!1},W=y==="min-max"?G:_8([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],b,x),Z=[...U({partName:"rule",mark:{type:"rule",invalid:a,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:W}),...U({partName:"rule",mark:{type:"rule",invalid:a,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:W}),...U({partName:"ticks",mark:V,positionPrefix:"lower_whisker",extraEncoding:W}),...U({partName:"ticks",mark:V,positionPrefix:"upper_whisker",extraEncoding:W})],q=[...y!=="tukey"?Z:[],...X({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:k,invalid:a,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:G}),...j({partName:"median",mark:{type:"tick",invalid:a,...Ie(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:F,aria:!1},positionPrefix:"mid_box",extraEncoding:G})];if(y==="min-max")return{...c,transform:(c.transform??[]).concat(o),layer:q};const oe=`datum["lower_box_${b.field}"]`,fe=`datum["upper_box_${b.field}"]`,ne=`(${fe} - ${oe})`,xe=`${oe} - ${f} * ${ne}`,le=`${fe} + ${f} * ${ne}`,Se=`datum["${b.field}"]`,Ae={joinaggregate:AV(b.field),groupby:v},Ze={transform:[{filter:`(${xe} <= ${Se}) && (${Se} <= ${le})`},{aggregate:[{op:"min",field:b.field,as:`lower_whisker_${b.field}`},{op:"max",field:b.field,as:`upper_whisker_${b.field}`},{op:"min",field:`lower_box_${b.field}`,as:`lower_box_${b.field}`},{op:"max",field:`upper_box_${b.field}`,as:`upper_box_${b.field}`},...S],groupby:v}],layer:Z},{tooltip:gt,...wt}=R,{scale:_e,axis:H}=b,z=Cv(b),P=us(H,["title"]),K=kV(d,"outliers",t.boxplot,{transform:[{filter:`(${Se} < ${xe}) || (${Se} > ${le})`}],mark:"point",encoding:{[L]:{field:b.field,type:b.type,...z!==void 0?{title:z}:{},..._e!==void 0?{scale:_e}:{},...Jt(P)?{}:{axis:P}},...wt,...M?{color:M}:{},...A?{tooltip:A}:{}}})[0];let J;const re=[...w,...m,Ae];return K?J={transform:re,layer:[K,Ze]}:(J=Ze,J.transform.unshift(...re)),{...c,layer:[J,{transform:o,layer:q}]}}function AV(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function Nwe(e,t,n){const i=FV(e,Fy),{continuousAxisChannelDef:s,continuousAxis:l}=BV(e,i,Fy),c=s.field,d=IV(t),f=[...AV(c),{op:"median",field:c,as:`mid_box_${c}`},{op:"min",field:c,as:(d==="min-max"?"lower_whisker_":"min_")+c},{op:"max",field:c,as:(d==="min-max"?"upper_whisker_":"max_")+c}],u=d==="min-max"||d==="tukey"?[]:[{calculate:`datum["upper_box_${c}"] - datum["lower_box_${c}"]`,as:`iqr_${c}`},{calculate:`min(datum["upper_box_${c}"] + datum["iqr_${c}"] * ${t}, datum["max_${c}"])`,as:`upper_whisker_${c}`},{calculate:`max(datum["lower_box_${c}"] - datum["iqr_${c}"] * ${t}, datum["min_${c}"])`,as:`lower_whisker_${c}`}],{[l]:a,...y}=e.encoding,{customTooltipWithoutAggregatedField:w,filteredEncoding:m}=Mwe(y),{bins:o,timeUnits:b,aggregate:L,groupby:v,encoding:S}=SV(m,n),x=i==="vertical"?"horizontal":"vertical",F=i,k=[...o,...b,{aggregate:[...L,...f],groupby:v},...u];return{bins:o,timeUnits:b,transform:k,groupby:v,aggregate:L,continuousAxisChannelDef:s,continuousAxis:l,encodingWithoutContinuousAxis:S,ticksOrient:x,boxOrient:F,customTooltipWithoutAggregatedField:w}}const Pv="errorbar",Cwe=["ticks","rule"],Rwe=new Dm(Pv,OV);function OV(e,{config:t}){e={...e,encoding:Um(e.encoding,t)};const{transform:n,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:l,ticksOrient:c,markDef:d,outerSpec:f,tooltipEncoding:u}=NV(e,Pv,t);delete l.size;const a=Rv(d,s,i,l,t.errorbar),y=d.thickness,w=d.size,m={type:"tick",orient:c,aria:!1,...y!==void 0?{thickness:y}:{},...w!==void 0?{size:w}:{}},o=[...a({partName:"ticks",mark:m,positionPrefix:"lower",extraEncoding:u}),...a({partName:"ticks",mark:m,positionPrefix:"upper",extraEncoding:u}),...a({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...y!==void 0?{size:y}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...f,transform:n,...o.length>1?{layer:o}:{...o[0]}}}function Pwe(e,t){const{encoding:n}=e;if(Dwe(n))return{orient:FV(e,t),inputType:"raw"};const i=Uwe(n),s=$we(n),l=n.x,c=n.y;if(i){if(s)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const d=n.x2,f=n.y2;if(et(d)&&et(f))throw new Error(`${t} cannot have both x2 and y2`);if(et(d)){if(Fl(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(et(f)){if(Fl(c))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const d=n.xError,f=n.xError2,u=n.yError,a=n.yError2;if(et(f)&&!et(d))throw new Error(`${t} cannot have xError2 without xError`);if(et(a)&&!et(u))throw new Error(`${t} cannot have yError2 without yError`);if(et(d)&&et(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(et(d)){if(Fl(l))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(et(u)){if(Fl(c))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Dwe(e){return(et(e.x)||et(e.y))&&!et(e.x2)&&!et(e.y2)&&!et(e.xError)&&!et(e.xError2)&&!et(e.yError)&&!et(e.yError2)}function Uwe(e){return et(e.x2)||et(e.y2)}function $we(e){return et(e.xError)||et(e.xError2)||et(e.yError)||et(e.yError2)}function NV(e,t,n){const{mark:i,encoding:s,params:l,projection:c,...d}=e,f=Ga(i)?i:{type:i};l&&we(kq(t));const{orient:u,inputType:a}=Pwe(e,t),{continuousAxisChannelDef:y,continuousAxisChannelDef2:w,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:o,continuousAxis:b}=BV(e,u,t),{errorBarSpecificAggregate:L,postAggregateCalculates:v,tooltipSummary:S,tooltipTitleWithFieldName:x}=Hwe(f,y,w,m,o,a,t,n),{[b]:F,[b==="x"?"x2":"y2"]:k,[b==="x"?"xError":"yError"]:A,[b==="x"?"xError2":"yError2"]:M,...C}=s,{bins:R,timeUnits:D,aggregate:U,groupby:X,encoding:j}=SV(C,n),G=[...U,...L],V=a!=="raw"?[]:X,W=_8(S,y,j,x);return{transform:[...d.transform??[],...R,...D,...G.length===0?[]:[{aggregate:G,groupby:V}],...v],groupby:V,continuousAxisChannelDef:y,continuousAxis:b,encodingWithoutContinuousAxis:j,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:f,outerSpec:d,tooltipEncoding:W}}function Hwe(e,t,n,i,s,l,c,d){let f=[],u=[];const a=t.field;let y,w=!1;if(l==="raw"){const m=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":d.errorbar.center,o=e.extent?e.extent:m==="mean"?"stderr":"iqr";if(m==="median"!=(o==="iqr")&&we(Jme(m,o,c)),o==="stderr"||o==="stdev")f=[{op:o,field:a,as:`extent_${a}`},{op:m,field:a,as:`center_${a}`}],u=[{calculate:`datum["center_${a}"] + datum["extent_${a}"]`,as:`upper_${a}`},{calculate:`datum["center_${a}"] - datum["extent_${a}"]`,as:`lower_${a}`}],y=[{fieldPrefix:"center_",titlePrefix:U0(m)},{fieldPrefix:"upper_",titlePrefix:TM(m,o,"+")},{fieldPrefix:"lower_",titlePrefix:TM(m,o,"-")}],w=!0;else{let b,L,v;o==="ci"?(b="mean",L="ci0",v="ci1"):(b="median",L="q1",v="q3"),f=[{op:L,field:a,as:`lower_${a}`},{op:v,field:a,as:`upper_${a}`},{op:b,field:a,as:`center_${a}`}],y=[{fieldPrefix:"upper_",titlePrefix:uu({field:a,aggregate:v,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:uu({field:a,aggregate:L,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:uu({field:a,aggregate:b,type:"quantitative"},d,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&we(Qme(e.center,e.extent)),l==="aggregated-upper-lower"?(y=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${a}`},{calculate:`datum["${a}"]`,as:`lower_${a}`}]):l==="aggregated-error"&&(y=[{fieldPrefix:"",titlePrefix:a}],u=[{calculate:`datum["${a}"] + datum["${i.field}"]`,as:`upper_${a}`}],s?u.push({calculate:`datum["${a}"] + datum["${s.field}"]`,as:`lower_${a}`}):u.push({calculate:`datum["${a}"] - datum["${i.field}"]`,as:`lower_${a}`}));for(const m of u)y.push({fieldPrefix:m.as.substring(0,6),titlePrefix:Pd(Pd(m.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:f,tooltipSummary:y,tooltipTitleWithFieldName:w}}function TM(e,t,n){return`${U0(e)} ${n} ${t}`}const Dv="errorband",zwe=["band","borders"],jwe=new Dm(Dv,CV);function CV(e,{config:t}){e={...e,encoding:Um(e.encoding,t)};const{transform:n,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:l,markDef:c,outerSpec:d,tooltipEncoding:f}=NV(e,Dv,t),u=c,a=Rv(u,s,i,l,t.errorband),y=e.encoding.x!==void 0&&e.encoding.y!==void 0;let w={type:y?"area":"rect"},m={type:y?"line":"rule"};const o={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return y?(w={...w,...o,ariaRoleDescription:"errorband"},m={...m,...o,aria:!1}):u.interpolate?we(hM("interpolate")):u.tension&&we(hM("tension")),{...d,transform:n,layer:[...a({partName:"band",mark:w,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f}),...a({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:f}),...a({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:f})]}}const RV={};function Uv(e,t,n){const i=new Dm(e,t);RV[e]={normalizer:i,parts:n}}function qwe(){return ge(RV)}Uv(Fy,MV,Awe);Uv(Pv,OV,Cwe);Uv(Dv,CV,zwe);const Vwe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],PV={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},DV={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Gwe=ge(PV),Wwe=ge(DV),Ywe={header:1,headerRow:1,headerColumn:1,headerFacet:1},UV=ge(Ywe),$V=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Xwe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},Kwe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Xr="_vgsid_",Zwe={point:{on:"click",fields:[Xr],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function $v(e){return e==="legend"||!!(e!=null&&e.legend)}function Dw(e){return $v(e)&&Ie(e)}function Hv(e){return!!(e!=null&&e.select)}function HV(e){const t=[];for(const n of e||[]){if(Hv(n))continue;const{expr:i,bind:s,...l}=n;if(s&&i){const c={...l,bind:s,init:i};t.push(c)}else{const c={...l,...i?{update:i}:{},...s?{bind:s}:{}};t.push(c)}}return t}function Qwe(e){return $m(e)||jv(e)||zv(e)}function zv(e){return"concat"in e}function $m(e){return"vconcat"in e}function jv(e){return"hconcat"in e}function zV({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Ya(e){return Ie(e)&&e.step!==void 0}function EM(e){return e.view||e.width||e.height}const vM=20,Jwe={align:1,bounds:1,center:1,columns:1,spacing:1},eLe=ge(Jwe);function tLe(e,t,n){const i=n[t],s={},{spacing:l,columns:c}=i;l!==void 0&&(s.spacing=l),c!==void 0&&(Om(e)&&!G0(e.facet)||zv(e))&&(s.columns=c),$m(e)&&(s.columns=1);for(const d of eLe)if(e[d]!==void 0)if(d==="spacing"){const f=e[d];s[d]=At(f)?f:{row:f.row??l,column:f.column??l}}else s[d]=e[d];return s}function p8(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function Iy(e,t){const n=My(e,t);return Ya(n)?n.step:jV}function My(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Fn(n,{step:e.step})}const jV=20,nLe={continuousWidth:200,continuousHeight:200,step:jV},iLe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:nLe,mark:X6e,arc:{},area:{},bar:Q6e,circle:{},geoshape:{},image:{},line:{},point:{},rect:J6e,rule:{color:"black"},square:{},text:{color:"black"},tick:ewe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:M6e,projection:{},legend:Xwe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Zwe,style:{},title:{},facet:{spacing:vM},concat:{spacing:vM},normalizedNumberFormat:".0%"},po=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],SM={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},xM={blue:po[0],orange:po[1],red:po[2],teal:po[3],green:po[4],yellow:po[5],purple:po[6],pink:po[7],brown:po[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function sLe(e={}){return{signals:[{name:"color",value:Ie(e)?{...xM,...e}:xM}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function rLe(e){return{signals:[{name:"fontSize",value:Ie(e)?{...SM,...e}:SM}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function aLe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function qV(e){const t=ge(e||{}),n={};for(const i of t){const s=e[i];n[i]=X0(s)?Lq(s):Os(s)}return n}function oLe(e){const t=ge(e),n={};for(const i of t)n[i]=qV(e[i]);return n}const lLe=[...tV,...TV,...UV,"background","padding","legend","lineBreak","scale","style","title","view"];function VV(e={}){const{color:t,font:n,fontSize:i,selection:s,...l}=e,c=mh({},Je(iLe),n?aLe(n):{},t?sLe(t):{},i?rLe(i):{},l||{});s&&wh(c,"selection",s,!0);const d=us(c,lLe);for(const f of["background","lineBreak","padding"])c[f]&&(d[f]=Os(c[f]));for(const f of tV)c[f]&&(d[f]=as(c[f]));for(const f of TV)c[f]&&(d[f]=qV(c[f]));for(const f of UV)c[f]&&(d[f]=as(c[f]));return c.legend&&(d.legend=as(c.legend)),c.scale&&(d.scale=as(c.scale)),c.style&&(d.style=oLe(c.style)),c.title&&(d.title=as(c.title)),c.view&&(d.view=as(c.view)),d}const cLe=new Set(["view",...j6e]),dLe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],fLe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Y6e};function uLe(e){e=Je(e);for(const t of dLe)delete e[t];if(e.axis)for(const t in e.axis)X0(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Vwe)delete e.legend[t];if(e.mark){for(const t of pM)delete e.mark[t];e.mark.tooltip&&Ie(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(HV(e.params)),delete e.params);for(const t of cLe){for(const i of pM)delete e[t][i];const n=fLe[t];if(n)for(const i of n)delete e[t][i];_Le(e,t)}for(const t of qwe())delete e[t];hLe(e);for(const t in e)Ie(e[t])&&Jt(e[t])&&delete e[t];return Jt(e)?void 0:e}function hLe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:i}=wq(e.title);Jt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Jt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Jt(i)?delete e.title:e.title=i}function _Le(e,t,n,i){const s=i?e[t][i]:e[t];t==="view"&&(n="cell");const l={...s,...e.style[n??t]};Jt(l)||(e.style[n??t]=l),i||delete e[t]}function Hm(e){return"layer"in e}function pLe(e){return"repeat"in e}function gLe(e){return!he(e.repeat)&&e.repeat.layer}class qv{map(t,n){return Om(t)?this.mapFacet(t,n):pLe(t)?this.mapRepeat(t,n):jv(t)?this.mapHConcat(t,n):$m(t)?this.mapVConcat(t,n):zv(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Hm(t))return this.mapLayer(t,n);if(il(t))return this.mapUnit(t,n);throw new Error(av(t))}mapLayer(t,n){return{...t,layer:t.layer.map(i=>this.mapLayerOrUnit(i,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(i=>this.map(i,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(i=>this.map(i,n))}}mapConcat(t,n){const{concat:i,...s}=t;return{...s,concat:i.map(l=>this.map(l,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const yLe={zero:1,center:1,normalize:1};function mLe(e){return e in yLe}const wLe=new Set([Qq,Fm,Bm,Ey,Mm,Tv,Ev,Im,Jq,bv]),LLe=new Set([Fm,Bm,Qq]);function Ff(e){return me(e)&&th(e)==="quantitative"&&!e.bin}function kM(e,t,{orient:n,type:i}){const s=t==="x"?"y":"radius",l=t==="x"&&["bar","area"].includes(i),c=e[t],d=e[s];if(me(c)&&me(d))if(Ff(c)&&Ff(d)){if(c.stack)return t;if(d.stack)return s;const f=me(c)&&!!c.aggregate,u=me(d)&&!!d.aggregate;if(f!==u)return f?t:s;if(l){if(n==="vertical")return s;if(n==="horizontal")return t}}else{if(Ff(c))return t;if(Ff(d))return s}else{if(Ff(c))return l&&n==="vertical"?void 0:t;if(Ff(d))return l&&n==="horizontal"?void 0:s}}function bLe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function GV(e,t){var b,L;const n=Ga(e)?e:{type:e},i=n.type;if(!wLe.has(i))return null;const s=kM(t,"x",n)||kM(t,"theta",n);if(!s)return null;const l=t[s],c=me(l)?ve(l,{}):void 0,d=bLe(s),f=[],u=new Set;if(t[d]){const v=t[d],S=me(v)?ve(v,{}):void 0;S&&S!==c&&(f.push(d),u.add(S))}const a=d==="x"?"xOffset":"yOffset",y=t[a],w=me(y)?ve(y,{}):void 0;w&&w!==c&&(f.push(a),u.add(w));const m=C4e.reduce((v,S)=>{if(S!=="tooltip"&&yd(t,S)){const x=t[S];for(const F of Fe(x)){const k=Wa(F);if(k.aggregate)continue;const A=ve(k,{});(!A||!u.has(A))&&v.push({channel:S,fieldDef:k})}}return v},[]);let o;return l.stack!==void 0?uc(l.stack)?o=l.stack?"zero":null:o=l.stack:LLe.has(i)&&(o="zero"),!o||!mLe(o)||Ov(t)&&m.length===0?null:(b=l==null?void 0:l.scale)!=null&&b.type&&((L=l==null?void 0:l.scale)==null?void 0:L.type)!==hs.LINEAR?(l!=null&&l.stack&&we(Xme(l.scale.type)),null):et(t[oo(s)])?(l.stack!==void 0&&we(Yme(s)),null):(me(l)&&l.aggregate&&!W4e.has(l.aggregate)&&we(Kme(l.aggregate)),{groupbyChannels:f,groupbyFields:u,fieldChannel:s,impute:l.impute===null?!1:Tc(i),stackBy:m,offset:o})}function WV(e,t,n){const i=as(e),s=Gt("orient",i,n);if(i.orient=SLe(i.type,t,s),s!==void 0&&s!==i.orient&&we(Ame(i.orient,s)),i.type==="bar"&&i.orient){const d=Gt("cornerRadiusEnd",i,n);if(d!==void 0){const f=i.orient==="horizontal"&&t.x2||i.orient==="vertical"&&t.y2?["cornerRadius"]:Z6e[i.orient];for(const u of f)i[u]=d;i.cornerRadiusEnd!==void 0&&delete i.cornerRadiusEnd}}return Gt("opacity",i,n)===void 0&&(i.opacity=ELe(i.type,t)),Gt("cursor",i,n)===void 0&&(i.cursor=TLe(i,t,n)),i}function TLe(e,t,n){return t.href||e.href||Gt("href",e,n)?"pointer":e.cursor}function ELe(e,t){if(St([Mm,bv,Tv,Ev],e)&&!Ov(t))return .7}function vLe(e,t,{graticule:n}){if(n)return!1;const i=Go("filled",e,t),s=e.type;return Fn(i,s!==Mm&&s!==Im&&s!==Ey)}function SLe(e,t,n){switch(e){case Mm:case Tv:case Ev:case Jq:case H6e:case $6e:return}const{x:i,y:s,x2:l,y2:c}=t;switch(e){case Fm:if(me(i)&&(li(i.bin)||me(s)&&s.aggregate&&!i.aggregate))return"vertical";if(me(s)&&(li(s.bin)||me(i)&&i.aggregate&&!s.aggregate))return"horizontal";if(c||l){if(n)return n;if(!l)return(me(i)&&i.type===$d&&!dn(i.bin)||Sy(i))&&me(s)&&li(s.bin)?"horizontal":"vertical";if(!c)return(me(s)&&s.type===$d&&!dn(s.bin)||Sy(s))&&me(i)&&li(i.bin)?"vertical":"horizontal"}case Ey:if(l&&!(me(i)&&li(i.bin))&&c&&!(me(s)&&li(s.bin)))return;case Bm:if(c)return me(s)&&li(s.bin)?"horizontal":"vertical";if(l)return me(i)&&li(i.bin)?"vertical":"horizontal";if(e===Ey){if(i&&!s)return"vertical";if(s&&!i)return"horizontal"}case Im:case bv:{const d=wM(i),f=wM(s);if(n)return n;if(d&&!f)return e!=="tick"?"horizontal":"vertical";if(!d&&f)return e!=="tick"?"vertical":"horizontal";if(d&&f)return"vertical";{const u=Ji(i)&&i.type===Ju,a=Ji(s)&&s.type===Ju;if(u&&!a)return"vertical";if(!u&&a)return"horizontal"}return}}return"vertical"}function xLe(e){const{point:t,line:n,...i}=e;return ge(i).length>1?i:i.type}function kLe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:us(e[t],["point","line"])});return e}function Uw(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ie(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ie(t.point)?t.point:{}:void 0}function BM(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class BLe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(il(t)){const{mark:i,encoding:s}=t,l=Ga(i)?i:{type:i};switch(l.type){case"line":case"rule":case"trail":return!!Uw(l,n[l.type],s);case"area":return!!Uw(l,n[l.type],s)||!!BM(l,n[l.type])}}return!1}run(t,n,i){const{config:s}=n,{params:l,projection:c,mark:d,name:f,encoding:u,...a}=t,y=Um(u,s),w=Ga(d)?d:{type:d},m=Uw(w,s[w.type],y),o=w.type==="area"&&BM(w,s[w.type]),b=[{name:f,...l?{params:l}:{},mark:xLe({...w.type==="area"&&w.opacity===void 0&&w.fillOpacity===void 0?{opacity:.7}:{},...w}),encoding:us(y,["shape"])}],L=GV(WV(w,y,s),y);let v=y;if(L){const{fieldChannel:S,offset:x}=L;v={...y,[S]:{...y[S],...x?{stack:x}:{}}}}return v=us(v,["y2","x2"]),o&&b.push({...c?{projection:c}:{},mark:{type:"line",...Xu(w,["clip","interpolate","tension","tooltip"]),...o},encoding:v}),m&&b.push({...c?{projection:c}:{},mark:{type:"point",opacity:1,filled:!0,...Xu(w,["clip","tooltip"]),...m},encoding:v}),i({...a,layer:b},{...n,config:kLe(s)})}}function FLe(e,t){return t?G0(e)?XV(e,t):YV(e,t):e}function $w(e,t){return t?XV(e,t):e}function g8(e,t,n){const i=t[e];if(fwe(i)){if(i.repeat in n)return{...t,[e]:n[i.repeat]};we(ume(i.repeat));return}return t}function YV(e,t){if(e=g8("field",e,t),e!==void 0){if(e===null)return null;if(Fv(e)&&Ma(e.sort)){const n=g8("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function FM(e,t){if(me(e))return YV(e,t);{const n=g8("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function IM(e,t){if(et(e)){const n=FM(e,t);if(n)return n;if(Nm(e))return{condition:e.condition}}else{if(W0(e)){const n=FM(e.condition,t);if(n)return{...e,condition:n};{const{condition:i,...s}=e;return s}}return e}}function XV(e,t){const n={};for(const i in e)if(Ue(e,i)){const s=e[i];if(he(s))n[i]=s.map(l=>IM(l,t)).filter(l=>l);else{const l=IM(s,t);l!==void 0&&(n[i]=l)}}return n}class ILe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(il(t)){const{encoding:n,mark:i}=t;if(i==="line"||Ga(i)&&i.type==="line")for(const s of A4e){const l=cf(s),c=n[l];if(n[s]&&(me(c)&&!li(c.bin)||co(c)))return!0}}return!1}run(t,n,i){const{encoding:s,mark:l}=t;return we(Mme(!!s.x2,!!s.y2)),i({...t,mark:Ie(l)?{...l,type:"rule"}:"rule"},n)}}class MLe extends qv{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Owe,Rwe,jwe,new BLe,new ILe]}map(t,n){if(il(t)){const i=yd(t.encoding,Co),s=yd(t.encoding,Ro),l=yd(t.encoding,mm);if(i||s||l)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:i,parentProjection:s}=n,l=$w(t.encoding,n.repeater),c={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(f=>f).join("_")}:{},...l?{encoding:l}:{}};if(i||s)return this.mapUnitWithParentEncodingOrProjection(c,n);const d=this.mapLayerOrUnit.bind(this);for(const f of this.nonFacetUnitNormalizers)if(f.hasMatchingType(c,n.config))return f.run(c,n,d);return c}mapRepeat(t,n){return gLe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:i,spec:s,...l}=t,{row:c,column:d,layer:f}=i,{repeater:u={},repeaterPrefix:a=""}=n;return c||d?this.mapRepeat({...t,repeat:{...c?{row:c}:{},...d?{column:d}:{}},spec:{repeat:{layer:f},spec:s}},n):{...l,layer:f.map(y=>{const w={...u,layer:y},m=`${(s.name?`${s.name}_`:"")+a}child__layer_${pn(y)}`,o=this.mapLayerOrUnit(s,{...n,repeater:w,repeaterPrefix:m});return o.name=m,o})}}mapNonLayerRepeat(t,n){const{repeat:i,spec:s,data:l,...c}=t;!he(i)&&t.columns&&(t=us(t,["columns"]),we(cM("repeat")));const d=[],{repeater:f={},repeaterPrefix:u=""}=n,a=!he(i)&&i.row||[f?f.row:null],y=!he(i)&&i.column||[f?f.column:null],w=he(i)&&i||[f?f.repeat:null];for(const o of w)for(const b of a)for(const L of y){const v={repeat:o,row:b,column:L,layer:f.layer},S=(s.name?`${s.name}_`:"")+u+"child__"+(he(i)?`${pn(o)}`:(i.row?`row_${pn(b)}`:"")+(i.column?`column_${pn(L)}`:"")),x=this.map(s,{...n,repeater:v,repeaterPrefix:S});x.name=S,d.push(us(x,["data"]))}const m=he(i)?t.columns:i.column?i.column.length:1;return{data:s.data??l,align:"all",...c,columns:m,concat:d}}mapFacet(t,n){const{facet:i}=t;return G0(i)&&t.columns&&(t=us(t,["columns"]),we(cM("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:i,projection:s}=t,{parentEncoding:l,parentProjection:c,config:d}=n,f=AM({parentProjection:c,projection:s}),u=MM({parentEncoding:l,encoding:$w(i,n.repeater)});return this.mapUnit({...t,...f?{projection:f}:{},...u?{encoding:u}:{}},{config:d})}mapFacetedUnit(t,n){const{row:i,column:s,facet:l,...c}=t.encoding,{mark:d,width:f,projection:u,height:a,view:y,params:w,encoding:m,...o}=t,{facetMapping:b,layout:L}=this.getFacetMappingAndLayout({row:i,column:s,facet:l},n),v=$w(c,n.repeater);return this.mapFacet({...o,...L,facet:b,spec:{...f?{width:f}:{},...a?{height:a}:{},...y?{view:y}:{},...u?{projection:u}:{},mark:d,encoding:v,...w?{params:w}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:i,column:s,facet:l}=t;if(i||s){l&&we(Fme([...i?[Co]:[],...s?[Ro]:[]]));const c={},d={};for(const f of[Co,Ro]){const u=t[f];if(u){const{align:a,center:y,spacing:w,columns:m,...o}=u;c[f]=o;for(const b of["align","center","spacing"])u[b]!==void 0&&(d[b]??(d[b]={}),d[b][f]=u[b])}}return{facetMapping:c,layout:d}}else{const{align:c,center:d,spacing:f,columns:u,...a}=l;return{facetMapping:FLe(a,n.repeater),layout:{...c?{align:c}:{},...d?{center:d}:{},...f?{spacing:f}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:i,...s}){const{encoding:l,projection:c,...d}=t,f={...s,parentEncoding:MM({parentEncoding:n,encoding:l,layer:!0}),parentProjection:AM({parentProjection:i,projection:c})};return super.mapLayer({...d,...t.name?{name:[f.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},f)}}function MM({parentEncoding:e,encoding:t={},layer:n}){let i={};if(e){const s=new Set([...ge(e),...ge(t)]);for(const l of s){const c=t[l],d=e[l];if(et(c)){const f={...d,...c};i[l]=f}else W0(c)?i[l]={...c,condition:{...d,...c.condition}}:c||c===null?i[l]=c:(n||Yr(d)||Ne(d)||et(d)||he(d))&&(i[l]=d)}}else i=t;return!i||Jt(i)?void 0:i}function AM(e){const{parentProjection:t,projection:n}=e;return t&&n&&we(mme({parentProjection:t,projection:n})),n??t}function Vv(e){return"filter"in e}function ALe(e){return(e==null?void 0:e.stop)!==void 0}function KV(e){return"lookup"in e}function OLe(e){return"data"in e}function NLe(e){return"param"in e}function CLe(e){return"pivot"in e}function RLe(e){return"density"in e}function PLe(e){return"quantile"in e}function DLe(e){return"regression"in e}function ULe(e){return"loess"in e}function $Le(e){return"sample"in e}function HLe(e){return"window"in e}function zLe(e){return"joinaggregate"in e}function jLe(e){return"flatten"in e}function qLe(e){return"calculate"in e}function ZV(e){return"bin"in e}function VLe(e){return"impute"in e}function GLe(e){return"timeUnit"in e}function WLe(e){return"aggregate"in e}function YLe(e){return"stack"in e}function XLe(e){return"fold"in e}function KLe(e){return"extent"in e&&!("density"in e)}function ZLe(e){return e.map(t=>Vv(t)?{filter:du(t.filter,v6e)}:t)}class QLe extends qv{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=OM(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=OM(t,n),t.encoding){const i={};for(const[s,l]of Zl(t.encoding))i[s]=QV(l,n);t={...t,encoding:i}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:i,...s}=t;return i?{...s,params:Zl(i).map(([l,c])=>{const{init:d,bind:f,empty:u,...a}=c;a.type==="single"?(a.type="point",a.toggle=!1):a.type==="multi"&&(a.type="point"),n.emptySelections[l]=u!=="none";for(const y of _i(n.selectionPredicates[l]??{}))y.empty=u!=="none";return{name:l,value:d,select:a,bind:f}})}:t}}function OM(e,t){const{transform:n,...i}=e;if(n){const s=n.map(l=>{if(Vv(l))return{filter:y8(l,t)};if(ZV(l)&&df(l.bin))return{...l,bin:JV(l.bin)};if(KV(l)){const{selection:c,...d}=l.from;return c?{...l,from:{param:c,...d}}:l}return l});return{...i,transform:s}}return e}function QV(e,t){var i,s;const n=Je(e);if(me(n)&&df(n.bin)&&(n.bin=JV(n.bin)),hf(n)&&((s=(i=n.scale)==null?void 0:i.domain)!=null&&s.selection)){const{selection:l,...c}=n.scale.domain;n.scale.domain={...c,...l?{param:l}:{}}}if(Nm(n))if(he(n.condition))n.condition=n.condition.map(l=>{const{selection:c,param:d,test:f,...u}=l;return d?l:{...u,test:y8(l,t)}});else{const{selection:l,param:c,test:d,...f}=QV(n.condition,t);n.condition=c?n.condition:{...f,test:y8(n.condition,t)}}return n}function JV(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...i}=t;return{...e,extent:{...i,param:n}}}return e}function y8(e,t){const n=i=>du(i,s=>{var l;const c=t.emptySelections[s]??!0,d={param:s,empty:c};return(l=t.selectionPredicates)[s]??(l[s]=[]),t.selectionPredicates[s].push(d),d});return e.selection?n(e.selection):du(e.test||e.filter,i=>i.selection?n(i.selection):i)}class m8 extends qv{map(t,n){const i=n.selections??[];if(t.params&&!il(t)){const s=[];for(const l of t.params)Hv(l)?i.push(l):s.push(l);t.params=s}return n.selections=i,super.map(t,n)}mapUnit(t,n){const i=n.selections;if(!i||!i.length)return t;const s=(n.path??[]).concat(t.name),l=[];for(const c of i)if(!c.views||!c.views.length)l.push(c);else for(const d of c.views)(ke(d)&&(d===t.name||s.includes(d))||he(d)&&d.map(f=>s.indexOf(f)).every((f,u,a)=>f!==-1&&(u===0||f>a[u-1])))&&l.push(c);return l.length&&(t.params=l),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=m8.prototype[e];m8.prototype[e]=function(n,i){return t.call(this,n,JLe(n,i))}}function JLe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function eG(e,t){t===void 0&&(t=VV(e.config));const n=i5e(e,t),{width:i,height:s}=e,l=s5e(n,{width:i,height:s,autosize:e.autosize},t);return{...n,...l?{autosize:l}:{}}}const e5e=new MLe,t5e=new QLe,n5e=new m8;function i5e(e,t={}){const n={config:t};return n5e.map(e5e.map(t5e.map(e,n),n),n)}function NM(e){return ke(e)?{type:e}:e??{}}function s5e(e,t,n){let{width:i,height:s}=t;const l=il(e)||Hm(e),c={};l?i=="container"&&s=="container"?(c.type="fit",c.contains="padding"):i=="container"?(c.type="fit-x",c.contains="padding"):s=="container"&&(c.type="fit-y",c.contains="padding"):(i=="container"&&(we(rM("width")),i=void 0),s=="container"&&(we(rM("height")),s=void 0));const d={type:"pad",...c,...n?NM(n.autosize):{},...NM(e.autosize)};if(d.type==="fit"&&!l&&(we(nme),d.type="pad"),i=="container"&&!(d.type=="fit"||d.type=="fit-x")&&we(aM("width")),s=="container"&&!(d.type=="fit"||d.type=="fit-y")&&we(aM("height")),!Rs(d,{type:"pad"}))return d}function r5e(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function a5e(e){return e?`fit-${Em(e)}`:"fit"}const o5e=["background","padding"];function CM(e,t){const n={};for(const i of o5e)e&&e[i]!==void 0&&(n[i]=Os(e[i]));return t&&(n.params=e.params),n}class sl{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new sl(Je(this.explicit),Je(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Fn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:i}){n!==void 0&&this.set(t,n,i)}set(t,n,i){return delete this[i?"implicit":"explicit"][t],this[i?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:i}){n[t]!==void 0?this.set(t,n[t],!0):i[t]!==void 0&&this.set(t,i[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ge(t.combine())){const i=t.getWithExplicit(n);this.setWithExplicit(n,i)}}}function _a(e){return{explicit:!0,value:e}}function ks(e){return{explicit:!1,value:e}}function tG(e){return(t,n,i,s)=>{const l=e(t.value,n.value);return l>0?t:l<0?n:zm(t,n,i,s)}}function zm(e,t,n,i){return e.explicit&&t.explicit&&we(Hme(n,i,e.value,t.value)),e}function ec(e,t,n,i,s=zm){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Rs(e.value,t.value)?e:s(e,t,n,i)}class l5e extends sl{constructor(t={},n={},i=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=i}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function sh(e){return"url"in e}function $2(e){return"values"in e}function nG(e){return"name"in e&&!sh(e)&&!$2(e)&&!Cl(e)}function Cl(e){return e&&(iG(e)||sG(e)||Gv(e))}function iG(e){return"sequence"in e}function sG(e){return"sphere"in e}function Gv(e){return"graticule"in e}var cn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(cn||(cn={}));function rG(e){const{signals:t,hasLegend:n,index:i,...s}=e;return s.field=or(s.field),s}function jd(e,t=!0,n=Ni){if(he(e)){const i=e.map(s=>jd(s,t,n));return t?`[${i.join(", ")}]`:i}else if(ff(e))return n(t?Ud(e):u6e(e));return t?n(en(e)):e}function c5e(e,t){for(const n of _i(e.component.selection??{})){const i=n.name;let s=`${i}${nc}, ${n.resolve==="global"?"true":`{unit: ${md(e)}}`}`;for(const l of Gm)l.defined(n)&&(l.signals&&(t=l.signals(e,n,t)),l.modifyExpr&&(s=l.modifyExpr(e,n,s)));t.push({name:i+H5e,on:[{events:{signal:n.name+nc},update:`modify(${Le(n.name+qd)}, ${s})`}]})}return Wv(t)}function d5e(e,t){if(e.component.selection&&ge(e.component.selection).length){const n=Le(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:_c("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Wv(t)}function f5e(e,t){let n=!1;for(const i of _i(e.component.selection??{})){const s=i.name,l=Le(s+qd);if(t.filter(d=>d.name===s).length===0){const d=i.resolve==="global"?"union":i.resolve,f=i.type==="point"?", true, true)":")";t.push({name:i.name,update:`${EG}(${l}, ${Le(d)}${f}`})}n=!0;for(const d of Gm)d.defined(i)&&d.topLevelSignals&&(t=d.topLevelSignals(e,i,t))}return n&&t.filter(s=>s.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Wv(t)}function u5e(e,t){const n=[...t],i=md(e,{escape:!1});for(const s of _i(e.component.selection??{})){const l={name:s.name+qd};if(s.project.hasSelectionId&&(l.transform=[{type:"collect",sort:{field:Xr}}]),s.init){const d=s.project.items.map(rG);l.values=s.project.hasSelectionId?s.init.map(f=>({unit:i,[Xr]:jd(f,!1)[0]})):s.init.map(f=>({unit:i,fields:d,values:jd(f,!1)}))}n.filter(d=>d.name===s.name+qd).length||n.push(l)}return n}function aG(e,t){for(const n of _i(e.component.selection??{}))for(const i of Gm)i.defined(n)&&i.marks&&(t=i.marks(e,n,t));return t}function h5e(e,t){for(const n of e.children)En(n)&&(t=aG(n,t));return t}function _5e(e,t,n,i){const s=BG(e,t.param,t);return{signal:js(n.get("type"))&&he(i)&&i[0]>i[1]?`isValid(${s}) && reverse(${s})`:s}}function Wv(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Kt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){we(pme);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const s of this._children)s.parent=t;this._children=[],t.removeChild(this);const i=t.parent.removeChild(t);this._parent=n,n.addChild(this,i),t.parent=this}}class Ki extends Kt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,i,s){super(t,n),this.type=i,this.refCounts=s,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${nq()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Hw(e){return e.as!==void 0}function RM(e){return`${e}_end`}class Aa extends Kt{clone(){return new Aa(null,Je(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const i=n.reduceFieldDef((s,l,c)=>{const{field:d,timeUnit:f}=l;if(f){let u;if(uf(f)){if(En(n)){const{mark:a,markDef:y,config:w}=n,m=Jl({fieldDef:l,markDef:y,config:w});(U2(a)||m)&&(u={timeUnit:Jn(f),field:d})}}else u={as:ve(l,{forAs:!0}),field:d,timeUnit:f};if(En(n)){const{mark:a,markDef:y,config:w}=n,m=Jl({fieldDef:l,markDef:y,config:w});U2(a)&&In(c)&&m!==.5&&(u.rectBandPosition=m)}u&&(s[vt(u)]=u)}return s},{});return Jt(i)?null:new Aa(t,i)}static makeFromTransform(t,n){const{timeUnit:i,...s}={...n},l=Jn(i),c={...s,timeUnit:l};return new Aa(t,{[vt(c)]:c})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[i,s]of Zl(this.timeUnits)){const l=Hw(s)?s.as:`${s.field}_end`;t.has(l)||(n[i]=s)}this.timeUnits=n}producedFields(){return new Set(_i(this.timeUnits).map(t=>Hw(t)?t.as:RM(t.field)))}dependentFields(){return new Set(_i(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${vt(this.timeUnits)}`}assemble(){const t=[];for(const n of _i(this.timeUnits)){const{rectBandPosition:i}=n,s=Jn(n.timeUnit);if(Hw(n)){const{field:l,as:c}=n,{unit:d,utc:f,...u}=s,a=[c,`${c}_end`];t.push({field:or(l),type:"timeunit",...d?{units:km(d)}:{},...f?{timezone:"utc"}:{},...u,as:a}),t.push(...PM(a,i,s))}else if(n){const{field:l}=n,c=l.replaceAll("\\.","."),d=oG({timeUnit:s,field:c}),f=RM(c);t.push({type:"formula",expr:d,as:f}),t.push(...PM([c,f],i,s))}}return t}}const jm="offsetted_rect_start",qm="offsetted_rect_end";function oG({timeUnit:e,field:t,reverse:n}){const{unit:i,utc:s}=e,l=Dq(i),{part:c,step:d}=zq(l,e.step);return`${s?"utcOffset":"timeOffset"}('${c}', datum['${t}'], ${n?-d:d})`}function PM([e,t],n,i){if(n!==void 0&&n!==.5){const s=`datum['${e}']`,l=`datum['${t}']`;return[{type:"formula",expr:DM([oG({timeUnit:i,field:e,reverse:!0}),s],n+.5),as:`${e}_${jm}`},{type:"formula",expr:DM([s,l],n+.5),as:`${e}_${qm}`}]}return[]}function DM([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const K0="_tuple_fields";class p5e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const g5e={defined:()=>!0,parse:(e,t,n)=>{const i=t.name,s=t.project??(t.project=new p5e),l={},c={},d=new Set,f=(o,b)=>{const L=b==="visual"?o.channel:o.field;let v=pn(`${i}_${L}`);for(let S=1;d.has(v);S++)v=pn(`${i}_${L}_${S}`);return d.add(v),{[b]:v}},u=t.type,a=e.config.selection[u],y=n.value!==void 0?Fe(n.value):null;let{fields:w,encodings:m}=Ie(n.select)?n.select:{};if(!w&&!m&&y){for(const o of y)if(Ie(o))for(const b of ge(o))M4e(b)?(m||(m=[])).push(b):u==="interval"?(we(fme),m=a.encodings):(w??(w=[])).push(b)}!w&&!m&&(m=a.encodings,"fields"in a&&(w=a.fields));for(const o of m??[]){const b=e.fieldDef(o);if(b){let L=b.field;if(b.aggregate){we(ime(o,b.aggregate));continue}else if(!L){we(lM(o));continue}if(b.timeUnit&&!uf(b.timeUnit)){L=e.vgField(o);const v={timeUnit:b.timeUnit,as:L,field:b.field};c[vt(v)]=v}if(!l[L]){const v=u==="interval"&&nl(o)&&js(e.getScaleComponent(o).get("type"))?"R":b.bin?"R-RE":"E",S={field:L,channel:o,type:v,index:s.items.length};S.signals={...f(S,"data"),...f(S,"visual")},s.items.push(l[L]=S),s.hasField[L]=l[L],s.hasSelectionId=s.hasSelectionId||L===Xr,lq(o)?(S.geoChannel=o,S.channel=oq(o),s.hasChannel[S.channel]=l[L]):s.hasChannel[o]=l[L]}}else we(lM(o))}for(const o of w??[]){if(s.hasField[o])continue;const b={type:"E",field:o,index:s.items.length};b.signals={...f(b,"data")},s.items.push(b),s.hasField[o]=b,s.hasSelectionId=s.hasSelectionId||o===Xr}y&&(t.init=y.map(o=>s.items.map(b=>Ie(o)?o[b.geoChannel||b.channel]!==void 0?o[b.geoChannel||b.channel]:o[b.field]:o))),Jt(c)||(s.timeUnit=new Aa(null,c))},signals:(e,t,n)=>{const i=t.name+K0;return n.filter(l=>l.name===i).length>0||t.project.hasSelectionId?n:n.concat({name:i,value:t.project.items.map(rG)})}},Po={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const i of t.project.items){const s=i.channel;if(!nl(s))continue;const l=e.getScaleComponent(s),c=l?l.get("type"):void 0;if(!l||!js(c)){we(ame);continue}l.set("selectionExtent",{param:t.name,field:i.field},!0),n.push(i)}},topLevelSignals:(e,t,n)=>{const i=t.scales.filter(c=>n.filter(d=>d.name===c.signals.data).length===0);if(!e.parent||UM(e)||i.length===0)return n;const s=n.filter(c=>c.name===t.name)[0];let l=s.update;if(l.indexOf(EG)>=0)s.update=`{${i.map(c=>`${Le(or(c.field))}: ${c.signals.data}`).join(", ")}}`;else{for(const c of i){const d=`${Le(or(c.field))}: ${c.signals.data}`;l.includes(d)||(l=`${l.substring(0,l.length-1)}, ${d}}`)}s.update=l}return n.concat(i.map(c=>({name:c.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!UM(e))for(const i of t.scales){const s=n.filter(l=>l.name===i.signals.data)[0];s.push="outer",delete s.value,delete s.update}return n}};function w8(e,t){return`domain(${Le(e.scaleName(t))})`}function UM(e){return e.parent&&Nh(e.parent)&&!e.parent.parent}const hu="_brush",lG="_scale_trigger",i1="geo_interval_init_tick",cG="_init",y5e="_center",m5e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var i;if(e.hasProjection){const s={...Ie(n.select)?n.select:{}};s.fields=[Xr],s.encodings||(s.encodings=n.value?ge(n.value):[sa,ia]),n.select={type:"interval",...s}}if(t.translate&&!Po.defined(t)){const s=`!event.item || event.item.mark.name !== ${Le(t.name+hu)}`;for(const l of t.events){if(!l.between){we(`${l} is not an ordered event stream for interval selections.`);continue}const c=Fe((i=l.between[0]).filter??(i.filter=[]));c.indexOf(s)<0&&c.push(s)}}},signals:(e,t,n)=>{const i=t.name,s=i+nc,l=_i(t.project.hasChannel).filter(d=>d.channel===gn||d.channel===ri),c=t.init?t.init[0]:null;if(n.push(...l.reduce((d,f)=>d.concat(w5e(e,t,f,c&&c[f.index])),[])),e.hasProjection){const d=Le(e.projectionName()),f=e.projectionName()+y5e,{x:u,y:a}=t.project.hasChannel,y=u&&u.signals.visual,w=a&&a.signals.visual,m=u?c&&c[u.index]:`${f}[0]`,o=a?c&&c[a.index]:`${f}[1]`,b=k=>e.getSizeSignalRef(k).signal,L=`[[${y?y+"[0]":"0"}, ${w?w+"[0]":"0"}],[${y?y+"[1]":b("width")}, ${w?w+"[1]":b("height")}]]`;c&&(n.unshift({name:i+cG,init:`[scale(${d}, [${u?m[0]:m}, ${a?o[0]:o}]), scale(${d}, [${u?m[1]:m}, ${a?o[1]:o}])]`}),(!u||!a)&&(n.find(A=>A.name===f)||n.unshift({name:f,update:`invert(${d}, [${b("width")}/2, ${b("height")}/2])`})));const v=`intersect(${L}, {markname: ${Le(e.getName("marks"))}}, unit.mark)`,S=`{unit: ${md(e)}}`,x=`vlSelectionTuples(${v}, ${S})`,F=l.map(k=>k.signals.visual);return n.concat({name:s,on:[{events:[...F.length?[{signal:F.join(" || ")}]:[],...c?[{signal:i1}]:[]],update:x}]})}else{if(!Po.defined(t)){const u=i+lG,a=l.map(y=>{const w=y.channel,{data:m,visual:o}=y.signals,b=Le(e.scaleName(w)),L=e.getScaleComponent(w).get("type"),v=js(L)?"+":"";return`(!isArray(${m}) || (${v}invert(${b}, ${o})[0] === ${v}${m}[0] && ${v}invert(${b}, ${o})[1] === ${v}${m}[1]))`});a.length&&n.push({name:u,value:{},on:[{events:l.map(y=>({scale:e.scaleName(y.channel)})),update:a.join(" && ")+` ? ${u} : {}`}]})}const d=l.map(u=>u.signals.data),f=`unit: ${md(e)}, fields: ${i+K0}, values`;return n.concat({name:s,...c?{init:`{${f}: ${jd(c)}}`}:{},...d.length?{on:[{events:[{signal:d.join(" || ")}],update:`${d.join(" && ")} ? {${f}: [${d}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(En(e)&&e.hasProjection&&t.init&&(n.filter(s=>s.name===i1).length||n.unshift({name:i1,value:null,on:[{events:"timer{1}",update:`${i1} === null ? {} : ${i1}`}]})),n),marks:(e,t,n)=>{const i=t.name,{x:s,y:l}=t.project.hasChannel,c=s==null?void 0:s.signals.visual,d=l==null?void 0:l.signals.visual,f=`data(${Le(t.name+qd)})`;if(Po.defined(t)||!s&&!l)return n;const u={x:s!==void 0?{signal:`${c}[0]`}:{value:0},y:l!==void 0?{signal:`${d}[0]`}:{value:0},x2:s!==void 0?{signal:`${c}[1]`}:{field:{group:"width"}},y2:l!==void 0?{signal:`${d}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const b of ge(u))u[b]=[{test:`${f}.length && ${f}[0].unit === ${md(e)}`,...u[b]},{value:0}];const{fill:a,fillOpacity:y,cursor:w,...m}=t.mark,o=ge(m).reduce((b,L)=>(b[L]=[{test:[s!==void 0&&`${c}[0] !== ${c}[1]`,l!==void 0&&`${d}[0] !== ${d}[1]`].filter(v=>v).join(" && "),value:m[L]},{value:null}],b),{});return[{name:`${i+hu}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:y}},update:u}},...n,{name:i+hu,type:"rect",clip:!0,encode:{enter:{...w?{cursor:{value:w}}:{},fill:{value:"transparent"}},update:{...u,...o}}}]}};function w5e(e,t,n,i){const s=!e.hasProjection,l=n.channel,c=n.signals.visual,d=Le(s?e.scaleName(l):e.projectionName()),f=w=>`scale(${d}, ${w})`,u=e.getSizeSignalRef(l===gn?"width":"height").signal,a=`${l}(unit)`,y=t.events.reduce((w,m)=>[...w,{events:m.between[0],update:`[${a}, ${a}]`},{events:m,update:`[${c}[0], clamp(${a}, 0, ${u})]`}],[]);if(s){const w=n.signals.data,m=Po.defined(t),o=e.getScaleComponent(l),b=o?o.get("type"):void 0,L=i?{init:jd(i,!0,f)}:{value:[]};return y.push({events:{signal:t.name+lG},update:js(b)?`[${f(`${w}[0]`)}, ${f(`${w}[1]`)}]`:"[0, 0]"}),m?[{name:w,on:[]}]:[{name:c,...L,on:y},{name:w,...i?{init:jd(i)}:{},on:[{events:{signal:c},update:`${c}[0] === ${c}[1] ? null : invert(${d}, ${c})`}]}]}else{const w=l===gn?0:1,m=t.name+cG,o=i?{init:`[${m}[0][${w}], ${m}[1][${w}]]`}:{value:[]};return[{name:c,...o,on:y}]}}const L5e={defined:e=>e.type==="point",signals:(e,t,n)=>{const i=t.name,s=i+K0,l=t.project,c="(item().isVoronoi ? datum.datum : datum)",d=_i(e.component.selection??{}).reduce((y,w)=>w.type==="interval"?y.concat(w.name+hu):y,[]).map(y=>`indexof(item().mark.name, '${y}') < 0`).join(" && "),f=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${d?` && ${d}`:""}`;let u=`unit: ${md(e)}, `;if(t.project.hasSelectionId)u+=`${Xr}: ${c}[${Le(Xr)}]`;else{const y=l.items.map(w=>{const m=e.fieldDef(w.channel);return m!=null&&m.bin?`[${c}[${Le(e.vgField(w.channel,{}))}], ${c}[${Le(e.vgField(w.channel,{binSuffix:"end"}))}]]`:`${c}[${Le(w.field)}]`}).join(", ");u+=`fields: ${s}, values: [${y}]`}const a=t.events;return n.concat([{name:i+nc,on:a?[{events:a,update:`${f} ? {${u}} : null`,force:!0}]:[]}])}};function Ih(e,t,n,i){const s=Nm(t)&&t.condition,l=i(t);if(s){const d=Fe(s).map(f=>{const u=i(f);if(dwe(f)){const{param:a,empty:y}=f;return{test:kG(e,{param:a,empty:y}),...u}}else return{test:Ny(e,f.test),...u}});return{[n]:[...d,...l!==void 0?[l]:[]]}}else return l!==void 0?{[n]:l}:{}}function Yv(e,t="text"){const n=e.encoding[t];return Ih(e,n,t,i=>Vm(i,e.config))}function Vm(e,t,n="datum"){if(e){if(Yr(e))return hn(e.value);if(et(e)){const{format:i,formatType:s}=ky(e);return kv({fieldOrDatumDef:e,format:i,formatType:s,expr:n,config:t})}}}function dG(e,t={}){const{encoding:n,markDef:i,config:s,stack:l}=e,c=n.tooltip;if(he(c))return{tooltip:$M({tooltip:c},l,s,t)};{const d=t.reactiveGeom?"datum.datum":"datum";return Ih(e,c,"tooltip",f=>{const u=Vm(f,s,d);if(u)return u;if(f===null)return;let a=Gt("tooltip",i,s);if(a===!0&&(a={content:"encoding"}),ke(a))return{value:a};if(Ie(a))return Ne(a)?a:a.content==="encoding"?$M(n,l,s,t):{signal:d}})}}function fG(e,t,n,{reactiveGeom:i}={}){const s={...n,...n.tooltipFormat},l={},c=i?"datum.datum":"datum",d=[];function f(a,y){const w=cf(y),m=Ji(a)?a:{...a,type:e[w].type},o=m.title||Mv(m,s),b=Fe(o).join(", ").replaceAll(/"/g,'\\"');let L;if(In(y)){const v=y==="x"?"x2":"y2",S=Wa(e[v]);if(li(m.bin)&&S){const x=ve(m,{expr:c}),F=ve(S,{expr:c}),{format:k,formatType:A}=ky(m);L=V0(x,F,k,A,s),l[v]=!0}}if((In(y)||y===hr||y===na)&&t&&t.fieldChannel===y&&t.offset==="normalize"){const{format:v,formatType:S}=ky(m);L=kv({fieldOrDatumDef:m,format:v,formatType:S,expr:c,config:s,normalizeStack:!0}).signal}L??(L=Vm(m,s,c).signal),d.push({channel:y,key:b,value:L})}Nv(e,(a,y)=>{me(a)?f(a,y):Cm(a)&&f(a.condition,y)});const u={};for(const{channel:a,key:y,value:w}of d)!l[a]&&!u[y]&&(u[y]=w);return u}function $M(e,t,n,{reactiveGeom:i}={}){const s=fG(e,t,n,{reactiveGeom:i}),l=Zl(s).map(([c,d])=>`"${c}": ${d}`);return l.length>0?{signal:`{${l.join(", ")}}`}:void 0}function b5e(e){const{markDef:t,config:n}=e,i=Gt("aria",t,n);return i===!1?{}:{...i?{aria:i}:{},...T5e(e),...E5e(e)}}function T5e(e){const{mark:t,markDef:n,config:i}=e;if(i.aria===!1)return{};const s=Gt("ariaRoleDescription",n,i);return s!=null?{ariaRoleDescription:{value:s}}:t in J4e?{}:{ariaRoleDescription:{value:t}}}function E5e(e){const{encoding:t,markDef:n,config:i,stack:s}=e,l=t.description;if(l)return Ih(e,l,"description",f=>Vm(f,e.config));const c=Gt("description",n,i);if(c!=null)return{description:hn(c)};if(i.aria===!1)return{};const d=fG(t,s,i);if(!Jt(d))return{description:{signal:Zl(d).map(([f,u],a)=>`"${a>0?"; ":""}${f}: " + (${u})`).join(" + ")}}}function Wn(e,t,n={}){const{markDef:i,encoding:s,config:l}=t,{vgChannel:c}=n;let{defaultRef:d,defaultValue:f}=n;d===void 0&&(f??(f=Gt(e,i,l,{vgChannel:c,ignoreVgConfig:!0})),f!==void 0&&(d=hn(f)));const u=s[e];return Ih(t,u,c??e,a=>xv({channel:e,channelDef:a,markDef:i,config:l,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:d}))}function uG(e,t={filled:void 0}){const{markDef:n,encoding:i,config:s}=e,{type:l}=n,c=t.filled??Gt("filled",n,s),d=St(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,f=Gt(c===!0?"color":void 0,n,s,{vgChannel:"fill"})??s.mark[c===!0&&"color"]??d,u=Gt(c===!1?"color":void 0,n,s,{vgChannel:"stroke"})??s.mark[c===!1&&"color"],a=c?"fill":"stroke",y={...f?{fill:hn(f)}:{},...u?{stroke:hn(u)}:{}};return n.color&&(c?n.fill:n.stroke)&&we(Fq("property",{fill:"fill"in n,stroke:"stroke"in n})),{...y,...Wn("color",e,{vgChannel:a,defaultValue:c?f:u}),...Wn("fill",e,{defaultValue:i.fill?f:void 0}),...Wn("stroke",e,{defaultValue:i.stroke?u:void 0})}}function v5e(e){const{encoding:t,mark:n}=e,i=t.order;return!Tc(n)&&Yr(i)?Ih(e,i,"zindex",s=>hn(s.value)):{}}function rh({channel:e,markDef:t,encoding:n={},model:i,bandPosition:s}){const l=`${e}Offset`,c=t[l],d=n[l];if((l==="xOffset"||l==="yOffset")&&d)return{offsetType:"encoding",offset:xv({channel:l,channelDef:d,markDef:t,config:i==null?void 0:i.config,scaleName:i.scaleName(l),scale:i.getScaleComponent(l),stack:null,defaultRef:hn(c),bandPosition:s})};const f=t[l];return f?{offsetType:"visual",offset:f}:{}}function xi(e,t,{defaultPos:n,vgChannel:i}){const{encoding:s,markDef:l,config:c,stack:d}=t,f=s[e],u=s[oo(e)],a=t.scaleName(e),y=t.getScaleComponent(e),{offset:w,offsetType:m}=rh({channel:e,markDef:l,encoding:s,model:t,bandPosition:.5}),o=Xv({model:t,defaultPos:n,channel:e,scaleName:a,scale:y}),b=!f&&In(e)&&(s.latitude||s.longitude)?{field:t.getName(e)}:S5e({channel:e,channelDef:f,channel2Def:u,markDef:l,config:c,scaleName:a,scale:y,stack:d,offset:w,defaultRef:o,bandPosition:m==="encoding"?0:void 0});return b?{[i||e]:b}:void 0}function S5e(e){const{channel:t,channelDef:n,scaleName:i,stack:s,offset:l,markDef:c}=e;if(et(n)&&s&&t===s.fieldChannel){if(me(n)){let d=n.bandPosition;if(d===void 0&&c.type==="text"&&(t==="radius"||t==="theta")&&(d=.5),d!==void 0)return vy({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",bandPosition:d,offset:l})}return gd(n,i,{suffix:"end"},{offset:l})}return vv(e)}function Xv({model:e,defaultPos:t,channel:n,scaleName:i,scale:s}){const{markDef:l,config:c}=e;return()=>{const d=cf(n),f=Ql(n),u=Gt(n,l,c,{vgChannel:f});if(u!==void 0)return Z1(n,u);switch(t){case"zeroOrMin":case"zeroOrMax":if(i){const a=s.get("type");if(!St([hs.LOG,hs.TIME,hs.UTC],a)){if(s.domainDefinitelyIncludesZero())return{scale:i,value:0}}}if(t==="zeroOrMin")return d==="y"?{field:{group:"height"}}:{value:0};switch(d){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[Es(n)],mult:.5}}}}const x5e={left:"x",center:"xc",right:"x2"},k5e={top:"y",middle:"yc",bottom:"y2"};function hG(e,t,n,i="middle"){if(e==="radius"||e==="theta")return Ql(e);const s=e==="x"?"align":"baseline",l=Gt(s,t,n);let c;return Ne(l)?(we(Ime(s)),c=void 0):c=l,e==="x"?x5e[c||(i==="top"?"left":"center")]:k5e[c||i]}function Ay(e,t,{defaultPos:n,defaultPos2:i,range:s}){return s?_G(e,t,{defaultPos:n,defaultPos2:i}):xi(e,t,{defaultPos:n})}function _G(e,t,{defaultPos:n,defaultPos2:i}){const{markDef:s,config:l}=t,c=oo(e),d=Es(e),f=B5e(t,i,c),u=f[d]?hG(e,s,l):Ql(e);return{...xi(e,t,{defaultPos:n,vgChannel:u}),...f}}function B5e(e,t,n){const{encoding:i,mark:s,markDef:l,stack:c,config:d}=e,f=cf(n),u=Es(n),a=Ql(n),y=i[f],w=e.scaleName(f),m=e.getScaleComponent(f),{offset:o}=n in i||n in l?rh({channel:n,markDef:l,encoding:i,model:e}):rh({channel:f,markDef:l,encoding:i,model:e});if(!y&&(n==="x2"||n==="y2")&&(i.latitude||i.longitude)){const L=Es(n),v=e.markDef[L];return v!=null?{[L]:{value:v}}:{[a]:{field:e.getName(n)}}}const b=F5e({channel:n,channelDef:y,channel2Def:i[n],markDef:l,config:d,scaleName:w,scale:m,stack:c,offset:o,defaultRef:void 0});return b!==void 0?{[a]:b}:W_(n,l)||W_(n,{[n]:by(n,l,d.style),[u]:by(u,l,d.style)})||W_(n,d[s])||W_(n,d.mark)||{[a]:Xv({model:e,defaultPos:t,channel:n,scaleName:w,scale:m})()}}function F5e({channel:e,channelDef:t,channel2Def:n,markDef:i,config:s,scaleName:l,scale:c,stack:d,offset:f,defaultRef:u}){return et(t)&&d&&e.charAt(0)===d.fieldChannel.charAt(0)?gd(t,l,{suffix:"start"},{offset:f}):vv({channel:e,channelDef:n,scaleName:l,scale:c,stack:d,markDef:i,config:s,offset:f,defaultRef:u})}function W_(e,t){const n=Es(e),i=Ql(e);if(t[i]!==void 0)return{[i]:Z1(e,t[i])};if(t[e]!==void 0)return{[i]:Z1(e,t[e])};if(t[n]){const s=t[n];if(Hd(s))we(vme(n));else return{[n]:Z1(e,s)}}}function tc(e,t){const{config:n,encoding:i,markDef:s}=e,l=s.type,c=oo(t),d=Es(t),f=i[t],u=i[c],a=e.getScaleComponent(t),y=a?a.get("type"):void 0,w=s.orient,m=i[d]??i.size??Gt("size",s,n,{vgChannel:d}),o=uq(t),b=l==="bar"&&(t==="x"?w==="vertical":w==="horizontal");return me(f)&&(dn(f.bin)||li(f.bin)||f.timeUnit&&!u)&&!(m&&!Hd(m))&&!i[o]&&!ii(y)?A5e({fieldDef:f,fieldDef2:u,channel:t,model:e}):(et(f)&&ii(y)||b)&&!u?M5e(f,t,e):_G(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function I5e(e,t,n,i,s,l,c){if(Hd(s))if(n){const f=n.get("type");if(f==="band"){let u=`bandwidth('${t}')`;s.band!==1&&(u=`${s.band} * ${u}`);const a=Go("minBandSize",{type:c},i);return{signal:a?`max(${Nr(a)}, ${u})`:u}}else s.band!==1&&(we(Nme(f)),s=void 0)}else return{mult:s.band,field:{group:e}};else{if(Ne(s))return s;if(s)return{value:s}}if(n){const f=n.get("range");if(bc(f)&&At(f.step))return{value:f.step-2}}if(!l){const{bandPaddingInner:f,barBandPaddingInner:u,rectBandPaddingInner:a}=i.scale,y=Fn(f,c==="bar"?u:a);if(Ne(y))return{signal:`(1 - (${y.signal})) * ${e}`};if(At(y))return{signal:`${1-y} * ${e}`}}return{value:Iy(i.view,e)-2}}function M5e(e,t,n){var R,D;const{markDef:i,encoding:s,config:l,stack:c}=n,d=i.orient,f=n.scaleName(t),u=n.getScaleComponent(t),a=Es(t),y=oo(t),w=uq(t),m=n.scaleName(w),o=n.getScaleComponent(tv(t)),b=d==="horizontal"&&t==="y"||d==="vertical"&&t==="x";let L;(s.size||i.size)&&(b?L=Wn("size",n,{vgChannel:a,defaultRef:hn(i.size)}):we(Dme(i.type)));const v=!!L,S=dV({channel:t,fieldDef:e,markDef:i,config:l,scaleType:(R=u||o)==null?void 0:R.get("type"),useVlSizeChannel:b});L=L||{[a]:I5e(a,m||f,o||u,l,S,!!e,i.type)};const x=((D=u||o)==null?void 0:D.get("type"))==="band"&&Hd(S)&&!v?"top":"middle",F=hG(t,i,l,x),k=F==="xc"||F==="yc",{offset:A,offsetType:M}=rh({channel:t,markDef:i,encoding:s,model:n,bandPosition:k?.5:0}),C=vv({channel:t,channelDef:e,markDef:i,config:l,scaleName:f,scale:u,stack:c,offset:A,defaultRef:Xv({model:n,defaultPos:"mid",channel:t,scaleName:f,scale:u}),bandPosition:k?M==="encoding"?0:.5:Ne(S)?{signal:`(1-${S})/2`}:Hd(S)?(1-S.band)/2:0});if(a)return{[F]:C,...L};{const U=Ql(y),X=L[a],j=A?{...X,offset:A}:X;return{[F]:C,[U]:he(C)?[C[0],{...C[1],offset:j}]:{...C,offset:j}}}}function HM(e,t,n,i,s,l,c){if(aq(e))return 0;const d=e==="x"||e==="y2",f=d?-t/2:t/2;if(Ne(n)||Ne(s)||Ne(i)||l){const u=Nr(n),a=Nr(s),y=Nr(i),w=Nr(l),o=l?`(${c} < ${w} ? ${d?"":"-"}0.5 * (${w} - (${c})) : ${f})`:f,b=y?`${y} + `:"",L=u?`(${u} ? -1 : 1) * `:"",v=a?`(${a} + ${o})`:o;return{signal:b+L+v}}else return s=s||0,i+(n?-s-f:+s+f)}function A5e({fieldDef:e,fieldDef2:t,channel:n,model:i}){var D;const{config:s,markDef:l,encoding:c}=i,d=i.getScaleComponent(n),f=i.scaleName(n),u=d?d.get("type"):void 0,a=d.get("reverse"),y=dV({channel:n,fieldDef:e,markDef:l,config:s,scaleType:u}),w=(D=i.component.axes[n])==null?void 0:D[0],m=(w==null?void 0:w.get("translate"))??.5,o=In(n)?Gt("binSpacing",l,s)??0:0,b=oo(n),L=Ql(n),v=Ql(b),S=Go("minBandSize",l,s),{offset:x}=rh({channel:n,markDef:l,encoding:c,model:i,bandPosition:0}),{offset:F}=rh({channel:b,markDef:l,encoding:c,model:i,bandPosition:0}),k=rwe({fieldDef:e,scaleName:f}),A=HM(n,o,a,m,x,S,k),M=HM(b,o,a,m,F??x,S,k),C=Ne(y)?{signal:`(1-${y.signal})/2`}:Hd(y)?(1-y.band)/2:.5,R=Jl({fieldDef:e,fieldDef2:t,markDef:l,config:s});if(dn(e.bin)||e.timeUnit){const U=e.timeUnit&&R!==.5;return{[v]:zM({fieldDef:e,scaleName:f,bandPosition:C,offset:M,useRectOffsetField:U}),[L]:zM({fieldDef:e,scaleName:f,bandPosition:Ne(C)?{signal:`1-${C.signal}`}:1-C,offset:A,useRectOffsetField:U})}}else if(li(e.bin)){const U=gd(e,f,{},{offset:M});if(me(t))return{[v]:U,[L]:gd(t,f,{},{offset:A})};if(df(e.bin)&&e.bin.step)return{[v]:U,[L]:{signal:`scale("${f}", ${ve(e,{expr:"datum"})} + ${e.bin.step})`,offset:A}}}we(Aq(b))}function zM({fieldDef:e,scaleName:t,bandPosition:n,offset:i,useRectOffsetField:s}){return vy({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:i,...s?{startSuffix:jm,endSuffix:qm}:{}})}const O5e=new Set(["aria","width","height"]);function _r(e,t){const{fill:n=void 0,stroke:i=void 0}=t.color==="include"?uG(e):{};return{...N5e(e.markDef,t),...jM(e,"fill",n),...jM(e,"stroke",i),...Wn("opacity",e),...Wn("fillOpacity",e),...Wn("strokeOpacity",e),...Wn("strokeWidth",e),...Wn("strokeDash",e),...v5e(e),...dG(e),...Yv(e,"href"),...b5e(e)}}function jM(e,t,n){const{config:i,mark:s,markDef:l}=e;if(Gt("invalid",l,i)==="hide"&&n&&!Tc(s)){const d=C5e(e,{invalid:!0,channels:vm});if(d)return{[t]:[{test:d,value:null},...Fe(n)]}}return n?{[t]:n}:{}}function N5e(e,t){return Q4e.reduce((n,i)=>(!O5e.has(i)&&e[i]!==void 0&&t[i]!=="ignore"&&(n[i]=hn(e[i])),n),{})}function C5e(e,{invalid:t=!1,channels:n}){const i=n.reduce((l,c)=>{const d=e.getScaleComponent(c);if(d){const f=d.get("type"),u=e.vgField(c,{expr:"datum"});u&&js(f)&&(l[u]=!0)}return l},{}),s=ge(i);if(s.length>0){const l=t?"||":"&&";return s.map(c=>Sv(c,t)).join(` ${l} `)}}function Kv(e){const{config:t,markDef:n}=e;if(Gt("invalid",n,t)){const s=R5e(e,{channels:lo});if(s)return{defined:{signal:s}}}return{}}function R5e(e,{invalid:t=!1,channels:n}){const i=n.reduce((l,c)=>{var f;const d=e.getScaleComponent(c);if(d){const u=d.get("type"),a=e.vgField(c,{expr:"datum",binSuffix:(f=e.stack)!=null&&f.impute?"mid":void 0});a&&js(u)&&(l[a]=!0)}return l},{}),s=ge(i);if(s.length>0){const l=t?"||":"&&";return s.map(c=>Sv(c,t)).join(` ${l} `)}}function qM(e,t){if(t!==void 0)return{[e]:hn(t)}}const zw="voronoi",pG={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(zw)},marks:(e,t,n)=>{const{x:i,y:s}=t.project.hasChannel,l=e.mark;if(Tc(l))return we(sme(l)),n;const c={name:e.getName(zw),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...dG(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:i||!s?"datum.datum.x || 0":"0"},y:{expr:s||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let d=0,f=!1;return n.forEach((u,a)=>{const y=u.name??"";y===e.component.mark[0].name?d=a:y.indexOf(zw)>=0&&(f=!0)}),f||n.splice(d+1,0,c),n}},gG={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!$v(e.bind),parse:(e,t,n)=>vG(t,n),topLevelSignals:(e,t,n)=>{const i=t.name,s=t.project,l=t.bind,c=t.init&&t.init[0],d=pG.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.items.forEach((f,u)=>{const a=pn(`${i}_${f.field}`);n.filter(w=>w.name===a).length||n.unshift({name:a,...c?{init:jd(c[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${d}[${Le(f.field)}] : null`}]:[],bind:l[f.field]??l[f.channel]??l})}),n},signals:(e,t,n)=>{const i=t.name,s=t.project,l=n.filter(u=>u.name===i+nc)[0],c=i+K0,d=s.items.map(u=>pn(`${i}_${u.field}`)),f=d.map(u=>`${u} !== null`).join(" && ");return d.length&&(l.update=`${f} ? {fields: ${c}, values: [${d.join(", ")}]} : null`),delete l.value,delete l.on,n}},Oy="_toggle",yG={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Oy,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+nc,i=t.name+Oy;return`${i} ? null : ${n}, `+(t.resolve==="global"?`${i} ? null : true, `:`${i} ? null : {unit: ${md(e)}}, `)+`${i} ? ${n} : null`}},P5e={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=ke(t.clear)?_c(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(gG.defined(t))for(const i of t.project.items){const s=n.findIndex(l=>l.name===pn(`${t.name}_${i.field}`));s!==-1&&n[s].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function i(s,l){s!==-1&&n[s].on&&n[s].on.push({events:t.clear,update:l})}if(t.type==="interval")for(const s of t.project.items){const l=n.findIndex(c=>c.name===s.signals.visual);if(i(l,"[0, 0]"),l===-1){const c=n.findIndex(d=>d.name===s.signals.data);i(c,"null")}}else{let s=n.findIndex(l=>l.name===t.name+nc);i(s,"null"),yG.defined(t)&&(s=n.findIndex(l=>l.name===t.name+Oy),i(s,"false"))}return n}},mG={defined:e=>{const t=e.resolve==="global"&&e.bind&&$v(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Xr;return t&&!n&&we(ome),t&&n},parse:(e,t,n)=>{const i=Je(n);if(i.select=ke(i.select)?{type:i.select,toggle:t.toggle}:{...i.select,toggle:t.toggle},vG(t,i),Ie(n.select)&&(n.select.on||n.select.clear)){const c='event.item && indexof(event.item.mark.role, "legend") < 0';for(const d of t.events)d.filter=Fe(d.filter??[]),d.filter.includes(c)||d.filter.push(c)}const s=Dw(t.bind)?t.bind.legend:"click",l=ke(s)?_c(s,"view"):Fe(s);t.bind={legend:{merge:l}}},topLevelSignals:(e,t,n)=>{const i=t.name,s=Dw(t.bind)&&t.bind.legend,l=c=>d=>{const f=Je(d);return f.markname=c,f};for(const c of t.project.items){if(!c.hasLegend)continue;const d=`${pn(c.field)}_legend`,f=`${i}_${d}`;if(n.filter(a=>a.name===f).length===0){const a=s.merge.map(l(`${d}_symbols`)).concat(s.merge.map(l(`${d}_labels`))).concat(s.merge.map(l(`${d}_entries`)));n.unshift({name:f,...t.init?{}:{value:null},on:[{events:a,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${f}`,force:!0}]})}}return n},signals:(e,t,n)=>{const i=t.name,s=t.project,l=n.find(w=>w.name===i+nc),c=i+K0,d=s.items.filter(w=>w.hasLegend).map(w=>pn(`${i}_${pn(w.field)}_legend`)),u=`${d.map(w=>`${w} !== null`).join(" && ")} ? {fields: ${c}, values: [${d.join(", ")}]} : null`;t.events&&d.length>0?l.on.push({events:d.map(w=>({signal:w})),update:u}):d.length>0&&(l.update=u,delete l.value,delete l.on);const a=n.find(w=>w.name===i+Oy),y=Dw(t.bind)&&t.bind.legend;return a&&(t.events?a.on.push({...a.on[0],events:y}):a.on[0].events=y),n}};function D5e(e,t,n){var s;const i=(s=e.fieldDef(t))==null?void 0:s.field;for(const l of _i(e.component.selection??{})){const c=l.project.hasField[i]??l.project.hasChannel[t];if(c&&mG.defined(l)){const d=n.get("selections")??[];d.push(l.name),n.set("selections",d,!1),c.hasLegend=!0}}}const wG="_translate_anchor",LG="_translate_delta",U5e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const i=t.name,s=Po.defined(t),l=i+wG,{x:c,y:d}=t.project.hasChannel;let f=_c(t.translate,"scope");return s||(f=f.map(u=>(u.between[0].markname=i+hu,u))),n.push({name:l,value:{},on:[{events:f.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(c!==void 0?`, extent_x: ${s?w8(e,gn):`slice(${c.signals.visual})`}`:"")+(d!==void 0?`, extent_y: ${s?w8(e,ri):`slice(${d.signals.visual})`}`:"")+"}"}]},{name:i+LG,value:{},on:[{events:f,update:`{x: ${l}.x - x(unit), y: ${l}.y - y(unit)}`}]}),c!==void 0&&VM(e,t,c,"width",n),d!==void 0&&VM(e,t,d,"height",n),n}};function VM(e,t,n,i,s){const l=t.name,c=l+wG,d=l+LG,f=n.channel,u=Po.defined(t),a=s.filter(k=>k.name===n.signals[u?"data":"visual"])[0],y=e.getSizeSignalRef(i).signal,w=e.getScaleComponent(f),m=w&&w.get("type"),o=w&&w.get("reverse"),b=u?f===gn?o?"":"-":o?"-":"":"",L=`${c}.extent_${f}`,v=`${b}${d}.${f} / ${u?`${y}`:`span(${L})`}`,S=!u||!w?"panLinear":m==="log"?"panLog":m==="symlog"?"panSymlog":m==="pow"?"panPow":"panLinear",x=u?m==="pow"?`, ${w.get("exponent")??1}`:m==="symlog"?`, ${w.get("constant")??1}`:"":"",F=`${S}(${L}, ${v}${x})`;a.on.push({events:{signal:d},update:u?F:`clampRange(${F}, 0, ${y})`})}const bG="_zoom_anchor",TG="_zoom_delta",$5e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const i=t.name,s=Po.defined(t),l=i+TG,{x:c,y:d}=t.project.hasChannel,f=Le(e.scaleName(gn)),u=Le(e.scaleName(ri));let a=_c(t.zoom,"scope");return s||(a=a.map(y=>(y.markname=i+hu,y))),n.push({name:i+bG,on:[{events:a,update:s?"{"+[f?`x: invert(${f}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(y=>y).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:l,on:[{events:a,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),c!==void 0&&GM(e,t,c,"width",n),d!==void 0&&GM(e,t,d,"height",n),n}};function GM(e,t,n,i,s){const l=t.name,c=n.channel,d=Po.defined(t),f=s.filter(S=>S.name===n.signals[d?"data":"visual"])[0],u=e.getSizeSignalRef(i).signal,a=e.getScaleComponent(c),y=a&&a.get("type"),w=d?w8(e,c):f.name,m=l+TG,o=`${l}${bG}.${c}`,b=!d||!a?"zoomLinear":y==="log"?"zoomLog":y==="symlog"?"zoomSymlog":y==="pow"?"zoomPow":"zoomLinear",L=d?y==="pow"?`, ${a.get("exponent")??1}`:y==="symlog"?`, ${a.get("constant")??1}`:"":"",v=`${b}(${w}, ${o}, ${m}${L})`;f.on.push({events:{signal:m},update:d?v:`clampRange(${v}, 0, ${u})`})}const qd="_store",nc="_tuple",H5e="_modify",EG="vlSelectionResolve",Gm=[L5e,m5e,g5e,yG,gG,Po,mG,P5e,U5e,$5e,pG];function z5e(e){let t=e.parent;for(;t&&!zr(t);)t=t.parent;return t}function md(e,{escape:t}={escape:!0}){let n=t?Le(e.name):e.name;const i=z5e(e);if(i){const{facet:s}=i;for(const l of Qs)s[l]&&(n+=` + '__facet_${l}_' + (facet[${Le(i.vgField(l))}])`)}return n}function Zv(e){return _i(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function vG(e,t){(ke(t.select)||!t.select.on)&&delete e.events,(ke(t.select)||!t.select.clear)&&delete e.clear,(ke(t.select)||!t.select.toggle)&&delete e.toggle}function L8(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...L8(e.object)),t.push(...L8(e.property))),t)}function SG(e){return e.object.type==="MemberExpression"?SG(e.object):e.object.name==="datum"}function xG(e){const t=gE(e),n=new Set;return t.visit(i=>{i.type==="MemberExpression"&&SG(i)&&n.add(L8(i).slice(1).join("."))}),n}class Mh extends Kt{clone(){return new Mh(null,this.model,Je(this.filter))}constructor(t,n,i){super(t),this.model=n,this.filter=i,this.expr=Ny(this.model,this.filter,this),this._dependentFields=xG(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function j5e(e,t){const n={},i=e.config.selection;if(!t||!t.length)return n;for(const s of t){const l=pn(s.name),c=s.select,d=ke(c)?c:c.type,f=Ie(c)?Je(c):{type:d},u=i[d];for(const w in u)w==="fields"||w==="encodings"||(w==="mark"&&(f[w]={...u[w],...f[w]}),(f[w]===void 0||f[w]===!0)&&(f[w]=Je(u[w]??f[w])));const a=n[l]={...f,name:l,type:d,init:s.value,bind:s.bind,events:ke(f.on)?_c(f.on,"scope"):Fe(Je(f.on))},y=Je(s);for(const w of Gm)w.defined(a)&&w.parse&&w.parse(e,a,y)}return n}function kG(e,t,n,i="datum"){const s=ke(t)?t:t.param,l=pn(s),c=Le(l+qd);let d;try{d=e.getSelectionComponent(l,s)}catch{return`!!${l}`}if(d.project.timeUnit){const w=n??e.component.data.raw,m=d.project.timeUnit.clone();w.parent?m.insertAsParentOf(w):w.parent=m}const f=d.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=d.resolve==="global"?")":`, ${Le(d.resolve)})`,a=`${f}${c}, ${i}${u}`,y=`length(data(${c}))`;return t.empty===!1?`${y} && ${a}`:`!${y} || ${a}`}function BG(e,t,n){const i=pn(t),s=n.encoding;let l=n.field,c;try{c=e.getSelectionComponent(i,t)}catch{return i}if(!s&&!l)l=c.project.items[0].field,c.project.items.length>1&&we(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Le(l)}.`);else if(s&&!l){const d=c.project.items.filter(f=>f.channel===s);!d.length||d.length>1?(l=c.project.items[0].field,we((d.length?"Multiple ":"No ")+`matching ${Le(s)} encoding found for selection ${Le(n.param)}. Using "field": ${Le(l)}.`)):l=d[0].field}return`${c.name}[${Le(or(l))}]`}function q5e(e,t){for(const[n,i]of Zl(e.component.selection??{})){const s=e.getName(`lookup_${n}`);e.component.data.outputNodes[s]=i.materialized=new Ki(new Mh(t,e,{param:n}),s,cn.Lookup,e.component.data.outputNodeRefCounts)}}function Ny(e,t,n){return K1(t,i=>ke(i)?i:b6e(i)?kG(e,i,n):qq(i))}function V5e(e,t){if(e)return he(e)&&!ml(e)?e.map(n=>Mv(n,t)).join(", "):e}function jw(e,t,n,i){var s,l;e.encode??(e.encode={}),(s=e.encode)[t]??(s[t]={}),(l=e.encode[t]).update??(l.update={}),e.encode[t].update[n]=i}function O1(e,t,n,i={header:!1}){var y,w;const{disable:s,orient:l,scale:c,labelExpr:d,title:f,zindex:u,...a}=e.combine();if(!s){for(const m in a){const o=vwe[m],b=a[m];if(o&&o!==t&&o!=="both")delete a[m];else if(X0(b)){const{condition:L,...v}=b,S=Fe(L),x=LM[m];if(x){const{vgProp:F,part:k}=x,A=[...S.map(M=>{const{test:C,...R}=M;return{test:Ny(null,C),...R}}),v];jw(a,k,F,A),delete a[m]}else if(x===null){const F={signal:S.map(k=>{const{test:A,...M}=k;return`${Ny(null,A)} ? ${sM(M)} : `}).join("")+sM(v)};a[m]=F}}else if(Ne(b)){const L=LM[m];if(L){const{vgProp:v,part:S}=L;jw(a,S,v,b),delete a[m]}}St(["labelAlign","labelBaseline"],m)&&a[m]===null&&delete a[m]}if(t==="grid"){if(!a.grid)return;if(a.encode){const{grid:m}=a.encode;a.encode={...m?{grid:m}:{}},Jt(a.encode)&&delete a.encode}return{scale:c,orient:l,...a,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fn(u,0)}}else{if(!i.header&&e.mainExtracted)return;if(d!==void 0){let o=d;(w=(y=a.encode)==null?void 0:y.labels)!=null&&w.update&&Ne(a.encode.labels.update.text)&&(o=Pd(d,"datum.label",a.encode.labels.update.text.signal)),jw(a,"labels","text",{signal:o})}if(a.labelAlign===null&&delete a.labelAlign,a.encode){for(const o of LV)e.hasAxisPart(o)||delete a.encode[o];Jt(a.encode)&&delete a.encode}const m=V5e(f,n);return{scale:c,orient:l,grid:!1,...m?{title:m}:{},...a,...n.aria===!1?{aria:!1}:{},zindex:Fn(u,0)}}}}function FG(e){const{axes:t}=e.component,n=[];for(const i of lo)if(t[i]){for(const s of t[i])if(!s.get("disable")&&!s.get("gridScale")){const l=i==="x"?"height":"width",c=e.getSizeSignalRef(l).signal;l!==c&&n.push({name:l,update:c})}}return n}function G5e(e,t){const{x:n=[],y:i=[]}=e;return[...n.map(s=>O1(s,"grid",t)),...i.map(s=>O1(s,"grid",t)),...n.map(s=>O1(s,"main",t)),...i.map(s=>O1(s,"main",t))].filter(s=>s)}function WM(e,t,n,i){return Object.assign.apply(null,[{},...e.map(s=>{if(s==="axisOrient"){const l=n==="x"?"bottom":"left",c=t[n==="x"?"axisBottom":"axisLeft"]||{},d=t[n==="x"?"axisTop":"axisRight"]||{},f=new Set([...ge(c),...ge(d)]),u={};for(const a of f.values())u[a]={signal:`${i.signal} === "${l}" ? ${Nr(c[a])} : ${Nr(d[a])}`};return u}return t[s]})])}function W5e(e,t,n,i){const s=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Yq(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],l=e==="x"?"axisX":"axisY",c=Ne(n)?"axisOrient":`axis${U0(n)}`,d=[...s,...s.map(u=>l+u.substr(4))],f=["axis",c,l];return{vlOnlyAxisConfig:WM(d,i,e,n),vgAxisConfig:WM(f,i,e,n),axisConfigStyle:Y5e([...f,...d],i)}}function Y5e(e,t){var i;const n=[{}];for(const s of e){let l=(i=t[s])==null?void 0:i.style;if(l){l=Fe(l);for(const c of l)n.push(t.style[c])}}return Object.assign.apply(null,n)}function b8(e,t,n,i={}){var l;const s=Tq(e,n,t);if(s!==void 0)return{configFrom:"style",configValue:s};for(const c of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((l=i[c])==null?void 0:l[e])!==void 0)return{configFrom:c,configValue:i[c][e]};return{}}const YM={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??X5e(n,e),gridScale:({model:e,channel:t})=>K5e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelAlign||MG(t,n,i),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelBaseline||IG(t,n,i),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??Q5e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??J5e(t.type,n,me(t)&&!!t.timeUnit,me(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:i,scaleType:s})=>{const l=e==="x"?"width":e==="y"?"height":void 0,c=l?t.getSizeSignalRef(l):void 0;return n.tickCount??t8e({fieldOrDatumDef:i,scaleType:s,size:c,values:n.values})},tickMinStep:n8e,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const i=AG(t,n);if(i!==void 0)return i;const s=t.typedFieldDef(n),l=n==="x"?"x2":"y2",c=t.fieldDef(l);return vq(s?[mM(s)]:[],me(c)?[mM(c)]:[])},values:({axis:e,fieldOrDatumDef:t})=>i8e(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??s8e(n,t)};function X5e(e,t){return!ii(e)&&me(t)&&!dn(t==null?void 0:t.bin)&&!li(t==null?void 0:t.bin)}function K5e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function Z5e(e,t,n,i,s){const l=t==null?void 0:t.labelAngle;if(l!==void 0)return Ne(l)?l:D2(l);{const{configValue:c}=b8("labelAngle",i,t==null?void 0:t.style,s);return c!==void 0?D2(c):n===gn&&St([Lv,wv],e.type)&&!(me(e)&&e.timeUnit)?270:void 0}}function T8(e){return`(((${e.signal} % 360) + 360) % 360)`}function IG(e,t,n,i){if(e!==void 0)if(n==="x"){if(Ne(e)){const s=T8(e),l=Ne(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${s} && ${s} < 135) || (225 < ${s} && ${s} < 315) ? "middle" :(${s} <= 45 || 315 <= ${s}) === ${l} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ne(t)){const s=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${s} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ne(e)){const s=T8(e),l=Ne(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${s} <= 45 || 315 <= ${s} || (135 <= ${s} && ${s} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${s} && ${s} <= 135) === ${l} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return i?"middle":null;if(Ne(t)){const s=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${s} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function MG(e,t,n){if(e===void 0)return;const i=n==="x",s=i?0:90,l=i?"bottom":"left";if(Ne(e)){const c=T8(e),d=Ne(t)?`(${t.signal} === "${l}")`:t===l;return{signal:`(${s?`(${c} + 90)`:c} % 180 === 0) ? ${i?null:'"center"'} :(${s} < ${c} && ${c} < ${180+s}) === ${d} ? "left" : "right"`}}if((e+s)%180===0)return i?null:"center";if(Ne(t)){const c=s<e&&e<180+s?"===":"!==";return{signal:`${`${t.signal} ${c} "${l}"`} ? "left" : "right"`}}return(s<e&&e<180+s)==(t===l)?"left":"right"}function Q5e(e,t){if(t==="x"&&St(["quantitative","temporal"],e))return!0}function J5e(e,t,n,i){if(n&&!Ie(i)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function e8e(e){return e==="x"?"bottom":"left"}function t8e({fieldOrDatumDef:e,scaleType:t,size:n,values:i}){var s;if(!i&&!ii(t)&&t!=="log"){if(me(e)){if(dn(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&St(["month","hours","day","quarter"],(s=Jn(e.timeUnit))==null?void 0:s.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function n8e({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(me(t)){const{timeUnit:n}=t;if(n){const i=Hq(n);if(i)return{signal:i}}}}function AG(e,t){const n=t==="x"?"x2":"y2",i=e.fieldDef(t),s=e.fieldDef(n),l=i?i.title:void 0,c=s?s.title:void 0;if(l&&c)return Sq(l,c);if(l)return l;if(c)return c;if(l!==void 0)return l;if(c!==void 0)return c}function i8e(e,t){const n=e.values;if(he(n))return wV(t,n);if(Ne(n))return n}function s8e(e,t){return e==="rect"&&xy(t)?1:0}class ah extends Kt{clone(){return new ah(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=xG(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((i,s)=>{if(hf(i)&&cV(i.sort)){const{field:l,timeUnit:c}=i,d=i.sort,f=d.map((u,a)=>`${qq({field:l,timeUnit:c,equal:u})} ? ${a} : `).join("")+d.length;t=new ah(t,{calculate:f,as:oh(i,s,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${vt(this.transform)}`}}function oh(e,t,n){return ve(e,{prefix:t,suffix:"sort_index",...n??{}})}function Wm(e,t){return St(["top","bottom"],t)?"column":St(["left","right"],t)||e==="row"?"row":"column"}function lh(e,t,n,i){const s=i==="row"?n.headerRow:i==="column"?n.headerColumn:n.headerFacet;return Fn((t||{})[e],s[e],n.header[e])}function Ym(e,t,n,i){const s={};for(const l of e){const c=lh(l,t||{},n,i);c!==void 0&&(s[l]=c)}return s}const Qv=["row","column"],Jv=["header","footer"];function r8e(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,s=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:l,titleAngle:c,titleOrient:d}=Ym(["titleAnchor","titleAngle","titleOrient"],s.header,i,t),f=Wm(t,d),u=D2(c);return{name:`${t}-title`,type:"group",role:`${f}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...NG(u,f),...OG(f,u,l),...CG(i,s,t,Gwe,PV)}}}function OG(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=MG(t,e==="row"?"left":"top",e==="row"?"y":"x");return i?{align:i}:{}}function NG(e,t){const n=IG(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function a8e(e,t){const n=e.component.layoutHeaders[t],i=[];for(const s of Jv)if(n[s])for(const l of n[s]){const c=l8e(e,t,s,n,l);c!=null&&i.push(c)}return i}function o8e(e,t){const{sort:n}=e;return Ma(n)?{field:ve(n,{expr:"datum"}),order:n.order??"ascending"}:he(n)?{field:oh(e,t,{expr:"datum"}),order:"ascending"}:{field:ve(e,{expr:"datum"}),order:n??"ascending"}}function E8(e,t,n){const{format:i,formatType:s,labelAngle:l,labelAnchor:c,labelOrient:d,labelExpr:f}=Ym(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=kv({fieldOrDatumDef:e,format:i,formatType:s,expr:"parent",config:n}).signal,a=Wm(t,d);return{text:{signal:f?Pd(Pd(f,"datum.label",u),"datum.value",ve(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...NG(l,a),...OG(a,l,c),...CG(n,e,t,Wwe,DV)}}function l8e(e,t,n,i,s){if(s){let l=null;const{facetFieldDef:c}=i,d=e.config?e.config:void 0;if(c&&s.labels){const{labelOrient:y}=Ym(["labelOrient"],c.header,d,t);(t==="row"&&!St(["top","bottom"],y)||t==="column"&&!St(["left","right"],y))&&(l=E8(c,t,d))}const f=zr(e)&&!G0(e.facet),u=s.axes,a=(u==null?void 0:u.length)>0;if(l||a){const y=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...i.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:o8e(c,t)}:{},...a&&f?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...l?{title:l}:{},...s.sizeSignal?{encode:{update:{[y]:s.sizeSignal}}}:{},...a?{axes:u}:{}}}}return null}const c8e={column:{start:0,end:1},row:{start:1,end:0}};function d8e(e,t){return c8e[t][e]}function f8e(e,t){const n={};for(const i of Qs){const s=e[i];if(s!=null&&s.facetFieldDef){const{titleAnchor:l,titleOrient:c}=Ym(["titleAnchor","titleOrient"],s.facetFieldDef.header,t,i),d=Wm(i,c),f=d8e(l,d);f!==void 0&&(n[d]=f)}}return Jt(n)?void 0:n}function CG(e,t,n,i,s){const l={};for(const c of i){if(!s[c])continue;const d=lh(c,t==null?void 0:t.header,e,n);d!==void 0&&(l[s[c]]=d)}return l}function eS(e){return[...Y_(e,"width"),...Y_(e,"height"),...Y_(e,"childWidth"),...Y_(e,"childHeight")]}function Y_(e,t){const n=t==="width"?"x":"y",i=e.component.layoutSize.get(t);if(!i||i==="merged")return[];const s=e.getSizeSignalRef(t).signal;if(i==="step"){const l=e.getScaleComponent(n);if(l){const c=l.get("type"),d=l.get("range");if(ii(c)&&bc(d)){const f=e.scaleName(n);return zr(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[XM(f,d)]:[XM(f,d),{name:s,update:RG(f,l,`domain('${f}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(i=="container"){const l=s.endsWith("width"),c=l?"containerSize()[0]":"containerSize()[1]",d=p8(e.config.view,l?"width":"height"),f=`isFinite(${c}) ? ${c} : ${d}`;return[{name:s,init:f,on:[{update:f,events:"window:resize"}]}]}else return[{name:s,value:i}]}function XM(e,t){const n=`${e}_step`;return Ne(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function RG(e,t,n){const i=t.get("type"),s=t.get("padding"),l=Fn(t.get("paddingOuter"),s);let c=t.get("paddingInner");return c=i==="band"?c!==void 0?c:s:1,`bandspace(${n}, ${Nr(c)}, ${Nr(l)}) * ${e}_step`}function PG(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function DG(e,t){return ge(e).reduce((n,i)=>{const s=e[i];return{...n,...Ih(t,s,i,l=>hn(l.value))}},{})}function UG(e,t){if(zr(t))return e==="theta"?"independent":"shared";if(Nh(t))return"shared";if(oS(t))return In(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function tS(e,t){const n=e.scale[t],i=In(t)?"axis":"legend";return n==="independent"?(e[i][t]==="shared"&&we(jme(t)),"independent"):e[i][t]||"shared"}const u8e={...Kwe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},$G=ge(u8e);class h8e extends sl{}const KM={symbols:_8e,gradient:p8e,labels:g8e,entries:y8e};function _8e(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:s,legendType:l}){if(l!=="symbol")return;const{markDef:c,encoding:d,config:f,mark:u}=n,a=c.filled&&u!=="trail";let y={...tme({},n,G6e),...uG(n,{filled:a})};const w=s.get("symbolOpacity")??f.legend.symbolOpacity,m=s.get("symbolFillColor")??f.legend.symbolFillColor,o=s.get("symbolStrokeColor")??f.legend.symbolStrokeColor,b=w===void 0?HG(d.opacity)??c.opacity:void 0;if(y.fill){if(i==="fill"||a&&i===bs)delete y.fill;else if(y.fill.field)m?delete y.fill:(y.fill=hn(f.legend.symbolBaseFillColor??"black"),y.fillOpacity=hn(b??1));else if(he(y.fill)){const L=v8(d.fill??d.color)??c.fill??(a&&c.color);L&&(y.fill=hn(L))}}if(y.stroke){if(i==="stroke"||!a&&i===bs)delete y.stroke;else if(y.stroke.field||o)delete y.stroke;else if(he(y.stroke)){const L=Fn(v8(d.stroke||d.color),c.stroke,a?c.color:void 0);L&&(y.stroke={value:L})}}if(i!==tl){const L=me(t)&&jG(n,s,t);L?y.opacity=[{test:L,...hn(b??1)},hn(f.legend.unselectedOpacity)]:b&&(y.opacity=hn(b))}return y={...y,...e},Jt(y)?void 0:y}function p8e(e,{model:t,legendType:n,legendCmpt:i}){if(n!=="gradient")return;const{config:s,markDef:l,encoding:c}=t;let d={};const u=(i.get("gradientOpacity")??s.legend.gradientOpacity)===void 0?HG(c.opacity)||l.opacity:void 0;return u&&(d.opacity=hn(u)),d={...d,...e},Jt(d)?void 0:d}function g8e(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:s}){const l=n.legend(i)||{},c=n.config,d=me(t)?jG(n,s,t):void 0,f=d?[{test:d,value:1},{value:c.legend.unselectedOpacity}]:void 0,{format:u,formatType:a}=l;let y;zd(a)?y=Rr({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:a,config:c}):u===void 0&&a===void 0&&c.customFormatTypes&&(t.type==="quantitative"&&c.numberFormatType?y=Rr({fieldOrDatumDef:t,field:"datum.value",format:c.numberFormat,formatType:c.numberFormatType,config:c}):t.type==="temporal"&&c.timeFormatType&&me(t)&&t.timeUnit===void 0&&(y=Rr({fieldOrDatumDef:t,field:"datum.value",format:c.timeFormat,formatType:c.timeFormatType,config:c})));const w={...f?{opacity:f}:{},...y?{text:y}:{},...e};return Jt(w)?void 0:w}function y8e(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function HG(e){return zG(e,(t,n)=>Math.max(t,n.value))}function v8(e){return zG(e,(t,n)=>Fn(t,n.value))}function zG(e,t){if(uwe(e))return Fe(e.condition).reduce(t,e.value);if(Yr(e))return e.value}function jG(e,t,n){const i=t.get("selections");if(!(i!=null&&i.length))return;const s=Le(n.field);return i.map(l=>`(!length(data(${Le(pn(l)+qd)})) || (${l}[${s}] && indexof(${l}[${s}], datum.value) >= 0))`).join(" || ")}const ZM={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:i,formatType:s}=t;return rV(e,e.type,i,s,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:i}=e;return aV(i,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??v8e(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??S8e(n),symbolType:({legend:e,markDef:t,channel:n,encoding:i})=>e.symbolType??w8e(t.type,n,i.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>uu(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(fu(n)&&Cr(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>m8e(t,e)};function m8e(e,t){const n=e.values;if(he(n))return wV(t,n);if(Ne(n))return n}function w8e(e,t,n,i){if(t!=="shape"){const s=v8(n)??i;if(s)return s}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function L8e(e){const{legend:t}=e;return Fn(t.type,b8e(e))}function b8e({channel:e,timeUnit:t,scaleType:n}){if(fu(e)){if(St(["quarter","month","day"],t))return"symbol";if(Cr(n))return"gradient"}return"symbol"}function T8e({legendConfig:e,legendType:t,orient:n,legend:i}){return i.direction??e[t?"gradientDirection":"symbolDirection"]??E8e(n,t)}function E8e(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function v8e({legendConfig:e,model:t,direction:n,orient:i,scaleType:s}){const{gradientHorizontalMaxLength:l,gradientHorizontalMinLength:c,gradientVerticalMaxLength:d,gradientVerticalMinLength:f}=e;if(Cr(s))return n==="horizontal"?i==="top"||i==="bottom"?QM(t,"width",c,l):c:QM(t,"height",f,d)}function QM(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function S8e(e){if(St(["quantile","threshold","log","symlog"],e))return"greedy"}function qG(e){const t=En(e)?x8e(e):I8e(e);return e.component.legends=t,t}function x8e(e){const{encoding:t}=e,n={};for(const i of[bs,...$V]){const s=Un(t[i]);!s||!e.getScaleComponent(i)||i===Ts&&me(s)&&s.type===Fh||(n[i]=F8e(e,i))}return n}function k8e(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function B8e(e,t,n,i){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(i==null?void 0:i.title))return!0}return e===(n||{})[t]}function F8e(e,t){var F;let n=e.legend(t);const{markDef:i,encoding:s,config:l}=e,c=l.legend,d=new h8e({},k8e(e,t));D5e(e,t,d);const f=n!==void 0?!n:c.disable;if(d.set("disable",f,n!==void 0),f)return d;n=n||{};const u=e.getScaleComponent(t).get("type"),a=Un(s[t]),y=me(a)?(F=Jn(a.timeUnit))==null?void 0:F.unit:void 0,w=n.orient||l.legend.orient||"right",m=L8e({legend:n,channel:t,timeUnit:y,scaleType:u}),o=T8e({legend:n,legendType:m,orient:w,legendConfig:c}),b={legend:n,channel:t,model:e,markDef:i,encoding:s,fieldOrDatumDef:a,legendConfig:c,config:l,scaleType:u,orient:w,legendType:m,direction:o};for(const k of $G){if(m==="gradient"&&k.startsWith("symbol")||m==="symbol"&&k.startsWith("gradient"))continue;const A=k in ZM?ZM[k](b):n[k];if(A!==void 0){const M=B8e(A,k,n,e.fieldDef(t));(M||l.legend[k]===void 0)&&d.set(k,A,M)}}const L=(n==null?void 0:n.encoding)??{},v=d.get("selections"),S={},x={fieldOrDatumDef:a,model:e,channel:t,legendCmpt:d,legendType:m};for(const k of["labels","legend","title","symbols","gradient","entries"]){const A=DG(L[k]??{},e),M=k in KM?KM[k](A,x):A;M!==void 0&&!Jt(M)&&(S[k]={...v!=null&&v.length&&me(a)?{name:`${pn(a.field)}_legend_${k}`}:{},...v!=null&&v.length?{interactive:!!v}:{},update:M})}return Jt(S)||d.set("encode",S,!!(n!=null&&n.encoding)),d}function I8e(e){const{legends:t,resolve:n}=e.component;for(const i of e.children){qG(i);for(const s of ge(i.component.legends))n.legend[s]=tS(e.component.resolve,s),n.legend[s]==="shared"&&(t[s]=VG(t[s],i.component.legends[s]),t[s]||(n.legend[s]="independent",delete t[s]))}for(const i of ge(t))for(const s of e.children)s.component.legends[i]&&n.legend[i]==="shared"&&delete s.component.legends[i];return t}function VG(e,t){var l,c,d,f;if(!e)return t.clone();const n=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(n.explicit&&i.explicit&&n.value!==i.value)return;let s=!1;for(const u of $G){const a=ec(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(y,w)=>{switch(u){case"symbolType":return M8e(y,w);case"title":return xq(y,w);case"type":return s=!0,ks("symbol")}return zm(y,w,u,"legend")});e.setWithExplicit(u,a)}return s&&((c=(l=e.implicit)==null?void 0:l.encode)!=null&&c.gradient&&Ly(e.implicit,["encode","gradient"]),(f=(d=e.explicit)==null?void 0:d.encode)!=null&&f.gradient&&Ly(e.explicit,["encode","gradient"])),e}function M8e(e,t){return t.value==="circle"?t:e}function A8e(e,t,n,i){var s,l;e.encode??(e.encode={}),(s=e.encode)[t]??(s[t]={}),(l=e.encode[t]).update??(l.update={}),e.encode[t].update[n]=i}function GG(e){const t=e.component.legends,n={};for(const s of ge(t)){const l=e.getScaleComponent(s),c=en(l.get("domains"));if(n[c])for(const d of n[c])VG(d,t[s])||n[c].push(t[s]);else n[c]=[t[s].clone()]}return _i(n).flat().map(s=>O8e(s,e.config)).filter(s=>s!==void 0)}function O8e(e,t){var c,d,f;const{disable:n,labelExpr:i,selections:s,...l}=e.combine();if(!n){if(t.aria===!1&&l.aria==null&&(l.aria=!1),(c=l.encode)!=null&&c.symbols){const u=l.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!l.stroke&&(u.stroke={value:"transparent"});for(const a of $V)l[a]&&delete u[a]}if(l.title||delete l.title,i!==void 0){let u=i;(f=(d=l.encode)==null?void 0:d.labels)!=null&&f.update&&Ne(l.encode.labels.update.text)&&(u=Pd(i,"datum.label",l.encode.labels.update.text.signal)),A8e(l,"labels","text",{signal:u})}return l}}function N8e(e){return Nh(e)||oS(e)?C8e(e):WG(e)}function C8e(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),WG(e))}function WG(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n;if(t.data){const s={signal:`[${t.size.map(c=>c.signal).join(", ")}]`},l=t.data.reduce((c,d)=>{const f=Ne(d)?d.signal:`data('${e.lookupDataSource(d)}')`;return St(c,f)||c.push(f),c},[]);if(l.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:i,size:s,fit:{signal:l.length>1?`[${l.join(", ")}]`:l[0]},...n}]}else return[{name:i,translate:{signal:"[width / 2, height / 2]"},...n}]}const R8e=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class YG extends sl{constructor(t,n,i,s){super({...n},{name:t}),this.specifiedProjection=n,this.size=i,this.data=s,this.merged=!1}get isFit(){return!!this.data}}function XG(e){e.component.projection=En(e)?P8e(e):$8e(e)}function P8e(e){if(e.hasProjection){const t=as(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),i=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,s=n?D8e(e):void 0,l=new YG(e.projectionName(!0),{...as(e.config.projection)??{},...t??{}},i,s);return l.get("type")||l.set("type","equalEarth",!1),l}}function D8e(e){const t=[],{encoding:n}=e;for(const i of[[sa,ia],[lr,ra]])(Un(n[i[0]])||Un(n[i[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ts)&&e.typedFieldDef(Ts).type===Fh&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(cn.Main)),t}function U8e(e,t){const n=WE(R8e,s=>!!(!Ue(e.explicit,s)&&!Ue(t.explicit,s)||Ue(e.explicit,s)&&Ue(t.explicit,s)&&Rs(e.get(s),t.get(s))));if(Rs(e.size,t.size)){if(n)return e;if(Rs(e.explicit,{}))return t;if(Rs(t.explicit,{}))return e}return null}function $8e(e){if(e.children.length===0)return;let t;for(const i of e.children)XG(i);const n=WE(e.children,i=>{const s=i.component.projection;if(s)if(t){const l=U8e(t,s);return l&&(t=l),!!l}else return t=s,!0;else return!0});if(t&&n){const i=e.projectionName(!0),s=new YG(i,t.specifiedProjection,t.size,Je(t.data));for(const l of e.children){const c=l.component.projection;c&&(c.isFit&&s.data.push(...l.component.projection.data),l.renameProjection(c.get("name"),i),c.merged=!0)}return s}}function H8e(e,t,n,i){if(Y0(t,n)){const s=En(e)?e.axis(n)??e.legend(n)??{}:{},l=ve(t,{expr:"datum"}),c=ve(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ve(t,{binSuffix:"range",forAs:!0}),formula:V0(l,c,s.format,s.formatType,i)}}return{}}function KG(e,t){return`${mq(e)}_${t}`}function z8e(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function nS(e,t,n){const i=Rm(n,void 0)??{},s=KG(i,t);return e.getName(`${s}_bins`)}function j8e(e){return"as"in e}function JM(e,t,n){let i,s;j8e(e)?i=ke(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:i=[ve(e,{forAs:!0}),ve(e,{binSuffix:"end",forAs:!0})];const l={...Rm(t,void 0)},c=KG(l,e.field),{signal:d,extentSignal:f}=z8e(n,c);if(Sm(l.extent)){const a=l.extent;s=BG(n,a.param,a),delete l.extent}const u={bin:l,field:e.field,as:[i],...d?{signal:d}:{},...f?{extentSignal:f}:{},...s?{span:s}:{}};return{key:c,binComponent:u}}class Oa extends Kt{clone(){return new Oa(null,Je(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const i=n.reduceFieldDef((s,l,c)=>{if(Ji(l)&&dn(l.bin)){const{key:d,binComponent:f}=JM(l,l.bin,n);s[d]={...f,...s[d],...H8e(n,l,c,n.config)}}return s},{});return Jt(i)?null:new Oa(t,i)}static makeFromTransform(t,n,i){const{key:s,binComponent:l}=JM(n,n.bin,i);return new Oa(t,{[s]:l})}merge(t,n){for(const i of ge(t.bins))i in this.bins?(n(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=ka([...this.bins[i].as,...t.bins[i].as],vt)):this.bins[i]=t.bins[i];for(const i of t.children)t.removeChild(i),i.parent=this;t.remove()}producedFields(){return new Set(_i(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(_i(this.bins).map(t=>t.field))}hash(){return`Bin ${vt(this.bins)}`}assemble(){return _i(this.bins).flatMap(t=>{const n=[],[i,...s]=t.as,{extent:l,...c}=t.bin,d={type:"bin",field:or(t.field),as:i,signal:t.signal,...Sm(l)?{extent:null}:{extent:l},...t.span?{span:{signal:`span(${t.span})`}}:{},...c};!l&&t.extentSignal&&(n.push({type:"extent",field:or(t.field),signal:t.extentSignal}),d.extent={signal:t.extentSignal}),n.push(d);for(const f of s)for(let u=0;u<2;u++)n.push({type:"formula",expr:ve({field:i[u]},{expr:"datum"}),as:f[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function q8e(e,t,n,i){var l;const s=En(i)?i.encoding[oo(t)]:void 0;if(Ji(n)&&En(i)&&fV(n,s,i.markDef,i.config)){e.add(ve(n,{})),e.add(ve(n,{suffix:"end"}));const{mark:c,markDef:d,config:f}=i,u=Jl({fieldDef:n,markDef:d,config:f});U2(c)&&u!==.5&&In(t)&&(e.add(ve(n,{suffix:jm})),e.add(ve(n,{suffix:qm}))),n.bin&&Y0(n,t)&&e.add(ve(n,{binSuffix:"range"}))}else if(lq(t)){const c=oq(t);e.add(i.getName(c))}else e.add(ve(n));return hf(n)&&N6e((l=n.scale)==null?void 0:l.range)&&e.add(n.scale.range.field),e}function V8e(e,t){for(const n of ge(t)){const i=t[n];for(const s of ge(i))n in e?e[n][s]=new Set([...e[n][s]??[],...i[s]]):e[n]={[s]:i[s]}}}class Hr extends Kt{clone(){return new Hr(null,new Set(this.dimensions),Je(this.measures))}constructor(t,n,i){super(t),this.dimensions=n,this.measures=i}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let i=!1;n.forEachFieldDef(c=>{c.aggregate&&(i=!0)});const s={},l=new Set;return!i||(n.forEachFieldDef((c,d)=>{const{aggregate:f,field:u}=c;if(f)if(f==="count")s["*"]??(s["*"]={}),s["*"].count=new Set([ve(c,{forAs:!0})]);else{if(Vo(f)||Lc(f)){const a=Vo(f)?"argmin":"argmax",y=f[a];s[y]??(s[y]={}),s[y][a]=new Set([ve({op:a,field:y},{forAs:!0})])}else s[u]??(s[u]={}),s[u][f]=new Set([ve(c,{forAs:!0})]);nl(d)&&n.scaleDomain(d)==="unaggregated"&&(s[u]??(s[u]={}),s[u].min=new Set([ve({field:u,aggregate:"min"},{forAs:!0})]),s[u].max=new Set([ve({field:u,aggregate:"max"},{forAs:!0})]))}else q8e(l,d,c,n)}),l.size+ge(s).length===0)?null:new Hr(t,l,s)}static makeFromTransform(t,n){const i=new Set,s={};for(const l of n.aggregate){const{op:c,field:d,as:f}=l;c&&(c==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([f||ve(l,{forAs:!0})])):(s[d]??(s[d]={}),s[d][c]=new Set([f||ve(l,{forAs:!0})])))}for(const l of n.groupby??[])i.add(l);return i.size+ge(s).length===0?null:new Hr(t,i,s)}merge(t){return Jj(this.dimensions,t.dimensions)?(V8e(this.measures,t.measures),!0):(r6e("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ge(this.measures)])}producedFields(){const t=new Set;for(const n of ge(this.measures))for(const i of ge(this.measures[n])){const s=this.measures[n][i];s.size===0?t.add(`${i}_${n}`):s.forEach(t.add,t)}return t}hash(){return`Aggregate ${vt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],i=[];for(const l of ge(this.measures))for(const c of ge(this.measures[l]))for(const d of this.measures[l][c])i.push(d),t.push(c),n.push(l==="*"?null:or(l));return{type:"aggregate",groupby:[...this.dimensions].map(or),ops:t,fields:n,as:i}}}class Ah extends Kt{constructor(t,n,i,s){super(t),this.model=n,this.name=i,this.data=s;for(const l of Qs){const c=n.facet[l];if(c){const{bin:d,sort:f}=c;this[l]={name:n.getName(`${l}_domain`),fields:[ve(c),...dn(d)?[ve(c,{binSuffix:"end"})]:[]],...Ma(f)?{sortField:f}:he(f)?{sortIndexField:oh(c,l)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Qs)this[n]&&(t+=` ${n.charAt(0)}:${vt(this[n])}`);return t}get fields(){var n;const t=[];for(const i of Qs)(n=this[i])!=null&&n.fields&&t.push(...this[i].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Qs)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of lo){const i=this.childModel.component.scales[n];if(i&&!i.merged){const s=i.get("type"),l=i.get("range");if(ii(s)&&bc(l)){const c=Xm(this.childModel,n),d=aS(c);d?t[n]=d:we(ov(n))}}}return t}assembleRowColumnHeaderData(t,n,i){const s={row:"y",column:"x",facet:void 0}[t],l=[],c=[],d=[];s&&i&&i[s]&&(n?(l.push(`distinct_${i[s]}`),c.push("max")):(l.push(i[s]),c.push("distinct")),d.push(`distinct_${i[s]}`));const{sortField:f,sortIndexField:u}=this[t];if(f){const{op:a=Am,field:y}=f;l.push(y),c.push(a),d.push(ve(f,{forAs:!0}))}else u&&(l.push(u),c.push("max"),d.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...l.length?{fields:l,ops:c,as:d}:{}}]}}assembleFacetHeaderData(t){var f;const{columns:n}=this.model.layout,{layoutHeaders:i}=this.model.component,s=[],l={};for(const u of Qv){for(const a of Jv){const y=(i[u]&&i[u][a])??[];for(const w of y)if(((f=w.axes)==null?void 0:f.length)>0){l[u]=!0;break}}if(l[u]){const a=`length(data("${this.facet.name}"))`,y=u==="row"?n?{signal:`ceil(${a} / ${n})`}:1:n?{signal:`min(${a}, ${n})`}:{signal:a};s.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:y}]})}}const{row:c,column:d}=l;return(c||d)&&s.unshift(this.assembleRowColumnHeaderData("facet",null,t)),s}assemble(){const t=[];let n=null;const i=this.getChildIndependentFieldsWithStep(),{column:s,row:l,facet:c}=this;if(s&&l&&(i.x||i.y)){n=`cross_${this.column.name}_${this.row.name}`;const d=[].concat(i.x??[],i.y??[]),f=d.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:d,ops:f}]})}for(const d of[Ro,Co])this[d]&&t.push(this.assembleRowColumnHeaderData(d,n,i));if(c){const d=this.assembleFacetHeaderData(i);d&&t.push(...d)}return t}}function eA(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function G8e(e,t){const n=KE(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const i=eA(t.slice(5,t.length));return`timeParse(${n},'${i}')`}else if(t.startsWith("utc:")){const i=eA(t.slice(4,t.length));return`utcParse(${n},'${i}')`}else return we(_me(t)),null}function W8e(e){const t={};return Dp(e.filter,n=>{if(jq(n)){let i=null;fv(n)?i=Os(n.equal):hv(n)?i=Os(n.lte):uv(n)?i=Os(n.lt):_v(n)?i=Os(n.gt):pv(n)?i=Os(n.gte):gv(n)?i=n.range[0]:yv(n)&&(i=(n.oneOf??n.in)[0]),i&&(ff(i)?t[n.field]="date":At(i)?t[n.field]="number":ke(i)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function Y8e(e){const t={};function n(i){ih(i)?t[i.field]="date":i.type==="quantitative"&&G4e(i.aggregate)?t[i.field]="number":Ku(i.field)>1?i.field in t||(t[i.field]="flatten"):hf(i)&&Ma(i.sort)&&Ku(i.sort.field)>1&&(i.sort.field in t||(t[i.sort.field]="flatten"))}if((En(e)||zr(e))&&e.forEachFieldDef((i,s)=>{if(Ji(i))n(i);else{const l=cf(s),c=e.fieldDef(l);n({...i,type:c.type})}}),En(e)){const{mark:i,markDef:s,encoding:l}=e;if(Tc(i)&&!e.encoding.order){const c=s.orient==="horizontal"?"y":"x",d=l[c];me(d)&&d.type==="quantitative"&&!(d.field in t)&&(t[d.field]="number")}}return t}function X8e(e){const t={};if(En(e)&&e.component.selection)for(const n of ge(e.component.selection)){const i=e.component.selection[n];for(const s of i.project.items)!s.channel&&Ku(s.field)>1&&(t[s.field]="flatten")}return t}class ki extends Kt{clone(){return new ki(null,Je(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${vt(this._parse)}`}static makeExplicit(t,n,i){var c;let s={};const l=n.data;return!Cl(l)&&((c=l==null?void 0:l.format)!=null&&c.parse)&&(s=l.format.parse),this.makeWithAncestors(t,s,{},i)}static makeWithAncestors(t,n,i,s){for(const d of ge(i)){const f=s.getWithExplicit(d);f.value!==void 0&&(f.explicit||f.value===i[d]||f.value==="derived"||i[d]==="flatten"?delete i[d]:we(dM(d,i[d],f.value)))}for(const d of ge(n)){const f=s.get(d);f!==void 0&&(f===n[d]?delete n[d]:we(dM(d,n[d],f)))}const l=new sl(n,i);s.copyAll(l);const c={};for(const d of ge(l.combine())){const f=l.get(d);f!==null&&(c[d]=f)}return ge(c).length===0||s.parseNothing?null:new ki(t,c)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ge(this._parse)){const i=this._parse[n];Ku(n)===1&&(t[n]=i)}return t}producedFields(){return new Set(ge(this._parse))}dependentFields(){return new Set(ge(this._parse))}assembleTransforms(t=!1){return ge(this._parse).filter(n=>t?Ku(n)>1:!0).map(n=>{const i=G8e(n,this._parse[n]);return i?{type:"formula",expr:i,as:ZE(n)}:null}).filter(n=>n!==null)}}class ic extends Kt{clone(){return new ic(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Xr])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Xr}}}class Z0 extends Kt{clone(){return new Z0(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${vt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Q0 extends Kt{clone(){return new Q0(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${vt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Vd extends Kt{constructor(t){super(null),t??(t={name:"source"});let n;if(Cl(t)||(n=t.format?{...us(t.format,["parse"])}:{}),$2(t))this._data={values:t.values};else if(sh(t)){if(this._data={url:t.url},!n.type){let i=/(?:\.([^.]+))?$/.exec(t.url)[1];St(["json","csv","tsv","dsv","topojson"],i)||(i="json"),n.type=i}}else sG(t)?this._data={values:[{type:"Sphere"}]}:(nG(t)||Cl(t))&&(this._data={});this._generator=Cl(t),t.name&&(this._name=t.name),n&&!Jt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var tA=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},K8e=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)},N1;function iS(e){return e instanceof Vd||e instanceof Z0||e instanceof Q0}class sS{constructor(){N1.set(this,void 0),tA(this,N1,!1,"f")}setModified(){tA(this,N1,!0,"f")}get modifiedFlag(){return K8e(this,N1,"f")}}N1=new WeakMap;class _f extends sS{getNodeDepths(t,n,i){i.set(t,n);for(const s of t.children)this.getNodeDepths(s,n+1,i);return i}optimize(t){const i=[...this.getNodeDepths(t,0,new Map).entries()].sort((s,l)=>l[1]-s[1]);for(const s of i)this.run(s[0]);return this.modifiedFlag}}class rS extends sS{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Z8e extends rS{mergeNodes(t,n){const i=n.shift();for(const s of n)t.removeChild(s),s.parent=i,s.remove()}run(t){const n=t.children.map(s=>s.hash()),i={};for(let s=0;s<n.length;s++)i[n[s]]===void 0?i[n[s]]=[t.children[s]]:i[n[s]].push(t.children[s]);for(const s of ge(i))i[s].length>1&&(this.setModified(),this.mergeNodes(t,i[s]))}}class Q8e extends rS{constructor(t){super(),this.requiresSelectionId=t&&Zv(t)}run(t){t instanceof ic&&(this.requiresSelectionId&&(iS(t.parent)||t.parent instanceof Hr||t.parent instanceof ki)||(this.setModified(),t.remove()))}}class J8e extends sS{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let i=new Set;t instanceof Aa&&(i=t.producedFields(),YE(i,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const s of t.children)this.run(s,new Set([...n,...i]))}}class e9e extends rS{constructor(){super()}run(t){t instanceof Ki&&!t.isRequired()&&(this.setModified(),t.remove())}}class t9e extends _f{run(t){if(!iS(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ki)if(t instanceof ki)this.setModified(),t.merge(n);else{if(XE(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class n9e extends _f{run(t){const n=[...t.children],i=t.children.filter(s=>s instanceof ki);if(t.numChildren()>1&&i.length>=1){const s={},l=new Set;for(const c of i){const d=c.parse;for(const f of ge(d))f in s?s[f]!==d[f]&&l.add(f):s[f]=d[f]}for(const c of l)delete s[c];if(!Jt(s)){this.setModified();const c=new ki(t,s);for(const d of n){if(d instanceof ki)for(const f of ge(s))delete d.parse[f];t.removeChild(d),d.parent=c,d instanceof ki&&ge(d.parse).length===0&&d.remove()}}}}}class i9e extends _f{run(t){t instanceof Ki||t.numChildren()>0||t instanceof Ah||t instanceof Vd||(this.setModified(),t.remove())}}class s9e extends _f{run(t){const n=t.children.filter(s=>s instanceof Aa),i=n.pop();for(const s of n)this.setModified(),i.merge(s)}}class r9e extends _f{run(t){const n=t.children.filter(s=>s instanceof Hr),i={};for(const s of n){const l=vt(s.groupBy);l in i||(i[l]=[]),i[l].push(s)}for(const s of ge(i)){const l=i[s];if(l.length>1){const c=l.pop();for(const d of l)c.merge(d)&&(t.removeChild(d),d.parent=c,d.remove(),this.setModified())}}}}class a9e extends _f{constructor(t){super(),this.model=t}run(t){const n=!(iS(t)||t instanceof Mh||t instanceof ki||t instanceof ic),i=[],s=[];for(const l of t.children)l instanceof Oa&&(n&&!XE(t.producedFields(),l.dependentFields())?i.push(l):s.push(l));if(i.length>0){const l=i.pop();for(const c of i)l.merge(c,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Oa?t.merge(l,this.model.renameSignal.bind(this.model)):l.swapWithParent()}if(s.length>1){const l=s.pop();for(const c of s)l.merge(c,this.model.renameSignal.bind(this.model));this.setModified()}}}class o9e extends _f{run(t){const n=[...t.children];if(!Rd(n,c=>c instanceof Ki)||t.numChildren()<=1)return;const s=[];let l;for(const c of n)if(c instanceof Ki){let d=c;for(;d.numChildren()===1;){const[f]=d.children;if(f instanceof Ki)d=f;else break}s.push(...d.children),l?(t.removeChild(c),c.parent=l.parent,l.parent.removeChild(l),l.parent=d,this.setModified()):l=d}else s.push(c);if(s.length){this.setModified();for(const c of s)c.parent.removeChild(c),c.parent=l}}}class pf extends Kt{clone(){return new pf(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ka(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ve(t)}hash(){return`JoinAggregateTransform ${vt(this.transform)}`}assemble(){const t=[],n=[],i=[];for(const l of this.transform.joinaggregate)n.push(l.op),i.push(this.getDefaultName(l)),t.push(l.field===void 0?null:l.field);const s=this.transform.groupby;return{type:"joinaggregate",as:i,ops:n,fields:t,...s!==void 0?{groupby:s}:{}}}}function l9e(e){return e.stack.stackBy.reduce((t,n)=>{const i=n.fieldDef,s=ve(i);return s&&t.push(s),t},[])}function c9e(e){return he(e)&&e.every(t=>ke(t))&&e.length>1}class Do extends Kt{clone(){return new Do(null,Je(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:i,groupby:s,as:l,offset:c="zero"}=n,d=[],f=[];if(n.sort!==void 0)for(const y of n.sort)d.push(y.field),f.push(Fn(y.order,"ascending"));const u={field:d,order:f};let a;return c9e(l)?a=l:ke(l)?a=[l,`${l}_end`]:a=[`${n.stack}_start`,`${n.stack}_end`],new Do(t,{dimensionFieldDefs:[],stackField:i,groupby:s,offset:c,sort:u,facetby:[],as:a})}static makeFromEncoding(t,n){const i=n.stack,{encoding:s}=n;if(!i)return null;const{groupbyChannels:l,fieldChannel:c,offset:d,impute:f}=i,u=l.map(m=>{const o=s[m];return Wa(o)}).filter(m=>!!m),a=l9e(n),y=n.encoding.order;let w;if(he(y)||me(y))w=Eq(y);else{const m=uV(y)?y.sort:c==="y"?"descending":"ascending";w=a.reduce((o,b)=>(o.field.push(b),o.order.push(m),o),{field:[],order:[]})}return new Do(t,{dimensionFieldDefs:u,stackField:n.vgField(c),facetby:[],stackby:a,sort:w,offset:d,impute:f,as:[n.vgField(c,{suffix:"start",forAs:!0}),n.vgField(c,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${vt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:i}=this._stack;return t.length>0?t.map(s=>s.bin?n?[ve(s,{binSuffix:"mid"})]:[ve(s,{}),ve(s,{binSuffix:"end"})]:[ve(s)]).flat():i??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:i,stackField:s,stackby:l,sort:c,offset:d,impute:f,as:u}=this._stack;if(f)for(const a of i){const{bandPosition:y=.5,bin:w}=a;if(w){const m=ve(a,{expr:"datum"}),o=ve(a,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${y}*${m}+${1-y}*${o}`,as:ve(a,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:s,groupby:[...l,...n],key:ve(a,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:s,sort:c,as:u,offset:d}),t}}class Oh extends Kt{clone(){return new Oh(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ka(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ve(t)}hash(){return`WindowTransform ${vt(this.transform)}`}assemble(){const t=[],n=[],i=[],s=[];for(const y of this.transform.window)n.push(y.op),i.push(this.getDefaultName(y)),s.push(y.param===void 0?null:y.param),t.push(y.field===void 0?null:y.field);const l=this.transform.frame,c=this.transform.groupby;if(l&&l[0]===null&&l[1]===null&&n.every(y=>rv(y)))return{type:"joinaggregate",as:i,ops:n,fields:t,...c!==void 0?{groupby:c}:{}};const d=[],f=[];if(this.transform.sort!==void 0)for(const y of this.transform.sort)d.push(y.field),f.push(y.order??"ascending");const u={field:d,order:f},a=this.transform.ignorePeers;return{type:"window",params:s,as:i,ops:n,fields:t,sort:u,...a!==void 0?{ignorePeers:a}:{},...c!==void 0?{groupby:c}:{},...l!==void 0?{frame:l}:{}}}}function d9e(e){function t(n){if(!(n instanceof Ah)){const i=n.clone();if(i instanceof Ki){const s=x8+i.getSource();i.setSource(s),e.model.component.data.outputNodes[s]=i}else(i instanceof Hr||i instanceof Do||i instanceof Oh||i instanceof pf)&&i.addDimensions(e.fields);for(const s of n.children.flatMap(t))s.parent=i;return[i]}return n.children.flatMap(t)}return t}function S8(e){if(e instanceof Ah)if(e.numChildren()===1&&!(e.children[0]instanceof Ki)){const t=e.children[0];(t instanceof Hr||t instanceof Do||t instanceof Oh||t instanceof pf)&&t.addDimensions(e.fields),t.swapWithParent(),S8(e)}else{const t=e.model.component.data.main;ZG(t);const n=d9e(e),i=e.children.map(n).flat();for(const s of i)s.parent=t}else e.children.map(S8)}function ZG(e){if(e instanceof Ki&&e.type===cn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Ah||(t.swapWithParent(),ZG(e))}}const x8="scale_",X_=5;function k8(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!k8(t.children))return!1}return!0}function pr(e,t){let n=!1;for(const i of t)n=e.optimize(i)||n;return n}function nA(e,t,n){let i=e.sources,s=!1;return s=pr(new e9e,i)||s,s=pr(new Q8e(t),i)||s,i=i.filter(l=>l.numChildren()>0),s=pr(new i9e,i)||s,i=i.filter(l=>l.numChildren()>0),n||(s=pr(new t9e,i)||s,s=pr(new a9e(t),i)||s,s=pr(new J8e,i)||s,s=pr(new n9e,i)||s,s=pr(new r9e,i)||s,s=pr(new s9e,i)||s,s=pr(new Z8e,i)||s,s=pr(new o9e,i)||s),e.sources=i,s}function f9e(e,t){k8(e.sources);let n=0,i=0;for(let s=0;s<X_&&nA(e,t,!0);s++)n++;e.sources.map(S8);for(let s=0;s<X_&&nA(e,t,!1);s++)i++;k8(e.sources),Math.max(n,i)===X_&&we(`Maximum optimization runs(${X_}) reached.`)}class Vn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Vn(()=>t(n))}}function QG(e){En(e)?u9e(e):h9e(e)}function u9e(e){const t=e.component.scales;for(const n of ge(t)){const i=p9e(e,n);if(t[n].setWithExplicit("domains",i),y9e(e,n),e.component.data.isFaceted){let l=e;for(;!zr(l)&&l.parent;)l=l.parent;if(l.component.resolve.scale[n]==="shared")for(const d of i.value)Mo(d)&&(d.data=x8+d.data.replace(x8,""))}}}function h9e(e){for(const n of e.children)QG(n);const t=e.component.scales;for(const n of ge(t)){let i,s=null;for(const l of e.children){const c=l.component.scales[n];if(c){i===void 0?i=c.getWithExplicit("domains"):i=ec(i,c.getWithExplicit("domains"),"domains","scale",B8);const d=c.get("selectionExtent");s&&d&&s.param!==d.param&&we(dme),s=d}}t[n].setWithExplicit("domains",i),s&&t[n].set("selectionExtent",s,!0)}}function _9e(e,t,n,i){if(e==="unaggregated"){const{valid:s,reason:l}=iA(t,n);if(!s){we(l);return}}else if(e===void 0&&i.useUnaggregatedDomain){const{valid:s}=iA(t,n);if(s)return"unaggregated"}return e}function p9e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:i}=e,s=_9e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return s!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:s}),t==="x"&&Un(i.x2)?Un(i.x)?ec(dl(n,s,e,"x"),dl(n,s,e,"x2"),"domain","scale",B8):dl(n,s,e,"x2"):t==="y"&&Un(i.y2)?Un(i.y)?ec(dl(n,s,e,"y"),dl(n,s,e,"y2"),"domain","scale",B8):dl(n,s,e,"y2"):dl(n,s,e,t)}function g9e(e,t,n){return e.map(i=>({signal:`{data: ${Pm(i,{timeUnit:n,type:t})}}`}))}function qw(e,t,n){var s;const i=(s=Jn(n))==null?void 0:s.unit;return t==="temporal"||i?g9e(e,t,i):[e]}function dl(e,t,n,i){const{encoding:s,markDef:l,mark:c,config:d,stack:f}=n,u=Un(s[i]),{type:a}=u,y=u.timeUnit;if(O6e(t)){const o=dl(e,void 0,n,i),b=qw(t.unionWith,a,y);return _a([...b,...o.value])}else{if(Ne(t))return _a([t]);if(t&&t!=="unaggregated"&&!Kq(t))return _a(qw(t,a,y))}if(f&&i===f.fieldChannel){if(f.offset==="normalize")return ks([[0,1]]);const o=n.requestDataName(cn.Main);return ks([{data:o,field:n.vgField(i,{suffix:"start"})},{data:o,field:n.vgField(i,{suffix:"end"})}])}const w=nl(i)&&me(u)?m9e(n,i,e):void 0;if(co(u)){const o=qw([u.datum],a,y);return ks(o)}const m=u;if(t==="unaggregated"){const o=n.requestDataName(cn.Main),{field:b}=u;return ks([{data:o,field:ve({field:b,aggregate:"min"})},{data:o,field:ve({field:b,aggregate:"max"})}])}else if(dn(m.bin)){if(ii(e))return ks(e==="bin-ordinal"?[]:[{data:P2(w)?n.requestDataName(cn.Main):n.requestDataName(cn.Raw),field:n.vgField(i,Y0(m,i)?{binSuffix:"range"}:{}),sort:w===!0||!Ie(w)?{field:n.vgField(i,{}),op:"min"}:w}]);{const{bin:o}=m;if(dn(o)){const b=nS(n,m.field,o);return ks([new Vn(()=>{const L=n.getSignalName(b);return`[${L}.start, ${L}.stop]`})])}else return ks([{data:n.requestDataName(cn.Main),field:n.vgField(i,{})}])}}else if(m.timeUnit&&St(["time","utc"],e)){const o=s[oo(i)];if(fV(m,o,l,d)){const b=n.requestDataName(cn.Main),L=Jl({fieldDef:m,fieldDef2:o,markDef:l,config:d}),v=U2(c)&&L!==.5&&In(i);return ks([{data:b,field:n.vgField(i,v?{suffix:jm}:{})},{data:b,field:n.vgField(i,{suffix:v?qm:"end"})}])}}return ks(w?[{data:P2(w)?n.requestDataName(cn.Main):n.requestDataName(cn.Raw),field:n.vgField(i),sort:w}]:[{data:n.requestDataName(cn.Main),field:n.vgField(i)}])}function Vw(e,t){const{op:n,field:i,order:s}=e;return{op:n??(t?"sum":Am),...i?{field:or(i)}:{},...s?{order:s}:{}}}function y9e(e,t){var d;const n=e.component.scales[t],i=e.specifiedScales[t].domain,s=(d=e.fieldDef(t))==null?void 0:d.bin,l=Kq(i)&&i,c=df(s)&&Sm(s.extent)&&s.extent;(l||c)&&n.set("selectionExtent",l??c,!0)}function m9e(e,t,n){if(!ii(n))return;const i=e.fieldDef(t),s=i.sort;if(cV(s))return{op:"min",field:oh(i,t),order:"ascending"};const{stack:l}=e,c=l?new Set([...l.groupbyFields,...l.stackBy.map(d=>d.fieldDef.field)]):void 0;if(Ma(s)){const d=l&&!c.has(s.field);return Vw(s,d)}else if(lV(s)){const{encoding:d,order:f}=s,u=e.fieldDef(d),{aggregate:a,field:y}=u,w=l&&!c.has(y);if(Vo(a)||Lc(a))return Vw({field:ve(u),order:f},w);if(rv(a)||!a)return Vw({op:a,field:y,order:f},w)}else{if(s==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(St(["ascending",void 0],s))return!0}}function iA(e,t){const{aggregate:n,type:i}=e;return n?ke(n)&&!Y4e.has(n)?{valid:!1,reason:Rme(n)}:i==="quantitative"&&t==="log"?{valid:!1,reason:Pme(e)}:{valid:!0}:{valid:!1,reason:Cme(e)}}function B8(e,t,n,i){return e.explicit&&t.explicit&&we(zme(n,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function w9e(e){const t=ka(e.map(c=>{if(Mo(c)){const{sort:d,...f}=c;return f}return c}),vt),n=ka(e.map(c=>{if(Mo(c)){const d=c.sort;return d!==void 0&&!P2(d)&&("op"in d&&d.op==="count"&&delete d.field,d.order==="ascending"&&delete d.order),d}}).filter(c=>c!==void 0),vt);if(t.length===0)return;if(t.length===1){const c=e[0];if(Mo(c)&&n.length>0){let d=n[0];if(n.length>1){we(uM);const f=n.filter(u=>Ie(u)&&"op"in u&&u.op!=="min");n.every(u=>Ie(u)&&"op"in u)&&f.length===1?d=f[0]:d=!0}else if(Ie(d)&&"field"in d){const f=d.field;c.field===f&&(d=d.order?{order:d.order}:!0)}return{...c,sort:d}}return c}const i=ka(n.map(c=>P2(c)||!("op"in c)||ke(c.op)&&c.op in q4e?c:(we(qme(c)),!0)),vt);let s;i.length===1?s=i[0]:i.length>1&&(we(uM),s=!0);const l=ka(e.map(c=>Mo(c)?c.data:null),c=>c);return l.length===1&&l[0]!==null?{data:l[0],fields:t.map(d=>d.field),...s?{sort:s}:{}}:{fields:t,...s?{sort:s}:{}}}function aS(e){if(Mo(e)&&ke(e.field))return e.field;if(X4e(e)){let t;for(const n of e.fields)if(Mo(n)&&ke(n.field)){if(!t)t=n.field;else if(t!==n.field)return we(Vme),t}return we(Gme),t}else if(K4e(e)){we(Wme);const t=e.fields[0];return ke(t)?t:void 0}}function Xm(e,t){const i=e.component.scales[t].get("domains").map(s=>(Mo(s)&&(s.data=e.lookupDataSource(s.data)),s));return w9e(i)}function JG(e){return Nh(e)||oS(e)?e.children.reduce((t,n)=>t.concat(JG(n)),sA(e)):sA(e)}function sA(e){return ge(e.component.scales).reduce((t,n)=>{const i=e.component.scales[n];if(i.merged)return t;const s=i.combine(),{name:l,type:c,selectionExtent:d,domains:f,range:u,reverse:a,...y}=s,w=L9e(s.range,l,n,e),m=Xm(e,n),o=d?_5e(e,d,i,m):null;return t.push({name:l,type:c,...m?{domain:m}:{},...o?{domainRaw:o}:{},range:w,...a!==void 0?{reverse:a}:{},...y}),t},[])}function L9e(e,t,n,i){if(In(n)){if(bc(e))return{step:{signal:`${t}_step`}}}else if(Ie(e)&&Mo(e))return{...e,data:i.lookupDataSource(e.data)};return e}class eW extends sl{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:Rd(this.get("domains"),t=>he(t)&&t.length===2&&At(t[0])&&t[0]<=0&&At(t[1])&&t[1]>=0)}}const b9e=["range","scheme"];function T9e(e){const t=e.component.scales;for(const n of vm){const i=t[n];if(!i)continue;const s=E9e(n,e);i.setWithExplicit("range",s)}}function rA(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:i,field:s}=n,l=Es(t),c=e.getName(l);if(Ie(i)&&i.binned&&i.step!==void 0)return new Vn(()=>{const d=e.scaleName(t),f=`(domain("${d}")[1] - domain("${d}")[0]) / ${i.step}`;return`${e.getSignalName(c)} / (${f})`});if(dn(i)){const d=nS(e,s,i);return new Vn(()=>{const f=e.getSignalName(d),u=`(${f}.stop - ${f}.start) / ${f}.step`;return`${e.getSignalName(c)} / (${u})`})}}}function E9e(e,t){const n=t.specifiedScales[e],{size:i}=t,l=t.getScaleComponent(e).get("type");for(const y of b9e)if(n[y]!==void 0){const w=u8(l,y),m=Zq(e,y);if(!w)we(Iq(l,y,e));else if(m)we(m);else switch(y){case"range":{const o=n.range;if(he(o)){if(In(e))return _a(o.map(b=>{if(b==="width"||b==="height"){const L=t.getName(b),v=t.getSignalName.bind(t);return Vn.fromName(v,L)}return b}))}else if(Ie(o))return _a({data:t.requestDataName(cn.Main),field:o.field,sort:{op:"min",field:t.vgField(e)}});return _a(o)}case"scheme":return _a(v9e(n[y]))}}const c=e===gn||e==="xOffset"?"width":"height",d=i[c];if(Ya(d)){if(In(e))if(ii(l)){const y=nW(d,t,e);if(y)return _a({step:y})}else we(Mq(c));else if(z0(e)){const y=e===pc?"x":"y";if(t.getScaleComponent(y).get("type")==="band"){const o=iW(d,l);if(o)return _a(o)}}}const{rangeMin:f,rangeMax:u}=n,a=S9e(e,t);return(f!==void 0||u!==void 0)&&u8(l,"rangeMin")&&he(a)&&a.length===2?_a([f??a[0],u??a[1]]):ks(a)}function v9e(e){return A6e(e)?{scheme:e.name,...us(e,["name"])}:{scheme:e}}function tW(e,t,n,{center:i}={}){const s=Es(e),l=t.getName(s),c=t.getSignalName.bind(t);return e===ri&&js(n)?i?[Vn.fromName(d=>`${c(d)}/2`,l),Vn.fromName(d=>`-${c(d)}/2`,l)]:[Vn.fromName(c,l),0]:i?[Vn.fromName(d=>`-${c(d)}/2`,l),Vn.fromName(d=>`${c(d)}/2`,l)]:[0,Vn.fromName(c,l)]}function S9e(e,t){const{size:n,config:i,mark:s,encoding:l}=t,{type:c}=Un(l[e]),f=t.getScaleComponent(e).get("type"),{domain:u,domainMid:a}=t.specifiedScales[e];switch(e){case gn:case ri:{if(St(["point","band"],f)){const y=sW(e,n,i.view);if(Ya(y))return{step:nW(y,t,e)}}return tW(e,t,f)}case pc:case Bh:return x9e(e,t,f);case el:{const y=t.component.scales[e].get("zero"),w=rW(s,y,i),m=F9e(s,n,t,i);return eh(f)?B9e(w,m,k9e(f,i,u,e)):[w,m]}case hr:return[0,Math.PI*2];case lf:return[0,360];case na:return[0,new Vn(()=>{const y=t.getSignalName("width"),w=t.getSignalName("height");return`min(${y},${w})/2`})];case mc:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case wc:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ts:return"symbol";case bs:case ro:case ao:return f==="ordinal"?c==="nominal"?"category":"ordinal":a!==void 0?"diverging":s==="rect"||s==="geoshape"?"heatmap":"ramp";case tl:case gc:case yc:return[i.scale.minOpacity,i.scale.maxOpacity]}}function nW(e,t,n){const{encoding:i}=t,s=t.getScaleComponent(n),l=tv(n),c=i[l];if(zV({step:e,offsetIsDiscrete:et(c)&&Vq(c.type)})==="offset"&&EV(i,l)){const f=t.getScaleComponent(l);let a=`domain('${t.scaleName(l)}').length`;if(f.get("type")==="band"){const w=f.get("paddingInner")??f.get("padding")??0,m=f.get("paddingOuter")??f.get("padding")??0;a=`bandspace(${a}, ${w}, ${m})`}const y=s.get("paddingInner")??s.get("padding");return{signal:`${e.step} * ${a} / (1-${eme(y)})`}}else return e.step}function iW(e,t){if(zV({step:e,offsetIsDiscrete:ii(t)})==="offset")return{step:e.step}}function x9e(e,t,n){const i=e===pc?"x":"y",s=t.getScaleComponent(i);if(!s)return tW(i,t,n,{center:!0});const l=s.get("type"),c=t.scaleName(i),{markDef:d,config:f}=t;if(l==="band"){const u=sW(i,t.size,t.config.view);if(Ya(u)){const a=iW(u,n);if(a)return a}return[0,{signal:`bandwidth('${c}')`}]}else{const u=t.encoding[i];if(me(u)&&u.timeUnit){const a=Hq(u.timeUnit,o=>`scale('${c}', ${o})`),y=t.config.scale.bandWithNestedOffsetPaddingInner,w=Jl({fieldDef:u,markDef:d,config:f})-.5,m=w!==0?` + ${w}`:"";if(y){const o=Ne(y)?`${y.signal}/2`+m:`${y/2+w}`,b=Ne(y)?`(1 - ${y.signal}/2)`+m:`${1-y/2+w}`;return[{signal:`${o} * (${a})`},{signal:`${b} * (${a})`}]}return[0,{signal:a}]}return Zj(`Cannot use ${e} scale if ${i} scale is not discrete.`)}}function sW(e,t,n){const i=e===gn?"width":"height",s=t[i];return s||My(n,i)}function k9e(e,t,n,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&he(n)?n.length+1:(we(n6e(i)),3)}}function B9e(e,t,n){const i=()=>{const s=Nr(t),l=Nr(e),c=`(${s} - ${l}) / (${n} - 1)`;return`sequence(${l}, ${s} + ${c}, ${c})`};return Ne(t)?new Vn(i):{signal:i()}}function rW(e,t,n){if(t)return Ne(t)?{signal:`${t.signal} ? 0 : ${rW(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(xm("size",e))}const aA=.95;function F9e(e,t,n,i){const s={x:rA(n,"x"),y:rA(n,"y")};switch(e){case"bar":case"tick":{if(i.scale.maxBandSize!==void 0)return i.scale.maxBandSize;const l=oA(t,s,i.view);return At(l)?l-1:new Vn(()=>`${l.signal} - 1`)}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;const l=oA(t,s,i.view);return At(l)?Math.pow(aA*l,2):new Vn(()=>`pow(${aA} * ${l.signal}, 2)`)}}throw new Error(xm("size",e))}function oA(e,t,n){const i=Ya(e.width)?e.width.step:Iy(n,"width"),s=Ya(e.height)?e.height.step:Iy(n,"height");return t.x||t.y?new Vn(()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:s].join(", ")})`):Math.min(i,s)}function aW(e,t){En(e)?I9e(e,t):lW(e,t)}function I9e(e,t){const n=e.component.scales,{config:i,encoding:s,markDef:l,specifiedScales:c}=e;for(const d of ge(n)){const f=c[d],u=n[d],a=e.getScaleComponent(d),y=Un(s[d]),w=f[t],m=a.get("type"),o=a.get("padding"),b=a.get("paddingInner"),L=u8(m,t),v=Zq(d,t);if(w!==void 0&&(L?v&&we(v):we(Iq(m,t,d))),L&&v===void 0)if(w!==void 0){const S=y.timeUnit,x=y.type;switch(t){case"domainMax":case"domainMin":ff(f[t])||x==="temporal"||S?u.set(t,{signal:Pm(f[t],{type:x,timeUnit:S})},!0):u.set(t,f[t],!0);break;default:u.copyKeyFromObject(t,f)}}else{const S=t in lA?lA[t]({model:e,channel:d,fieldOrDatumDef:y,scaleType:m,scalePadding:o,scalePaddingInner:b,domain:f.domain,domainMin:f.domainMin,domainMax:f.domainMax,markDef:l,config:i,hasNestedOffsetScale:vV(s,d),hasSecondaryRangeChannel:!!s[oo(d)]}):i.scale[t];S!==void 0&&u.set(t,S,!1)}}}const lA={bins:({model:e,fieldOrDatumDef:t})=>me(t)?M9e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>A9e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:i,domainMax:s,fieldOrDatumDef:l})=>O9e(e,t,n,i,s,l),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:i,config:s})=>N9e(e,t,s.scale,n,i,s.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:i,config:s,hasNestedOffsetScale:l})=>C9e(e,t,n.type,i,s.scale,l),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:i,config:s,hasNestedOffsetScale:l})=>R9e(e,t,n,i,s.scale,l),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:i})=>{const s=me(e)?e.sort:void 0;return P9e(t,s,n,i.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:i,scaleType:s,config:l,hasSecondaryRangeChannel:c})=>D9e(e,t,n,i,s,l.scale,c)};function oW(e){En(e)?T9e(e):lW(e,"range")}function lW(e,t){const n=e.component.scales;for(const i of e.children)t==="range"?oW(i):aW(i,t);for(const i of ge(n)){let s;for(const l of e.children){const c=l.component.scales[i];if(c){const d=c.getWithExplicit(t);s=ec(s,d,t,"scale",tG((f,u)=>{switch(t){case"range":return f.step&&u.step?f.step-u.step:0}return 0}))}}n[i].setWithExplicit(t,s)}}function M9e(e,t){const n=t.bin;if(dn(n)){const i=nS(e,t.field,n);return new Vn(()=>e.getSignalName(i))}else if(li(n)&&df(n)&&n.step!==void 0)return{step:n.step}}function A9e(e,t){if(St([bs,ro,ao],e)&&t!=="nominal")return"hcl"}function O9e(e,t,n,i,s,l){var c;if(!((c=Wa(l))!=null&&c.bin||he(n)||s!=null||i!=null||St([hs.TIME,hs.UTC],e)))return In(t)?!0:void 0}function N9e(e,t,n,i,s,l){if(In(e)){if(Cr(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:c,orient:d}=s;if(c==="bar"&&!(me(i)&&(i.bin||i.timeUnit))&&(d==="vertical"&&e==="x"||d==="horizontal"&&e==="y"))return l.continuousBandSize}if(t===hs.POINT)return n.pointPadding}}function C9e(e,t,n,i,s,l=!1){if(e===void 0){if(In(t)){const{bandPaddingInner:c,barBandPaddingInner:d,rectBandPaddingInner:f,bandWithNestedOffsetPaddingInner:u}=s;return l?u:Fn(c,n==="bar"?d:f)}else if(z0(t)&&i===hs.BAND)return s.offsetBandPaddingInner}}function R9e(e,t,n,i,s,l=!1){if(e===void 0){if(In(t)){const{bandPaddingOuter:c,bandWithNestedOffsetPaddingOuter:d}=s;if(l)return d;if(n===hs.BAND)return Fn(c,Ne(i)?{signal:`${i.signal}/2`}:i/2)}else if(z0(t)){if(n===hs.POINT)return .5;if(n===hs.BAND)return s.offsetBandPaddingOuter}}}function P9e(e,t,n,i){if(n==="x"&&i.xReverse!==void 0)return js(e)&&t==="descending"?Ne(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse;if(js(e)&&t==="descending")return!0}function D9e(e,t,n,i,s,l,c){if(!!n&&n!=="unaggregated"&&js(s)){if(he(n)){const f=n[0],u=n[n.length-1];if(At(f)&&f<=0&&At(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!eh(s))return!0;if(!(me(t)&&t.bin)&&St([...lo,...R4e],e)){const{orient:f,type:u}=i;return St(["bar","area","line","trail"],u)&&(f==="horizontal"&&e==="y"||f==="vertical"&&e==="x")?!1:St(["bar","area"],u)&&!c?!0:l==null?void 0:l.zero}return!1}function U9e(e,t,n,i,s=!1){const l=$9e(t,n,i,s),{type:c}=e;return nl(t)?c!==void 0?U6e(t,c)?me(n)&&!D6e(c,n.type)?(we($me(c,l)),l):c:(we(Ume(t,c,l)),l):l:null}function $9e(e,t,n,i){var s;switch(t.type){case"nominal":case"ordinal":{if(fu(e)||Rw(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&we(Pw(e,"ordinal")),"ordinal";if(In(e)||z0(e)){if(St(["rect","bar","image","rule"],n.type)||i)return"band"}else if(n.type==="arc"&&e in sv)return"band";const l=n[Es(e)];return Hd(l)||nh(t)&&((s=t.axis)!=null&&s.tickBand)?"band":"point"}case"temporal":return fu(e)?"time":Rw(e)==="discrete"?(we(Pw(e,"temporal")),"ordinal"):me(t)&&t.timeUnit&&Jn(t.timeUnit).utc?"utc":"time";case"quantitative":return fu(e)?me(t)&&dn(t.bin)?"bin-ordinal":"linear":Rw(e)==="discrete"?(we(Pw(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Bq(t.type))}function H9e(e,{ignoreRange:t}={}){cW(e),QG(e);for(const n of P6e)aW(e,n);t||oW(e)}function cW(e){En(e)?e.component.scales=z9e(e):e.component.scales=q9e(e)}function z9e(e){const{encoding:t,mark:n,markDef:i}=e,s={};for(const l of vm){const c=Un(t[l]);if(c&&n===eV&&l===Ts&&c.type===Fh)continue;let d=c&&c.scale;if(c&&d!==null&&d!==!1){d??(d={});const f=vV(t,l),u=U9e(d,l,c,i,f);s[l]=new eW(e.scaleName(`${l}`,!0),{value:u,explicit:d.type===u})}}return s}const j9e=tG((e,t)=>_M(e)-_M(t));function q9e(e){var t;const n=e.component.scales={},i={},s=e.component.resolve;for(const l of e.children){cW(l);for(const c of ge(l.component.scales))if((t=s.scale)[c]??(t[c]=UG(c,e)),s.scale[c]==="shared"){const d=i[c],f=l.component.scales[c].getWithExplicit("type");d?k6e(d.value,f.value)?i[c]=ec(d,f,"type","scale",j9e):(s.scale[c]="independent",delete i[c]):i[c]=f}}for(const l of ge(i)){const c=e.scaleName(l,!0),d=i[l];n[l]=new eW(c,d);for(const f of e.children){const u=f.component.scales[l];u&&(f.renameScale(u.get("name"),c),u.merged=!0)}}return n}class Gw{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function En(e){return(e==null?void 0:e.type)==="unit"}function zr(e){return(e==null?void 0:e.type)==="facet"}function oS(e){return(e==null?void 0:e.type)==="concat"}function Nh(e){return(e==null?void 0:e.type)==="layer"}class lS{constructor(t,n,i,s,l,c,d){this.type=n,this.parent=i,this.config=l,this.correctDataNames=f=>{var u,a,y;return(u=f.from)!=null&&u.data&&(f.from.data=this.lookupDataSource(f.from.data)),(y=(a=f.from)==null?void 0:a.facet)!=null&&y.data&&(f.from.facet.data=this.lookupDataSource(f.from.facet.data)),f},this.parent=i,this.config=l,this.view=as(d),this.name=t.name??s,this.title=ml(t.title)?{text:t.title}:t.title?as(t.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new Gw,this.projectionNameMap=i?i.projectionNameMap:new Gw,this.signalNameMap=i?i.signalNameMap:new Gw,this.data=t.data,this.description=t.description,this.transforms=ZLe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:tLe(t,n,l),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:Om(t)||(i==null?void 0:i.component.data.isFaceted)&&t.data===void 0},layoutSize:new sl,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...c?Je(c):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){H9e(this)}parseProjection(){XG(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){qG(this)}assembleEncodeFromView(t){const{style:n,...i}=t,s={};for(const l of ge(i)){const c=i[l];c!==void 0&&(s[l]=hn(c))}return s}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=hn(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:Jt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:i,config:s}=this,l=f8e(i.layoutHeaders,s);return{padding:t,...this.assembleDefaultLayout(),...n,...l?{titleBand:l}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const i of Qs)t[i].title&&n.push(r8e(this,i));for(const i of Qv)n=n.concat(a8e(this,i));return n}assembleAxes(){return G5e(this.component.axes,this.config)}assembleLegends(){return GG(this)}assembleProjections(){return N8e(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},i={...wq(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(i.text)return St(["unit","layer"],this.type)?St(["middle",void 0],i.anchor)&&(i.frame??(i.frame="group")):i.anchor??(i.anchor="start"),Jt(i)?void 0:i}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const i=this.assembleLayout();i&&(n.layout=i),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const s=!this.parent||zr(this.parent)?JG(this):[];s.length>0&&(n.scales=s);const l=this.assembleAxes();l.length>0&&(n.axes=l);const c=this.assembleLegends();return c.length>0&&(n.legends=c),n}getName(t){return pn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(cn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),i=this.component.data.outputNodeRefCounts;return i[n]=(i[n]||0)+1,n}getSizeSignalRef(t){if(zr(this.parent)){const n=PG(t),i=Em(n),s=this.component.scales[i];if(s&&!s.merged){const l=s.get("type"),c=s.get("range");if(ii(l)&&bc(c)){const d=s.get("name"),f=Xm(this,i),u=aS(f);if(u){const a=ve({aggregate:"distinct",field:u},{expr:"datum"});return{signal:RG(d,s,a)}}else return we(ov(i)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(dq(t)&&nl(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let i=this.component.selection[t];if(!i&&this.parent&&(i=this.parent.getSelectionComponent(t,n)),!i)throw new Error(rme(n));return i}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(i=>i.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(i=>i.hasOrientSignalRef()))}}class dW extends lS{vgField(t,n={}){const i=this.fieldDef(t);if(i)return ve(i,n)}reduceFieldDef(t,n){return Iwe(this.getMapping(),(i,s,l)=>{const c=Wa(s);return c?t(i,c,l):i},n)}forEachFieldDef(t,n){Nv(this.getMapping(),(i,s)=>{const l=Wa(i);l&&t(l,s)},n)}}class Km extends Kt{clone(){return new Km(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"]}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${vt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,i={type:"kde",field:t,...n};return this.transform.groupby&&(i.resolve="shared"),i}}class Zm extends Kt{clone(){return new Zm(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${vt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class H2 extends Kt{clone(){return new H2(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:i,mark:s,markDef:l}=n;if(Gt("invalid",l,i)!=="filter")return null;const d=n.reduceFieldDef((f,u,a)=>{const y=nl(a)&&n.getScaleComponent(a);if(y){const w=y.get("type");js(w)&&u.aggregate!=="count"&&!Tc(s)&&(f[u.field]=u)}return f},{});return ge(d).length?new H2(t,d):null}dependentFields(){return new Set(ge(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${vt(this.filter)}`}assemble(){const t=ge(this.filter).reduce((n,i)=>{const s=this.filter[i],l=ve(s,{expr:"datum"});return s!==null&&(s.type==="temporal"?n.push(`(isDate(${l}) || (isValid(${l}) && isFinite(+${l})))`):s.type==="quantitative"&&(n.push(`isValid(${l})`),n.push(`isFinite(+${l})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class Qm extends Kt{clone(){return new Qm(this.parent,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const{flatten:i,as:s=[]}=this.transform;this.transform.as=i.map((l,c)=>s[c]??l)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${vt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Jm extends Kt{clone(){return new Jm(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${vt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class _u extends Kt{clone(){return new _u(null,Je(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let i=0;for(const s of[[sa,ia],[lr,ra]]){const l=s.map(c=>{const d=Un(n.encoding[c]);return me(d)?d.field:co(d)?{expr:`${d.datum}`}:Yr(d)?{expr:`${d.value}`}:void 0});(l[0]||l[1])&&(t=new _u(t,l,null,n.getName(`geojson_${i++}`)))}if(n.channelHasField(Ts)){const s=n.typedFieldDef(Ts);s.type===Fh&&(t=new _u(t,null,s.field,n.getName(`geojson_${i++}`)))}return t}constructor(t,n,i,s){super(t),this.fields=n,this.geojson=i,this.signal=s}dependentFields(){const t=(this.fields??[]).filter(ke);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${vt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class z2 extends Kt{clone(){return new z2(null,this.projection,Je(this.fields),Je(this.as))}constructor(t,n,i,s){super(t),this.projection=n,this.fields=i,this.as=s}static parseAll(t,n){if(!n.projectionName())return t;for(const i of[[sa,ia],[lr,ra]]){const s=i.map(c=>{const d=Un(n.encoding[c]);return me(d)?d.field:co(d)?{expr:`${d.datum}`}:Yr(d)?{expr:`${d.value}`}:void 0}),l=i[0]===lr?"2":"";(s[0]||s[1])&&(t=new z2(t,n.projectionName(),s,[n.getName(`x${l}`),n.getName(`y${l}`)]))}return t}dependentFields(){return new Set(this.fields.filter(ke))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${vt(this.fields)} ${vt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class wd extends Kt{clone(){return new wd(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:i,step:s}=t;return{signal:`sequence(${[n,i,...s?[s]:[]].join(",")})`}}static makeFromTransform(t,n){return new wd(t,n)}static makeFromEncoding(t,n){const i=n.encoding,s=i.x,l=i.y;if(me(s)&&me(l)){const c=s.impute?s:l.impute?l:void 0;if(c===void 0)return;const d=s.impute?l:l.impute?s:void 0,{method:f,value:u,frame:a,keyvals:y}=c.impute,w=xV(n.mark,i);return new wd(t,{impute:c.field,key:d.field,...f?{method:f}:{},...u!==void 0?{value:u}:{},...a?{frame:a}:{},...y!==void 0?{keyvals:y}:{},...w.length?{groupby:w}:{}})}return null}hash(){return`Impute ${vt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:i,method:s,groupby:l,value:c,frame:d=[null,null]}=this.transform,f={type:"impute",field:t,key:n,...i?{keyvals:ALe(i)?this.processSequence(i):i}:{},method:"value",...l?{groupby:l}:{},value:!s||s==="value"?c:null};if(s&&s!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[s],fields:[t],frame:d,ignorePeers:!1,...l?{groupby:l}:{}},a={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[f,u,a]}else return[f]}}class e6 extends Kt{clone(){return new e6(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??n.on,i[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${vt(this.transform)}`}assemble(){const{loess:t,on:n,...i}=this.transform;return{type:"loess",x:n,y:t,...i}}}class j2 extends Kt{clone(){return new j2(null,Je(this.transform),this.secondary)}constructor(t,n,i){super(t),this.transform=n,this.secondary=i}static make(t,n,i,s){const l=n.component.data.sources,{from:c}=i;let d=null;if(OLe(c)){let f=hW(c.data,l);f||(f=new Vd(c.data),l.push(f));const u=n.getName(`lookup_${s}`);d=new Ki(f,u,cn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=d}else if(NLe(c)){const f=c.param;i={as:f,...i};let u;try{u=n.getSelectionComponent(pn(f),f)}catch{throw new Error(lme(f))}if(d=u.materialized,!d)throw new Error(cme(f))}return new j2(t,i,d.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Fe(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${vt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Fe(this.transform.as)}:{}};else{let n=this.transform.as;ke(n)||(we(yme),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class t6 extends Kt{clone(){return new t6(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${vt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class n6 extends Kt{clone(){return new n6(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Je(n);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??n.on,i[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${vt(this.transform)}`}assemble(){const{regression:t,on:n,...i}=this.transform;return{type:"regression",x:n,y:t,...i}}}class i6 extends Kt{clone(){return new i6(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ka((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${vt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:i,limit:s,op:l}=this.transform;return{type:"pivot",field:t,value:n,...s!==void 0?{limit:s}:{},...l!==void 0?{op:l}:{},...i!==void 0?{groupby:i}:{}}}}class s6 extends Kt{clone(){return new s6(null,Je(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${vt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function fW(e){let t=0;function n(i,s){if(i instanceof Vd&&!i.isGenerator&&!sh(i.data)&&(e.push(s),s={name:null,source:s.name,transform:[]}),i instanceof ki&&(i.parent instanceof Vd&&!s.source?(s.format={...s.format??{},parse:i.assembleFormatParse()},s.transform.push(...i.assembleTransforms(!0))):s.transform.push(...i.assembleTransforms())),i instanceof Ah){s.name||(s.name=`data_${t++}`),!s.source||s.transform.length>0?(e.push(s),i.data=s.name):i.data=s.source,e.push(...i.assemble());return}switch((i instanceof Z0||i instanceof Q0||i instanceof H2||i instanceof Mh||i instanceof ah||i instanceof z2||i instanceof Hr||i instanceof j2||i instanceof Oh||i instanceof pf||i instanceof Jm||i instanceof Qm||i instanceof Km||i instanceof e6||i instanceof t6||i instanceof n6||i instanceof ic||i instanceof s6||i instanceof i6||i instanceof Zm)&&s.transform.push(i.assemble()),(i instanceof Oa||i instanceof Aa||i instanceof wd||i instanceof Do||i instanceof _u)&&s.transform.push(...i.assemble()),i instanceof Ki&&(s.source&&s.transform.length===0?i.setSource(s.source):i.parent instanceof Ki?i.setSource(s.name):(s.name||(s.name=`data_${t++}`),i.setSource(s.name),i.numChildren()===1&&(e.push(s),s={name:null,source:s.name,transform:[]}))),i.numChildren()){case 0:i instanceof Ki&&(!s.source||s.transform.length>0)&&e.push(s);break;case 1:n(i.children[0],s);break;default:{s.name||(s.name=`data_${t++}`);let l=s.name;!s.source||s.transform.length>0?e.push(s):l=s.source;for(const c of i.children)n(c,{name:null,source:l,transform:[]});break}}}return n}function V9e(e){const t=[],n=fW(t);for(const i of e.children)n(i,{source:e.name,name:null,transform:[]});return t}function G9e(e,t){const n=[],i=fW(n);let s=0;for(const c of e.sources){c.hasName()||(c.dataName=`source_${s++}`);const d=c.assemble();i(c,d)}for(const c of n)c.transform.length===0&&delete c.transform;let l=0;for(const[c,d]of n.entries())(d.transform??[]).length===0&&!d.source&&n.splice(l++,0,n.splice(c,1)[0]);for(const c of n)for(const d of c.transform??[])d.type==="lookup"&&(d.from=e.outputNodes[d.from].getSource());for(const c of n)c.name in t&&(c.values=t[c.name]);return n}function W9e(e){return e==="top"||e==="left"||Ne(e)?"header":"footer"}function Y9e(e){for(const t of Qs)X9e(e,t);cA(e,"x"),cA(e,"y")}function X9e(e,t){var c;const{facet:n,config:i,child:s,component:l}=e;if(e.channelHasField(t)){const d=n[t],f=lh("title",null,i,t);let u=uu(d,i,{allowDisabling:!0,includeDefault:f===void 0||!!f});s.component.layoutHeaders[t].title&&(u=he(u)?u.join(", "):u,u+=` / ${s.component.layoutHeaders[t].title}`,s.component.layoutHeaders[t].title=null);const a=lh("labelOrient",d.header,i,t),y=d.header!==null?Fn((c=d.header)==null?void 0:c.labels,i.header.labels,!0):!1,w=St(["bottom","right"],a)?"footer":"header";l.layoutHeaders[t]={title:d.header!==null?u:null,facetFieldDef:d,[w]:t==="facet"?[]:[uW(e,t,y)]}}}function uW(e,t,n){const i=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function cA(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:i,resolve:s}=e.component;if(s.axis[t]=tS(s,t),s.axis[t]==="shared"){const l=t==="x"?"column":"row",c=i[l];for(const d of n.component.axes[t]){const f=W9e(d.get("orient"));c[f]??(c[f]=[uW(e,l,!1)]);const u=O1(d,"main",e.config,{header:!0});u&&c[f][0].axes.push(u),d.mainExtracted=!0}}}}function K9e(e){cS(e),Cy(e,"width"),Cy(e,"height")}function Z9e(e){cS(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Cy(e,t),Cy(e,n)}function cS(e){for(const t of e.children)t.parseLayoutSize()}function Cy(e,t){const n=PG(t),i=Em(n),s=e.component.resolve,l=e.component.layoutSize;let c;for(const d of e.children){const f=d.component.layoutSize.getWithExplicit(n),u=s.scale[i]??UG(i,e);if(u==="independent"&&f.value==="step"){c=void 0;break}if(c){if(u==="independent"&&c.value!==f.value){c=void 0;break}c=ec(c,f,n,"")}else c=f}if(c){for(const d of e.children)e.renameSignal(d.getName(n),e.getName(t)),d.component.layoutSize.set(n,"merged",!1);l.setWithExplicit(t,c)}else l.setWithExplicit(t,{explicit:!1,value:void 0})}function Q9e(e){const{size:t,component:n}=e;for(const i of lo){const s=Es(i);if(t[s]){const l=t[s];n.layoutSize.set(s,Ya(l)?"step":l,!0)}else{const l=J9e(e,s);n.layoutSize.set(s,l,!1)}}}function J9e(e,t){const n=t==="width"?"x":"y",i=e.config,s=e.getScaleComponent(n);if(s){const l=s.get("type"),c=s.get("range");if(ii(l)){const d=My(i.view,t);return bc(c)||Ya(d)?"step":d}else return p8(i.view,t)}else{if(e.hasProjection||e.mark==="arc")return p8(i.view,t);{const l=My(i.view,t);return Ya(l)?l.step:l}}}function F8(e,t,n){return ve(t,{suffix:`by_${ve(e)}`,...n??{}})}class Q1 extends dW{constructor(t,n,i,s){super(t,"facet",n,i,s,t.resolve),this.child=_S(t.spec,this,this.getName("child"),void 0,s),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!G0(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ge(t),i={};for(const s of n){if(![Co,Ro].includes(s)){we(xm(s,"facet"));break}const l=t[s];if(l.field===void 0){we(d8(l,s));break}i[s]=this.initFacetFieldDef(l,s)}return i}initFacetFieldDef(t,n){const i=Av(t,n);return i.header?i.header=as(i.header):i.header===null&&(i.header=null),i}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=r6(this),this.child.parseData()}parseLayoutSize(){cS(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Y9e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Qs)for(const i of Jv){const s=this.component.layoutHeaders[n],l=s[i],{facetFieldDef:c}=s;if(c){const d=lh("titleOrient",c.header,this.config,n);if(["right","bottom"].includes(d)){const f=Wm(n,d);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[f]="end"}}if(l!=null&&l[0]){const d=n==="row"?"height":"width",f=i==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(d)&&(t[f]??(t[f]={}),t[f][n]=.5),s.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,i=t?this.columnDistinctSignal():n?1:void 0;let s="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(s="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:s}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Q1))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Q1?{...this.channelHasField("column")?{encode:{update:{columns:{field:ve(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],i=[];if(this.child instanceof Q1){if(this.child.channelHasField("column")){const s=ve(this.child.facet.column);t.push(s),n.push("distinct"),i.push(`distinct_${s}`)}}else for(const s of lo){const l=this.child.component.scales[s];if(l&&!l.merged){const c=l.get("type"),d=l.get("range");if(ii(c)&&bc(d)){const f=Xm(this.child,s),u=aS(f);u?(t.push(u),n.push("distinct"),i.push(`distinct_${u}`)):we(ov(s))}}}return{fields:t,ops:n,as:i}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:i,column:s}=this.facet,{fields:l,ops:c,as:d}=this.getCardinalityAggregateForChild(),f=[];for(const a of Qs){const y=this.facet[a];if(y){f.push(ve(y));const{bin:w,sort:m}=y;if(dn(w)&&f.push(ve(y,{binSuffix:"end"})),Ma(m)){const{field:o,op:b=Am}=m,L=F8(y,m);i&&s?(l.push(L),c.push("max"),d.push(L)):(l.push(o),c.push(b),d.push(L))}else if(he(m)){const o=oh(y,a);l.push(o),c.push("max"),d.push(o)}}}const u=!!i&&!!s;return{name:t,data:n,groupby:f,...u||l.length>0?{aggregate:{...u?{cross:u}:{},...l.length?{fields:l,ops:c,as:d}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,i=n[t];return i?Ma(i.sort)?[F8(i,i.sort,{expr:"datum"})]:he(i.sort)?[oh(i,t,{expr:"datum"})]:[ve(i,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,i=n[t];if(i){const{sort:s}=i;return[(Ma(s)?s.order:!he(s)&&s)||"ascending"]}return[]}assembleLabelTitle(){var s;const{facet:t,config:n}=this;if(t.facet)return E8(t.facet,"facet",n);const i={row:["top","bottom"],column:["left","right"]};for(const l of Qv)if(t[l]){const c=lh("labelOrient",(s=t[l])==null?void 0:s.header,n,l);if(i[l].includes(c))return E8(t[l],l,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,i=V9e(n),s=t.assembleGroupEncodeEntry(!1),l=this.assembleLabelTitle()||t.assembleTitle(),c=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...l?{title:l}:{},...c?{style:c}:{},from:{facet:this.assembleFacet()},sort:{field:Qs.map(f=>this.facetSortFields(f)).flat(),order:Qs.map(f=>this.facetSortOrder(f)).flat()},...i.length>0?{data:i}:{},...s?{encode:{update:s}}:{},...t.assembleGroup(d5e(this,[]))}]}getMapping(){return this.facet}}function e7e(e,t){const{row:n,column:i}=t;if(n&&i){let s=null;for(const l of[n,i])if(Ma(l.sort)){const{field:c,op:d=Am}=l.sort;e=s=new pf(e,{joinaggregate:[{op:d,field:c,as:F8(l,l.sort,{forAs:!0})}],groupby:[ve(l)]})}return s}return null}function hW(e,t){var n,i,s,l;for(const c of t){const d=c.data;if(e.name&&c.hasName()&&e.name!==c.dataName)continue;const f=(n=e.format)==null?void 0:n.mesh,u=(i=d.format)==null?void 0:i.feature;if(f&&u)continue;const a=(s=e.format)==null?void 0:s.feature;if((a||u)&&a!==u)continue;const y=(l=d.format)==null?void 0:l.mesh;if(!((f||y)&&f!==y)){if($2(e)&&$2(d)){if(Rs(e.values,d.values))return c}else if(sh(e)&&sh(d)){if(e.url===d.url)return c}else if(nG(e)&&e.name===c.dataName)return c}}return null}function t7e(e,t){if(e.data||!e.parent){if(e.data===null){const i=new Vd({values:[]});return t.push(i),i}const n=hW(e.data,t);if(n)return Cl(e.data)||(n.data.format=Qj({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const i=new Vd(e.data);return t.push(i),i}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function n7e(e,t,n){let i=0;for(const s of t.transforms){let l,c;if(qLe(s))c=e=new ah(e,s),l="derived";else if(Vv(s)){const d=W8e(s);c=e=ki.makeWithAncestors(e,{},d,n)??e,e=new Mh(e,t,s.filter)}else if(ZV(s))c=e=Oa.makeFromTransform(e,s,t),l="number";else if(GLe(s))l="date",n.getWithExplicit(s.field).value===void 0&&(e=new ki(e,{[s.field]:l}),n.set(s.field,l,!1)),c=e=Aa.makeFromTransform(e,s);else if(WLe(s))c=e=Hr.makeFromTransform(e,s),l="number",Zv(t)&&(e=new ic(e));else if(KV(s))c=e=j2.make(e,t,s,i++),l="derived";else if(HLe(s))c=e=new Oh(e,s),l="number";else if(zLe(s))c=e=new pf(e,s),l="number";else if(YLe(s))c=e=Do.makeFromTransform(e,s),l="derived";else if(XLe(s))c=e=new Jm(e,s),l="derived";else if(KLe(s))c=e=new Zm(e,s),l="derived";else if(jLe(s))c=e=new Qm(e,s),l="derived";else if(CLe(s))c=e=new i6(e,s),l="derived";else if($Le(s))e=new s6(e,s);else if(VLe(s))c=e=wd.makeFromTransform(e,s),l="derived";else if(RLe(s))c=e=new Km(e,s),l="derived";else if(PLe(s))c=e=new t6(e,s),l="derived";else if(DLe(s))c=e=new n6(e,s),l="derived";else if(ULe(s))c=e=new e6(e,s),l="derived";else{we(gme(s));continue}if(c&&l!==void 0)for(const d of c.producedFields()??[])n.set(d,l,!1)}return e}function r6(e){var b;let t=t7e(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:i}=e.component.data,s=e.data,c=!(s&&(Cl(s)||sh(s)||$2(s)))&&e.parent?e.parent.component.data.ancestorParse.clone():new l5e;Cl(s)?(iG(s)?t=new Q0(t,s.sequence):Gv(s)&&(t=new Z0(t,s.graticule)),c.parseNothing=!0):((b=s==null?void 0:s.format)==null?void 0:b.parse)===null&&(c.parseNothing=!0),t=ki.makeExplicit(t,e,c)??t,t=new ic(t);const d=e.parent&&Nh(e.parent);(En(e)||zr(e))&&d&&(t=Oa.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=n7e(t,e,c));const f=X8e(e),u=Y8e(e);t=ki.makeWithAncestors(t,{},{...f,...u},c)??t,En(e)&&(t=_u.parseAll(t,e),t=z2.parseAll(t,e)),(En(e)||zr(e))&&(d||(t=Oa.makeFromEncoding(t,e)??t),t=Aa.makeFromEncoding(t,e)??t,t=ah.parseAllForSortIndex(t,e));const a=e.getDataName(cn.Raw),y=new Ki(t,a,cn.Raw,i);if(n[a]=y,t=y,En(e)){const L=Hr.makeFromEncoding(t,e);L&&(t=L,Zv(e)&&(t=new ic(t))),t=wd.makeFromEncoding(t,e)??t,t=Do.makeFromEncoding(t,e)??t}En(e)&&(t=H2.make(t,e)??t);const w=e.getDataName(cn.Main),m=new Ki(t,w,cn.Main,i);n[w]=m,t=m,En(e)&&q5e(e,m);let o=null;if(zr(e)){const L=e.getName("facet");t=e7e(t,e.facet)??t,o=new Ah(t,e,L,m.getSource()),n[L]=o}return{...e.component.data,outputNodes:n,outputNodeRefCounts:i,raw:y,main:m,facetRoot:o,ancestorParse:c}}class i7e extends lS{constructor(t,n,i,s){var l,c,d,f;super(t,"concat",n,i,s,t.resolve),(((c=(l=t.resolve)==null?void 0:l.axis)==null?void 0:c.x)==="shared"||((f=(d=t.resolve)==null?void 0:d.axis)==null?void 0:f.y)==="shared")&&we(hme),this.children=this.getChildren(t).map((u,a)=>_S(u,this,this.getName(`concat_${a}`),void 0,s))}parseData(){this.component.data=r6(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ge(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return $m(t)?t.vconcat:jv(t)?t.hconcat:t.concat}parseLayoutSize(){Z9e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=eS(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,i)=>i.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),i=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...i?{style:i}:{},...s?{encode:{update:s}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function s7e(e){return e===!1||e===null}const r7e={disable:1,gridScale:1,scale:1,...bV,labelExpr:1,encode:1},_W=ge(r7e);class dS extends sl{constructor(t={},n={},i=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=i}clone(){return new dS(Je(this.explicit),Je(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!s7e(this.get(t))}hasOrientSignalRef(){return Ne(this.explicit.orient)}}function a7e(e,t,n){const{encoding:i,config:s}=e,l=Un(i[t])??Un(i[oo(t)]),c=e.axis(t)||{},{format:d,formatType:f}=c;if(zd(f))return{text:Rr({fieldOrDatumDef:l,field:"datum.value",format:d,formatType:f,config:s}),...n};if(d===void 0&&f===void 0&&s.customFormatTypes){if(th(l)==="quantitative"){if(nh(l)&&l.stack==="normalize"&&s.normalizedNumberFormatType)return{text:Rr({fieldOrDatumDef:l,field:"datum.value",format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,config:s}),...n};if(s.numberFormatType)return{text:Rr({fieldOrDatumDef:l,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}),...n}}if(th(l)==="temporal"&&s.timeFormatType&&me(l)&&!l.timeUnit)return{text:Rr({fieldOrDatumDef:l,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s}),...n}}return n}function o7e(e){return lo.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[_7e(n,e)]),t),{})}const l7e={bottom:"top",top:"bottom",left:"right",right:"left"};function c7e(e){const{axes:t,resolve:n}=e.component,i={top:0,bottom:0,right:0,left:0};for(const s of e.children){s.parseAxesAndHeaders();for(const l of ge(s.component.axes))n.axis[l]=tS(e.component.resolve,l),n.axis[l]==="shared"&&(t[l]=d7e(t[l],s.component.axes[l]),t[l]||(n.axis[l]="independent",delete t[l]))}for(const s of lo){for(const l of e.children)if(l.component.axes[s]){if(n.axis[s]==="independent"){t[s]=(t[s]??[]).concat(l.component.axes[s]);for(const c of l.component.axes[s]){const{value:d,explicit:f}=c.getWithExplicit("orient");if(!Ne(d)){if(i[d]>0&&!f){const u=l7e[d];i[d]>i[u]&&c.set("orient",u,!1)}i[d]++}}}delete l.component.axes[s]}if(n.axis[s]==="independent"&&t[s]&&t[s].length>1)for(const[l,c]of(t[s]||[]).entries())l>0&&c.get("grid")&&!c.explicit.grid&&(c.implicit.grid=!1)}}function d7e(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const s=e[i],l=t[i];if(!!s!=!!l)return;if(s&&l){const c=s.getWithExplicit("orient"),d=l.getWithExplicit("orient");if(c.explicit&&d.explicit&&c.value!==d.value)return;e[i]=f7e(s,l)}}}else return t.map(n=>n.clone());return e}function f7e(e,t){for(const n of _W){const i=ec(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(s,l)=>{switch(n){case"title":return xq(s,l);case"gridScale":return{explicit:s.explicit,value:Fn(s.value,l.value)}}return zm(s,l,n,"axis")});e.setWithExplicit(n,i)}return e}function u7e(e,t,n,i,s){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ne(n.labelAngle)?n.labelAngle:D2(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===AG(i,s))return!0}return e===n[t]}const h7e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function _7e(e,t){var v,S;let n=t.axis(e);const i=new dS,s=Un(t.encoding[e]),{mark:l,config:c}=t,d=(n==null?void 0:n.orient)||((v=c[e==="x"?"axisX":"axisY"])==null?void 0:v.orient)||((S=c.axis)==null?void 0:S.orient)||e8e(e),f=t.getScaleComponent(e).get("type"),u=W5e(e,f,d,t.config),a=n!==void 0?!n:b8("disable",c.style,n==null?void 0:n.style,u).configValue;if(i.set("disable",a,n!==void 0),a)return i;n=n||{};const y=Z5e(s,n,e,c.style,u),w=aV(n.formatType,s,f),m=rV(s,s.type,n.format,n.formatType,c,!0),o={fieldOrDatumDef:s,axis:n,channel:e,model:t,scaleType:f,orient:d,labelAngle:y,format:m,formatType:w,mark:l,config:c};for(const x of _W){const F=x in YM?YM[x](o):bM(x)?n[x]:void 0,k=F!==void 0,A=u7e(F,x,n,t,e);if(k&&A)i.set(x,F,A);else{const{configValue:M=void 0,configFrom:C=void 0}=bM(x)&&x!=="values"?b8(x,c.style,n.style,u):{},R=M!==void 0;k&&!R?i.set(x,F,A):(C!=="vgAxisConfig"||h7e.has(x)&&R||X0(M)||Ne(M))&&i.set(x,M,!1)}}const b=n.encoding??{},L=LV.reduce((x,F)=>{if(!i.hasAxisPart(F))return x;const k=DG(b[F]??{},t),A=F==="labels"?a7e(t,e,k):k;return A!==void 0&&!Jt(A)&&(x[F]={update:A}),x},{});return Jt(L)||i.set("encode",L,!!n.encoding||n.labelAngle!==void 0),i}function p7e({encoding:e,size:t}){for(const n of lo){const i=Es(n);Ya(t[i])&&Fl(e[n])&&(delete t[i],we(Mq(i)))}return t}const g7e={vgMark:"arc",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...xi("x",e,{defaultPos:"mid"}),...xi("y",e,{defaultPos:"mid"}),...tc(e,"radius"),...tc(e,"theta")})},y7e={vgMark:"area",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Ay("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...Ay("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...Kv(e)})},m7e={vgMark:"rect",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...tc(e,"x"),...tc(e,"y")})},w7e={vgMark:"shape",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&me(n)&&n.type===Fh?{field:ve(n,{expr:"datum"})}:{}}]}},L7e={vgMark:"image",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...tc(e,"x"),...tc(e,"y"),...Yv(e,"url")})},b7e={vgMark:"line",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...xi("x",e,{defaultPos:"mid"}),...xi("y",e,{defaultPos:"mid"}),...Wn("size",e,{vgChannel:"strokeWidth"}),...Kv(e)})},T7e={vgMark:"trail",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...xi("x",e,{defaultPos:"mid"}),...xi("y",e,{defaultPos:"mid"}),...Wn("size",e),...Kv(e)})};function fS(e,t){const{config:n}=e;return{..._r(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...xi("x",e,{defaultPos:"mid"}),...xi("y",e,{defaultPos:"mid"}),...Wn("size",e),...Wn("angle",e),...E7e(e,n,t)}}function E7e(e,t,n){return n?{shape:{value:n}}:Wn("shape",e)}const v7e={vgMark:"symbol",encodeEntry:e=>fS(e)},S7e={vgMark:"symbol",encodeEntry:e=>fS(e,"circle")},x7e={vgMark:"symbol",encodeEntry:e=>fS(e,"square")},k7e={vgMark:"rect",encodeEntry:e=>({..._r(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...tc(e,"x"),...tc(e,"y")})},B7e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{..._r(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ay("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...Ay("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Wn("size",e,{vgChannel:"strokeWidth"})}}},F7e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{..._r(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...xi("x",e,{defaultPos:"mid"}),...xi("y",e,{defaultPos:"mid"}),...Yv(e),...Wn("size",e,{vgChannel:"fontSize"}),...Wn("angle",e),...qM("align",I7e(e.markDef,n,t)),...qM("baseline",M7e(e.markDef,n,t)),...xi("radius",e,{defaultPos:null}),...xi("theta",e,{defaultPos:null})}}};function I7e(e,t,n){if(Gt("align",e,n)===void 0)return"center"}function M7e(e,t,n){if(Gt("baseline",e,n)===void 0)return"middle"}const A7e={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,i=n.orient,s=i==="horizontal"?"width":"height",l=i==="horizontal"?"height":"width";return{..._r(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...xi("x",e,{defaultPos:"mid",vgChannel:"xc"}),...xi("y",e,{defaultPos:"mid",vgChannel:"yc"}),...Wn("size",e,{defaultValue:O7e(e),vgChannel:s}),[l]:hn(Gt("thickness",n,t))}}};function O7e(e){const{config:t,markDef:n}=e,{orient:i}=n,s=i==="horizontal"?"width":"height",l=e.getScaleComponent(i==="horizontal"?"x":"y"),c=Gt("size",n,t,{vgChannel:s})??t.tick.bandSize;if(c!==void 0)return c;{const d=l?l.get("range"):void 0;return d&&bc(d)&&At(d.step)?d.step*3/4:Iy(t.view,s)*3/4}}const K_={arc:g7e,area:y7e,bar:m7e,circle:S7e,geoshape:w7e,image:L7e,line:b7e,point:v7e,rect:k7e,rule:B7e,square:x7e,text:F7e,tick:A7e,trail:T7e};function N7e(e){if(St([Im,Bm,z6e],e.mark)){const t=xV(e.mark,e.encoding);if(t.length>0)return C7e(e,t)}else if(e.mark===Fm){const t=c8.some(n=>Gt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return R7e(e)}return uS(e)}const dA="faceted_path_";function C7e(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:dA+e.requestDataName(cn.Main),data:e.requestDataName(cn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:uS(e,{fromPrefix:dA})}]}const fA="stack_group_";function R7e(e){var u;const[t]=uS(e,{fromPrefix:fA}),n=e.scaleName(e.stack.fieldChannel),i=(a={})=>e.vgField(e.stack.fieldChannel,a),s=(a,y)=>{const w=[i({prefix:"min",suffix:"start",expr:y}),i({prefix:"max",suffix:"start",expr:y}),i({prefix:"min",suffix:"end",expr:y}),i({prefix:"max",suffix:"end",expr:y})];return`${a}(${w.map(m=>`scale('${n}',${m})`).join(",")})`};let l,c;e.stack.fieldChannel==="x"?(l={...Xu(t.encode.update,["y","yc","y2","height",...c8]),x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}},c={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...us(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(l={...Xu(t.encode.update,["x","xc","x2","width"]),y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}},c={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...us(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const a of c8){const y=Go(a,e.markDef,e.config);t.encode.update[a]?(l[a]=t.encode.update[a],delete t.encode.update[a]):y&&(l[a]=hn(y)),y&&(t.encode.update[a]={value:0})}const d=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const a of e.stack.groupbyChannels){const y=e.fieldDef(a),w=ve(y);w&&d.push(w),(y!=null&&y.bin||y!=null&&y.timeUnit)&&d.push(ve(y,{binSuffix:"end"}))}return l=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((a,y)=>{if(t.encode.update[y])return{...a,[y]:t.encode.update[y]};{const w=Go(y,e.markDef,e.config);return w!==void 0?{...a,[y]:hn(w)}:a}},l),l.stroke&&(l.strokeForeground={value:!0},l.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(cn.Main),name:fA+e.requestDataName(cn.Main),groupby:d,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:l},marks:[{type:"group",encode:{update:c},marks:[t]}]}]}function P7e(e){var d;const{encoding:t,stack:n,mark:i,markDef:s,config:l}=e,c=t.order;if(!(!he(c)&&Yr(c)&&o8(c.value)||!c&&o8(Gt("order",s,l)))){if((he(c)||me(c))&&!n)return Eq(c,{expr:"datum"});if(Tc(i)){const f=s.orient==="horizontal"?"y":"x",u=t[f];if(me(u)){const a=u.sort;if(he(a))return{field:ve(u,{prefix:f,suffix:"sort_index",expr:"datum"})};if(Ma(a))return{field:ve({aggregate:Ov(e.encoding)?a.op:void 0,field:a.field},{expr:"datum"})};if(lV(a)){const y=e.fieldDef(a.encoding);return{field:ve(y,{expr:"datum"}),order:a.order}}else return a===null?void 0:{field:ve(u,{binSuffix:(d=e.stack)!=null&&d.impute?"mid":void 0,expr:"datum"})}}return}}}function uS(e,t={fromPrefix:""}){const{mark:n,markDef:i,encoding:s,config:l}=e,c=Fn(i.clip,D7e(e),U7e(e)),d=bq(i),f=s.key,u=P7e(e),a=$7e(e),y=Gt("aria",i,l),w=K_[n].postEncodingTransform?K_[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:K_[n].vgMark,...c?{clip:!0}:{},...d?{style:d}:{},...f?{key:f.field}:{},...u?{sort:u}:{},...a||{},...y===!1?{aria:y}:{},from:{data:t.fromPrefix+e.requestDataName(cn.Main)},encode:{update:K_[n].encodeEntry(e)},...w?{transform:w}:{}}]}function D7e(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function U7e(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function $7e(e){if(!e.component.selection)return null;const t=ge(e.component.selection).length;let n=t,i=e.parent;for(;i&&n===0;)n=ge(i.component.selection).length,i=i.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip}:null}class pW extends dW{constructor(t,n,i,s={},l){super(t,"unit",n,i,l,void 0,EM(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const c=Ga(t.mark)?{...t.mark}:{type:t.mark},d=c.type;c.filled===void 0&&(c.filled=vLe(c,l,{graticule:t.data&&Gv(t.data)}));const f=this.encoding=Bwe(t.encoding||{},d,c.filled,l);this.markDef=WV(c,f,l),this.size=p7e({encoding:f,size:EM(t)?{...s,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:s}),this.stack=GV(this.markDef,f),this.specifiedScales=this.initScales(d,f),this.specifiedAxes=this.initAxes(f),this.specifiedLegends=this.initLegends(f),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>Hv(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===eV,i=t&&k4e.some(s=>et(t[s]));return n||i}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return vm.reduce((i,s)=>{const l=Un(n[s]);return l&&(i[s]=this.initScale(l.scale??{})),i},{})}initScale(t){const{domain:n,range:i}=t,s=as(t);return he(n)&&(s.domain=n.map(Os)),he(i)&&(s.range=i.map(Os)),s}initAxes(t){return lo.reduce((n,i)=>{const s=t[i];if(et(s)||i===gn&&et(t.x2)||i===ri&&et(t.y2)){const l=et(s)?s.axis:void 0;n[i]=l&&this.initAxis({...l})}return n},{})}initAxis(t){const n=ge(t),i={};for(const s of n){const l=t[s];i[s]=X0(l)?Lq(l):Os(l)}return i}initLegends(t){return P4e.reduce((n,i)=>{const s=Un(t[i]);if(s&&U4e(i)){const l=s.legend;n[i]=l&&as(l)}return n},{})}parseData(){this.component.data=r6(this)}parseLayoutSize(){Q9e(this)}parseSelections(){this.component.selection=j5e(this,this.selection)}parseMarkGroup(){this.component.mark=N7e(this)}parseAxesAndHeaders(){this.component.axes=o7e(this)}assembleSelectionTopLevelSignals(t){return f5e(this,t)}assembleSignals(){return[...FG(this),...c5e(this,[])]}assembleSelectionData(t){return u5e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return eS(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Nh(this.parent))&&(t=aG(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return yd(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Wa(n)}typedFieldDef(t){const n=this.fieldDef(t);return Ji(n)?n:null}}class hS extends lS{constructor(t,n,i,s,l){super(t,"layer",n,i,l,t.resolve,t.view);const c={...s,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((d,f)=>{if(Hm(d))return new hS(d,this,this.getName(`layer_${f}`),c,l);if(il(d))return new pW(d,this,this.getName(`layer_${f}`),c,l);throw new Error(av(d))})}parseData(){this.component.data=r6(this);for(const t of this.children)t.parseData()}parseLayoutSize(){K9e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ge(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){c7e(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),FG(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),eS(this))}assembleSelectionData(t){return this.children.reduce((n,i)=>i.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const i of this.children)for(const s of Fe(i.assembleGroupStyle()))t.add(s);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return h5e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),GG(this))}}function _S(e,t,n,i,s){if(Om(e))return new Q1(e,t,n,s);if(Hm(e))return new hS(e,t,n,i,s);if(il(e))return new pW(e,t,n,i,s);if(Qwe(e))return new i7e(e,t,n,s);throw new Error(av(e))}function H7e(e,t={}){t.logger&&i6e(t.logger),t.fieldTitle&&yV(t.fieldTitle);try{const n=VV(mh(t.config,e.config)),i=eG(e,n),s=_S(i,null,"",void 0,n);return s.parse(),f9e(s.component.data,s),{spec:j7e(s,z7e(e,i.autosize,n,s),e.datasets,e.usermeta),normalized:i}}finally{t.logger&&s6e(),t.fieldTitle&&wwe()}}function z7e(e,t,n,i){const s=i.component.layoutSize.get("width"),l=i.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):ke(t)&&(t={type:t}),s&&l&&r5e(t.type)){if(s==="step"&&l==="step")we(oM()),t.type="pad";else if(s==="step"||l==="step"){const c=s==="step"?"width":"height";we(oM(Em(c)));const d=c==="width"?"height":"width";t.type=a5e(d)}}return{...ge(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...CM(n,!1),...CM(e,!0)}}function j7e(e,t,n={},i){const s=e.config?uLe(e.config):void 0,l=[].concat(e.assembleSelectionData([]),G9e(e.component.data,n)),c=e.assembleProjections(),d=e.assembleTitle(),f=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let a=e.assembleLayoutSignals();a=a.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:y,...w}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...w,...d?{title:d}:{},...f?{style:f}:{},...u?{encode:{update:u}}:{},data:l,...c.length>0?{projections:c}:{},...e.assembleGroup([...a,...e.assembleSelectionTopLevelSignals([]),...HV(y)]),...s?{config:s}:{},...i?{usermeta:i}:{}}}const q7e=b4e.version,V7e=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Ku,accessPathWithDatum:KE,compile:H7e,contains:St,deepEqual:Rs,deleteNestedProperty:Ly,duplicate:Je,entries:Zl,every:WE,fieldIntersection:XE,flatAccessWithDatum:eq,getFirstDefined:Fn,hasIntersection:YE,hash:vt,internalField:iq,isBoolean:P2,isEmpty:Jt,isEqual:E4e,isInternalField:sq,isNullOrFalse:o8,isNumeric:ym,keys:ge,logicalExpr:K1,mergeDeep:Qj,never:Zj,normalize:eG,normalizeAngle:D2,omit:us,pick:Xu,prefixGenerator:l8,removePathFromField:ZE,replaceAll:Pd,replacePathInField:or,resetIdCounter:S4e,setEqual:Jj,some:Rd,stringify:en,titleCase:U0,unique:ka,uniqueId:nq,vals:_i,varName:pn,version:q7e},Symbol.toStringTag,{value:"Module"}));function gW(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var G7e="vega-themes",W7e="2.14.0",Y7e="Themes for stylized Vega and Vega-Lite visualizations.",X7e=["vega","vega-lite","themes","style"],K7e="BSD-3-Clause",Z7e={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Q7e=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],J7e="build/vega-themes.js",pS="build/vega-themes.module.js",ebe="build/vega-themes.min.js",tbe="build/vega-themes.min.js",nbe="build/vega-themes.module.d.ts",ibe={type:"git",url:"https://github.com/vega/vega-themes.git"},sbe=["src","build"],rbe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},abe={"@babel/core":"^7.22.9","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-transform-runtime":"^7.22.9","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.1.0","@rollup/plugin-terser":"^0.4.3","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","browser-sync":"^2.29.3",concurrently:"^8.2.0",eslint:"^8.45.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^5.0.0","gh-pages":"^5.0.0",prettier:"^3.0.0","release-it":"^16.1.0",rollup:"^3.26.2","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.1.6",vega:"^5.25.0","vega-lite":"^5.9.3"},obe={vega:"*","vega-lite":"*"},lbe={},cbe={name:G7e,version:W7e,description:Y7e,keywords:X7e,license:K7e,author:Z7e,contributors:Q7e,main:J7e,module:pS,unpkg:ebe,jsdelivr:tbe,types:nbe,repository:ibe,files:sbe,scripts:rbe,devDependencies:abe,peerDependencies:obe,dependencies:lbe};const If="#fff",uA="#888",dbe={background:"#333",view:{stroke:uA},title:{color:If,subtitleColor:If},style:{"guide-label":{fill:If},"guide-title":{fill:If}},axis:{domainColor:If,gridColor:uA,tickColor:If}},Bc="#4572a7",fbe={background:"#fff",arc:{fill:Bc},area:{fill:Bc},line:{stroke:Bc,strokeWidth:2},path:{stroke:Bc},rect:{fill:Bc},shape:{stroke:Bc},symbol:{fill:Bc,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Fc="#30a2da",Ww="#cbcbcb",ube="#999",hbe="#333",hA="#f0f0f0",_A="#333",_be={arc:{fill:Fc},area:{fill:Fc},axis:{domainColor:Ww,grid:!0,gridColor:Ww,gridWidth:1,labelColor:ube,labelFontSize:10,titleColor:hbe,tickColor:Ww,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:hA,group:{fill:hA},legend:{labelColor:_A,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:_A,titleFontSize:14,titlePadding:10},line:{stroke:Fc,strokeWidth:2},path:{stroke:Fc,strokeWidth:.5},rect:{fill:Fc},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Fc},bar:{binSpacing:2,fill:Fc,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Ic="#000",pbe={group:{fill:"#e5e5e5"},arc:{fill:Ic},area:{fill:Ic},line:{stroke:Ic},path:{stroke:Ic},rect:{fill:Ic},shape:{stroke:Ic},symbol:{fill:Ic,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},gbe=22,ybe="normal",pA="Benton Gothic, sans-serif",gA=11.5,mbe="normal",Mc="#82c6df",Yw="Benton Gothic Bold, sans-serif",yA="normal",mA=13,s1={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},wbe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Yw,fontSize:gbe,fontWeight:ybe},arc:{fill:Mc},area:{fill:Mc},line:{stroke:Mc,strokeWidth:2},path:{stroke:Mc},rect:{fill:Mc},shape:{stroke:Mc},symbol:{fill:Mc,size:30},axis:{labelFont:pA,labelFontSize:gA,labelFontWeight:mbe,titleFont:Yw,titleFontSize:mA,titleFontWeight:yA},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:pA,labelFontSize:gA,symbolType:"square",titleFont:Yw,titleFontSize:mA,titleFontWeight:yA},range:{category:s1["category-6"],diverging:s1["fireandice-6"],heatmap:s1["fire-7"],ordinal:s1["fire-7"],ramp:s1["fire-7"]}},Ac="#ab5787",Z_="#979797",Lbe={background:"#f9f9f9",arc:{fill:Ac},area:{fill:Ac},line:{stroke:Ac},path:{stroke:Ac},rect:{fill:Ac},shape:{stroke:Ac},symbol:{fill:Ac,size:30},axis:{domainColor:Z_,domainWidth:.5,gridWidth:.2,labelColor:Z_,tickColor:Z_,tickWidth:.2,titleColor:Z_},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Oc="#3e5c69",bbe={background:"#fff",arc:{fill:Oc},area:{fill:Oc},line:{stroke:Oc},path:{stroke:Oc},rect:{fill:Oc},shape:{stroke:Oc},symbol:{fill:Oc},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Vs="#1696d2",wA="#000000",Tbe="#FFFFFF",Q_="Lato",Xw="Lato",Ebe="Lato",vbe="#DEDDDD",Sbe=18,r1={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},xbe={background:Tbe,title:{anchor:"start",fontSize:Sbe,font:Q_},axisX:{domain:!0,domainColor:wA,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Xw,labelAngle:0,tickColor:wA,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Q_},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:vbe,gridWidth:1,labelFontSize:12,labelFont:Xw,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Q_,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Xw,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Q_,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:r1["six-groups-cat-1"],diverging:r1["diverging-colors"],heatmap:r1["diverging-colors"],ordinal:r1["six-groups-seq"],ramp:r1["shades-blue"]},area:{fill:Vs},rect:{fill:Vs},line:{color:Vs,stroke:Vs,strokeWidth:5},trail:{color:Vs,stroke:Vs,strokeWidth:0,size:1},path:{stroke:Vs,strokeWidth:.5},point:{filled:!0},text:{font:Ebe,color:Vs,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Vs,stroke:null}},arc:{fill:Vs},shape:{stroke:Vs},symbol:{fill:Vs,size:30}},Nc="#3366CC",LA="#ccc",J_="Arial, sans-serif",kbe={arc:{fill:Nc},area:{fill:Nc},path:{stroke:Nc},rect:{fill:Nc},shape:{stroke:Nc},symbol:{stroke:Nc},circle:{fill:Nc},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:J_,fontSize:12},"guide-title":{font:J_,fontSize:12},"group-title":{font:J_,fontSize:12}},title:{font:J_,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:LA,tickColor:LA,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},gS=e=>e*(1/3+1),bA=gS(9),TA=gS(10),EA=gS(12),a1="Segoe UI",vA="wf_standard-font, helvetica, arial, sans-serif",SA="#252423",o1="#605E5C",xA="transparent",Bbe="#C8C6C4",yr="#118DFF",Fbe="#12239E",Ibe="#E66C37",Mbe="#6B007B",Abe="#E044A7",Obe="#744EC2",Nbe="#D9B300",Cbe="#D64550",yW=yr,mW="#DEEFFF",kA=[mW,yW],Rbe=[mW,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",yW],Pbe={view:{stroke:xA},background:xA,font:a1,header:{titleFont:vA,titleFontSize:EA,titleColor:SA,labelFont:a1,labelFontSize:TA,labelColor:o1},axis:{ticks:!1,grid:!1,domain:!1,labelColor:o1,labelFontSize:bA,titleFont:vA,titleColor:SA,titleFontSize:EA,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Bbe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:yr},line:{stroke:yr,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:a1,fontSize:bA,fill:o1},arc:{fill:yr},area:{fill:yr,line:!0,opacity:.6},path:{stroke:yr},rect:{fill:yr},point:{fill:yr,filled:!0,size:75},shape:{stroke:yr},symbol:{fill:yr,strokeWidth:1.5,size:50},legend:{titleFont:a1,titleFontWeight:"bold",titleColor:o1,labelFont:a1,labelFontSize:TA,labelColor:o1,symbolType:"circle",symbolSize:75},range:{category:[yr,Fbe,Ibe,Mbe,Abe,Obe,Nbe,Cbe],diverging:kA,heatmap:kA,ordinal:Rbe}},Kw='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',BA=400,Dbe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Ube=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function a6({type:e,background:t}){const n=e==="dark"?"#161616":"#ffffff",i=e==="dark"?"#f4f4f4":"#161616",s=e==="dark"?Dbe:Ube,l=e==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:l},area:{fill:l},path:{stroke:l},rect:{fill:l},shape:{stroke:l},symbol:{stroke:l},circle:{fill:l},view:{fill:n,stroke:n},group:{fill:n},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:Kw,fontWeight:600},axis:{labelColor:i,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:i,labelAngle:0},style:{"guide-label":{font:Kw,fill:i,fontWeight:BA},"guide-title":{font:Kw,fill:i,fontWeight:BA}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const $be=a6({type:"light",background:"#ffffff"}),Hbe=a6({type:"light",background:"#f4f4f4"}),zbe=a6({type:"dark",background:"#262626"}),jbe=a6({type:"dark",background:"#161616"}),qbe=cbe.version,Vbe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Hbe,carbong100:jbe,carbong90:zbe,carbonwhite:$be,dark:dbe,excel:fbe,fivethirtyeight:_be,ggplot2:pbe,googlecharts:kbe,latimes:wbe,powerbi:Pbe,quartz:Lbe,urbaninstitute:xbe,version:qbe,vox:bbe},Symbol.toStringTag,{value:"Module"}));function q2(e){"@babel/helpers - typeof";return q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q2(e)}function Gbe(e,t){if(q2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(q2(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wbe(e){var t=Gbe(e,"string");return q2(t)==="symbol"?t:String(t)}function Ybe(e,t,n){return t=Wbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xbe(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Kbe(e,t){if(e==null)return{};var n=Xbe(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}const Zbe=["title","image"];function Qbe(e,t,n){if(he(e))return`[${e.map(i=>t(ke(i)?i:FA(i,n))).join(", ")}]`;if(Ie(e)){let i="";const s=e,{title:l,image:c}=s,d=Kbe(s,Zbe);l&&(i+=`<h2>${t(l)}</h2>`),c&&(i+=`<img src="${t(c)}">`);const f=Object.keys(d);if(f.length>0){i+="<table>";for(const u of f){let a=d[u];a!==void 0&&(Ie(a)&&(a=FA(a,n)),i+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(a)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function Jbe(e){const t=[];return function(n,i){if(typeof i!="object"||i===null)return i;const s=t.indexOf(this)+1;return t.length=s,t.length>e?"[Object]":t.indexOf(i)>=0?"[Circular]":(t.push(i),i)}}function FA(e,t){return JSON.stringify(e,Jbe(t))}var eTe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const wW="vg-tooltip-element",tTe={offsetX:10,offsetY:10,id:wW,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:nTe,maxDepth:2,formatTooltip:Qbe};function nTe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function iTe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return eTe.toString().replace(wW,e)}function sTe(e,t,n,i){let s=e.clientX+n;s+t.width>window.innerWidth&&(s=+e.clientX-n-t.width);let l=e.clientY+i;return l+t.height>window.innerHeight&&(l=+e.clientY-i-t.height),{x:s,y:l}}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(i){Ybe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}class rTe{constructor(t){this.options=MA(MA({},tTe),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const i=document.createElement("style");i.setAttribute("id",this.options.styleId),i.innerHTML=iTe(n);const s=document.head;s.childNodes.length>0?s.insertBefore(i,s.childNodes[0]):s.appendChild(i)}}tooltipHandler(t,n,i,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),s==null||s===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:l,y:c}=sTe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${c}px`,this.el.style.left=`${l}px`}}function V2(e){"@babel/helpers - typeof";return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V2(e)}function aTe(e,t){if(V2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(V2(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oTe(e){var t=aTe(e,"string");return V2(t)==="symbol"?t:String(t)}function lTe(e,t,n){return t=oTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cTe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zw,AA;function dTe(){return AA||(AA=1,Zw=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Zw}var fTe=Dt;Dt.Node=Gd;Dt.create=Dt;function Dt(e){var t=this;if(t instanceof Dt||(t=new Dt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}Dt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Dt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Dt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Dt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)hTe(this,arguments[e]);return this.length};Dt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)_Te(this,arguments[e]);return this.length};Dt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Dt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Dt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;n!==null;i++)e.call(t,n.value,i,this),n=n.next};Dt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;n!==null;i--)e.call(t,n.value,i,this),n=n.prev};Dt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Dt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Dt.prototype.map=function(e,t){t=t||this;for(var n=new Dt,i=this.head;i!==null;)n.push(e.call(t,i.value,this)),i=i.next;return n};Dt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Dt,i=this.tail;i!==null;)n.push(e.call(t,i.value,this)),i=i.prev;return n};Dt.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else if(this.head)i=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)n=e(n,i.value,s),i=i.next;return n};Dt.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else if(this.tail)i=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)n=e(n,i.value,s),i=i.prev;return n};Dt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Dt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Dt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Dt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)n.push(s.value);return n};Dt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Dt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>e;i--,s=s.prev)n.push(s.value);return n};Dt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(var l=[],i=0;s&&i<t;i++)l.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<n.length;i++)s=uTe(this,s,n[i]);return l};Dt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};function uTe(e,t,n){var i=t===e.head?new Gd(n,null,t,e):new Gd(n,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function hTe(e,t){e.tail=new Gd(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function _Te(e,t){e.head=new Gd(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Gd(e,t,n,i){if(!(this instanceof Gd))return new Gd(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{dTe()(Dt)}catch{}const pTe=fTe,Zc=Symbol("max"),To=Symbol("length"),Mf=Symbol("lengthCalculator"),J1=Symbol("allowStale"),cd=Symbol("maxAge"),wo=Symbol("dispose"),OA=Symbol("noDisposeOnSet"),qn=Symbol("lruList"),mr=Symbol("cache"),LW=Symbol("updateAgeOnGet"),Qw=()=>1;class gTe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Zc]=t.max||1/0;const n=t.length||Qw;if(this[Mf]=typeof n!="function"?Qw:n,this[J1]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[cd]=t.maxAge||0,this[wo]=t.dispose,this[OA]=t.noDisposeOnSet||!1,this[LW]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Zc]=t||1/0,l1(this)}get max(){return this[Zc]}set allowStale(t){this[J1]=!!t}get allowStale(){return this[J1]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[cd]=t,l1(this)}get maxAge(){return this[cd]}set lengthCalculator(t){typeof t!="function"&&(t=Qw),t!==this[Mf]&&(this[Mf]=t,this[To]=0,this[qn].forEach(n=>{n.length=this[Mf](n.value,n.key),this[To]+=n.length})),l1(this)}get lengthCalculator(){return this[Mf]}get length(){return this[To]}get itemCount(){return this[qn].length}rforEach(t,n){n=n||this;for(let i=this[qn].tail;i!==null;){const s=i.prev;NA(this,t,i,n),i=s}}forEach(t,n){n=n||this;for(let i=this[qn].head;i!==null;){const s=i.next;NA(this,t,i,n),i=s}}keys(){return this[qn].toArray().map(t=>t.key)}values(){return this[qn].toArray().map(t=>t.value)}reset(){this[wo]&&this[qn]&&this[qn].length&&this[qn].forEach(t=>this[wo](t.key,t.value)),this[mr]=new Map,this[qn]=new pTe,this[To]=0}dump(){return this[qn].map(t=>Ry(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[qn]}set(t,n,i){if(i=i||this[cd],i&&typeof i!="number")throw new TypeError("maxAge must be a number");const s=i?Date.now():0,l=this[Mf](n,t);if(this[mr].has(t)){if(l>this[Zc])return pu(this,this[mr].get(t)),!1;const f=this[mr].get(t).value;return this[wo]&&(this[OA]||this[wo](t,f.value)),f.now=s,f.maxAge=i,f.value=n,this[To]+=l-f.length,f.length=l,this.get(t),l1(this),!0}const c=new yTe(t,n,l,s,i);return c.length>this[Zc]?(this[wo]&&this[wo](t,n),!1):(this[To]+=c.length,this[qn].unshift(c),this[mr].set(t,this[qn].head),l1(this),!0)}has(t){if(!this[mr].has(t))return!1;const n=this[mr].get(t).value;return!Ry(this,n)}get(t){return Jw(this,t,!0)}peek(t){return Jw(this,t,!1)}pop(){const t=this[qn].tail;return t?(pu(this,t),t.value):null}del(t){pu(this,this[mr].get(t))}load(t){this.reset();const n=Date.now();for(let i=t.length-1;i>=0;i--){const s=t[i],l=s.e||0;if(l===0)this.set(s.k,s.v);else{const c=l-n;c>0&&this.set(s.k,s.v,c)}}}prune(){this[mr].forEach((t,n)=>Jw(this,n,!1))}}const Jw=(e,t,n)=>{const i=e[mr].get(t);if(i){const s=i.value;if(Ry(e,s)){if(pu(e,i),!e[J1])return}else n&&(e[LW]&&(i.value.now=Date.now()),e[qn].unshiftNode(i));return s.value}},Ry=(e,t)=>{if(!t||!t.maxAge&&!e[cd])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[cd]&&n>e[cd]},l1=e=>{if(e[To]>e[Zc])for(let t=e[qn].tail;e[To]>e[Zc]&&t!==null;){const n=t.prev;pu(e,t),t=n}},pu=(e,t)=>{if(t){const n=t.value;e[wo]&&e[wo](n.key,n.value),e[To]-=n.length,e[mr].delete(n.key),e[qn].removeNode(t)}};class yTe{constructor(t,n,i,s,l){this.key=t,this.value=n,this.length=i,this.now=s,this.maxAge=l||0}}const NA=(e,t,n,i)=>{let s=n.value;Ry(e,s)&&(pu(e,n),e[J1]||(s=void 0)),s&&t.call(i,s.value,s.key,e)};var mTe=gTe;const wTe=Object.freeze({loose:!0}),LTe=Object.freeze({}),bTe=e=>e?typeof e!="object"?wTe:e:LTe;var yS=bTe,I8={exports:{}};const TTe="2.0.0",bW=256,ETe=Number.MAX_SAFE_INTEGER||9007199254740991,vTe=16,STe=bW-6,xTe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var mS={MAX_LENGTH:bW,MAX_SAFE_COMPONENT_LENGTH:vTe,MAX_SAFE_BUILD_LENGTH:STe,MAX_SAFE_INTEGER:ETe,RELEASE_TYPES:xTe,SEMVER_SPEC_VERSION:TTe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const kTe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var o6=kTe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=mS,l=o6;t=e.exports={};const c=t.re=[],d=t.safeRe=[],f=t.src=[],u=t.t={};let a=0;const y="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",s],[y,i]],m=b=>{for(const[L,v]of w)b=b.split(`${L}*`).join(`${L}{0,${v}}`).split(`${L}+`).join(`${L}{1,${v}}`);return b},o=(b,L,v)=>{const S=m(L),x=a++;l(b,x,L),u[b]=x,f[x]=L,c[x]=new RegExp(L,v?"g":void 0),d[x]=new RegExp(S,v?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),o("MAINVERSION",`(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${f[u.NUMERICIDENTIFIER]}|${f[u.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${f[u.NUMERICIDENTIFIERLOOSE]}|${f[u.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${f[u.PRERELEASEIDENTIFIER]}(?:\\.${f[u.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${f[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[u.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER",`${y}+`),o("BUILD",`(?:\\+(${f[u.BUILDIDENTIFIER]}(?:\\.${f[u.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${f[u.MAINVERSION]}${f[u.PRERELEASE]}?${f[u.BUILD]}?`),o("FULL",`^${f[u.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${f[u.MAINVERSIONLOOSE]}${f[u.PRERELEASELOOSE]}?${f[u.BUILD]}?`),o("LOOSE",`^${f[u.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${f[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${f[u.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:${f[u.PRERELEASE]})?${f[u.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:${f[u.PRERELEASELOOSE]})?${f[u.BUILD]}?)?)?`),o("XRANGE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),o("COERCERTL",f[u.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${f[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",o("TILDE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${f[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",o("CARET",`^${f[u.LONECARET]}${f[u.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${f[u.LONECARET]}${f[u.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${f[u.GTLT]}\\s*(${f[u.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]}|${f[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${f[u.XRANGEPLAIN]})\\s+-\\s+(${f[u.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${f[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[u.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(I8,I8.exports);var wS=I8.exports;const CA=/^[0-9]+$/,TW=(e,t)=>{const n=CA.test(e),i=CA.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1},BTe=(e,t)=>TW(t,e);var FTe={compareIdentifiers:TW,rcompareIdentifiers:BTe};const ep=o6,{MAX_LENGTH:RA,MAX_SAFE_INTEGER:tp}=mS,{safeRe:PA,t:DA}=wS,ITe=yS,{compareIdentifiers:Af}=FTe;let MTe=class da{constructor(t,n){if(n=ITe(n),t instanceof da){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>RA)throw new TypeError(`version is longer than ${RA} characters`);ep("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=t.trim().match(n.loose?PA[DA.LOOSE]:PA[DA.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>tp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>tp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>tp||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const l=+s;if(l>=0&&l<tp)return l}return s}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ep("SemVer.compare",this.version,this.options,t),!(t instanceof da)){if(typeof t=="string"&&t===this.version)return 0;t=new da(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof da||(t=new da(t,this.options)),Af(this.major,t.major)||Af(this.minor,t.minor)||Af(this.patch,t.patch)}comparePre(t){if(t instanceof da||(t=new da(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],s=t.prerelease[n];if(ep("prerelease compare",n,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Af(i,s)}while(++n)}compareBuild(t){t instanceof da||(t=new da(t,this.options));let n=0;do{const i=this.build[n],s=t.build[n];if(ep("prerelease compare",n,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Af(i,s)}while(++n)}inc(t,n,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(i)?1:0;if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let l=[n,s];i===!1&&(l=[n]),Af(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var LS=MTe;const UA=LS,ATe=(e,t,n)=>new UA(e,n).compare(new UA(t,n));var Ch=ATe;const OTe=Ch,NTe=(e,t,n)=>OTe(e,t,n)===0;var CTe=NTe;const RTe=Ch,PTe=(e,t,n)=>RTe(e,t,n)!==0;var DTe=PTe;const UTe=Ch,$Te=(e,t,n)=>UTe(e,t,n)>0;var HTe=$Te;const zTe=Ch,jTe=(e,t,n)=>zTe(e,t,n)>=0;var qTe=jTe;const VTe=Ch,GTe=(e,t,n)=>VTe(e,t,n)<0;var WTe=GTe;const YTe=Ch,XTe=(e,t,n)=>YTe(e,t,n)<=0;var KTe=XTe;const ZTe=CTe,QTe=DTe,JTe=HTe,eEe=qTe,tEe=WTe,nEe=KTe,iEe=(e,t,n,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return ZTe(e,n,i);case"!=":return QTe(e,n,i);case">":return JTe(e,n,i);case">=":return eEe(e,n,i);case"<":return tEe(e,n,i);case"<=":return nEe(e,n,i);default:throw new TypeError(`Invalid operator: ${t}`)}};var sEe=iEe,eL,$A;function rEe(){if($A)return eL;$A=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,y){if(y=n(y),a instanceof t){if(a.loose===!!y.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),c("comparator",a,y),this.options=y,this.loose=!!y.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(a){const y=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],w=a.match(y);if(!w)throw new TypeError(`Invalid comparator: ${a}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new d(w[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(c("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new d(a,this.options)}catch{return!1}return l(a,this.operator,this.semver,this.options)}intersects(a,y){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(a.value,y).test(this.value):a.operator===""?a.value===""?!0:new f(this.value,y).test(a.semver):(y=n(y),y.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||l(this.semver,"<",a.semver,y)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||l(this.semver,">",a.semver,y)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}eL=t;const n=yS,{safeRe:i,t:s}=wS,l=sEe,c=o6,d=LS,f=EW();return eL}var tL,HA;function EW(){if(HA)return tL;HA=1;class e{constructor(G,V){if(V=i(V),G instanceof e)return G.loose===!!V.loose&&G.includePrerelease===!!V.includePrerelease?G:new e(G.raw,V);if(G instanceof s)return this.raw=G.value,this.set=[[G]],this.format(),this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=G.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const W=this.set[0];if(this.set=this.set.filter(Z=>!o(Z[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(const Z of this.set)if(Z.length===1&&b(Z[0])){this.set=[Z];break}}}this.format()}format(){return this.range=this.set.map(G=>G.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(G){const W=((this.options.includePrerelease&&w)|(this.options.loose&&m))+":"+G,Z=n.get(W);if(Z)return Z;const q=this.options.loose,oe=q?d[f.HYPHENRANGELOOSE]:d[f.HYPHENRANGE];G=G.replace(oe,U(this.options.includePrerelease)),l("hyphen replace",G),G=G.replace(d[f.COMPARATORTRIM],u),l("comparator trim",G),G=G.replace(d[f.TILDETRIM],a),l("tilde trim",G),G=G.replace(d[f.CARETTRIM],y),l("caret trim",G);let fe=G.split(" ").map(Se=>v(Se,this.options)).join(" ").split(/\s+/).map(Se=>D(Se,this.options));q&&(fe=fe.filter(Se=>(l("loose invalid filter",Se,this.options),!!Se.match(d[f.COMPARATORLOOSE])))),l("range list",fe);const ne=new Map,xe=fe.map(Se=>new s(Se,this.options));for(const Se of xe){if(o(Se))return[Se];ne.set(Se.value,Se)}ne.size>1&&ne.has("")&&ne.delete("");const le=[...ne.values()];return n.set(W,le),le}intersects(G,V){if(!(G instanceof e))throw new TypeError("a Range is required");return this.set.some(W=>L(W,V)&&G.set.some(Z=>L(Z,V)&&W.every(q=>Z.every(oe=>q.intersects(oe,V)))))}test(G){if(!G)return!1;if(typeof G=="string")try{G=new c(G,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(X(this.set[V],G,this.options))return!0;return!1}}tL=e;const t=mTe,n=new t({max:1e3}),i=yS,s=rEe(),l=o6,c=LS,{safeRe:d,t:f,comparatorTrimReplace:u,tildeTrimReplace:a,caretTrimReplace:y}=wS,{FLAG_INCLUDE_PRERELEASE:w,FLAG_LOOSE:m}=mS,o=j=>j.value==="<0.0.0-0",b=j=>j.value==="",L=(j,G)=>{let V=!0;const W=j.slice();let Z=W.pop();for(;V&&W.length;)V=W.every(q=>Z.intersects(q,G)),Z=W.pop();return V},v=(j,G)=>(l("comp",j,G),j=k(j,G),l("caret",j),j=x(j,G),l("tildes",j),j=M(j,G),l("xrange",j),j=R(j,G),l("stars",j),j),S=j=>!j||j.toLowerCase()==="x"||j==="*",x=(j,G)=>j.trim().split(/\s+/).map(V=>F(V,G)).join(" "),F=(j,G)=>{const V=G.loose?d[f.TILDELOOSE]:d[f.TILDE];return j.replace(V,(W,Z,q,oe,fe)=>{l("tilde",j,W,Z,q,oe,fe);let ne;return S(Z)?ne="":S(q)?ne=`>=${Z}.0.0 <${+Z+1}.0.0-0`:S(oe)?ne=`>=${Z}.${q}.0 <${Z}.${+q+1}.0-0`:fe?(l("replaceTilde pr",fe),ne=`>=${Z}.${q}.${oe}-${fe} <${Z}.${+q+1}.0-0`):ne=`>=${Z}.${q}.${oe} <${Z}.${+q+1}.0-0`,l("tilde return",ne),ne})},k=(j,G)=>j.trim().split(/\s+/).map(V=>A(V,G)).join(" "),A=(j,G)=>{l("caret",j,G);const V=G.loose?d[f.CARETLOOSE]:d[f.CARET],W=G.includePrerelease?"-0":"";return j.replace(V,(Z,q,oe,fe,ne)=>{l("caret",j,Z,q,oe,fe,ne);let xe;return S(q)?xe="":S(oe)?xe=`>=${q}.0.0${W} <${+q+1}.0.0-0`:S(fe)?q==="0"?xe=`>=${q}.${oe}.0${W} <${q}.${+oe+1}.0-0`:xe=`>=${q}.${oe}.0${W} <${+q+1}.0.0-0`:ne?(l("replaceCaret pr",ne),q==="0"?oe==="0"?xe=`>=${q}.${oe}.${fe}-${ne} <${q}.${oe}.${+fe+1}-0`:xe=`>=${q}.${oe}.${fe}-${ne} <${q}.${+oe+1}.0-0`:xe=`>=${q}.${oe}.${fe}-${ne} <${+q+1}.0.0-0`):(l("no pr"),q==="0"?oe==="0"?xe=`>=${q}.${oe}.${fe}${W} <${q}.${oe}.${+fe+1}-0`:xe=`>=${q}.${oe}.${fe}${W} <${q}.${+oe+1}.0-0`:xe=`>=${q}.${oe}.${fe} <${+q+1}.0.0-0`),l("caret return",xe),xe})},M=(j,G)=>(l("replaceXRanges",j,G),j.split(/\s+/).map(V=>C(V,G)).join(" ")),C=(j,G)=>{j=j.trim();const V=G.loose?d[f.XRANGELOOSE]:d[f.XRANGE];return j.replace(V,(W,Z,q,oe,fe,ne)=>{l("xRange",j,W,Z,q,oe,fe,ne);const xe=S(q),le=xe||S(oe),Se=le||S(fe),Ae=Se;return Z==="="&&Ae&&(Z=""),ne=G.includePrerelease?"-0":"",xe?Z===">"||Z==="<"?W="<0.0.0-0":W="*":Z&&Ae?(le&&(oe=0),fe=0,Z===">"?(Z=">=",le?(q=+q+1,oe=0,fe=0):(oe=+oe+1,fe=0)):Z==="<="&&(Z="<",le?q=+q+1:oe=+oe+1),Z==="<"&&(ne="-0"),W=`${Z+q}.${oe}.${fe}${ne}`):le?W=`>=${q}.0.0${ne} <${+q+1}.0.0-0`:Se&&(W=`>=${q}.${oe}.0${ne} <${q}.${+oe+1}.0-0`),l("xRange return",W),W})},R=(j,G)=>(l("replaceStars",j,G),j.trim().replace(d[f.STAR],"")),D=(j,G)=>(l("replaceGTE0",j,G),j.trim().replace(d[G.includePrerelease?f.GTE0PRE:f.GTE0],"")),U=j=>(G,V,W,Z,q,oe,fe,ne,xe,le,Se,Ae,Ze)=>(S(W)?V="":S(Z)?V=`>=${W}.0.0${j?"-0":""}`:S(q)?V=`>=${W}.${Z}.0${j?"-0":""}`:oe?V=`>=${V}`:V=`>=${V}${j?"-0":""}`,S(xe)?ne="":S(le)?ne=`<${+xe+1}.0.0-0`:S(Se)?ne=`<${xe}.${+le+1}.0-0`:Ae?ne=`<=${xe}.${le}.${Se}-${Ae}`:j?ne=`<${xe}.${le}.${+Se+1}-0`:ne=`<=${ne}`,`${V} ${ne}`.trim()),X=(j,G,V)=>{for(let W=0;W<j.length;W++)if(!j[W].test(G))return!1;if(G.prerelease.length&&!V.includePrerelease){for(let W=0;W<j.length;W++)if(l(j[W].semver),j[W].semver!==s.ANY&&j[W].semver.prerelease.length>0){const Z=j[W].semver;if(Z.major===G.major&&Z.minor===G.minor&&Z.patch===G.patch)return!0}return!1}return!0};return tL}const aEe=EW(),oEe=(e,t,n)=>{try{t=new aEe(t,n)}catch{return!1}return t.test(e)};var lEe=oEe,vW=cTe(lEe);function cEe(e,t,n){const i=e.open(t),s=1e4,l=250,{origin:c}=new URL(t);let d=~~(s/l);function f(a){a.source===i&&(d=0,e.removeEventListener("message",f,!1))}e.addEventListener("message",f,!1);function u(){d<=0||(i.postMessage(n,c),setTimeout(u,l),d-=1)}setTimeout(u,l)}var dEe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function SW(e,...t){for(const n of t)fEe(e,n);return e}function fEe(e,t){for(const n of Object.keys(t))wh(e,n,t[n],!0)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(i){lTe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const Lr=zye;let G2=V7e;const np=typeof window<"u"?window:void 0;var pO;G2===void 0&&((pO=np==null?void 0:np.vl)!=null&&pO.compile)&&(G2=np.vl);const uEe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},hEe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},C1={vega:"Vega","vega-lite":"Vega-Lite"},Py={vega:Lr.version,"vega-lite":G2?G2.version:"not available"},_Ee={vega:e=>e,"vega-lite":(e,t)=>G2.compile(e,{config:t}).spec},pEe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,gEe="chart-wrapper";function yEe(e){return typeof e=="function"}function jA(e,t,n,i){const s=`<html><head>${t}</head><body><pre><code class="json">`,l=`</code></pre>${n}</body></html>`,c=window.open("");c.document.write(s+e+l),c.document.title=`${C1[i]} JSON Source`}function mEe(e,t){if(e.$schema){const n=gW(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${C1[n.library]}, but mode argument sets ${C1[t]??t}.`);const i=n.library;return vW(Py[i],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${C1[i]} ${n.version}, but the current version of ${C1[i]} is v${Py[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function wEe(e){return!!(e&&"load"in e)}function qA(e){return wEe(e)?e:Lr.loader(e)}function LEe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return ke(t.defaultStyle)&&(t.defaultStyle=!1),t}async function bEe(e,t,n={}){let i,s;ke(t)?(s=qA(n.loader),i=JSON.parse(await s.load(t))):i=t;const l=LEe(i),c=l.loader;(!s||c)&&(s=qA(n.loader??c));const d=await VA(l,s),f=await VA(n,s),u=Rl(Rl({},SW(f,d)),{},{config:mh(f.config??{},d.config??{})});return await EEe(e,i,u,s)}async function VA(e,t){const n=ke(e.config)?JSON.parse(await t.load(e.config)):e.config??{},i=ke(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return Rl(Rl(Rl({},e),i?{patch:i}:{}),n?{config:n}:{})}function TEe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function EEe(e,t,n={},i){const s=n.theme?mh(Vbe[n.theme],n.config??{}):n.config,l=uc(n.actions)?n.actions:SW({},uEe,n.actions??{}),c=Rl(Rl({},hEe),n.i18n),d=n.renderer??"canvas",f=n.logLevel??Lr.Warn,u=n.downloadFileName??"visualization",a=typeof e=="string"?document.querySelector(e):e;if(!a)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const k="vega-embed-style",{root:A,rootContainer:M}=TEe(a);if(!A.getElementById(k)){const C=document.createElement("style");C.id=k,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?dEe.toString():n.defaultStyle,M.appendChild(C)}}const y=mEe(t,n.mode);let w=_Ee[y](t,s);if(y==="vega-lite"&&w.$schema){const k=gW(w.$schema);vW(Py.vega,`^${k.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${k.version}, but current version is v${Py.vega}.`)}a.classList.add("vega-embed"),l&&a.classList.add("has-actions"),a.innerHTML="";let m=a;if(l){const k=document.createElement("div");k.classList.add(gEe),a.appendChild(k),m=k}const o=n.patch;if(o&&(w=o instanceof Function?o(w):k4(w,o,!0,!1).newDocument),n.formatLocale&&Lr.formatLocale(n.formatLocale),n.timeFormatLocale&&Lr.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const k in n.expressionFunctions){const A=n.expressionFunctions[k];"fn"in A?Lr.expressionFunction(k,A.fn,A.visitor):A instanceof Function&&Lr.expressionFunction(k,A)}const{ast:b}=n,L=Lr.parse(w,y==="vega-lite"?{}:s,{ast:b}),v=new(n.viewClass||Lr.View)(L,Rl({loader:i,logLevel:f,renderer:d},b?{expr:Lr.expressionInterpreter??n.expr??Qye}:{}));if(v.addSignalListener("autosize",(k,A)=>{const{type:M}=A;M=="fit-x"?(m.classList.add("fit-x"),m.classList.remove("fit-y")):M=="fit-y"?(m.classList.remove("fit-x"),m.classList.add("fit-y")):M=="fit"?m.classList.add("fit-x","fit-y"):m.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const k=yEe(n.tooltip)?n.tooltip:new rTe(n.tooltip===!0?{}:n.tooltip).call;v.tooltip(k)}let{hover:S}=n;if(S===void 0&&(S=y==="vega"),S){const{hoverSet:k,updateSet:A}=typeof S=="boolean"?{}:S;v.hover(k,A)}n&&(n.width!=null&&v.width(n.width),n.height!=null&&v.height(n.height),n.padding!=null&&v.padding(n.padding)),await v.initialize(m,n.bind).runAsync();let x;if(l!==!1){let k=a;if(n.defaultStyle!==!1){const M=document.createElement("details");M.title=c.CLICK_TO_VIEW_ACTIONS,a.append(M),k=M;const C=document.createElement("summary");C.innerHTML=pEe,M.append(C),x=R=>{M.contains(R.target)||M.removeAttribute("open")},document.addEventListener("click",x)}const A=document.createElement("div");if(k.append(A),A.classList.add("vega-actions"),l===!0||l.export!==!1){for(const M of["svg","png"])if(l===!0||l.export===!0||l.export[M]){const C=c[`${M.toUpperCase()}_ACTION`],R=document.createElement("a"),D=Ie(n.scaleFactor)?n.scaleFactor[M]:n.scaleFactor;R.text=C,R.href="#",R.target="_blank",R.download=`${u}.${M}`,R.addEventListener("mousedown",async function(U){U.preventDefault();const X=await v.toImageURL(M,D);this.href=X}),A.append(R)}}if(l===!0||l.source!==!1){const M=document.createElement("a");M.text=c.SOURCE_ACTION,M.href="#",M.addEventListener("click",function(C){jA(nw(t),n.sourceHeader??"",n.sourceFooter??"",y),C.preventDefault()}),A.append(M)}if(y==="vega-lite"&&(l===!0||l.compiled!==!1)){const M=document.createElement("a");M.text=c.COMPILED_ACTION,M.href="#",M.addEventListener("click",function(C){jA(nw(w),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),A.append(M)}if(l===!0||l.editor!==!1){const M=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=c.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(R){cEe(window,M,{config:s,mode:y,renderer:d,spec:nw(t)}),R.preventDefault()}),A.append(C)}}function F(){x&&document.removeEventListener("click",x),v.finalize()}return{view:v,spec:t,vgSpec:w,finalize:F,embedOptions:n}}const vEe=new Set(["width","height"]);var SEe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var i,s,l;if(Array.isArray(t)){if(i=t.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(l=Object.keys(t),i=l.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[s]))return!1;for(s=i;s--!==0;){var c=l[s];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n};const xEe=fh(SEe);function kEe(e,t){for(const[n,i]of Object.entries(t))i&&(i&&{}.toString.call(i)==="[object Function]"?i(e.data(n)):e.change(n,Lr.changeset().remove(()=>!0).insert(i)))}function ip(e={},t={},n=new Set){const i=Object.keys(e),s=Object.keys(t);return e===t||i.length===s.length&&i.filter(l=>!n.has(l)).every(l=>e[l]===t[l])}function GA(e,t){const n=Object.keys(t);for(const i of n)try{e.removeSignalListener(i,t[i])}catch(s){console.warn("Cannot remove invalid signal listener.",s)}return n.length>0}function nL(e,t){const n=Object.keys(t);for(const i of n)try{e.addSignalListener(i,t[i])}catch(s){console.warn("Cannot add invalid signal listener.",s)}return n.length>0}function BEe(e){return new Set(e.flatMap(t=>Object.keys(t)))}function FEe(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},i="width"in e||"width"in t,s="height"in e||"height"in t;return i&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),s&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),[...BEe([e,t])].filter(c=>c!=="width"&&c!=="height").some(c=>!(c in e)||!(c in t)||!xEe(e[c],t[c]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function WA(e,t){const{width:n,height:i}=t;return typeof n<"u"&&typeof i<"u"?{...e,width:n,height:i}:typeof n<"u"?{...e,width:n}:typeof i<"u"?{...e,height:i}:e}function IEe(e){let t;return{c(){t=je("div")},m(n,i){rn(n,t,i),e[11](t)},p:Yi,i:Yi,o:Yi,d(n){n&&Qt(t),e[11](null)}}}function MEe(e,t,n){let{options:i}=t,{spec:s}=t,{view:l}=t,{signalListeners:c={}}=t,{data:d={}}=t;const f=ch();let u,a={},y={},w={},m={},o;DW(()=>{L()});async function b(){L();try{n(6,u=await bEe(o,s,i)),n(1,l=u.view),nL(l,c)&&l.runAsync(),S(l)}catch(k){v(k)}}function L(){u&&(u.finalize(),n(6,u=void 0),n(1,l=void 0))}function v(k){f("onError",{error:k}),console.warn(k)}function S(k){x(),f("onNewView",{view:k})}async function x(){d&&Object.keys(d).length>0&&u!==void 0&&(n(1,l=u.view),kEe(l,d),await l.resize().runAsync())}function F(k){t2[k?"unshift":"push"](()=>{o=k,n(0,o)})}return e.$$set=k=>{"options"in k&&n(2,i=k.options),"spec"in k&&n(3,s=k.spec),"view"in k&&n(1,l=k.view),"signalListeners"in k&&n(4,c=k.signalListeners),"data"in k&&n(5,d=k.data)},e.$$.update=()=>{if(e.$$.dirty&1056&&(ip(d,m)||x(),n(10,m=d)),e.$$.dirty&991&&o!==void 0){if(!ip(i,a,vEe))b();else{const k=FEe(WA(s,i),WA(w,a)),A=c,M=y;if(k){if(k.isExpensive)b();else if(u!==void 0){const C=!ip(A,M);n(1,l=u.view),k.width!==!1&&l.width(k.width),k.height!==!1&&l.height(k.height),C&&(M&&GA(l,M),A&&nL(l,A)),l.runAsync()}}else!ip(A,M)&&u!==void 0&&(n(1,l=u.view),M&&GA(l,M),A&&nL(l,A),l.runAsync())}n(7,a=i),n(8,y=c),n(9,w=s)}},[o,l,i,s,c,d,u,a,y,w,m,F]}class AEe extends fr{constructor(t){super(),dr(this,t,MEe,IEe,cr,{options:2,spec:3,view:1,signalListeners:4,data:5})}}function OEe(e){let t,n,i;function s(c){e[6](c)}let l={spec:e[1],data:e[2],signalListeners:e[3],options:e[4]};return e[0]!==void 0&&(l.view=e[0]),t=new AEe({props:l}),t2.push(()=>EO(t,"view",s)),t.$on("onNewView",e[7]),t.$on("onError",e[8]),{c(){pi(t.$$.fragment)},m(c,d){ei(t,c,d),i=!0},p(c,[d]){const f={};d&2&&(f.spec=c[1]),d&4&&(f.data=c[2]),d&8&&(f.signalListeners=c[3]),d&16&&(f.options=c[4]),!n&&d&1&&(n=!0,f.view=c[0],bO(()=>n=!1)),t.$set(f)},i(c){i||(ht(t.$$.fragment,c),i=!0)},o(c){Ut(t.$$.fragment,c),i=!1},d(c){ti(t,c)}}}const NEe="vega-lite";function CEe(e,t,n){let i,{spec:s}=t,{options:l={}}=t,{data:c={}}=t,{signalListeners:d={}}=t,{view:f=void 0}=t;function u(w){f=w,n(0,f)}function a(w){wn.call(this,e,w)}function y(w){wn.call(this,e,w)}return e.$$set=w=>{"spec"in w&&n(1,s=w.spec),"options"in w&&n(5,l=w.options),"data"in w&&n(2,c=w.data),"signalListeners"in w&&n(3,d=w.signalListeners),"view"in w&&n(0,f=w.view)},e.$$.update=()=>{e.$$.dirty&32&&n(4,i={...l,mode:NEe})},[f,s,c,d,i,l,u,a,y]}class xW extends fr{constructor(t){super(),dr(this,t,CEe,OEe,cr,{spec:1,options:5,data:2,signalListeners:3,view:0})}}const bS="hsl(171,69%,47%)";function REe(e){let t,n,i,s,l,c;function d(u){e[22](u)}let f={data:e[2],spec:e[1],options:{tooltip:!0,actions:!1,theme:"vox"}};return e[0]!==void 0&&(f.view=e[0]),n=new xW({props:f}),t2.push(()=>EO(n,"view",d)),{c(){t=je("div"),pi(n.$$.fragment),Be(t,"class","container svelte-mufgje")},m(u,a){rn(u,t,a),ei(n,t,null),s=!0,l||(c=[Bn(t,"click",e[17]),Bn(t,"mousedown",e[18]),Bn(t,"mouseup",e[19]),Bn(t,"mouseenter",e[20]),Bn(t,"mouseleave",e[21])],l=!0)},p(u,[a]){const y={};a&4&&(y.data=u[2]),a&2&&(y.spec=u[1]),!i&&a&1&&(i=!0,y.view=u[0],bO(()=>i=!1)),n.$set(y)},i(u){s||(ht(n.$$.fragment,u),s=!0)},o(u){Ut(n.$$.fragment,u),s=!1},d(u){u&&Qt(t),ti(n),l=!1,Xa(c)}}}function PEe(e,t,n){let i,s;const l=ch();let{bins:c=[{bin:[0,10],count:200,filteredCount:150},{bin:[10,20],count:300,filteredCount:25},{bin:[20,30],count:72,filteredCount:12}]}=t,{title:d=""}=t,{width:f=400}=t,{height:u=125}=t,{countLabel:a="Count"}=t,{dimLabel:y=""}=t,{labelColor:w="black"}=t,{backgroundBarColor:m="hsla(0, 0%, 0%, 0.07)"}=t,{foregroundBarColor:o=bS}=t,{backgroundColor:b="white"}=t,{onlyFiltered:L=!1}=t,{type:v="quantitative"}=t,{timeUnit:S=""}=t,x,F=!1;function k(U){wn.call(this,e,U)}function A(U){wn.call(this,e,U)}function M(U){wn.call(this,e,U)}function C(U){wn.call(this,e,U)}function R(U){wn.call(this,e,U)}function D(U){x=U,n(0,x)}return e.$$set=U=>{"bins"in U&&n(3,c=U.bins),"title"in U&&n(4,d=U.title),"width"in U&&n(5,f=U.width),"height"in U&&n(6,u=U.height),"countLabel"in U&&n(7,a=U.countLabel),"dimLabel"in U&&n(8,y=U.dimLabel),"labelColor"in U&&n(9,w=U.labelColor),"backgroundBarColor"in U&&n(10,m=U.backgroundBarColor),"foregroundBarColor"in U&&n(11,o=U.foregroundBarColor),"backgroundColor"in U&&n(12,b=U.backgroundColor),"onlyFiltered"in U&&n(13,L=U.onlyFiltered),"type"in U&&n(14,v=U.type),"timeUnit"in U&&n(15,S=U.timeUnit)},e.$$.update=()=>{e.$$.dirty&8&&n(2,i={table:c}),e.$$.dirty&61296&&n(1,s={$schema:"https://vega.github.io/schema/vega-lite/v5.json",description:"A simple bar chart with embedded data.",data:{name:"table"},background:"transparent",width:f,height:u,title:{text:d,anchor:"start"},layer:[{params:[{name:"select",select:{type:"interval",encodings:["x"]}}],mark:{type:"bar",cursor:"col-resize"},encoding:{x:{...S?{timeUnit:S}:{},field:"bin[0]",type:v,bin:{binned:!0},axis:{title:y,titleColor:w,labelColor:w}},x2:{field:"bin[1]"},y:{field:L?"filteredCount":"count",type:"quantitative",axis:{title:"Count",titleColor:w,tickCount:3,labelColor:w}},color:{value:m}}},{mark:{type:"bar"},encoding:{size:{legend:null},x:{...S?{timeUnit:S}:{},field:"bin[0]",type:v,bin:{binned:!0},title:""},x2:{field:"bin[1]"},y:{field:"filteredCount",type:"quantitative"},color:{value:o}}}]}),e.$$.dirty&65537&&x&&!F&&(x.addSignalListener("select",(...U)=>{l("select",U[1]["bin\\.0"]??null)}),n(16,F=!0))},[x,s,i,c,d,f,u,a,y,w,m,o,b,L,v,S,F,k,A,M,C,R,D]}class DEe extends fr{constructor(t){super(),dr(this,t,PEe,REe,cr,{bins:3,title:4,width:5,height:6,countLabel:7,dimLabel:8,labelColor:9,backgroundBarColor:10,foregroundBarColor:11,backgroundColor:12,onlyFiltered:13,type:14,timeUnit:15})}}function UEe(e){let t,n;return t=new DEe({props:{bins:e[8],timeUnit:e[7],type:e[6],title:e[0],width:e[1],height:e[2],countLabel:e[3],dimLabel:e[4],onlyFiltered:e[5]}}),t.$on("select",e[10]),t.$on("mouseenter",e[11]),t.$on("mouseleave",e[12]),t.$on("mouseup",e[13]),t.$on("mousedown",e[14]),t.$on("click",e[15]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,[s]){const l={};s&256&&(l.bins=i[8]),s&128&&(l.timeUnit=i[7]),s&64&&(l.type=i[6]),s&1&&(l.title=i[0]),s&2&&(l.width=i[1]),s&4&&(l.height=i[2]),s&8&&(l.countLabel=i[3]),s&16&&(l.dimLabel=i[4]),s&32&&(l.onlyFiltered=i[5]),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function $Ee(e){let t=[];if(e)for(let n=0;n<e.bin.length;n++)t.push({bin:[e.bin[n].binStart,e.bin[n].binEnd],count:e.total[n],filteredCount:e.filter[n]});return t}function HEe(e,t,n){let i,{state:s}=t,{title:l=""}=t,{width:c=400}=t,{height:d=125}=t,{countLabel:f="Count"}=t,{dimLabel:u=""}=t,{onlyFiltered:a=!1}=t,{type:y="quantitative"}=t,{timeUnit:w=""}=t;function m(x){wn.call(this,e,x)}function o(x){wn.call(this,e,x)}function b(x){wn.call(this,e,x)}function L(x){wn.call(this,e,x)}function v(x){wn.call(this,e,x)}function S(x){wn.call(this,e,x)}return e.$$set=x=>{"state"in x&&n(9,s=x.state),"title"in x&&n(0,l=x.title),"width"in x&&n(1,c=x.width),"height"in x&&n(2,d=x.height),"countLabel"in x&&n(3,f=x.countLabel),"dimLabel"in x&&n(4,u=x.dimLabel),"onlyFiltered"in x&&n(5,a=x.onlyFiltered),"type"in x&&n(6,y=x.type),"timeUnit"in x&&n(7,w=x.timeUnit)},e.$$.update=()=>{e.$$.dirty&512&&n(8,i=$Ee(s))},[l,c,d,f,u,a,y,w,i,s,m,o,b,L,v,S]}class zEe extends fr{constructor(t){super(),dr(this,t,HEe,UEe,cr,{state:9,title:0,width:1,height:2,countLabel:3,dimLabel:4,onlyFiltered:5,type:6,timeUnit:7})}}function jEe(e){let t,n,i,s,l,c;return i=new Y7({props:{title:e[1],selection:qEe}}),l=new zEe({props:{dimLabel:e[0],state:{bin:e[4],filter:e[3],total:e[2]},type:e[5],timeUnit:e[6],width:e[7],height:e[8]}}),l.$on("mouseenter",e[9]),l.$on("mouseleave",e[10]),l.$on("mousedown",e[11]),l.$on("mouseup",e[12]),l.$on("select",e[13]),{c(){t=je("div"),n=je("div"),pi(i.$$.fragment),s=Lt(),pi(l.$$.fragment),Be(n,"class","hist svelte-1velrzw"),Be(t,"id","hist-container"),Be(t,"class","svelte-1velrzw")},m(d,f){rn(d,t,f),Te(t,n),ei(i,n,null),Te(n,s),ei(l,n,null),c=!0},p(d,[f]){const u={};f&2&&(u.title=d[1]),i.$set(u);const a={};f&1&&(a.dimLabel=d[0]),f&28&&(a.state={bin:d[4],filter:d[3],total:d[2]}),f&32&&(a.type=d[5]),f&64&&(a.timeUnit=d[6]),f&128&&(a.width=d[7]),f&256&&(a.height=d[8]),l.$set(a)},i(d){c||(ht(i.$$.fragment,d),ht(l.$$.fragment,d),c=!0)},o(d){Ut(i.$$.fragment,d),Ut(l.$$.fragment,d),c=!1},d(d){d&&Qt(t),ti(i),ti(l)}}}let qEe=null;function VEe(e,t,n){let{dimLabel:i=""}=t,{title:s=""}=t,{totalCounts:l}=t,{filteredCounts:c}=t,{bins:d}=t,{type:f="quantitative"}=t,{timeUnit:u=""}=t,{width:a=400}=t,{height:y=150}=t;function w(v){wn.call(this,e,v)}function m(v){wn.call(this,e,v)}function o(v){wn.call(this,e,v)}function b(v){wn.call(this,e,v)}function L(v){wn.call(this,e,v)}return e.$$set=v=>{"dimLabel"in v&&n(0,i=v.dimLabel),"title"in v&&n(1,s=v.title),"totalCounts"in v&&n(2,l=v.totalCounts),"filteredCounts"in v&&n(3,c=v.filteredCounts),"bins"in v&&n(4,d=v.bins),"type"in v&&n(5,f=v.type),"timeUnit"in v&&n(6,u=v.timeUnit),"width"in v&&n(7,a=v.width),"height"in v&&n(8,y=v.height)},[i,s,l,c,d,f,u,a,y,w,m,o,b,L]}class l6 extends fr{constructor(t){super(),dr(this,t,VEe,jEe,cr,{dimLabel:0,title:1,totalCounts:2,filteredCounts:3,bins:4,type:5,timeUnit:6,width:7,height:8})}}function GEe(e){let t,n,i,s;return t=new Y7({props:{title:e[2]}}),i=new xW({props:{data:{table:{filteredCount:e[0],totalCount:e[1]}},spec:e[3],options:{tooltip:!0,actions:!1,theme:"vox"}}}),{c(){pi(t.$$.fragment),n=Lt(),pi(i.$$.fragment)},m(l,c){ei(t,l,c),rn(l,n,c),ei(i,l,c),s=!0},p(l,[c]){const d={};c&4&&(d.title=l[2]),t.$set(d);const f={};c&3&&(f.data={table:{filteredCount:l[0],totalCount:l[1]}}),c&8&&(f.spec=l[3]),i.$set(f)},i(l){s||(ht(t.$$.fragment,l),ht(i.$$.fragment,l),s=!0)},o(l){Ut(t.$$.fragment,l),Ut(i.$$.fragment,l),s=!1},d(l){l&&Qt(n),ti(t,l),ti(i,l)}}}function WEe(e,t,n){let i,{filteredCount:s}=t,{totalCount:l}=t,{width:c=500}=t,{height:d=50}=t,{barColor:f=bS}=t,{title:u="Number of cities"}=t;return e.$$set=a=>{"filteredCount"in a&&n(0,s=a.filteredCount),"totalCount"in a&&n(1,l=a.totalCount),"width"in a&&n(4,c=a.width),"height"in a&&n(5,d=a.height),"barColor"in a&&n(6,f=a.barColor),"title"in a&&n(2,u=a.title)},e.$$.update=()=>{e.$$.dirty&114&&n(3,i={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{name:"table"},width:c,height:d,title:null,mark:{type:"bar"},encoding:{x:{scale:{domain:[0,l]},type:"quantitative",title:null,field:"filteredCount",axis:{tickCount:5}},color:{value:f}}})},[s,l,u,i,c,d,f]}class YEe extends fr{constructor(t){super(),dr(this,t,WEe,GEe,cr,{filteredCount:0,totalCount:1,width:4,height:5,barColor:6,title:2})}}let Dy=[{d:"M102.263 199.566V200.763V201.944V203.109V204.259V205.394V206.515V207.622V208.716V209.795V210.863V211.917V212.958V213.988V215.007V216.013V217.012V217.998V218.972V219.936V220.891V221.835V222.77V223.695V224.612V225.52V226.418V227.307V228.189V229.061V229.926V230.783V231.632L102.606 231.751L102.945 231.869L103.048 231.634L103.415 231.814L103.734 231.971L103.938 231.77L104.159 231.551L104.457 231.536L104.792 231.519L105.014 231.507V231.693L104.932 232.001L104.863 232.258L105.047 232.492L105.066 232.517L105.315 232.653L105.549 232.779L105.654 233.13L105.91 233.4L106.105 233.604L106.292 233.8L106.558 234.079L106.745 234.274L106.995 234.533L107.142 234.687L107.214 234.986L107.299 235.343L107.246 235.553L107.363 235.587L107.594 235.351L107.81 235.204L108.078 235.023L108.259 234.901L108.595 234.895L108.755 234.538V234.034L108.925 234.044L109.026 233.975L109.07 233.827L108.963 233.624L109.286 233.53L109.519 233.461L109.85 233.273L110.174 233.09L110.329 233.232L110.483 233.369L110.783 233.699L110.804 233.778L110.784 233.932L110.755 234.086L110.938 234.516L110.99 234.564L111.14 234.623L111.32 234.765L111.399 234.888L111.659 235.084L111.703 235.165L111.728 235.296L111.77 235.409L111.819 235.489L111.866 235.604L111.979 235.738L112.193 235.889L112.341 235.993L112.549 236.139L112.759 236.436L112.942 236.694L113.15 236.947L113.12 237.149L113.331 237.46L113.553 237.853L113.724 238.201L113.845 238.395L113.99 238.675L114.168 239.017L114.37 239.404L114.525 239.653L114.728 239.999L114.826 240.205L114.76 240.345L114.676 240.519L114.935 240.602L115.114 240.658L115.068 240.85L115.009 241.103L115.211 241.203L115.35 241.27L115.321 241.402L115.397 241.552L115.409 241.799L115.657 241.784L115.767 241.776L115.914 241.886L116.109 242.031L116.304 242.165L116.471 242.279L116.69 242.348L116.959 242.446L117.092 242.645L117.338 242.731L117.429 243.008L117.714 243.11L117.881 243.042L117.941 243.155L117.988 243.284L118 243.448L117.985 243.606L117.913 243.739L117.86 243.882L117.824 244.036L117.81 244.201L117.819 244.378L117.848 244.532L117.935 244.816L117.963 244.989L117.968 245.104L117.775 245.508L117.708 245.7L117.714 245.786L117.573 245.985L117.314 246.264L117.197 246.425L117.139 246.371L116.804 246.33L116.683 245.975L116.619 245.699L116.521 245.458L116.524 245.403L116.613 245.241L116.947 245.108L116.95 245.055L116.826 245.02L116.795 244.962L116.762 244.698L116.771 244.466L116.762 244.312L116.705 243.997L116.622 243.803L116.406 243.425L116.387 243.329L116.482 243.208L116.541 243.095L116.176 243.29L115.678 243.495L115.465 243.637L115.421 243.693L115.406 243.742L115.446 243.876L115.44 243.919L115.395 243.998L115.344 244.221L115.236 244.457L115.181 244.506L114.986 244.418L114.935 244.343L114.837 244.035L114.86 243.952L114.931 243.882L115.027 243.733L115.149 243.501L115.38 242.911L115.532 242.908L115.8 242.79L115.38 242.731L115.318 242.7L115.262 242.619L115.211 242.488L115.126 242.342L114.966 242.29L114.896 242.237L114.792 242.06L114.722 241.98L114.683 241.881L114.677 241.764L114.647 241.704L114.537 241.683L114.478 241.642L114.461 241.337L114.244 241.257L114.154 241.19L114.011 241L113.972 240.907L113.959 240.829L113.994 240.617L113.979 240.577L113.851 240.599L113.06 240.269L113.101 239.833L112.955 239.255L112.799 239.02L112.831 238.929L112.864 238.88L112.934 238.878L113.237 239.049L113.523 239.252L113.559 239.223L113.103 238.793L112.989 238.663L112.96 238.508L112.958 238.424L112.995 238.38L113.424 238.418L113.45 238.386L113.016 238.259H112.928L112.832 238.441L112.786 238.483L112.694 238.474L112.662 238.447L112.551 238.225L112.446 238.071L112.249 237.858L112.213 237.705L112.204 237.481L112.23 237.268L112.389 236.78L112.453 236.694L112.47 236.641L112.421 236.648L112.374 236.696L112.242 236.923L112.105 237.295L111.994 237.422L111.924 237.391L111.819 237.24L111.598 237.056L111.343 237.008L111.181 236.819L110.943 236.29L110.911 236.026L110.88 235.962L110.751 235.877L110.672 235.749L110.549 235.099L110.387 234.644L110.346 234.403L110.36 234.164L110.339 234.138L110.282 234.324L110.267 234.422L110.165 234.449L110.261 234.638L110.285 234.733L110.237 234.725L110.138 234.748L110.304 235.068L110.378 235.564L110.489 235.929L110.561 236.223L110.593 236.446L110.64 236.659L110.769 237.127L110.787 237.22L110.772 237.297L110.73 237.387L110.657 237.42L110.425 237.359L110.339 237.243L110.214 237.031L110.039 236.934L109.607 236.982L109.572 236.966L109.573 236.792L109.624 236.481L109.584 236.356L109.36 235.897L109.363 235.807L109.674 235.595L109.523 235.578L109.401 235.66L109.354 235.607L109.281 235.311L109.234 235.201L109.211 235.177L109.198 235.459L109.249 235.607L109.257 235.692L109.249 235.811L109.217 235.897L109.161 235.948L109.105 235.962L109 235.903L108.884 235.791L108.782 235.738L108.744 235.694L108.696 235.57L108.616 235.476L108.238 235.357L108.011 235.216L107.993 235.253L108.063 235.404L108.069 235.492L108.011 235.52L107.909 235.663L107.938 235.683L108.046 235.636L108.166 235.642L108.365 235.729L108.546 235.842L108.612 235.906L108.639 236L108.662 236.034L108.839 236.144L108.848 236.202L108.734 236.372L108.968 236.354L109.105 236.415L109.28 236.679L109.339 236.825L109.347 237.013L109.31 237.068L109.24 237.106L108.764 237.167L108.592 237.393L108.557 237.396L108.426 237.335L108.189 237.155L107.892 236.984L107.217 236.475L107.199 236.45L107.188 236.351L107.141 236.301L107.049 236.258L106.922 236.128L106.759 235.912L106.658 235.743L106.62 235.621L106.526 235.48L106.22 235.187L106.061 235.075L105.919 235.01L105.796 234.997L105.762 234.957L105.819 234.893L105.826 234.855L105.556 234.794L105.297 234.655L104.643 234.266L104.305 234.022L104.107 233.905L104.024 233.839L103.987 233.786L104.034 233.729L104.167 233.671L104.256 233.604L104.398 233.356L104.408 233.275L104.332 233.093L104.299 232.927L104.3 232.836L104.317 232.744L104.338 232.685L104.398 232.627L104.44 232.598L104.492 232.618L104.658 232.846L104.681 232.929L104.673 233.24L104.72 233.603L104.736 233.577L104.751 233.456L104.76 233.228L104.778 233.118L104.813 233.009L104.874 232.953L105.061 232.987L105.148 232.967L104.783 232.802L104.553 232.492L104.512 232.46L104.387 232.447L104.255 232.572L103.912 232.979L103.817 233.051L103.388 233.276L103.097 233.322L102.77 233.287L102.492 233.214L101.792 232.859L101.682 232.776L101.845 232.555L101.851 232.486L101.795 232.261L101.748 232.197L101.681 232.162L101.662 232.187V232.255L101.681 232.378L101.627 232.444L101.509 232.514L101.308 232.586L100.687 232.404L100.051 232.253L99.4823 232.221L98.6791 232.341L98.2516 232.462L98.0021 232.474L97.7617 232.453L97.7419 232.369L97.8515 232.32L97.8454 232.259L97.707 232.068L97.4955 231.953L97.2125 231.911L97.0513 231.855L97.0102 231.783L96.9098 231.716L96.7516 231.652L96.6816 231.536L96.7379 231.176L96.7926 230.96L96.8474 230.81L96.9843 230.563L96.9372 230.581L96.7379 230.763L96.5644 230.949L96.4047 231.192L96.3089 231.303L96.1856 231.405L95.9939 231.381L95.7338 231.23L95.5117 231.152L95.3261 231.147L95.253 231.121L95.3793 230.986L95.4523 230.877L95.5528 230.702L95.574 230.617L94.8955 230.589L94.8712 230.496L94.8697 230.427L94.8484 230.371L94.7495 230.328L94.611 230.36L94.3874 230.47L94.29 230.386L94.325 230.339L94.3981 230.305L94.5471 230.147L94.3463 230.064L94.2444 229.97L94.1942 229.892L94.1972 229.611L94.2505 229.432L94.7008 229.256L94.5578 229.187L94.2733 229.212L94.0831 229.361L93.8565 229.576L93.7043 229.657L93.6267 229.602L93.5248 229.584L93.397 229.601L93.3118 229.656L93.2677 229.749L93.2175 229.811L93.1597 229.843L93.1186 229.833L93.0578 229.738L92.9285 229.679L92.8661 229.605L92.8296 229.651L92.7854 229.788L92.7398 229.859L92.5223 229.93L92.4021 229.917L92.2591 229.744L92.2378 229.685L92.2865 229.535L92.5998 228.942L92.5679 228.945L92.466 229.038L92.2636 229.276L92.1739 229.346L92.0187 229.355L91.9457 229.329L91.8574 229.349L91.754 229.413L91.687 229.483L91.6551 229.558L91.6764 229.57L91.8316 229.485L91.9198 229.462L91.9442 229.503L91.8224 229.77L91.7494 230.023L91.6794 230.087L91.5684 230.077L91.4467 230.101L91.4452 230.171L91.6718 230.374L91.754 230.403L91.859 230.475L91.8742 230.546L91.8346 230.74L91.8042 230.816L91.757 230.856L91.5714 230.85L91.5121 230.87L91.3873 230.99L91.325 231.091L91.3478 231.1L91.4558 231.018L91.6125 230.973L91.8179 230.967L91.9715 230.923L92.0719 230.841L92.1693 230.864L92.2651 230.992L92.2941 231.103L92.256 231.199L92.1769 231.268L92.0583 231.309L91.9837 231.37L91.9518 231.452L91.9335 231.573L91.9289 231.733L91.9594 232.021L91.9365 232.061L91.8924 232.082L91.8255 232.087L91.7662 232.154L91.6262 232.535L91.5775 232.576L91.5182 232.535L91.4665 232.54L91.4208 232.59L91.3219 232.628L91.1683 232.654L91.0374 232.645L90.8062 232.563L90.7119 232.505L90.6388 232.409L90.4304 232.509L90.3757 232.465L90.2463 232.201L90.219 232.216L90.1946 232.502L90.1551 232.601L90.0273 232.807L89.9573 233.16L89.936 233.171L89.9116 233.121L89.8325 232.805L89.7915 232.735L89.6758 232.916L89.6637 232.982L89.6941 233.217L89.6667 233.252L89.4324 233.125L89.3746 233.119L89.3594 233.141L89.44 233.322L89.4309 233.388L89.0993 233.739L89.0125 233.726L88.9578 233.691L88.8984 233.697L88.687 233.827L88.6292 233.821L88.5501 233.743L88.5135 233.746L88.4938 233.827L88.4907 233.984L88.4131 234.132L88.1621 234.371L88.0952 234.481L88.045 234.632L88.0069 234.646L87.8594 234.55L87.689 234.487L87.6646 234.518L87.7164 234.609L87.7057 234.666L87.6312 234.687L87.5384 234.68L87.4258 234.643L87.2676 234.686L87.0637 234.806L86.8933 234.803L86.656 234.603L86.5906 234.588L86.5693 234.532L86.6149 234.37L86.6819 234.248L86.7321 234.191L86.9572 234.034L87.2143 233.976L87.3756 233.882L87.5718 233.687L87.6753 233.539L87.8807 233.157L87.8655 233.128L87.8198 233.107L87.3695 233.469L87.3026 233.502L87.2128 233.499L86.8523 233.36L86.7762 233.301L86.7245 233.127L86.8249 232.73L86.8949 232.538L87.0698 232.241L87.2995 231.922L87.3786 231.715L87.4973 231.158L87.4897 230.905L87.4364 230.594L87.4349 230.409L87.4851 230.351L88.0115 230.063L88.261 229.846L88.7448 229.525L88.8771 229.528L88.9745 229.639L89.0871 229.727L89.2149 229.793L89.3807 229.787L89.583 229.706L89.904 229.737L90.5628 229.947L90.7027 229.959L90.7088 229.932L90.6069 229.784L90.1535 229.698L89.9619 229.613L89.4248 229.235L89.3016 229.088L89.3518 229.02L89.4826 228.963L89.5283 228.908L89.5481 228.812L89.6241 228.681L89.7565 228.515L89.9588 228.353L90.3407 228.112L90.1916 228.102L89.9162 228.146L89.8158 228.192L89.6317 228.364L89.5602 228.484L89.4583 228.719L89.4142 228.764L89.224 228.797L88.7037 228.82L88.6155 228.699L88.5668 228.68L88.5029 228.696L88.0252 229.003L87.8533 229.159L87.7316 229.337L87.5429 229.467L87.2874 229.549L87.0957 229.651L86.8949 229.854L86.8264 230.01L86.8218 230.083L86.8705 230.313L86.8203 230.356L86.7047 230.374L86.5191 230.527L86.1266 230.976L86.0749 231.14L86.0764 231.196L86.1403 231.323L86.0962 231.405L85.9851 231.535L85.7386 231.741L85.5774 231.818L85.4724 231.823L85.372 231.794L85.1925 231.661L85.0464 231.654L85.0373 231.672L85.2351 231.814L85.4359 231.995L85.5606 232.146L85.6108 232.265L85.6124 232.387L85.5667 232.514L85.4237 232.732L85.2838 232.798L84.9262 232.863L84.8106 232.915L84.7756 232.955L85.0206 233.046L85.0434 233.093L85.0099 233.275L84.9445 233.334L84.7406 233.443L84.5581 233.475L84.5307 233.453L84.5642 233.31L84.555 233.275L84.4866 233.246L84.3892 233.301L84.1458 233.511L84.1199 233.546L84.2082 233.603L84.1899 233.65L84.0576 233.801L84.0028 233.902L83.9146 234.004L83.5221 234.315L83.5525 234.391L83.4506 234.661L83.3943 234.898L83.4642 234.997L83.7944 235.114L83.9541 235.143L84.1428 235.224L84.4835 235.444L84.5976 235.587L84.6144 235.654L84.6037 235.727L84.5627 235.826L84.4562 236.012L84.1991 236.289L84.0834 236.366L83.907 236.427L83.8491 236.472L83.6225 236.732L83.5616 236.873L83.5707 236.995L83.5281 237.08L83.2376 237.248L83.2482 237.278L83.3532 237.291L83.3152 237.439L83.2984 237.643L83.2482 237.678L83.0672 237.676L82.8359 237.756L82.8192 237.779L82.8146 237.925L82.2107 238.032L82.0783 238.309L82.0099 238.395L81.7725 238.596L81.628 238.677L81.4622 238.726L81.3755 238.794L81.3679 238.881L81.3207 238.956L81.1777 239.081L81.1077 239.237L81.056 239.261L80.7882 239.299L80.735 239.348L80.7091 239.558L80.6589 239.565L80.5646 239.516L80.4414 239.554L80.1645 239.792L80.1036 239.877L80.1097 239.923L80.1523 239.969L80.2177 240.109L80.2132 240.204L80.1067 240.467L80.0686 240.509L79.9393 240.574L79.8861 240.719L79.7659 240.704L79.67 240.731L79.6077 240.827L79.5392 240.884L79.4647 240.899L79.3719 240.975L79.2593 241.114L79.1558 241.203L79.06 241.241L78.9672 241.25L78.8774 241.23L78.7968 241.245L78.7253 241.296L78.6553 241.375L78.599 241.601L78.5275 241.701L78.4819 241.72L78.3906 241.704L78.2522 241.657L78.1107 241.674L77.884 241.813L77.8125 241.916L77.9555 241.939L78.027 241.97L78.0255 241.999L77.9509 242.028L77.8232 242.026L77.7471 242.051L77.6543 242.11L77.42 242.174L77.3318 242.22L77.1553 242.479L77.134 242.537L77.1568 242.551L77.2557 242.523L77.3713 242.566L77.4322 242.621L77.4702 242.688L77.5067 242.818L77.5295 242.838L77.3059 243.056L77.242 243.149L77.2009 243.184L77.1735 243.158L77.1462 242.915L77.1294 242.874L77.0762 242.87L77.026 242.946L76.9134 243.233L76.7917 243.376L75.8758 243.745L75.742 243.829L75.7161 243.986L75.6781 244.122L75.6172 244.23L75.5457 244.299L75.5305 244.25L75.5381 243.868L75.5199 243.792L75.4271 243.743L75.386 243.75L75.3297 243.771L75.2384 243.853L75.1821 243.875L75.1121 243.868L74.9935 243.949L74.709 244.21L74.5234 244.274L74.4747 244.328L74.3956 244.469L74.3423 244.521L74.2648 244.526L74.1613 244.483L74.0792 244.514L74.0168 244.617L73.9529 244.659L73.7718 244.582L73.6927 244.634L73.5893 244.767L73.4813 244.854L73.3687 244.896L73.0766 244.941L72.9595 244.912L72.9351 244.874L72.9412 244.704L72.9884 244.582L73.0325 244.524L73.0903 244.474L73.1755 244.468L73.3352 244.506L73.317 244.465L73.2592 244.416L73.1131 244.332L72.9686 244.289L72.8849 244.317L72.7678 244.382L72.6887 244.457L72.6461 244.541L72.5928 244.817L72.5624 244.892L72.2201 245.377L72.0862 245.526L71.9539 245.516L71.89 245.572L71.8002 245.693L71.7165 245.751L71.6405 245.746L71.5811 245.723L71.5385 245.682L71.5461 245.644L71.6039 245.609L71.5842 245.513L71.4868 245.354L71.4199 245.269L71.2936 245.259L71.2738 245.331L71.3164 245.699L71.3103 245.781L71.2312 245.886L71.0228 246.002L70.9574 245.991L70.7703 245.761L70.5938 245.715L70.5816 245.79L70.6212 245.943L70.577 246.085L70.4493 246.217L70.3519 246.281L70.285 246.277L70.2819 246.184L70.3412 246.002L70.3565 245.851L70.3275 245.729L70.3306 245.636L70.3656 245.571L70.6014 245.389L70.7003 245.362L70.7535 245.406L70.8205 245.413L70.8996 245.384L70.9498 245.327L70.9711 245.24L71.073 245.128L71.2556 244.993L71.464 244.742L71.6983 244.376L71.9736 244.059L72.2901 243.792L72.6324 243.58L73.3215 243.287L73.3748 243.306L73.3124 243.4L73.355 243.46L73.4235 243.467L73.676 243.42L73.7764 243.359L73.8068 243.419L73.7718 243.493L73.6197 243.57L73.6243 243.632L73.8449 243.926L73.9149 243.971L73.9727 243.965L73.997 243.926L73.9787 243.714L74.0533 243.675L74.2054 243.666L74.3043 243.693L74.35 243.759L74.4367 243.812L74.5645 243.855L74.6436 243.841L74.674 243.772L74.6192 243.69L74.3743 243.509L74.3058 243.432L74.2891 243.327L74.3241 243.191L74.4017 242.99L74.5203 242.722L74.6284 242.534L74.8474 242.322L74.995 242.217L75.3692 241.893L76.0888 241.562L76.2668 241.349L76.5087 241.114L76.6122 241.056V241.148L76.6456 241.228L76.8069 241.282L76.9119 241.3L76.9606 241.283L76.9742 241.196L76.9529 241.039L76.9469 240.891L76.9575 240.751L76.9803 240.64L77.0883 240.443L77.2481 240.219L77.4672 239.957L77.6056 239.838L77.7364 239.775L77.8627 239.661L78.0787 239.389L78.1487 239.345L78.3039 239.292L78.3602 239.316L78.3937 239.385L78.4347 239.427L78.5929 239.465L78.6979 239.404L78.6812 239.372L78.596 239.353L78.5412 239.313L78.4895 239.151L78.3845 239.054L78.3602 238.942L78.3784 238.77L78.4682 238.363L78.4834 237.942L78.564 237.701L78.7253 237.614L79.0813 237.554L78.8729 237.445L78.7953 237.443L78.6599 237.391L78.6082 237.126L78.6097 236.932L78.6994 236.708L79.0311 236.33L79.3947 236.066L79.346 236.045L79.3004 235.967L79.4677 235.438L79.632 234.962L79.4114 235.367L79.1558 235.675L78.4058 236.032L77.8962 236.331L77.6543 236.403L77.4945 236.327L77.3698 236.04L77.2983 235.938L77.207 235.75L77.245 235.506L77.3181 235.337L77.4778 235.309L77.6573 235.392L77.8125 235.399L77.6117 235.232L77.3226 235.085L77.1918 235.132L77.0914 235.369L76.9575 235.531L76.8404 235.473L76.7704 235.407L76.8191 235.605L76.7293 235.906L76.6958 236.113L76.8236 236.659L76.7993 236.877L76.5665 236.976L76.3779 236.798L75.9839 236.106L75.8469 235.907L75.5381 235.579L75.4362 235.627L75.3069 235.788L75.1806 235.833L74.8474 235.595L74.6923 235.412L74.5462 235.19L74.321 235.312L74.1248 235.457L73.8951 235.689L73.7414 235.688L73.3231 235.886L73.2789 235.89L73.2196 235.997L73.1618 236.045L73.1146 236.249L72.5502 236.408L71.9919 236.319L72.1866 236.206L72.4042 236.118L72.5928 235.904L72.5122 235.619L72.4985 235.473L72.5015 235.288L72.7084 235.027H72.4939L72.3555 235.12L72.2262 234.925L72.1653 234.539L72.3129 234.31L72.3813 234.134L72.4392 233.89L72.4437 233.681L72.3296 233.325L72.001 232.567L71.8519 231.997L71.5963 231.692L71.788 231.19L72.001 230.731L72.2764 230.525L72.2551 230.495L72.1029 230.496L72.0025 230.524L71.9143 230.673L71.8215 230.787L71.5294 231.371L71.3423 231.655L71.2206 231.736L71.4168 231.846L71.4472 231.937L71.4853 232.146L71.4351 232.399L71.3849 232.54L71.1536 232.529L70.9452 232.732L70.4553 232.953L69.7951 233.078L69.471 233.063L69.1333 232.807L69.1363 232.657L69.15 232.528L68.6647 232.082L68.3894 231.637L68.1916 231.628L68.0197 231.509L67.8174 231.323L67.8356 231.173L67.8676 231.068L67.7428 230.993L67.5831 231.001L67.3975 230.949L67.8812 230.368L68.0471 229.978L68.1825 229.921L68.3589 229.982L68.6008 230.136L68.8062 230.205L68.8792 230.276L68.9553 230.414L68.8762 230.642L68.8032 230.803L68.8929 230.76L69.147 230.511L69.3372 230.293L69.4284 230.316L69.4878 230.354L69.5927 230.58L69.7236 230.809L70.0126 230.591L70.1663 230.319L70.0355 230.2L69.8757 230.13L69.4695 230.037L69.5684 229.959L69.8286 229.968L69.9274 229.894L69.824 229.79L69.6947 229.697L69.3432 230.006L68.7028 229.991L68.2555 229.81L67.8097 229.842L67.7398 229.807L67.653 229.709L67.9041 229.479L68.0821 229.351L68.0912 229.276L67.9877 229.267L67.793 229.328L67.7063 229.221L67.72 229.037L67.688 229.053L67.6105 229.154L67.5009 229.104L67.4081 229.02L67.4568 228.931L67.5526 228.809L67.51 228.791L67.4248 228.817L67.3412 228.977L67.3594 229.107L67.3579 229.293L67.2149 229.326L67.0932 229.303L67.005 229.117L66.9137 228.716L66.6672 228.609L66.6064 228.405L66.7631 228.143L66.6946 228.007L66.5288 227.963L66.3386 228.095L66.2549 227.978L66.2397 227.848L66.2336 227.662L66.2869 227.643L66.331 227.679L66.7113 227.575L66.7479 227.525L66.4451 227.366L66.3614 227.2L66.4862 227.106L66.7113 227.098L67.0278 226.999L66.8939 226.822L66.8665 226.724L66.8391 226.564L66.8924 226.293L67.2636 225.667L67.6257 225.143L67.7382 225.021L67.9041 224.955L68.0592 225.006L68.2205 225.118L68.2509 225.07L68.1962 225.024L68.1277 224.807L68.3513 224.722L68.4822 224.478L68.4913 224.408L68.3483 224.51L68.1992 224.678L68.1627 224.51L68.1247 224.123L68.1901 223.755L68.2403 223.589L68.3635 223.432L68.721 223.369L68.7834 223.401L68.7971 223.326L68.5826 223.093L68.6708 222.91L68.7484 222.815L69.1805 222.668L69.4163 222.713L69.7114 222.886L69.8833 223.101L69.859 223.21L69.8164 223.275L69.7281 223.346L69.6947 223.401L69.7099 223.445L69.8362 223.317L70.0446 223.162L70.1602 223.229L70.253 223.351L70.3549 223.349L70.6775 223.244L70.8418 223.133L71.0426 222.841L71.3088 222.652L71.6831 222.054L71.7941 221.809L71.9219 221.771L72.0375 221.792L72.1182 221.993L72.2353 222.053L72.9062 222.004L73.2485 221.911L73.4874 221.714L73.7353 221.383L73.8783 221.161L73.9468 220.869L73.8586 220.491L73.7673 220.177L73.6471 219.454L73.3139 218.974L73.0766 218.83L72.926 218.85L73.0355 218.542L73.3535 218.576L73.5604 218.516L73.7277 218.367L73.7825 218.254L73.8646 218.022L73.8357 217.775L73.7916 217.641L73.676 217.493L73.5391 217.275L73.4432 217.201L73.3626 217.206L72.9625 217.642L72.7221 217.65L72.5426 217.57L72.3859 217.818L71.9508 218.034L71.718 218.252L71.2875 218.792L71.1795 219.036L71.0426 219.047L70.9437 218.574L70.4751 218.121L70.3336 218.275L70.4112 218.417L70.5177 218.518L70.6927 218.562L70.6166 218.699L70.5588 218.881L70.3823 218.71L70.0689 218.461L69.7434 218.333L68.8975 218.347L68.3422 218.601L68.2905 218.548L68.2372 218.527L68.1444 218.588L68.1049 218.691L68.044 218.757L67.9299 218.78L67.7017 218.742L67.2605 218.583L66.2626 218.35L66.0009 218.206L65.7772 217.863L65.7818 217.63L65.8807 217.531L65.8716 217.194L65.6768 217.104L65.2813 216.617L65.1352 216.41L65.1672 216.387L65.2387 216.443L65.3741 216.486L65.7057 216.419L65.8198 216.102L66.0663 216.012L66.293 216.056L66.2428 215.971L66.185 215.904L65.5947 215.742L65.5141 215.792L64.4567 215.504L63.6215 215.001L63.5531 214.905L63.477 214.688L63.5896 214.474L63.7021 214.374L63.7067 214.491L63.725 214.607L64.2042 214.339L64.4537 213.985L64.9283 213.922L65.0394 213.825L65.187 213.634L65.3969 213.308L65.6936 213.135L65.8959 212.98L66.1591 212.888L66.3843 213.041L66.4542 213.062L66.8635 213.093L66.9974 213.027L67.0552 212.978L67.0978 212.901L66.6961 212.623L66.7372 212.469L66.7889 212.359L67.2575 212.034L67.6165 211.926L67.8082 211.934L68.3666 211.513L68.6723 211.392L69.2489 211.311L69.7221 211.291L69.8499 211.442L69.5958 211.41L69.4832 211.438L69.5623 211.49L69.6521 211.6L69.6262 211.738L69.4695 212.149L69.4817 212.475L69.3798 212.58L69.2809 212.728L69.7662 213.195L70.5162 213.224L70.9239 213.14L71.1597 213.279L71.3529 213.311L71.8869 213.239L72.2885 213.338L72.4559 213.3L72.8271 212.602L72.9731 212.492L73.1314 212.614L73.3383 212.713L73.4691 212.641L73.5771 212.821L73.5269 212.445L73.4539 212.303L72.8469 212.042L72.4407 212.172L72.3129 212.025L72.3555 211.734L71.9204 211.011L71.7393 210.864L71.5248 210.857L71.4153 210.604L71.324 210.277L71.5096 210.145L71.677 210.084L71.8321 210.189L72.0071 210.617L72.1699 210.68L72.1227 211.104L72.3251 211.493L72.7815 211.853L73.1466 211.72L73.4052 211.725L73.5589 211.801L73.9361 212.123L74.1278 212.162L74.7272 211.993L74.7333 211.676L74.6831 211.446L74.5416 211.301L74.137 211.328L73.822 211.09L73.5543 211.156L73.0583 211.52L72.8088 211.377L72.6521 211.182L72.4011 210.983L72.3692 210.607L72.5806 210.174L72.7373 209.966L72.5974 209.815L72.2459 209.708L71.6359 209.817L71.607 209.669L71.61 209.509L71.3605 209.823L71.105 209.757L70.7611 209.791L70.002 209.513L69.7312 209.17L69.6171 208.891L69.4117 208.121L69.15 207.636L67.3442 205.967L66.5227 205.543L66.1272 205.072L65.8792 204.956L65.6418 204.909L65.3391 204.756L65.543 204.567L65.6829 204.503L65.5369 204.7L65.6479 204.749L65.8244 204.636L65.9203 204.5L66.0602 203.92L66.2047 203.036L66.1667 202.685L67.1693 202.755L67.8356 202.696L68.0562 202.617L68.8975 202.481L69.115 202.382L69.5197 202.08L69.9959 201.543L70.4036 200.834L70.469 200.641L70.4949 200.69L70.5314 200.66L70.5755 200.388L70.6288 199.746L70.8311 199.138L71.6922 197.733L72.0923 197.17L72.2262 196.914L72.3646 196.726L72.462 196.905L72.5091 196.958L72.5365 197.042L72.4544 197.082L72.3205 197.263L72.1334 197.385L72.0877 197.448L72.1973 197.434L72.5259 197.301L72.7115 197.14L73.6319 196.842L74.1309 196.347L74.1507 196.235L74.8915 195.613L74.9935 195.637L75.1121 195.712L74.9068 196.124L75.0513 196.231L74.9235 196.719L75.1928 196.726L75.2521 196.951L75.2673 196.757L75.2643 196.479L75.2856 196.206L75.3251 196.017L75.5138 196.103L75.9382 195.9L75.424 195.874L75.1152 195.427L74.9433 195.424L75.5168 194.764L76.0417 194.362L76.1603 194.37L76.2181 194.445L76.2303 194.565L76.1177 194.645L76.0067 194.786L76.0584 194.911L76.1345 194.93L76.387 194.828L76.4996 194.699L77.0366 194.71L77.1948 194.619L77.2329 194.527L77.9281 194.509L78.0559 194.443L78.491 194.088L78.8926 193.655L79.0782 193.417L79.3962 192.81L79.6685 192.412L80.1112 192L80.2192 192.049L80.0747 192.128L79.9743 192.296L80.1143 192.52L81.0575 192.981L81.2948 193.005L81.3892 193.28L81.31 193.543L81.0666 193.835L80.5768 194.132L80.7274 194.245L80.8247 194.509L80.9693 194.541L81.2051 194.442L81.3892 194.28L81.7695 193.749L81.8897 193.452L81.9794 193.377L82.2989 193.449L82.4799 193.601L82.6853 193.873L82.6093 194.134L82.5256 194.28L82.7933 194.483L83.0885 194.526L83.3699 194.689L83.767 194.356L84.0773 194.285L84.3694 194.295L84.7483 194.114L85.3903 194.362L85.553 194.298L85.8101 194.341L86.084 194.491L86.1813 194.649L85.8893 194.985L85.8421 195.331L85.944 195.474L86.1296 195.499L86.1524 195.7L86.2681 195.75L86.8462 195.735L86.8021 195.83L86.7731 195.944L86.5936 196.199L87.6251 196.342L87.7635 196.202L87.9765 196.145L88.4299 195.952L88.6003 196.037L88.8011 196.235L88.9867 196.276L89.1601 196.237L89.5648 195.953L90.0318 195.939L90.2235 196.032L90.4259 195.993L91.0344 196.318L91.258 196.356L91.5577 196.775L91.7129 196.787L91.8879 196.609L92.04 196.615L92.1891 196.786L92.4325 196.838L92.5451 197.106L92.6668 197.204L93.5872 197.402L94.0421 197.312L94.7054 197.335L95.0248 197.462L95.3611 197.445L95.9103 197.905L96.2008 197.977L96.2571 198.082L97.0847 198.194L97.3738 197.954L97.8789 197.89L98.3337 197.689L98.5908 197.69L98.8905 197.741L99.0062 197.716L99.0898 197.628L99.8216 197.974L100.231 198.369L100.41 198.66L101.267 199.074L101.515 199.304L101.685 199.557L101.784 199.585L101.854 199.511L102.154 199.533L102.263 199.566ZM66.3067 212.666L66.2519 212.685L66.2549 212.631L66.4177 212.486L66.7189 212.306L66.7083 212.345L66.547 212.484L66.3067 212.666ZM58.6407 221.431L58.662 221.51L58.8111 221.498L59.021 221.531L59.2538 221.608L59.4835 221.58L59.7725 221.339L59.946 221.275L60.1194 221.242L60.3065 221.301L60.4906 221.429L60.5621 221.505L60.6184 221.637L60.6564 221.795L60.7127 221.91L61.0566 222.05L61.2756 222.106L61.3289 222.183L61.376 222.288L61.5571 222.369L61.7472 222.34L61.8537 222.369L62.1763 222.373L62.5779 222.491L62.5125 222.799L62.3816 222.934L62.0135 222.89L61.6468 222.934L61.4947 223.093L61.3684 223.293L61.3517 223.487L61.2771 223.575L61.2011 223.615L61.1387 223.508L61.055 223.18L60.9972 223.09L60.9333 223.032L60.7538 222.928L60.5728 222.863L60.4663 222.855L60.3902 222.741L60.3476 222.574L60.2746 222.489L60.1301 222.367L59.9825 222.271L59.5231 222.062L59.3724 222.035L59.2188 222.057L59.0545 222.152L58.8947 222.292L58.732 222.398L58.5631 222.42L58.4018 222.359L58.2497 222.222L58.1736 222.125L58.1326 221.955L58.1341 221.786L58.1554 221.623L58.2375 221.226L58.3805 221.148L58.6407 221.431ZM92.3412 230.096L92.1602 230.121L92.0765 230.084L92.0643 230.043L92.0993 229.895L92.0963 229.833L92.1876 229.81L92.2925 229.88L92.323 229.953L92.3412 230.096ZM56.809 231.175L57.1178 231.365L57.3156 231.346L57.4738 231.504L57.5392 231.634L57.3034 231.541L56.9611 231.547L56.4986 231.158L56.3328 231.07L56.3709 230.851L56.5488 230.739L56.6401 231.033L56.809 231.175ZM86.4841 231.452L86.4156 231.463L86.5084 231.32L86.5723 231.039L86.659 231.079L86.6758 231.131L86.5328 231.417L86.4841 231.452ZM92.7307 231.195V231.271L92.685 231.344L92.7276 231.478L92.6531 231.709L92.6242 231.855L92.5846 231.946L92.5451 231.982L92.5055 231.96L92.4979 231.91L92.5207 231.829L92.4264 231.832L92.3975 231.631L92.4492 231.567L92.4675 231.48L92.4736 231.422L92.5359 231.164L92.5588 231.146L92.5664 231.207L92.5862 231.225L92.6196 231.201L92.6683 231.086L92.6896 231.073L92.7307 231.195ZM94.5426 231.198L94.5745 231.277L94.8499 231.257L94.929 231.271L94.961 231.307L94.9229 231.361L94.8164 231.433L94.5061 231.558L94.2535 231.721L94.2201 231.705L94.1744 231.526L94.1273 231.452L94.0984 231.352V231.314L94.144 231.243L94.2368 231.141L94.3022 231.105L94.5426 231.198ZM96.3682 231.524L96.3225 231.594L96.1978 231.568L96.1309 231.524L96.3545 231.338L96.391 231.375L96.3682 231.524ZM66.2702 231.39L66.401 231.533L66.471 231.541L66.6916 231.497L66.7722 231.527L66.8513 231.59L66.9 231.684L66.9091 231.85L66.8726 231.998L66.8833 232.206L66.8756 232.296L66.9928 232.413L67.0293 232.572L67.0476 232.743L66.7935 232.799L66.5394 232.808L66.3204 232.924L66.2747 233.009L66.3097 233.136L66.2489 233.168L66.1926 233.141L66.0861 233.023L65.9689 232.967L65.5612 232.88L65.05 232.538L64.8295 232.468L64.6058 232.218L64.4035 231.899L64.5358 231.847L64.6682 231.821L65.263 231.869L65.3376 231.64L65.4136 231.582L65.6023 231.516L65.7788 231.388L65.8579 231.391L65.9385 231.44L66.1059 231.364L66.1941 231.347L66.2702 231.39ZM92.6196 233.029L92.4614 233.071L92.4234 232.987L92.507 232.776L92.574 232.657L92.6227 232.628L92.8052 232.39L93.0076 232.216L93.1932 231.962L93.3818 231.599L93.4168 231.463L93.5035 231.449L93.6465 231.539L93.7348 231.664L93.6937 231.763L93.219 232.279L93.1795 232.346L93.1369 232.52L93.0973 232.581L93.0349 232.608L92.9893 232.685L92.9604 232.81L92.9011 232.874L92.8128 232.88L92.752 232.913L92.7185 232.976L92.6196 233.029ZM92.2104 232.308L92.1358 232.396L91.8529 232.343L91.9122 232.169L92.1282 232.059L92.3656 232.23L92.2104 232.308ZM97.1608 233.014L97.0923 233.031L97.1958 232.843L97.3342 232.636L97.4651 232.506L97.6339 232.451L97.6157 232.546L97.3936 232.721L97.1608 233.014ZM73.7399 236.488L73.6349 236.533L73.5239 236.51L73.4356 236.237L73.5026 236.228L73.6441 236.048L73.9559 235.901L74.032 235.884L73.7399 236.488ZM85.8177 236.742L85.7752 236.76L85.6702 236.676L85.6017 236.587L85.6474 236.52L85.8497 236.377L85.9471 236.374L85.9866 236.397L86.0018 236.441L85.9942 236.508L85.9501 236.591L85.8177 236.742ZM85.9166 237.083L85.9684 237.106L86.0231 236.943L86.0612 236.938L86.23 237.076L86.3335 237.045L86.4004 237.214L86.4597 237.23L86.516 237.21L86.5495 237.222L86.5373 237.4L86.4141 237.58L86.3563 237.626L86.2757 237.58L86.2452 237.564L86.192 237.484L86.1524 237.384L86.1281 237.382L86.0338 237.501L86.0368 237.559L86.0764 237.647L86.0703 237.702L85.9668 237.728L85.8664 237.715L85.7432 237.791L85.7143 237.744L85.696 237.609L85.658 237.625L85.6002 237.789L85.5363 237.893L85.4207 237.98L85.3948 238.021L85.3096 238.027L85.1834 238.082L85.1058 238.073L84.6433 237.895L84.5353 237.829L84.9156 237.417L85.1149 237.259L85.2305 237.268L85.3461 237.318L85.407 237.31L85.4116 237.127L85.3035 236.99L85.3081 236.934L85.547 236.841L85.6367 236.854L85.7356 236.902L85.8284 236.979L85.9166 237.083ZM111.317 237.625L111.68 237.687L111.947 237.673L112.19 238.078L112.341 238.404L112.429 238.631L112.479 238.851L112.546 239.061L112.54 239.09L112.4 238.948L112.3 238.659L112.248 238.546L112.198 238.494L112.144 238.387L112.039 238.11L112.035 238.032L111.989 237.959L111.936 237.928L111.875 237.94L111.854 237.968L111.863 238.16L111.91 238.373L112.173 238.837L112.348 239.099L112.383 239.186L112.406 239.426L112.33 239.534L112.423 239.754L112.42 239.796L112.4 239.838L112.149 239.935L111.919 240.341L111.668 240.577L111.553 240.615L111.498 240.576L111.445 240.484L111.414 240.362L111.405 240.21L111.467 240.114L111.592 239.613L111.595 239.449L111.44 239.22L111.347 239.032L111.297 238.77L111.213 238.071L111.174 237.847L111.119 237.66L111.048 237.51L110.994 237.345L110.958 237.166L110.971 237.095L111.095 237.19L111.244 237.449L111.317 237.625ZM111.843 237.442L111.833 237.509L111.638 237.503L111.44 237.403L111.343 237.274L111.362 237.216L111.547 237.161L111.72 237.284L111.843 237.442ZM109.814 237.399L110.019 237.664L110.021 237.725L109.98 237.907L109.868 237.959L109.9 238.03L109.983 238.085L110.042 238.039L110.258 237.785L110.325 237.731L110.364 237.725L110.628 237.801L110.857 237.922L110.926 238.018L110.964 238.187L110.903 238.553L110.714 238.617L110.625 238.611L110.529 238.558L110.375 238.685L110.503 238.782L110.891 238.804L111.008 239.008L111.041 239.165L110.958 239.453L110.739 239.374L110.545 239.206L110.148 238.968L110.053 238.958L109.989 239L109.972 239.144L109.976 239.455L109.87 239.616L109.557 239.545L109.433 239.31L109.319 238.936L108.887 238.492L108.77 238.404L108.615 238.137L108.677 237.925L108.696 237.801L108.778 237.769L108.899 237.675L108.968 237.469L109.077 237.635L109.223 237.795L109.225 237.644L109.293 237.524L109.436 237.528L109.503 237.503L109.598 237.39L109.733 237.332L109.814 237.399ZM85.2275 238.537L85.2381 238.685L85.2959 238.666L85.5165 238.514L85.6321 238.469L85.7812 238.462L85.8999 238.532L85.9242 238.585L85.9136 238.649L85.8193 238.778L85.8238 238.861L85.9258 239.014L86.1768 239.098L86.2072 239.144L86.2057 239.199L86.0338 239.452L85.9699 239.511L85.9258 239.525L85.6124 239.479L85.3264 239.397L85.2107 239.383L85.1697 239.411L85.089 239.488L85.1468 239.511L85.3979 239.529L85.4861 239.642L85.5241 239.725L85.5439 239.816L85.4937 239.854L85.3857 239.882H85.2564L85.0966 239.985L85.0084 240.103L84.6889 240.133L84.447 240.291L84.3618 240.368L84.3314 240.46L84.2401 240.527L84.0332 240.594L84.1565 240.653L84.1762 240.704L84.1793 240.774L84.1625 240.835L83.9998 241.103L83.6909 241.323L83.6133 241.314L83.5799 241.286L83.5525 241.244L83.551 241.201L83.948 240.759L83.9328 240.737L83.8248 240.722L83.6529 240.6L83.5327 240.679L83.5053 240.676L83.5373 240.571L83.6164 240.446L83.6027 240.411L83.5586 240.38L83.4597 240.362L83.3045 240.356L83.1889 240.385L83.1143 240.451L83.1083 240.478L83.268 240.47L83.3121 240.504L83.3547 240.567L83.3806 240.638L83.3897 240.719L83.3562 240.829L83.2802 240.966L83.1691 240.942L82.9409 240.638L82.8405 240.191L82.6443 239.848L82.6351 239.766L82.6914 239.554L82.8892 239.252L83.1022 239.17L83.2528 239.041L83.3988 239.003L83.4886 239.006L83.6118 239.061L83.662 239.177L83.6316 239.232L83.6438 239.261L83.7305 239.331L83.8248 239.574L83.9343 239.789L84.0074 239.876L84.1032 239.929L84.0043 239.766L83.945 239.563L83.9161 239.156L83.8872 239.048L83.9419 239.019L84.0986 239.034L84.0941 238.973L83.9283 238.836L83.8263 238.721L83.7883 238.631L83.7913 238.553L83.8811 238.437L83.9328 238.404L83.9861 238.39L84.091 238.415L84.1382 238.451L84.2736 238.712L84.3375 238.793H84.3892L84.4379 238.75L84.482 238.663L84.5277 238.611L84.5748 238.595L84.7254 238.633L84.7756 238.619L84.8 238.553L84.7985 238.437L84.835 238.396L84.8441 238.311L84.7619 238.184L84.8563 238.146L85.1666 238.244L85.299 238.349L85.2275 238.537ZM84.7361 238.466L84.6965 238.541L84.6585 238.521L84.5779 238.434L84.4151 238.306L84.3405 238.218L84.336 238.18L84.3923 238.139L84.5839 238.242L84.6661 238.337L84.7361 238.466ZM110.903 239.801L111.025 240.092L111.113 240.318L111.191 240.588L111.321 241.145L111.382 241.355L111.402 241.469L111.417 241.768L111.397 241.832L111.358 241.892L111.35 241.977L111.387 242.205L111.39 242.549L111.355 242.743L111.315 242.772L111.218 242.708L111.137 242.603L111.078 242.494L110.932 242.15L110.888 241.988L110.885 241.872L110.908 241.788L110.955 241.736L111.038 241.596L111.026 241.573L110.962 241.605L110.833 241.623L110.719 241.512L110.631 241.453L110.649 241.251L110.625 241.195L110.45 241.257L110.384 241.201L110.371 241.125L110.374 241.012L110.407 240.913L110.573 240.661L110.556 240.615L110.475 240.605L110.369 240.518L110.32 240.236L110.206 240.074L110.139 240.089L109.986 240.545L109.91 240.644L109.694 240.708L109.738 240.582L109.757 240.469L109.681 240.126L109.678 239.993L109.73 239.896L109.882 239.854L109.963 239.796L110.025 239.702L110.04 239.61L110.159 239.366L110.214 239.319L110.36 239.322L110.669 239.592L110.763 239.632L110.903 239.801ZM60.5058 240.245L60.3583 240.37L60.2244 240.324L60.1848 240.234L60.1818 240.194L60.5697 240.092L60.5058 240.245ZM85.0708 240.4L84.8882 240.486L84.8563 240.483L84.7437 240.655L84.6585 240.73L84.5444 240.594L84.5733 240.384L84.6722 240.243L85.1727 240.291L85.2107 240.33L85.2123 240.364L85.1757 240.391L85.0708 240.4ZM113.199 240.721L113.295 240.803L113.346 240.716L113.444 240.721L113.623 240.797L113.73 240.913L113.79 241.044L113.795 241.122L113.777 241.3L113.79 241.482L113.783 241.576L113.759 241.654L113.717 241.715L113.673 241.723L113.533 241.559L113.374 241.265L113.252 241.175L113.247 241.206L113.281 241.289L113.38 241.448L113.398 241.543L113.468 241.659L113.5 241.747L113.518 241.861V241.962L113.498 242.047L113.466 242.102L113.421 242.127L113.177 242.102L113.031 242.16L112.861 242.128L112.82 242.076L112.794 241.991L112.782 241.785L112.739 241.489L112.75 241.261L112.64 241.053L112.546 240.928L112.411 240.815L112.322 240.704L112.347 240.615L112.485 240.548L112.712 240.564L113.199 240.721ZM112.306 241.137L112.398 241.318L112.532 241.303L112.608 241.44L112.665 241.645L112.624 241.776L112.564 241.747L112.497 241.823L112.456 242.075L112.475 242.327L112.455 242.577L112.377 242.83L112.36 242.999L112.33 243.049L112.297 243.066L112.254 243.021L112.192 242.984L112.112 243.127L112.017 243.129L111.937 242.804L112.009 242.261L112.169 242.15L112.074 242.002L111.874 241.829L111.89 241.733L111.738 241.454L111.729 241.387L111.753 241.154L111.895 240.945L112.082 240.908L112.213 240.998L112.286 241.074L112.306 241.137ZM114.086 241.97L114.07 242.008L113.888 242.005L113.822 241.974L113.798 241.863L113.815 241.759L113.857 241.68L113.909 241.526L113.949 241.268L114.216 241.556L114.299 241.684L114.343 241.84L114.248 241.898L114.133 241.927L114.086 241.97ZM61.0855 241.684L61.2741 241.736L61.3791 241.703L61.4719 241.73L61.4886 241.791L61.3274 241.925L61.2619 241.916L61.0702 241.755L61.0855 241.684ZM83.3501 241.997L83.2802 242.003L83.1737 241.935L83.1874 241.852L83.338 241.753L83.4901 241.768L83.5023 241.823L83.4947 241.886L83.4825 241.922L83.4338 241.959L83.3501 241.997ZM82.6716 242.203L82.5743 242.264L82.5423 242.243L82.5378 242.192L82.5606 242.112L82.6062 242.031L82.7568 241.877L82.909 241.774L82.9866 241.781L83.0124 241.846L82.9181 241.98L82.6716 242.203ZM114.995 243.045L114.966 243.47L114.91 243.446L114.857 243.445L114.746 243.506L114.63 243.48L114.575 243.432L114.556 243.377L114.577 243.251L114.513 243.181L114.296 243.155L114.213 243.124L114.168 242.992L114.157 242.816L114.191 242.751L114.3 242.705L114.385 242.491L114.432 242.462L114.614 242.038L114.705 242.067L114.863 242.325L115.062 242.696L114.995 243.045ZM114.038 242.69L113.965 242.697L113.879 242.658L113.673 242.447L113.67 242.385L113.699 242.314L113.816 242.185L113.863 242.154L114.143 242.168L114.233 242.203L114.253 242.264L114.248 242.325L114.219 242.388L114.213 242.452L114.229 242.519L114.197 242.586L114.038 242.69ZM112.913 242.453L113.183 242.508L113.431 242.502L113.517 242.609L113.573 242.722L113.605 242.827L113.614 242.926L113.608 242.996L113.577 243.071L113.584 243.095L114.069 243.339L114.299 243.595L114.39 243.73L114.443 243.843L114.539 244.125L114.741 244.451L114.848 244.55L114.909 244.646L114.875 244.649L114.732 244.578L114.423 244.358L114.397 244.367L114.37 244.486L114.323 244.59L114.251 244.665L114.308 244.687L114.557 244.64L114.766 244.854L114.846 244.892L114.925 245.044L114.928 245.102L114.883 245.215L114.848 245.261L114.86 245.291L114.918 245.308L115.148 245.276L115.189 245.331L115.154 245.769L115.186 245.929V246.002L115.158 246.098L115.157 246.181L115.178 246.264L115.181 246.339L115.123 246.534L115.061 246.566L114.962 246.568L114.883 246.513L114.772 246.345L114.664 246.085L114.623 246.048L114.481 246.008L114.455 245.978L114.366 245.972L114.302 245.863L114.309 245.722L114.254 245.577L114.262 245.511L114.2 245.484L114.148 245.525L114.175 245.667L114.145 245.776L114.032 245.731L113.845 245.38L113.634 245.098L113.55 245.031L113.573 244.948L113.678 244.904L113.763 244.907L113.78 244.858L113.603 244.584L113.609 244.506L113.673 244.367L113.596 244.312L113.375 244.357L113.298 244.328L113.234 244.216L113.196 244.119L113.004 244.1L112.931 244.113L112.806 243.966L112.75 243.873L112.773 243.826L112.888 243.742L112.955 243.754L113.085 243.843L113.135 243.84L113.263 243.722L113.282 243.615L113.378 243.527L113.363 243.434L113.31 243.275L113.193 243.231L112.952 243.326L112.744 243.47L112.66 243.414L112.642 243.326L112.866 243.085L112.963 242.95L112.945 242.871L112.873 242.769L112.867 242.511L112.913 242.453ZM116.617 244.625L116.567 244.903L116.468 245.186L116.317 245.339L116.211 245.305L116.133 245.183L116.06 245.189L115.983 245.163L115.94 245.061L115.981 244.93L115.945 244.828L115.907 244.916L115.838 244.999L115.668 245.105L115.549 245.308L115.493 245.439L115.423 245.296L115.379 244.954L115.373 244.81L115.497 244.59L115.657 244.381L115.689 243.756L116.199 243.44L116.246 243.457L116.412 243.693L116.588 244.023L116.634 244.17L116.635 244.428L116.617 244.625ZM81.4059 243.783L81.3496 243.864L81.2416 243.858L81.1807 243.832L81.161 243.762L81.3283 243.55L81.3663 243.521L81.3968 243.528L81.4105 243.617L81.4059 243.783ZM113.287 244.488L113.319 244.559L113.32 244.604L113.113 244.771L113.11 244.806L113.062 244.91L113.018 244.948L112.94 245.06L112.792 245.18L112.814 244.817L112.668 244.607L112.815 244.5L112.913 244.53L113.072 244.543L113.229 244.45L113.287 244.488ZM74.0761 245.066L74.0974 245.067L74.1415 245.047L74.2343 244.906L74.2648 244.899V244.944L74.2206 245.084L74.2952 245.272L74.3652 245.362L74.3576 245.394L74.1841 245.459L74.0518 245.412L73.9818 245.429L73.9179 245.494L73.8738 245.423L73.8433 245.078L73.8525 245.017L73.9255 244.896L74.0183 244.842L74.0594 244.857L74.0928 244.904L74.1005 244.954L74.0761 245.066ZM74.5858 245.008L74.566 245.206L74.3697 245.079L74.3165 245.017L74.3515 244.97L74.5386 244.957L74.5858 245.008ZM113.921 246.118L113.956 246.152L113.991 246.127L114.049 246.039L114.151 246.056L114.226 246.086L114.271 246.123L114.247 246.252L114.229 246.461L114.186 246.536L114.145 246.64L113.999 246.577L113.882 246.444L113.711 246.216L113.616 246.049L113.608 245.979L113.547 245.929L113.43 245.642L113.363 245.415L113.258 245.389L113.124 245.327L113.072 245.201L113.107 245.092L113.298 245.037L113.584 245.319L113.628 245.438L113.73 245.577L113.749 245.77L113.801 245.847L113.921 246.118ZM75.2384 245.532L75.1517 245.587L75.1243 245.657L75.0574 245.686L75.0011 245.743L74.814 245.999L74.7318 246.046L74.8231 245.827L74.8368 245.757L74.8383 245.711L74.8094 245.545L74.8642 245.552L74.9098 245.517L75.0011 245.371L75.0832 245.357L75.1715 245.182L75.2186 245.168L75.2415 245.192L75.2019 245.299L75.2856 245.397L75.2643 245.491L75.2384 245.532ZM116.101 245.656L116.247 245.981L116.255 246.095L116.115 246.135L116.006 246.118L115.949 246.08L115.934 246.027L115.969 245.862L115.898 245.764L115.814 245.731L115.739 245.787L115.735 245.624L115.791 245.506L115.759 245.348L115.758 245.227L115.776 245.189L115.852 245.192L116.007 245.316L116.101 245.656ZM75.7511 245.474L75.7435 245.674L75.7222 245.706L75.6842 245.653L75.6035 245.712L75.5594 245.67L75.5777 245.6L75.5716 245.545L75.6309 245.54L75.6446 245.441L75.634 245.4L75.6629 245.31L75.7055 245.288L75.7511 245.474ZM75.9702 245.924L75.923 245.937L75.885 245.909L75.8317 245.767L75.8272 245.708L75.9291 245.752L75.9686 245.856L75.9702 245.924ZM70.0781 245.903L70.2165 246.315L70.2773 246.396L70.3671 246.44L70.4919 246.484L70.5664 246.545L70.6318 246.637L70.6409 246.679L70.2469 246.515L69.9989 246.756L69.9244 246.788L69.2215 246.8L69.0816 246.844L68.9903 246.922L68.829 247.141L68.7484 247.227L68.6632 247.277L68.4807 247.334L68.2616 247.326L68.1475 247.297L68.0866 247.193L68.0319 246.987V246.929L68.0547 246.83L68.2494 246.695L68.3148 246.623L68.5674 246.153L68.6404 246.089L68.718 246.074L68.934 246.106L69.1181 245.969L69.5152 245.758L69.6019 245.734L69.8879 245.729L69.9655 245.761L70.0263 245.821L70.0781 245.903ZM71.7652 246.236L71.7317 246.248L71.6329 246.171L71.5963 246.115L71.5705 246.027L71.7713 245.898L71.8124 245.897L71.8504 245.969L71.8565 246.025L71.8002 246.187L71.7652 246.236ZM71.3986 247.338L71.2738 247.392L71.1415 247.335L71.0289 247.231L71.0167 247.108L71.2677 247.189L71.321 247.227L71.3986 247.338ZM67.0917 247.988L67.0293 248.006L67.0141 247.98L67.0065 247.872L66.9578 247.701L67.0491 247.639L67.1054 247.625L67.1297 247.651L67.1951 247.779L67.2605 247.813L67.3092 247.84L67.224 247.88L67.0917 247.988ZM66.6916 248.15L66.6368 248.192L66.5927 248.201L66.5592 248.177L66.4116 248.206L66.3827 248.189L66.3173 248.044L66.3128 247.97L66.3386 247.91L66.4056 247.857L66.5136 247.808L66.6185 247.817L66.8026 247.951L66.8893 248.031L66.9061 248.079L66.8422 248.125L66.6916 248.15ZM65.5825 248.563L65.6449 248.679L65.7514 248.606L65.8305 248.505L65.8913 248.375L65.9309 248.325L65.9841 248.394L66.1348 248.487L66.0085 248.63L65.7651 248.844L65.6829 248.987L65.6784 249.048L65.9142 249.001L65.9796 249.008L66.0222 249.057L65.9583 249.115L65.8305 249.167L65.7194 249.269L65.4608 249.444L65.3634 249.591L65.2478 249.647L65.0911 249.661L64.8142 249.756L64.6469 249.846L64.6043 249.894L64.5511 249.917L64.4887 249.914L64.4202 249.954L64.3472 250.035L64.2863 250.073L64.1859 250.082L64.1342 250.114L64.0764 250.112L63.9167 250.016L63.8771 249.96L64.0186 249.847L64.1205 249.809L64.2757 249.792L64.4278 249.687L64.7427 249.548L64.8401 249.472L64.9025 249.208L64.974 249.162L65.012 249.057L65.1854 249.06L65.2661 249.179L65.2935 249.196L65.3072 249.184L65.3148 249.089L65.4045 249.022L65.3528 248.973L65.1915 248.912L65.0729 248.883L64.9953 248.886L64.9314 248.851L64.8827 248.778L64.8599 248.706L64.8644 248.635L64.904 248.554L64.9785 248.465L65.0637 248.415L65.2493 248.378L65.4136 248.319L65.5004 248.31L65.5658 248.334L65.5825 248.563ZM66.1637 248.994L66.1439 249.002L66.1074 248.943L66.1059 248.888L66.1287 248.848L66.1956 248.755L66.2428 248.721L66.3006 248.705L66.3158 248.729L66.2641 248.839L66.2002 248.912L66.1637 248.994ZM63.6504 249.905L63.2123 250.161L63.0693 250.349L62.9613 250.529L62.8761 250.626L62.8137 250.643L62.7437 250.69L62.5992 250.816L62.5383 250.831L62.0728 251.122L62.0393 251.127L62.0622 251.05L62.2036 250.942L62.2964 250.843L62.4014 250.68L62.4592 250.62L62.4775 250.538L62.4851 250.372L62.5109 250.309L62.6114 250.184L62.6844 250.115L62.7802 250.093L62.975 250.114L63.0556 250.05L63.0799 250.001L63.0312 249.957L63.0191 249.881L63.0312 249.748L63.0875 249.63L63.1864 249.528L63.3218 249.449L63.4937 249.393L63.6185 249.389L63.8436 249.51L63.8771 249.565L63.8223 249.685L63.7904 249.798L63.6504 249.905ZM61.1767 251.093L61.1539 251.189L61.1326 251.224L60.912 251.174L60.7645 251.192L60.7477 251.136L60.7614 251.085L60.9927 251.009H61.087L61.1494 251.049L61.1767 251.093ZM59.6858 251.721L59.5946 251.796L59.5672 251.769L59.552 251.676L59.6037 251.604L59.7604 251.447L59.8669 251.476L59.9003 251.517L59.8973 251.577L59.8577 251.654L59.8075 251.692H59.7467L59.6858 251.721ZM54.0371 253.001L53.2689 253.097L53.1517 253.032L53.2689 252.993L53.4073 252.972L53.6964 252.862L54.0523 252.768L54.3292 252.653L54.5696 252.579L54.6381 252.455L54.4266 252.392L54.3855 252.342L54.4859 252.284L54.5696 252.2L54.7674 252.101L54.9438 252.225L54.9834 252.307L54.9667 252.406L54.9317 252.508L54.7765 252.562L54.7537 252.615L54.8374 252.768L54.5179 252.902L54.0371 253.001ZM57.2061 252.447L57.0996 252.482L56.9839 252.446L57.0372 252.322L57.092 252.257L57.1969 252.176L57.3217 252.211L57.4206 252.313L57.2061 252.447ZM55.6467 252.765L55.9281 252.859L56.2781 252.849L56.4058 252.871L56.4074 252.897L56.1837 252.935L56.1077 252.923L55.9129 252.975L55.7806 252.984L55.4778 252.935L55.2435 252.969L55.1812 252.957L55.1081 252.914L55.023 252.841L55.0184 252.795L55.0945 252.777L55.3014 252.839L55.3227 252.807L55.4976 252.748L55.6467 252.765ZM52.1126 253.077L52.0792 253.146L51.9392 253.073L51.889 253.013L51.8784 252.952L51.9194 252.852L52.032 252.85L52.0974 252.891L52.1598 252.967L52.1781 253.015L52.1126 253.077ZM51.2926 253.391L51.3003 253.469L51.4646 253.46L51.5163 253.5V253.652L51.495 253.695L51.4706 253.706L51.4113 253.672L51.3444 253.75L51.0386 253.939L50.9443 253.834L50.7663 254L50.891 253.568L51.0355 253.503L51.0888 253.454L51.0766 253.327L51.1436 253.115L51.2896 253.125L51.3565 253.213L51.3535 253.269L51.2926 253.391ZM50.4985 253.739L50.4574 253.77L50.3814 253.793L50.1623 253.767L50.0299 253.774L49.8824 253.791L49.7713 253.832L49.75 253.776L49.7531 253.73L50.2292 253.603L50.3403 253.536L50.4088 253.452L50.4711 253.294L50.5213 253.247L50.5518 253.25L50.6187 253.312L50.5944 253.395L50.5365 253.463L50.5168 253.53L50.4985 253.739ZM49.4518 253.895L49.4199 253.971L49.3849 253.969L49.1932 253.841L49.1658 253.799L49.2784 253.738L49.3104 253.69L49.2967 253.629L49.213 253.544L49.0578 253.434L49 253.356L49.038 253.308L49.1126 253.277L49.3453 253.271L49.4716 253.405L49.5659 253.452L49.788 253.485L49.6724 253.541L49.607 253.596L49.5264 253.808L49.4518 253.895ZM52.1294 253.518L52.0092 253.568L51.8495 253.466L51.8647 253.347L52.0396 253.446L52.1294 253.518ZM51.7323 253.565L51.6426 253.701L51.5756 253.64L51.5498 253.452L51.6 253.405L51.7414 253.539L51.7323 253.565Z",id:"AK"},{d:"M321.368 154.225L321.553 155.303L321.739 156.381L321.925 157.458L322.111 158.529L322.297 159.6L322.482 160.67L322.668 161.741L322.854 162.811L323.04 163.875L323.226 164.938L323.411 166.001L323.597 167.064L323.783 168.12L323.969 169.176L324.155 170.232L324.34 171.287L324.511 171.767L324.653 172.543L325.641 174.824L325.931 175.784L325.849 176.182L325.975 176.522L326.302 176.803L326.243 177.128L325.797 177.497L325.507 177.94L325.299 178.73L324.883 180.118L324.876 180.959L325.277 182.111L325.359 182.621L325.091 184.865L325.269 186.305L325.693 187.243L323.434 187.25H321.174H318.915H316.656H314.396H312.137H309.878H307.618L307.522 187.826L307.566 188.38L307.812 188.904L308.822 189.901L308.919 190.144L308.741 190.912L308.77 191.458L308.659 191.739L308.414 191.99L308.347 192.263L308.183 192.337L307.418 193.164L304.735 193.437L304.883 193.253L305.448 193.216L306.243 192.95L306.08 192.507L305.775 192.02L305.493 191.968L305.307 191.68L305.314 190.779L305.136 190.255L304.698 189.716L304.549 189.819L304.229 190.742L303.962 191.953L303.828 192.344L303.033 192.374L302.327 192.293L301.977 192.315L301.888 190.661L301.814 189.155L301.74 187.641L301.665 186.128L301.591 184.607L301.517 183.086L301.442 181.558L301.368 180.029L301.539 178.523L301.71 177.017L301.881 175.503L302.052 173.99L302.223 172.469L302.394 170.948L302.565 169.419L302.736 167.891L302.906 166.363L303.077 164.827L303.248 163.291L303.419 161.748L303.59 160.205L303.761 158.655L303.932 157.104L304.103 155.546L304.148 155.148L304.155 155.015L304.177 154.815L303.56 154.262L303.442 154.151L303.352 154.047L303.442 154.04L304.564 154.055L305.686 154.07L306.808 154.084L307.93 154.099L309.053 154.114L310.175 154.129L311.297 154.143L312.419 154.158L313.542 154.173L314.664 154.188L315.786 154.202L316.908 154.217L318.031 154.232L319.153 154.247L320.275 154.262L321.368 154.225ZM304.244 193.245L303.627 193.415L302.713 193.4L302.527 193.341L302.892 193.223L303.977 193.068L304.244 193.245Z",id:"AL"},{d:"M292.814 145.719L292.784 145.874L292.925 146.214V146.406L292.821 146.524L292.583 146.598L292.405 146.679L292.368 146.827L292.36 146.893L292.375 147.055L292.405 147.196L292.294 147.388L291.483 147.86L291.142 148.466L291.26 149.211L290.978 149.965L290.287 150.725L289.997 151.567L290.101 152.504L289.752 153.265L288.957 153.841L288.696 154.195V154.217V154.483L288.778 154.69L288.511 155.081L287.842 155.48L287.478 155.871L287.426 156.255L287.269 156.44L286.98 156.521L286.809 157.082L286.66 158.411L286.303 159.164L285.724 159.349L285.419 159.644L285.374 160.05L285.032 160.515L284.386 161.047L284.17 161.549L284.393 162.029L284.349 162.221L284.148 162.376L283.449 162.605L283.331 162.715L283.264 162.841L283.405 163.085L283.487 163.446L283.383 164.059L283.212 164.318L283.048 164.561L282.468 164.997L282.305 165.329L282.565 165.558L282.543 165.816L282.253 166.09L282.335 166.392L282.402 166.599L282.676 166.784L282.766 167.293L282.572 167.95L282.61 168.489L282.937 168.932L283.004 169.124L282.684 170.586L282.706 170.793H281.331L280.075 170.8H278.819H277.563H276.3L275.044 170.807H273.788H272.532H271.276L270.02 170.815H268.764H267.5H266.244L264.988 170.822H263.732H262.476L262.469 169.7L262.454 168.578L262.447 167.455L262.432 166.333L262.075 166.141L261.428 166.045L261.094 166.112L260.7 166.06L260.44 166.245L260.262 166.282L260.12 166.237L260.039 166.075L259.741 165.957L259.377 165.551L259.399 164.65L259.414 163.742L259.437 162.841L259.459 161.933L259.474 161.025L259.496 160.117L259.518 159.201L259.533 158.293L259.555 157.377L259.578 156.462L259.593 155.546L259.615 154.631L259.637 153.715L259.652 152.792L259.674 151.869L259.689 150.954L259.533 149.765L259.377 148.584L259.221 147.395L259.065 146.206L258.909 145.018L258.753 143.822L258.597 142.633L258.441 141.429H260.388H262.335H264.282H266.229H268.184H270.131H272.078H274.026H275.973H277.92H279.875H281.822H283.769H285.716H287.663H289.618L289.923 142.109L290.227 142.544L290.279 142.862L290.22 143.187L289.707 143.881L289.239 144.206L288.979 144.553L288.63 144.877L288.08 145.793L289.232 145.771L290.384 145.756L291.535 145.734L292.814 145.719Z",id:"AR"},{d:"M157.499 137.11V140.182L157.491 143.231V146.265V149.285V152.298V155.295V158.278V161.246V164.207V167.153V170.084V173.008V175.917V178.818V181.705V184.585H155.901L153.426 184.592L150.951 184.599L148.484 184.607H146.009L143.534 184.614L140.219 183.418L136.897 182.215L133.583 181.011L130.268 179.808L126.946 178.597L123.631 177.386L120.309 176.175L116.994 174.964L117.329 174.499L117.767 173.266L117.797 173.192L118.771 173.104L119.231 172.794L119.499 172.225L119.558 171.642L119.41 171.058L118.986 170.615L118.31 170.328L117.916 169.523L117.812 168.186L117.931 167.463L118.288 167.359L118.629 167.035L118.949 166.488L119.194 165.89L119.35 165.24L119.38 164.421L119.283 163.424L119.915 162.199L120.539 161.438L121.699 160.508L121.966 160.227V159.998V159.976L121.729 159.651L120.688 159.002L120.242 158.536L120.205 158.108L120.19 158.101L120.056 157.687L118.942 155.96L118.57 155.015V154.306V154.247L118.704 151.242L118.302 150.201L118.206 149.61L118.325 148.887L118.295 148.429L118.102 148.037L118.057 147.321L118.035 146.435L117.715 145.867L117.656 145.616L117.834 145.003L118.161 144.685L118.696 144.464L119.306 144.39L119.997 144.457L120.525 144.737L120.874 145.217L121.216 145.461L121.558 145.468L122.004 145.077L122.405 144.228L122.539 144.176L122.554 140.47L122.561 137.088H124.746H126.924H129.109L131.294 137.095H133.479H135.664H137.841L140.026 137.103H142.211H144.396H146.581H148.759L150.944 137.11H153.129H155.314H157.499Z",id:"AZ"},{d:"M80.8599 92.2273V93.9697V95.7122V97.4473V99.1749V100.903V102.623V104.336V106.049V107.754V109.452V111.151V112.841V114.525V116.208V117.884V119.56L82.5023 121.015L84.1448 122.469L85.7799 123.916L87.4224 125.363L89.0574 126.803L90.6999 128.243L92.3424 129.675L93.9774 131.108L95.2632 132.311L96.5489 133.515L97.8346 134.718L99.1204 135.914L100.406 137.11L101.692 138.306L102.978 139.495L104.263 140.684L106.04 142.389L107.816 144.087L109.592 145.786L111.368 147.476L113.145 149.167L114.921 150.85L116.697 152.534L118.6 154.321V155.029L118.971 155.982L120.086 157.702L120.22 158.116L120.235 158.123L120.279 158.551L120.718 159.016L121.758 159.666L121.996 159.984V160.013L121.989 160.242L121.721 160.523L120.562 161.453L119.937 162.213L119.306 163.439L119.402 164.436L119.373 165.255L119.217 165.905L118.979 166.503L118.652 167.049L118.31 167.374L117.953 167.478L117.827 168.201L117.931 169.53L118.325 170.342L119.008 170.63L119.425 171.066L119.581 171.657L119.521 172.232L119.246 172.801L118.785 173.111L117.812 173.192L117.782 173.266L116.98 173.355L114.98 173.532L112.981 173.709L110.982 173.886L108.983 174.063L106.983 174.241L104.984 174.418L102.985 174.595L100.986 174.772L100.971 174.721L100.926 173.82L100.599 173.502L100.183 173.702L99.9899 172.535L100.094 171.981L100.042 171.442L99.648 170.113L98.6076 168.496L96.3631 166.481L95.2186 165.809L94.3193 164.953L93.747 164.716L93.0336 164.65L92.8254 165.034L92.0154 164.768L92.1343 163.815L91.339 162.486L90.6925 162.339L89.0648 162.427L86.8873 161.696L86.2407 161.261L86.0177 160.478L84.9921 159.799L83.6469 159.135L82.8963 159.29L81.9152 159.186L80.518 158.706L79.7005 158.647L78.11 158.787L77.5155 158.684L76.9655 158.079L76.3709 157.776L76.4973 157.03L76.423 156.351L76.5121 155.827L76.2446 154.668L76.4527 153.59L76.2744 153.198L75.9399 152.903L74.8845 152.46L74.6913 151.906L74.8622 151.138L74.5873 150.629L73.7251 150.156L72.9225 149.078L71.9043 148.488L71.4881 147.498L70.8564 146.886L70.6409 146.339L69.2436 144.397L67.7498 142.877L67.5194 141.998L67.4599 140.794L68.0471 140.063L68.3592 139.414L68.3295 138.823L68.2403 138.387L67.7275 137.627L65.7431 137.177L64.1304 135.301L64.0338 133.862L63.4021 132.385L63.3946 131.425L63.298 130.384L63.7811 130.155L64.2121 130.236L64.1676 130.65L64.3088 131.396L64.8141 131.957L65.2972 132.2L65.7357 132.747L66.0627 132.909L66.4046 132.946L66.2188 132.599L66.0256 132.378L65.7877 131.654L65.3418 130.731L64.829 130.222L64.5689 129.291L64.3459 129.077L64.2047 128.73L64.7027 128.317L65.3864 128.021L66.3005 127.94L68.8869 128.073L69.4369 127.837L69.8902 127.918L70.2247 127.888L69.5261 127.645L69.1321 127.726L68.6639 127.674L67.7424 127.726L67.3708 127.623L66.9546 127.327L66.687 127.298L65.8323 127.807L65.4533 127.748L64.554 127.194L64.1601 127.113L63.5284 127.431L63.4541 128.797L63.6473 129.808L63.2683 129.911L62.8298 129.491L62.1535 129.24L61.5961 128.863L60.8083 128.154L60.3921 127.896L59.9239 128.487L59.909 128.213L60.1394 127.534L60.0725 126.39L60.7786 127.305L60.563 126.663L60.0131 125.954L59.5969 125.71L59.0692 124.441L57.8875 123.673L56.9436 122.432L55.0113 120.372L54.885 118.556L54.1789 116.252L54.4762 114.938L54.4391 114.008L54.0897 112.598L53.7256 111.83L52.1574 109.718L50.6487 108.293L50.4183 107.215L50.3143 106.123L50.6413 105.148L50.9237 104.122L51.1318 103.849L51.2135 103.959L51.1541 104.181L51.3696 104.247L51.4514 103.797L51.5777 103.561L51.3547 103.531L51.377 103.391L51.5108 103.103L51.979 101.752L51.9344 100.046L52.4324 97.9419L52.4101 97.2479L52.0905 95.7491L51.7709 94.8483L51.1987 94.206L51.4514 93.2683L51.4291 92.375L51.3102 92.2273H53.2202H55.0633H56.9065H58.7496H60.5928H62.4359H64.2791H66.1222H67.9653H69.8085H71.6516H73.4947H75.3379H77.181H79.0242H80.8599ZM81.6848 161.962L83.1118 162.391L83.8773 162.184L84.0185 162.391L83.9293 162.568L82.1977 162.893L81.67 162.664L81.6254 162.354L81.447 162.058L81.6848 161.962ZM78.7195 162.42L78.3479 162.442L77.7756 162.354L77.9763 162.162L78.2958 162.021L78.3999 162.125L78.7195 162.42ZM80.5626 163.299L80.0721 163.417L79.7005 163.306L79.106 162.509L80.3694 162.405L80.9119 162.752L80.9862 162.848L80.5626 163.299ZM92.4241 167.729L92.7808 168.341L92.2755 168.268L91.7404 168.305L91.5769 167.972L91.4208 167.507L91.3168 167.389L90.9526 167.345L90.9228 167.3L90.8783 167.079L90.9823 166.968L92.1268 167.485L92.4241 167.729ZM84.7989 169.124L84.4867 169.139L84.0557 169.065L83.8327 168.622L84.182 168.592L84.509 168.652L84.7692 168.999L84.7989 169.124ZM92.4018 172.343L91.9931 172.417L91.5397 172.247L91.1532 171.45L90.7222 170.83L90.9526 170.652L91.3019 171.25L92.1714 172.159L92.4018 172.343Z",id:"CA"},{d:"M206.625 110.567L206.632 112.266V113.949L206.639 115.632L206.647 117.316V118.984L206.654 120.653L206.662 122.322V123.983L206.669 125.637L206.677 127.291L206.684 128.937V130.583L206.691 132.223L206.699 133.854V135.486L206.706 137.11H204.975H203.25H201.519H199.795H197.149H194.503H191.865H189.219H186.573H183.935H181.289H178.643H176.005H173.359H170.713H168.067H165.429H162.783H160.137H157.499V134.947V132.769V130.583V128.391V126.19V123.983V121.768V119.545V117.316V115.079V112.827V110.575V108.308V106.034V103.76V101.471H159.691H161.891H164.091H166.284H168.483H170.683H172.876H175.076H177.276H179.468H181.668H183.86H186.06H188.26H190.452H192.652H194.399H196.145H197.892H199.638H201.385H203.132H204.871H206.617L206.625 102.616V103.76V104.897V106.034V107.171V108.308V109.438V110.567Z",id:"CO"},{d:"M418.073 92.1165L418.081 92.6186V93.32L418.088 93.8294L418.095 94.5235V95.3209L418.103 96.0518L418.11 96.6868L418.088 97.0633L418.051 97.6392L417.872 97.8607L417.783 98.3923L417.174 98.3406L416.163 98.4735L414.825 98.791L414.082 98.6064L413.324 98.9387L410.753 99.0346L410.21 98.8575L409.519 99.485L408.412 99.8616L405.602 101.272L405.275 101.552L404.911 100.976L404.629 100.519L405.193 100.157L405.625 99.8837L406.033 99.6327L406.301 99.4629L406.085 99.1085L405.877 98.7541L405.929 97.8755L405.989 97.0042L406.041 96.1256L406.1 95.247L406.152 94.3611L406.212 93.4825L406.264 92.5965L406.323 91.7104L406.91 91.74L407.497 91.7621L408.085 91.7843L408.679 91.8138L409.266 91.836L409.853 91.8655L410.44 91.8876L411.028 91.9098L411.035 92.1534L411.34 92.1239L411.377 91.9098L412.217 91.9245L413.049 91.9393L413.889 91.9541L414.721 91.9688L415.561 91.9762L416.394 91.991L417.233 92.0058L418.066 92.0205L418.073 92.1165Z",id:"CT"},{d:"M381.485 120.535L381.329 120.306L380.987 120.121L380.846 120.055L381.404 119.449L381.775 119.974L382.184 120.55L381.56 121.273L381.485 120.535Z",id:"DC"},{d:"M392.745 112.243L392.44 112.561L392.18 113.129L391.578 113.816L391.623 114.281L391.727 114.606L391.675 115.293L392.054 115.957L392.804 117.042L392.946 118.726L393.518 119.848L394.395 121.162L395.071 121.532L395.101 122.019L394.796 122.816L394.38 123.185L394.915 123.112L395.183 123.296L395.443 123.961L395.428 124.381L394.677 124.389H393.131H391.578H390.872H390.857H390.842H390.827H390.813H390.79H390.775H390.761H390.746L390.679 122.986L390.612 121.583L390.545 120.173L390.471 118.763L390.404 117.345L390.337 115.928L390.27 114.51L390.203 113.085L390.731 112.361L390.954 112.14L391.251 112.029L392.121 111.992L392.745 112.243Z",id:"DE"},{d:"M350.189 189.399L350.516 190.13L351.014 193.105L351.356 194.139L351.973 196.915L352.983 199.595L354.418 202.821L356.766 206.712L357.049 207.266L356.744 207.731L356.647 208.219L356.618 208.949L356.699 209.658L356.974 210.529L357.51 211.858L357.212 211.593L356.439 209.688L356.35 208.566L356.462 206.971L356.283 207.008L356.135 207.524L356.053 208.13L355.86 208.366L355.592 207.436L355.614 207.015L355.897 206.528L355.815 206.351L355.354 206.1L355.258 205.701L355.317 205.31L355.057 205.103L354.849 205.11L354.99 206.07L355.206 206.661L355.473 208.071L355.912 208.927L356.164 209.643L359.13 217.248L359.828 218.216L360.088 218.909L360.356 220.357L360.415 222.21L359.932 225.584L359.821 227.873L359.754 227.806L359.709 227.563L359.598 227.533L359.174 228.582L358.602 229.527L358.416 230.996L358.141 231.727L357.316 232.502L356.803 232.48L355.555 233.063L354.678 232.908L353.63 233.233L352.939 233.196L352.537 232.502L352.597 232.192L352.753 231.882L353.021 231.808L353.95 232.532L354.12 232.229L353.838 231.867L353.303 231.668L352.909 231.446L352.114 229.792L351.289 228.655L351.148 227.895L349.728 227.43L348.695 226.728L348.026 225.473L347.64 223.244L347.186 222.992L346.993 222.815L347.439 221.988L347.907 221.294L347.536 221.464L347.261 221.723L346.911 222.335L346.659 222.431L346.428 222.335L346.161 221.161L346.235 219.714L346.614 219.168L346.034 219.153L345.44 219.36L345.529 219.847L345.447 220.113L345.009 220.047L344.682 219.877L344.236 219.375L343.626 218.415L342.37 215.764L342.125 215.388L341.709 214.996L341.902 214.871L342.259 214.797L343.062 213.601L343.693 212.877L343.901 212.375L343.864 212.161L343.582 211.851L343.218 212.124L343.062 212.043L342.645 211.415L342.252 211.238L341.977 211.379L342.266 211.895L342.527 212.087L342.423 212.84L342.318 213.084L342.073 213.298L341.694 213.18L341.501 213.365L341.271 213.173L341.048 212.84L340.795 212.294L341.456 209.23L342.073 207.273L342.14 205.036L342.185 204.704L342.133 204.106L341.308 202.807L337.659 199.632L334.834 195.859L332.389 194.441L330.531 194.751L330.212 195.039L330.07 195.416L330.189 195.837L330.018 196.014L329.521 195.992L328.852 196.088L327.098 197.085L326.481 197.048L325.916 197.306L325.492 197.498L324.392 197.601L323.463 197.823L323.062 197.705L322.802 197.129V196.531L323.017 196.989L323.345 197.343L323.493 197.203L323.553 196.885L323.226 196.265L322.17 195.468L320.974 194.301L321.338 194.338L321.427 194.087L321.055 193.762L321.211 193.386L321.472 192.987L320.966 193.046L320.513 193.326L320.498 193.673L320.409 193.947L320.164 193.91L319.71 193.57L317.473 192.625L315.519 192.093L317.02 191.85L317.83 192.034L317.733 191.746L317.54 191.562L316.901 191.333L316.083 191.422L315.571 191.311L315.043 191.54L314.463 191.879L313.95 192.057L311.936 192.3L310.301 192.566L310.561 192.285L310.844 192.108L311.81 191.835L311.951 191.267L311.721 190.72L311.468 190.853L311.201 191.281L310.874 190.971H310.509L310.413 191.658L309.945 192.116L309.736 192.573L308.376 192.935L308.198 192.817L308.599 192.381L308.57 192.138L308.28 192.271L308.347 191.997L308.592 191.746L308.703 191.466L308.674 190.92L308.852 190.152L308.755 189.908L307.745 188.911L307.499 188.387L307.455 187.833L307.551 187.257H309.811H312.07H314.329H316.589H318.848H321.107H323.367L325.626 187.25L325.916 187.885L326.473 189.199L326.496 189.509L327.15 189.554L328.265 189.627L329.379 189.701L330.494 189.775L331.609 189.849L332.724 189.923L333.839 189.997L334.953 190.07L336.068 190.144L337.183 190.218L338.298 190.292L339.413 190.366L340.527 190.44L341.642 190.513L342.757 190.587L343.872 190.661L344.987 190.735L344.994 191.001L345.18 191.414L345.224 191.887L345.306 192.116L345.529 192.256L345.878 192.293L346.235 192.027L346.458 191.444L346.518 190.787L346.384 190.034L346.406 189.399L346.584 189.029L346.793 188.941L346.971 188.741L347.12 188.697L347.506 188.801L348.955 189.332L350.189 189.399ZM326.377 198.111L325.671 198.399L324.913 198.192L325.381 198.155L325.723 198.236L326.585 197.823L327.038 197.513L327.566 197.395L326.377 198.111ZM359.405 216.702L359.516 217.278L358.87 215.949L358.074 213.859L357.651 212.242L357.941 212.678L358.223 213.586L359.405 216.702ZM346.131 222.335L346.124 222.786L345.774 222.025L345.537 221.184L345.871 221.457L346.131 222.335ZM346.458 223.096L346.205 223.295L345.7 223.148L345.425 222.882L345.306 222.365L345.745 222.911L345.901 223.037L346.458 223.096ZM358.037 233.167L356.647 234.599L356.803 234.237L357.346 233.469L357.524 233.108L357.889 232.879L358.23 232.465L358.253 231.978L358.751 231.638L358.914 231.587L358.037 233.167ZM356.246 234.99L356.06 235.027L356.335 234.702L356.41 234.724L356.246 234.99ZM354.908 235.751H354.775L354.841 235.64L355.116 235.426L355.213 235.507L355.198 235.618L354.908 235.751ZM353.407 236.408L353.087 236.585L352.753 236.452L353.117 236.275L354.202 236.083L353.793 236.327L353.407 236.408ZM351.371 236.91L351.163 237.065L351.066 237.013V236.784L350.769 236.282L350.776 236.149L351.46 236.644L351.475 236.777L351.371 236.91ZM349.75 237.301L349.297 237.375L349.661 237.072L349.78 236.615L349.996 236.969L349.988 237.183L349.75 237.301ZM348.234 237.722L348.056 237.737L348.041 237.619L348.346 237.478L348.546 237.486L348.539 237.641L348.234 237.722Z",id:"FL"},{d:"M354.611 178.885L354.254 179.571L353.4 180L353.14 179.985L352.924 180.11L353.05 180.421L353.266 180.642L353.259 180.849L353.036 181.129L352.59 181.211L352.337 181.535L352.419 181.838L352.567 182.008L352.538 182.296L352.032 182.591L351.913 182.879L352.166 182.96L352.359 182.879L352.5 182.938L352.196 183.418L351.921 183.713L351.661 184.238L351.059 184.385L351.081 184.555L351.423 184.703L351.705 185.109L351.17 185.855L350.836 185.796L350.635 185.633L350.509 186.224L350.561 186.534L350.434 187.176L350.226 187.944L350.085 188.262L350.115 188.845L350.204 189.413L349.022 189.34L347.573 188.808L347.187 188.705L347.038 188.749L346.86 188.948L346.651 189.037L346.473 189.406L346.451 190.041L346.585 190.794L346.525 191.451L346.302 192.034L345.945 192.3L345.596 192.263L345.373 192.123L345.291 191.894L345.247 191.422L345.061 191.008L345.054 190.742L343.939 190.668L342.824 190.595L341.709 190.521L340.594 190.447L339.48 190.373L338.365 190.299L337.25 190.226L336.135 190.152L335.02 190.078L333.905 190.004L332.791 189.93L331.676 189.856L330.561 189.783L329.446 189.709L328.331 189.635L327.217 189.561L326.563 189.517L326.54 189.207L325.983 187.892L325.693 187.257L325.269 186.32L325.091 184.88L325.359 182.636L325.277 182.126L324.876 180.974L324.883 180.133L325.299 178.745L325.507 177.955L325.797 177.512L326.243 177.142L326.303 176.818L325.976 176.537L325.849 176.197L325.931 175.799L325.641 174.839L324.653 172.557L324.511 171.782L324.34 171.302L324.155 170.246L323.969 169.191L323.783 168.135L323.597 167.079L323.411 166.016L323.226 164.953L323.04 163.889L322.854 162.826L322.668 161.756L322.482 160.685L322.297 159.614L322.111 158.544L321.925 157.473L321.739 156.395L321.553 155.317L321.368 154.239L323.642 154.269L325.916 154.299L328.19 154.328L330.464 154.358L332.583 154.328L334.701 154.299L336.819 154.269L338.937 154.239L338.892 154.247L338.551 154.815L337.525 155.886L337.25 156.705L338.573 157.621L338.58 157.628L339.368 158.367L339.911 158.655L340.461 158.743L340.802 158.987L341.003 159.578L342.608 162.494L344.273 163.993L344.942 164.731L345.276 165.44L346.696 166.606L347.179 167.234L347.201 167.707L347.372 168.046L347.684 168.245L347.982 168.674L348.272 169.323L348.836 169.892L349.684 170.372L350.301 171.472L350.694 173.178L351.096 174.167L351.705 174.58L352.538 176.035L352.805 176.899L352.79 177.659L353.214 178.25L354.611 178.885ZM350.784 187.464L350.472 189.428L350.338 188.734L350.323 188.062L350.561 187.664L350.784 187.464Z",id:"GA"},{d:"M-39.8044 161.237L-40 161.28L-39.9783 161.14L-39.7935 161L-39.6197 161.043L-39.6958 161.162L-39.8044 161.237ZM144.298 231.064L143.396 231.678L142.875 231.42L141.886 231.323L141.505 230.86L140.462 230.45L140.039 229.88L140.68 228.813L142.19 227.909L144.515 227.952L145.004 228.663L145.048 229.19L144.743 229.783L144.602 230.623L144.298 231.064ZM136.04 232.055L135.833 232.54L135.486 232.465L135.399 232.034L135.627 231.441L136.214 230.935L136.866 230.16L137.398 230.278L137.116 230.784L137.083 231.334L136.333 231.646L136.04 232.055ZM160.391 236.224L160.738 236.288L161.195 236.213L161.347 237.075L161.868 237.548L162.064 237.829L161.499 238.13L160.391 238.249L159.869 238.012L159.337 237.473L158.761 237.624L158.663 237.193L158.554 237.064L158.152 237.182L158.522 237.742L157.522 237.785L157.207 237.721L156.924 237.085L155.892 235.868V235.394L155.544 234.834L157.076 234.673L158.13 233.682L158.717 233.574L159.847 235.179L159.815 235.631L160.065 236.073L160.391 236.224ZM166.378 238.83L168.54 239.132L169.051 239.003L169.409 239.239L171.202 239.39L171.506 239.476L171.137 240.037L169.996 240.543L168.344 240.09L165.584 239.929L165.693 239.498L165.954 239.196L165.997 238.669L166.378 238.83ZM173.821 241.889L174.082 242.083L175.168 241.792L175.951 241.684L177.276 242.395L177.733 242.88L178.602 243.397L178.895 243.774L178.656 244.226L177.7 244.98L176.396 245.153L175.625 245.476L174.614 245.411L174.31 245.271L174.201 244.323L173.886 243.3L173.234 243.419L172.506 243.074L171.745 242.212L171.659 241.695L172.082 240.877L172.81 240.769L173.354 241.221L173.821 241.889ZM170.105 243.612L169.496 243.914L168.833 243.774L168.681 243.042L168.051 242.105L169.159 241.911L169.79 242.18L170.116 242.471L170.518 242.977L170.105 243.612ZM183.079 262.483L182.622 263L182.057 262.957L180.004 261.858L179.754 261.266L179.906 258.53L179.134 256.3L178.287 254.599L178.906 253.726L179.721 253.048L180.623 251.766L179.884 250.118L180.069 249.127L180.503 248.955L182.644 250.161L186.969 251.971L188.121 253.242L188.327 254.609L189.109 254.782L189.479 255.719L190.62 256.537L191 257.001L190.533 257.755L188.457 259.198L185.839 259.823L183.535 261.438L183.079 262.483Z",id:"HI"},{d:"M286.199 87.4282L286.623 88.0706L287.359 88.6464L287.775 89.1854L287.879 89.6875L288.325 90.2265L289.12 90.795L289.581 91.297L289.707 91.7326L289.685 92.4045L289.514 93.3127L289.224 93.9698L288.815 94.3685L288.518 94.9296L288.317 95.6532L287.693 96.3103L286.645 96.9231L285.471 97.3366L284.185 97.558L283.42 98.0823L283.182 98.9018L283.286 99.5811L283.747 100.135L284.007 100.718L284.074 101.331L283.754 102.35L283.041 103.767L282.245 104.683L281.383 105.096L280.997 105.709L281.094 106.521L281.019 106.979L280.662 107.142L280.046 106.662L279.934 106.322L279.436 105.982L279.362 105.768L278.983 105.576L278.634 104.912L276.872 104.927L275.103 104.934L273.342 104.949L271.573 104.963L269.812 104.978L268.043 104.986L266.281 105L264.52 105.015L262.751 105.03L260.99 105.045L259.221 105.052L257.46 105.067L255.691 105.082L253.929 105.096L252.161 105.111L250.414 105.119L249.99 104.439L249.76 103.812L249.901 103.509L249.931 102.49L249.849 100.74L249.678 99.7509L249.426 99.5294L249.396 99.2193L249.589 98.8354L249.53 98.5695L249.218 98.4293L249.121 98.0971L249.24 97.558L249.166 97.2332L248.898 97.1151L248.794 96.9305L248.839 96.6794L248.69 96.5244L248.363 96.4506L248.229 95.8451L248.289 94.7007L248.17 93.896L247.858 93.416L247.694 92.9731V92.5522L247.367 91.8951L246.706 90.9943L246.282 89.7982L246.089 88.3216L245.62 87.4946L245.405 87.4503L245.227 86.6751L245.041 86.3281L245.004 86.0623L244.424 85.3904L244.387 85.132L244.461 84.8072L244.84 84.1722L245.182 83.1311L245.256 82.4297L245.539 81.8981L245.546 81.6102L245.494 81.2262L245.345 80.8866L244.885 80.643L244.833 80.5322L244.788 80.1483L244.974 79.9047L245.033 79.6315L244.981 79.2918L244.706 78.7086L244.587 78.1105L245.598 78.0736H247.872H250.147H252.428H254.702L256.977 78.0662H259.251H261.525H263.799H266.073H268.348H270.629H272.903H275.178H277.452H279.726L282.037 78.0588L282.089 78.6569L282.223 79.0851L282.506 79.4321L282.937 79.6905L283.004 80.2L282.721 80.9457L282.624 81.8686L282.714 82.9687L282.929 83.9581L283.264 84.8367L284.037 85.479L285.233 85.8925L285.939 86.5127L286.147 87.3617L286.199 87.4282Z",id:"IA"},{d:"M143.467 68.4679V69.9815L143.475 71.4877V72.9939V74.5001V75.9988V77.4903V78.9817V80.4657V81.9497V83.4264V84.9031V86.3724V87.8416V89.3035V90.7654V92.2199H142.167H140.859H139.551H138.243H136.935H135.626H134.318H133.01H131.702H130.394H129.086H127.778H126.47H125.162H123.854H122.546H119.945H117.344H114.742H112.141H109.54L106.939 92.2273H104.338H101.736V90.1452L101.729 88.0483V85.9515L101.722 83.8473V81.7356V79.6093L101.714 77.4829V75.135L101.707 75.0833L102.153 73.6362L102.242 72.9274L102.13 72.5287L102.205 72.1448L102.472 71.7756L102.465 71.3622L102.182 70.9265L101.647 70.6312L100.874 70.4909L100.473 69.9667L100.443 69.0733L101.023 67.6927L102.212 65.8247L102.859 64.5031L102.978 63.7205L103.691 61.9189L105.007 59.0838L105.512 57.2601L105.207 56.4627L104.531 55.6949L103.498 54.9639L102.769 54.1075L102.576 53.6718L102.338 53.1329L102.22 52.4536L102.398 52.0623L102.249 51.3756L101.781 50.3937L101.58 49.7292L101.625 49.4929L101.677 49.3969L101.67 47.7874V46.163L101.662 44.5387L101.655 42.9144L101.647 41.2827L101.64 39.6436V37.9971L101.632 36.3507L101.625 34.6968L101.618 33.043V31.3743L101.61 29.7057L101.603 28.0297L101.595 26.3537V24.6703L101.58 22.9869H103.832H106.812H108.507V25.5859V28.1774V30.7542V33.3235L109.258 34.3646L109.815 34.9995L110.172 35.6862L110.714 36.4024L110.818 36.6608L111.012 37.4286L110.87 37.9824L111.16 38.5509L111.108 38.8241L110.893 38.9717L110.848 39.016L110.856 39.0751L110.93 39.1637L111.695 39.7027L112.446 40.4558L113.397 40.9726L113.702 41.2753L114.958 42.7667L115.612 43.7192L116.296 44.4132L116.638 45.2032L117.344 45.8899L117.522 46.2442L117.567 46.3181L117.663 46.3255L118.102 46.163L118.213 46.2073L118.429 46.4805L118.473 46.894L118.629 47.0712L118.904 47.1672L119.217 47.1967L120.175 46.9974H120.383L120.487 47.0786L120.532 47.3001L120.517 47.6618L120.421 48.1787L120.131 48.6881L120.183 49.1607L119.952 50.2534L119.737 50.9917L119.714 51.7005L119.447 52.114L119.596 52.6013L119.492 53.3396L119.588 53.5316L119.93 53.8712L120.064 54.7793L120.004 54.9491L119.395 55.3035L119.187 55.5324L119.105 55.8647L119.373 56.8171L119.112 57.3413L119.083 57.7917L119.142 57.9098L119.707 58.1535L120.391 58.6851L120.606 58.8032L120.762 58.7811L121.052 58.6039L121.372 58.2421L122.026 57.8729L122.799 57.0903L122.836 56.8688L122.895 56.7507H122.999L123.245 56.8614L123.728 57.3339L124.151 57.5997L124.226 57.6588L124.263 57.7917L124.241 58.2642L124.478 58.6334L124.545 59.2388L124.791 59.8516L124.961 60.5826L125.593 61.5276L125.935 62.1995L126.314 62.5096L126.545 62.864L126.708 63.2922L126.775 63.6393L126.552 64.2668L126.611 64.5252L126.812 64.8058L127.466 65.4555L127.592 65.5072L128.202 65.4408L128.529 65.5441L128.856 65.869L129.183 66.3563L129.398 66.851L129.458 67.4343L129.792 68.0766L129.837 68.6451L130.045 68.8961L130.461 69.2358L130.863 69.4425L131.019 69.4573L131.13 69.3687L131.167 69.0512L131.323 68.8149L131.821 68.4753L132.297 68.4827L134.088 68.7632L134.207 68.7485L134.289 68.6525L134.593 68.1357L134.839 67.9289L135.218 67.8625L136.318 67.9954L137.589 67.9216L138.25 68.0692L139.216 67.8773L140.331 68.0175L140.48 67.9363L140.509 67.8256L140.413 67.6336L140.398 67.2497L140.621 66.7919L140.695 66.4006L140.925 66.1791L141.223 66.061L141.468 66.0757L141.706 66.2825L141.973 66.6295L142.449 67.5745L142.702 67.9142L143.006 68.2095L143.467 68.4679Z",id:"ID"},{d:"M306.058 87.5832L306.05 89.0452L306.162 90.256L306.37 90.795L306.615 91.1937L306.875 91.4447L307.18 92.2273L307.522 93.5415L307.841 94.4054L308.094 94.7598L308.079 97.2332L308.072 99.9945L308.064 102.749L308.049 105.48L308.042 108.212L308.035 110.922L308.02 113.624L308.012 116.164V116.208L307.685 116.481L307.462 116.954L307.522 117.463L307.433 117.825L307.21 118.047L307.321 118.6L307.76 119.486L308.027 120.365L308.116 121.229L308.035 121.842L307.656 122.403L307.291 123.614L306.979 124.094L306.593 124.256L306.251 124.706L305.954 125.445L305.634 125.799L305.292 125.777L305.039 125.917L304.876 126.205L304.898 126.508L305.099 126.833L305.032 127.128L304.698 127.401L304.705 127.534L304.809 127.615L304.772 127.741L304.556 127.874L304.43 128.28L304.445 128.952L304.326 129.291L304.103 129.306L304.073 129.491L304.445 130.251L304.229 130.406L303.843 131.034L303.761 131.72L303.992 132.474L303.412 133.086L302.015 133.544L301.279 133.958L301.197 134.312L301.294 134.851L301.569 135.575L301.621 136.077L301.442 136.357L300.446 136.165L298.633 135.508L297.422 135.53L296.805 136.232L296.589 136.763L296.664 137.191L296.173 136.667L295.839 136.431L295.779 136.446L295.705 136.512L295.675 136.675L295.697 136.793L295.742 136.926L295.72 137.007L295.638 137.014L295.281 136.815L294.85 136.232L294.337 135.272L294.226 134.511L294.516 133.943V133.352L294.226 132.725L294.085 132.112V131.514L293.386 130.613L291.989 129.417L290.963 128.671L290.302 128.391L289.536 127.793L288.659 126.87L288.191 126.161L288.132 125.674L288.533 124.367L289.692 121.502L289.826 121.17L289.863 121.044L289.811 120.919L289.7 120.801L289.209 120.461L288.273 120.173L287.403 120.018L286.712 120.358L286.11 119.664L285.59 117.929L284.319 116.097L282.283 114.163L281.101 112.841L280.774 112.147L280.484 111.099L280.246 109.696L280.254 108.537L280.662 107.142L281.019 106.979L281.093 106.521L280.997 105.709L281.383 105.096L282.245 104.683L283.041 103.767L283.754 102.35L284.074 101.331L284.007 100.718L283.747 100.135L283.286 99.5811L283.182 98.9018L283.42 98.0823L284.185 97.5581L285.471 97.3366L286.645 96.9231L287.693 96.3103L288.317 95.6532L288.518 94.9296L288.815 94.3685L289.224 93.9698L289.514 93.3127L289.685 92.4045L289.707 91.7326L289.581 91.2971L289.12 90.795L288.325 90.2265L287.879 89.6875L287.775 89.1854L287.359 88.6464L286.623 88.0706L286.199 87.4282L289.41 87.4577L292.561 87.4799L295.712 87.502L298.863 87.5242L302.015 87.5537L305.166 87.5759L306.058 87.5832Z",id:"IL"},{d:"M327.157 95.0034L327.135 98.0158L327.105 101.013L327.083 103.989L327.061 106.957L327.038 109.91L327.016 112.841L326.986 115.765L326.979 118.733L326.867 118.814L326.704 119.198L326.882 119.59L326.875 119.907L326.681 120.151L326.748 120.328L327.075 120.446L327.202 120.727L327.127 121.162L326.421 121.598L325.076 122.1L324.779 122.24L324.541 122.307L324.43 122.277L324.251 122.181L324.006 121.982L323.582 121.886L322.891 121.952L322.616 122.366L322.757 123.134L322.52 123.724L321.91 124.13L321.472 124.669L321.211 125.341L320.788 125.747L320.216 125.888L319.747 126.508L319.391 127.601L319.004 128.272L318.588 128.538L318.008 128.472L317.28 128.073L316.864 127.674L316.752 127.254L316.537 126.958L316.336 126.825H316.202L316.195 126.884L316.254 127.003L316.18 127.128L315.727 127.172L315.533 127.342L315.6 127.645L315.496 127.852L315.236 127.977L315.095 128.265L315.08 128.715L314.894 129.129L314.545 129.498L314.025 129.373L313.348 128.752L312.657 128.605L311.951 128.944L311.431 129.395L311.082 129.963L310.755 130.103L310.272 129.668L309.134 129.07L308.54 128.944L308.109 129.085L307.812 129.018L307.708 128.856L307.626 128.789L307.544 128.87L307.537 129.395L307.433 129.72L307.239 129.86L307.091 129.749L306.987 129.395L306.741 129.277L306.355 129.402L305.961 129.35L305.619 129.136L305.493 129.158L305.396 129.262L305.426 129.668L305.352 129.993L305.173 130.207L304.921 130.259L304.586 130.148L304.445 130.251L304.073 129.491L304.103 129.306L304.326 129.291L304.445 128.952L304.43 128.28L304.556 127.874L304.772 127.741L304.809 127.615L304.705 127.534L304.698 127.401L305.032 127.128L305.099 126.833L304.898 126.508L304.876 126.205L305.039 125.917L305.292 125.777L305.634 125.799L305.954 125.445L306.251 124.706L306.593 124.256L306.979 124.093L307.291 123.614L307.655 122.403L308.035 121.842L308.116 121.229L308.027 120.365L307.76 119.486L307.321 118.6L307.21 118.047L307.433 117.825L307.522 117.463L307.462 116.954L307.685 116.481L308.012 116.208V116.164L308.02 113.624L308.035 110.922L308.042 108.212L308.049 105.48L308.064 102.748L308.072 99.9945L308.079 97.2331L308.094 94.7598L308.139 94.8262L308.399 95.0625L308.607 95.1954L308.763 95.2175L308.852 95.4242L309.246 95.5424L309.967 95.5941L310.628 95.5129L311.23 95.2987L312.702 94.457H314.433H316.552L318.67 94.4644H320.795H322.913H325.032H327.157V95.0034Z",id:"IN"},{d:"M258.441 137.11H256.82H255.208H253.587H251.975H250.355H248.742H247.122H245.509H243.889H242.276H240.656H239.043H237.423H235.81H234.19H232.577H230.957H229.337H227.724H226.104H224.491H222.871H221.258H219.638H218.025H216.405H214.792H213.172H211.559H209.939H208.319H206.706L206.699 135.486V133.854L206.691 132.223L206.684 130.583V128.937L206.677 127.291L206.669 125.637L206.662 123.983V122.322L206.654 120.653L206.647 118.984V117.316L206.639 115.632L206.632 113.949V112.266L206.625 110.567H208.089H209.56H211.024H212.488H213.953H215.424H216.888H218.352H219.824H221.288H222.752H224.224H225.688H227.152H228.623H230.087H231.552H233.016H234.487H235.951H237.415H238.887H240.351H241.815H243.287H244.751H246.215H247.686H249.151H250.615H252.079H253.342L254.955 111.734L255.379 111.749L255.877 111.564L256.256 111.83L256.516 112.553L256.479 112.915L256.152 112.93L255.735 113.366L255.245 114.207L255.364 115.005L256.1 115.743L256.59 116.489L256.835 117.242L257.326 117.825L258.411 118.445L258.396 118.785V119.944L258.403 121.103V122.263V123.414L258.411 124.573V125.718L258.418 126.87V128.014V129.158L258.426 130.303V131.44L258.433 132.577V133.714V134.851L258.441 135.981V137.11Z",id:"KS"},{d:"M342.43 124.448L342.593 124.692L342.668 125.998L342.616 126.257L342.378 126.788L342.393 127.069L342.593 127.512L343.337 128.531L343.411 128.93L343.701 129.321L343.953 129.897L344.749 131.13L345.982 132.149L346.949 132.422L344.303 134.541L343.091 135.309L341.939 135.922L341.843 136.025L341.583 136.704L340.884 137.302L340.446 137.93L339.398 138.454L338.654 139.17L336.789 139.872L335.741 140.115L335.035 140.529L334.983 140.551L334.931 140.573L334.879 140.595L334.827 140.617L334.775 140.639L334.723 140.662L334.671 140.684L334.619 140.706L332.189 140.625L329.758 140.543L327.328 140.462L324.898 140.381L322.467 140.3L320.037 140.219L317.607 140.137L315.177 140.056L312.85 140.1L310.524 140.145L308.198 140.189L305.872 140.233L305.664 139.968L305.054 139.908L304.11 139.813H304.073L304.348 140.699L304.356 141.466L304.333 141.474H303.241H302.029H300.818H299.607H298.395H297.184H295.972H294.583L294.954 140.721L295.274 140.521L295.422 140.484L295.772 140.625L295.943 140.676L296.314 140.411L296.641 139.635L296.827 138.808L296.879 137.937L296.656 137.243L296.582 136.815L296.797 136.283L297.414 135.582L298.626 135.56L300.439 136.217L301.435 136.409L301.613 136.128L301.561 135.626L301.286 134.903L301.19 134.364L301.271 134.009L302.007 133.603L303.397 133.138L303.977 132.533L303.746 131.78L303.828 131.093L304.214 130.465L304.43 130.31L304.571 130.207L304.898 130.318L305.151 130.266L305.329 130.059L305.404 129.734L305.374 129.321L305.47 129.225L305.597 129.203L305.939 129.417L306.325 129.469L306.712 129.343L306.957 129.461L307.061 129.823L307.21 129.934L307.403 129.793L307.507 129.461L307.514 128.937L307.596 128.856L307.678 128.922L307.782 129.085L308.079 129.151L308.51 129.003L309.105 129.129L310.249 129.734L310.725 130.17L311.059 130.03L311.401 129.461L311.929 129.011L312.627 128.679L313.319 128.819L314.002 129.439L314.523 129.565L314.879 129.195L315.065 128.789L315.08 128.339L315.221 128.051L315.481 127.925L315.578 127.711L315.519 127.409L315.712 127.239L316.165 127.195L316.239 127.069L316.187 126.951L316.195 126.892H316.329L316.522 127.025L316.737 127.32L316.849 127.733L317.272 128.14L318.001 128.531L318.573 128.597L318.997 128.339L319.383 127.66L319.74 126.567L320.208 125.947L320.78 125.806L321.197 125.4L321.457 124.728L321.895 124.19L322.512 123.783L322.75 123.193L322.609 122.425L322.884 122.011L323.575 121.945L323.998 122.034L324.244 122.24L324.422 122.336L324.534 122.366L324.771 122.307L325.061 122.159L326.406 121.664L327.112 121.221L327.187 120.786L327.061 120.505L326.733 120.387L326.667 120.203L326.86 119.959L326.867 119.641L326.689 119.25L326.852 118.866L326.964 118.785L327.358 118.49L327.767 118.453L328.094 118.763L328.554 118.837L329.156 118.682L329.706 118.785L330.212 119.154L330.687 119.826L331.126 120.801L331.921 121.391L333.073 121.605L333.913 121.989L334.441 122.536L334.879 122.713L335.392 122.418L335.934 122.262L336.477 122.447L337.205 122.912L338.283 122.809L339.702 122.144L340.542 122.174L340.795 122.905L341.397 123.673L342.356 124.47L342.43 124.448ZM294.337 141.415L293.847 141.429L293.824 141.326L293.854 141.09L293.891 140.986L293.988 140.964H294.099L294.256 141.186L294.337 141.415Z",id:"KY"},{d:"M294.1 193.718L293.624 193.932L291.067 193.112L290.428 192.448L289.863 192.308L289.172 192.226L288.429 193.039L287.864 194.139L288.763 194.737L289.529 195.025L290.8 194.781L291.498 194.249L292.071 194.264L292.346 194.153L292.598 193.873L293.089 194.094L293.104 194.316L292.754 194.626L292.316 194.884L292.048 195.194L292.546 195.815L293.334 196.021L293.631 195.933L293.817 195.239L294.3 194.788L294.954 194.884L294.858 195.165L294.947 195.431L295.252 195.881L295.214 196.531L295.274 196.686L294.568 196.974L294.04 197.07L293.617 197.446L293.839 197.66L293.408 197.852L293.119 197.779L292.97 197.852L292.925 198.081L292.702 198.295L293.022 198.938L293.683 199.359L294.152 199.883L296.024 200.569L296.478 200.547L296.924 201.241L297.28 201.478L297.63 201.596L297.593 202.076L296.976 202.423L296.812 202.836L296.656 203.072L296.381 202.777L296.099 202.563L295.437 203.213L295.118 203.353L295.274 202.652L295.021 202.378L294.642 201.67L294.092 201.234L293.706 201.086L293.401 200.806L293.037 200.695L292.725 200.725L292.197 200.562L292.16 200.186L292.011 199.905L291.602 199.573L289.633 198.945L289.618 199.204L289.752 199.395L290.034 199.528L290.376 199.779V200.533L290.227 200.85L290.168 201.3L290.042 201.758L289.796 202.12L289.261 202.364L289.023 202.157L288.637 201.167L288.094 200.857L287.232 200.82L286.645 201.042L286.006 202.002L285.493 202.157L283.732 201.662L281.718 200.909L281.77 200.658L282.089 200.577L282.699 200.68L282.669 200.422L282.052 199.573L281.941 199.189L282.023 198.724L281.822 198.731L281.45 199.122L280.172 198.79L279.815 198.391L279.065 197.269L278.002 197.232L277.504 196.568L276.634 196.856L276.196 197.173L275.809 197.66L275.958 197.911L276.344 198.31L276.166 198.502L274.932 198.79L272.064 198.473L271.224 198.17L270.094 197.535L268.533 197.018L267.783 196.937L267.047 197.04L264.907 197.092L264.409 197.232L263.985 197.454L263.71 197.21L263.584 196.774L263.829 196.701L264.104 196.45L264.357 195.948L264.386 195.645L264.215 195.445L264.684 194.648L264.795 194.36L264.721 193.002L264.513 192.507L264.542 192.219L264.765 191.473L264.728 190.794L265.115 189.967L265.397 189.539L265.717 188.66L265.791 188.092L265.925 187.664L265.828 187.198L266.051 186.866L265.902 186.401L265.858 185.788L265.583 185.552L265.1 184.636L265.115 184.238L264.609 183.381L264.602 183.086L264.119 182.643L264.022 182.355L263.978 181.166L263.844 180.819L263.428 180.133L262.461 179.136V178.102V177.068V176.035V174.994V173.953V172.912V171.871V170.83H263.717H264.973H266.229H267.485H268.741H269.998H271.254H272.51H273.766H275.022H276.278H277.534H278.79H280.046H281.302L282.677 170.822L282.714 171.228L283.048 171.472L283.07 171.908L282.773 172.535V172.971L283.078 173.214L283.063 173.473L282.729 173.746L282.677 174.041L282.914 174.359L283.018 174.728L282.996 175.149L283.308 175.695L283.791 176.042L284.111 176.456L284.141 176.685L284.163 176.899L284.096 177.201L283.695 177.644L283.39 177.969L283.204 178.087L283.108 178.309L283.078 178.781L282.632 179.394L281.725 180.103L281.123 181.004L280.826 182.089L280.514 182.776L280.187 183.071L280.023 183.64V184.481L279.815 184.946L279.399 185.035L279.31 185.515L279.548 186.386L279.444 186.748L279.154 187.036L279.124 187.257L280.796 187.265H282.476H284.156H285.835H287.515H289.194H290.874H292.554L292.346 188.195L291.855 189.443L291.833 189.768L291.959 190.174V190.403L292.145 190.742L292.546 191.082L292.903 191.591L293.215 192.507L293.297 192.928L293.557 193.511L293.691 193.622L293.884 193.688L294.1 193.718ZM296.181 194.589L296.203 194.958L295.861 194.774L295.356 194.759L295.579 194.633L295.735 194.508L295.816 194.375L296.456 193.91L296.27 194.249L296.181 194.589ZM298.953 196.797L298.759 197.048L298.953 195.829L298.678 194.803L298.968 195.253L299.064 195.785L298.953 196.797ZM298.522 197.55L298.143 197.963L298.157 197.808L298.44 197.387L298.641 197.225L298.522 197.55ZM278.202 199.24L277.942 199.351L276.783 198.665L276.709 198.369L277.281 198.103L277.63 198.126L278.18 198.473L278.381 198.569L278.477 198.709L278.425 198.93L278.202 199.24Z",id:"LA"},{d:"M425.029 84.0024L424.866 84.4896L425.067 84.977L425.2 85.4716L425.52 85.959L425.795 86.0033L426.092 85.9147L426.308 85.9368L426.449 86.1435L426.389 86.3945L426.048 86.4536L425.416 86.8892L424.858 87.0591L424.583 87.5832L424.167 88.1887L423.357 89.1338L423.706 89.4217L424.955 89.7466L425.512 90.0862L426.36 91.8434L426.166 92.0206L426.092 92.3455L426.843 92.7958L427.081 94.051L427.697 94.4792L428.619 94.745L429.741 94.3685L430.678 93.8443L430.648 93.416L430.061 92.4193L429.92 91.9468L429.481 91.644L429.318 91.9025L429.035 91.5702L429.006 91.3783L429.266 91.2897L429.57 91.3266L429.927 91.5038L430.841 92.5965L431.094 94.0215L431.146 94.9296L431.042 95.2397L430.774 95.1733L430.262 95.2323L427.846 95.6975L427.311 96.111L426.085 96.5539L426.01 96.3324L426.1 95.8673L426.025 94.9222L425.78 94.8779L423.87 96.421L423.134 96.517L422.517 96.9674L422.376 96.7163L422.265 95.5646L422.651 94.5973L422.443 94.6121L422.057 94.9592L421.819 94.5457L421.559 94.3242L421.306 94.1101L421.313 93.763L421.328 93.2389L421.038 93.1355L421.009 92.4931L420.986 92.0723L420.459 92.0797L420.028 92.0871L419.336 92.1018L418.616 92.1092L418.088 92.1166L418.08 92.0132L417.241 91.9985L416.401 91.9837L415.561 91.9689L414.721 91.9542L413.881 91.9394L413.049 91.9246L412.209 91.9099L411.369 91.8951L411.332 92.1092L411.027 92.1388L411.02 91.8951L410.433 91.8729L409.846 91.8508L409.259 91.8286L408.672 91.8065L408.084 91.7843L407.497 91.7622L406.91 91.74L406.323 91.7179L406.137 91.489L406.36 90.7064L406.583 89.9238L406.806 89.1338L407.029 88.3437L407.252 87.5537L407.475 86.7637L407.698 85.9737L407.921 85.1837L408.605 85.2132L409.296 85.2428L409.987 85.2723L410.671 85.3018L411.362 85.3314L412.046 85.3535L412.737 85.383L413.428 85.4126L414.424 85.4421L415.42 85.4716L416.416 85.5012L417.412 85.5307L418.407 85.5602L419.403 85.5898L420.399 85.6193L421.395 85.6488L422.005 85.3904L422.725 84.6521L423.164 84.4896L423.877 84.0467L424.234 83.9507L425.029 84.0024ZM427.103 98.0158L425.178 98.4662L424.873 98.1783L425.356 98.0454L425.966 97.3513L426.367 97.2701L426.999 97.6614L427.103 98.0158ZM430.826 99.0347L430.284 99.1824L429.035 98.8427L430.061 98.5548L430.232 98.4514L430.366 98.0306L430.38 97.8165L430.767 98.7246L430.826 99.0347Z",id:"MA"},{d:"M390.203 113.085L390.27 114.51L390.337 115.928L390.404 117.345L390.471 118.763L390.538 120.173L390.604 121.583L390.671 122.986L390.738 124.389H390.753H390.768H390.783H390.798H390.813H390.827H390.842H390.857H391.563H393.116H394.67L395.42 124.381L395.413 124.64L395.324 125.024L395.16 125.179L395.168 124.788L395.056 124.655L394.87 124.824L394.751 125.016L394.699 125.777L394.573 126.153L394.112 126.264L393.644 127.261L393.213 127.822L393.057 128.176L392.403 128.265L391.348 128.405L391.073 128.804L390.545 128.634L389.735 128.656L389.891 128.117L390.129 127.645L389.705 127.172L389.452 127.113L389.192 126.921L389.497 126.53L389.646 126.117L389.556 125.607L389.683 125.223L389.475 125.282L389.133 125.688L388.925 125.851L388.798 125.489L388.65 125.57L388.553 125.814L388.338 125.947L387.884 125.607L387.215 125.223L386.844 124.559L386.636 124.042L386.851 123.112L387.312 122.949L387.907 123.104H388.687L388.575 122.897L388.293 122.934L387.468 122.174L387.201 121.716L386.74 121.591L386.532 122.034L386.301 122.152L386.584 121.185L386.955 121.148L387.505 120.882L387.342 120.321L386.992 120.077L386.361 120.387L386.368 119.996L386.487 119.494H386.963L387.379 119.656L387.736 118.844L387.751 118.482L387.163 119.014L387.03 117.869L387.609 116.769L388.159 116.289L388.85 116.304L389.549 116.223L389.111 116.024L388.657 115.913L388.999 115.477L389.289 115.396L389.571 115.012L388.888 115.071L388.969 114.348L388.635 114.495L388.241 114.562L388.085 114.872L388.115 115.381L387.996 115.714L387.684 115.979L387.163 116.186L387.111 115.824L386.94 115.662L386.874 116.437L386.74 116.703L386.361 115.979L386.249 116.127L386.264 116.334L386.167 116.688L385.84 116.873L385.863 117.33L385.736 117.581L384.689 117.183L384.666 117.316L385.261 118.172L385.692 118.46L385.744 118.925L385.372 119.309L384.859 118.977L384.77 118.999L385.045 119.568L385.224 120.062L385.045 120.483L385.075 120.993L385.038 121.458L384.926 121.864L385.172 123.732L385.469 124.234L385.766 124.721L385.922 125.171L385.61 125.238L385.112 124.869L384.674 124.588L384.153 123.68L384.064 123.318L383.938 123.03L383.997 123.687L384.183 124.426L385.818 126.065L386.123 126.692L386.353 127.187L386.294 127.66L385.87 127.327L385.506 126.899L384.532 126.419L383.306 126.117L382.615 124.994V125.467L382.459 125.866L382.035 125.378L381.768 124.965L381.679 124.514L381.151 124.544L380.593 124.935L380.058 124.839L379.999 124.071L380.14 123.665L380.742 122.698L381.307 122.203L381.56 121.568L381.478 120.579L381.552 121.317L382.169 120.594L381.768 120.025L381.396 119.494L380.839 120.099L380.363 119.87L379.59 119.117L378.334 118.586L378.156 118.32L378.178 118.024L378.349 117.618L377.963 117.22L377.019 116.828L376.617 116.496L376.528 116.422L376.491 116.016L376.365 115.758L376.157 115.647L376.119 115.47L376.246 115.226L376.119 114.968L375.733 114.687L375.599 114.444L375.718 114.229L375.525 114.133L375.019 114.148L374.522 113.949L374.031 113.528L373.444 113.454L372.433 113.875L371.861 113.978L371.608 114.215L371.482 114.621L371.237 114.828L370.679 114.835L370.59 114.82L369.958 114.687L369.512 114.436L369.431 114.333L369.483 114.119L369.401 114.023L369.267 114.008L369.141 114.133L369.007 114.517L367.914 115.566L367.387 115.359L367.186 115.366L365.663 116.843L365.202 117.079L364.302 117.744L364.317 116.6L364.332 115.455L364.355 114.303L364.369 113.152H365.982H367.595H369.208H370.82H372.433H374.046H375.659H377.271H378.884H380.512H382.124H383.737H385.35H386.963H388.575H390.203V113.085ZM394.112 128.044L393.927 128.066L394.112 127.756L394.729 126.279L395.004 125.77L394.737 126.803L394.268 127.756L394.112 128.044Z",id:"MD"},{d:"M437.292 40.6256L437.329 40.8398L437.649 41.2163L438.11 41.4747L438.459 41.5633L438.868 41.5559L439.99 41.0465L441.306 40.7142L442.026 40.4041L442.16 40.1162L442.487 40.0128L443.015 40.1014L443.988 40.825L445.118 41.9177L446.017 42.7816L446.047 44.273L446.062 45.853L446.084 47.5142L446.099 48.6955L446.121 50.3125L446.136 51.5972L446.159 53.2658L446.174 54.1592L446.3 54.4176L446.226 54.7646L446.196 54.9418L446.203 55.0821L446.255 55.2593L446.248 55.5029L446.136 55.7244L446.077 55.9828L446.062 56.4037L446.188 56.6621L446.396 56.8171H446.567L446.79 56.9722L447.08 57.238L447.519 57.4669L447.972 57.5481L448.284 57.489L448.663 57.6441L448.797 58.0132L448.723 58.3602L448.507 58.5227L448.277 58.6482L448.24 58.914L448.351 59.1946L448.515 59.4382L448.693 59.8664L448.619 60.2356L448.455 60.5457L448.381 60.8706L448.522 61.1511L448.894 61.5203L449.124 61.8747L449.488 62.074L449.659 61.9337L449.8 61.7492L449.949 61.6089L450.202 61.6901L450.499 61.7935L450.819 61.919L450.781 62.2217L450.975 62.7238L451.131 63.691L450.893 64.1266L450.945 64.7099L451.591 64.8797L451.748 65.0569L451.777 65.271L450.35 66.755L449.139 66.5483L448.485 66.9396L447.801 67.0577L447.496 67.7223L447.117 67.8625L446.605 67.8256L446.159 67.641L445.817 67.7296L445.341 68.9183L444.955 68.815L444.799 69.2432L444.598 69.4278L444.301 69.5902L444.041 69.0586L443.877 68.5565L443.632 68.4458L443.312 68.3203L442.978 68.3277L442.755 68.4015L442.48 68.7264L442.079 69.0069L441.774 68.7781L441.536 68.4015L441.335 68.9995L441.045 69.6345L441.097 70.3728L440.971 70.8085L440.689 70.6903L440.414 70.3064L439.633 69.9963L439.017 70.0258L439.143 69.6124L439.73 69.0217L439.552 68.9036L439.262 68.9848L439.135 68.9036L439.343 68.3646L439.366 67.7739L439.106 67.9806L438.779 68.6082L437.983 69.1029L438.021 69.9372L437.27 71.6354L437.233 72.3589L436.75 72.9348L436.125 73.4295L435.293 73.2892L434.661 73.7175L434.342 74.2121L434.059 74.286L433.911 73.6584L433.807 73.4664L433.576 74.3893L433.338 74.4484L433.249 73.7913L433.138 73.3557L432.811 73.7322L432.595 74.7216L432.372 74.6404L432.298 74.2712L432.134 74.1604L432.082 74.5813L432.164 75.1719L432.045 75.4894L431.822 75.3196L431.599 75.0391L431.228 75.2532L430.886 75.3418V75.0538L430.953 74.6995L430.276 74.8988L429.459 75.5559L428.827 76.464L429.043 76.6117L429.288 76.8997L428.188 78.2951L427.058 79.5502L426.204 81.588L425.862 81.8243L425.565 82.1934L425.007 81.3074L424.896 80.5913L424.264 79.7422L424.011 79.1589L423.929 78.5018L423.967 77.793L423.915 76.7299L423.863 75.6667L423.811 74.6035L423.759 73.5403L423.707 72.4697L423.654 71.3991L423.602 70.3285L423.55 69.258L423.498 68.18L423.446 67.102L423.394 66.0241L423.342 64.9387L423.29 63.8534L423.238 62.7681L423.186 61.6827L423.134 60.7081L423.305 60.5605L423.729 60.2799L424.004 60.3168L424.242 60.7377L424.442 61.0182L424.673 60.937L424.873 60.5457L424.866 59.9993L425.133 59.6154L425.453 59.5564L425.75 59.5711L425.899 59.3865L425.884 59.1207L425.78 58.6925L425.817 58.1757L426.56 57.2601L427.467 56.64L427.787 56.3298L427.876 55.6949L428.396 55.0378L428.656 54.6612L428.723 54.329L428.589 53.9229L428.604 53.1477L428.783 52.2247L428.998 51.2132L429.481 50.3051L430.269 49.3084L430.47 47.9941L430.685 46.6061L431.636 45.2476L432.714 43.7045L433.331 42.8259L434.438 41.2237L435.226 40.0793L435.62 39.5551L436.036 38.9275L436.713 39.1121L437.381 39.2967L437.285 40.2048L437.292 40.6256ZM443.357 70.0775L442.948 70.2695L442.502 70.1883L442.51 70.6977L442.458 70.8823L441.96 70.6165L441.781 70.4467L441.796 69.7674L442.235 69.1251L442.569 68.874L443 69.0512L443.327 69.7674L443.357 70.0775ZM440.302 71.3991L440.035 71.5911L439.752 71.532L439.745 71.0521L439.834 70.8897L439.931 70.8158L440.079 70.9487L440.302 71.3991Z",id:"ME"},{d:"M298.061 34.1357L298.024 34.3055L298.276 34.3572L298.232 34.4458L297.957 34.6009L297.176 34.9183L296.649 35.0217L296.381 34.911L296.351 34.6968L296.567 34.3867V34.2317H296.351L296.404 34.1062L296.723 33.8625L299.458 32.2973L300.625 31.7288L301.249 31.5442L301.353 31.6328L300.677 32.2234L300.565 32.4671L300.595 32.6295L300.372 32.9396L298.373 34.0323L298.061 34.1357ZM303.189 41.4821L303.063 41.8143L303.085 42.0137L302.238 42.8849L301.926 43.4386L301.665 43.5272L301.457 43.1507V42.848L301.665 42.6191L301.873 42.2942L301.903 41.8438L301.821 41.6814L301.561 42.0875L301.703 42.1761L301.747 42.2425L301.695 42.3902L300.722 42.1761L300.424 41.8586L300.469 41.423L300.796 40.8619L301.97 39.6732L302.49 39.3409L303.962 38.8167L304.772 38.6986H305.589L306.177 38.8684L306.541 39.2154L306.191 39.4443L304.579 39.6362L304.534 39.6953L304.839 39.8799L304.898 40.0128L304.616 40.3598L303.189 41.4821ZM330.219 48.6365L330.435 48.7694L330.583 48.9908L330.948 49.6111L331.126 50.0319L331.237 50.6521L331.312 50.8588L331.304 51.2206L331.059 51.4642L330.992 51.6562L331.141 51.8482L331.966 51.8999L332.345 52.0918L332.486 52.3059L332.389 52.5422L332.441 52.7932L332.642 53.059L333.303 53.4651L333.467 53.6571L333.422 53.8638L333.222 53.9967L332.872 54.0558L330.338 53.6719L329.595 53.6128L329.483 53.7531L329.409 53.7752L329.29 53.7383L329.075 53.7309L328.963 53.6423L328.874 53.3913L328.651 53.2289L328.302 53.155L327.997 53.347L327.648 54.1001L327.7 54.2404L327.64 54.7277L327.729 54.8606L327.722 54.9713L327.625 55.0599L327.417 55.0451L327.105 54.927L325.916 53.7826L325.017 53.2141L323.902 52.7932L323.018 52.5865L322.371 52.5939L321.836 52.8892L321.42 53.4651L320.766 53.79L319.881 53.8712L319.398 54.0262L319.324 54.2551L319.004 54.2625L318.439 54.041L317.86 53.9819L317.258 54.0779L316.819 54.3068L316.351 55.0156L316.262 55.3626L315.927 55.6653L315.036 56.1379L314.991 56.3151L314.523 56.854L314.374 57.1494V57.4373L314.218 57.4226L313.898 57.0977L313.884 56.6621L314.173 56.1083L314.434 55.8425L314.664 55.8573L314.805 55.6136L314.857 55.1116L314.775 54.8606L314.33 54.9565L314.099 55.1559L313.802 55.2002L313.445 55.082L313.133 55.3552L312.858 56.0197L312.531 56.4553L312.152 56.6621L311.899 56.4332L311.773 55.7761V55.2593L311.929 54.6317L311.847 54.5061L311.691 54.7055L311.453 55.2297L311.134 56.3667L310.926 56.7359L310.651 56.891L310.212 57.5776L309.61 58.7958L308.934 59.9772L308.183 61.1142L307.73 61.727L307.581 61.8156L307.514 62.0223L307.492 62.4949L307.158 62.362L306.875 61.978L306.704 61.5793L306.689 61.1732L307.098 60.1617L307.135 59.9993L307.091 59.9033L306.868 59.7926L306.362 59.9772L305.85 60.0141L305.686 59.9476L305.619 59.7704L305.627 59.4972L305.731 59.1724L306.035 58.5743V58.0058L306.177 57.681L306.043 57.0755L306.08 56.7876L305.864 56.4701L305.285 56.0566L303.932 55.5029L304.073 54.8827L304.014 54.6169L303.679 54.2182L302.26 53.7531L301.294 53.5389L300.335 53.5316L299.651 53.3618L298.878 53.3101L298.388 53.0295L297.897 52.7489L297.407 52.4684L296.916 52.1878L296.039 51.9442L295.162 51.7005L294.285 51.4569L293.408 51.2132L292.531 50.9696L291.654 50.7259L290.777 50.4823L289.9 50.2386L289.707 49.8178L289.514 49.3969L289.321 48.9761L289.128 48.5552L288.726 48.378L288.511 48.2821L288.355 48.0606L287.998 48.1566L287.857 47.7874L287.894 47.7062L288.355 47.6102L289.67 47.086L290.792 46.4436L291.721 45.6832L292.881 45.218L294.27 45.0482L295.259 44.7824L295.861 44.4132L296.664 43.697L297.117 43.4903L297.682 43.4239L298.105 43.1433L298.395 42.656L298.938 42.1023L299.733 41.4747L300.186 41.2236L300.298 41.3418L300.342 41.5633L300.313 41.8881L300.513 42.1466L300.944 42.3459L301.138 42.6117L301.101 42.944L301.219 43.2245L301.487 43.4534L301.561 43.9555L301.435 44.7307L301.42 45.2328L301.517 45.4616L301.613 45.5872L301.769 45.4616L301.963 45.1885L302.03 45.0187L302.082 44.8488L303.248 44.0662L303.479 44.0293L303.858 44.2286L305.619 44.5092L306.318 44.7086L307.054 45.1589L307.299 45.3287L308.198 46.7759L308.607 47.3444L308.86 47.4994L309.001 47.7209L309.12 48.2304L309.261 48.3854L310.569 48.4962L311.164 48.4002L311.528 48.1935L311.929 48.3264L312.367 48.7989L312.799 48.9318L313.23 48.7251L313.631 48.7324L314.01 48.9539L314.188 49.1164L314.3 49.109L315.043 48.3928L315.942 47.7578L317.139 47.0638L317.83 46.7537L318.023 46.8276L319.131 46.5987L320.127 46.5765L321.442 46.7168L322.661 46.5544L323.783 46.0892L324.779 45.8308L325.649 45.7717L325.976 45.9046L325.76 46.2147L325.649 46.7537L325.634 47.5142L325.559 47.9941L325.426 48.1935L325.411 48.3854L325.507 48.57L326.347 48.6881L326.786 48.9318L327.291 48.9392L327.863 48.7177L328.302 48.7989L328.606 49.1902L329.045 49.264L329.476 48.9835L329.781 48.7177L330.041 48.5995L330.219 48.6365ZM331.795 50.0688V50.2829L331.579 50.2313L331.401 50.0836L331.26 49.8399L331.081 49.2345L330.806 48.8063L331.215 48.319L331.46 48.2599L331.728 48.3707L331.765 48.6586L331.572 49.1164L331.579 49.5889L331.795 50.0688ZM331.884 51.2354L331.787 51.2944L331.438 50.9031L331.364 50.6595L331.416 50.4601L331.55 50.4527L331.773 50.6373L331.899 50.8514L331.929 51.0951L331.884 51.2354ZM336.202 53.5611L336.269 53.7826L336.098 54.1075L335.607 54.2773L334.612 54.2625L333.965 54.137L333.668 53.9007L333.601 53.7826L333.631 53.5242L333.772 53.5094L333.987 53.6497L334.307 53.5906L334.73 53.3248L334.953 53.1255L334.976 52.9926L334.842 52.7416L334.953 52.6382L335.481 52.7342L335.674 52.8966L336.031 53.4577L336.202 53.5611ZM328.829 55.4807L329.729 55.621L329.818 55.5472L330.071 55.813L330.108 56.0345L330.004 56.2191L329.848 56.3225L329.647 56.3372L329.327 56.1452L328.8 55.6432L328.829 55.4807ZM327.395 55.7613L327.893 55.9459L328.792 56.5587L329.64 56.9131L330.442 57.0165L331.029 57.2306L331.401 57.5628L331.668 57.932L331.832 58.3381L332.218 58.5669L332.82 58.6186L333.296 58.7885L333.645 59.0838L335.57 59.8443L336.373 60.243L336.819 60.6343L336.945 60.8853L336.908 61.1363L336.953 61.4021L337.28 61.919L337.406 61.9633L337.48 62.2143L337.51 62.6647L337.607 62.9674L337.77 63.1224L337.674 63.1815L337.079 62.9231L336.745 63.0043L336.588 63.3439L336.566 63.6614L336.678 63.9641L337.436 64.8649L337.636 65.6844L337.674 66.6738L337.577 67.0577L337.495 67.9068L337.436 69.221L337.421 69.6714L337.168 70.107L336.492 70.7346L336.484 70.6165L336.321 70.5869L336.143 70.6829L335.897 71.2219L335.689 72.2039L335.436 72.7355L335.139 72.8167L334.961 72.9569L334.901 73.1563L334.582 73.2892L333.995 73.3557L333.593 73.651L333.296 74.4853L333.311 74.884L333.17 75.3787L333.177 75.8069L333.333 76.1613L333.809 76.5157L334.597 76.8701L335.065 76.9218L335.392 76.7741L335.734 76.1908L336.061 75.9619L336.462 75.866L336.611 75.6002L337.272 74.441V74.1826L337.034 74.0866L337.072 74.0127L337.384 73.9684L337.651 73.8134L337.882 73.5476L338.283 73.3483L339.264 73.0455L339.792 72.6985L340.126 72.6395L340.609 72.824L341.241 73.2523L341.739 73.8725L342.11 74.6846L342.579 76.7889L343.143 80.1704L343.53 82.0531L343.738 82.4519L343.842 82.6512L343.344 85.2796L342.943 86.3576L342.244 86.9852L341.553 87.5906L340.691 88.6095L339.74 89.1115L339.257 89.4069L339.152 89.5989L339.034 89.5398L338.773 90.0935L338.543 90.854L338.454 91.4373L338.536 91.7622L338.335 91.9689L337.978 92.3528L337.911 92.4931L337.934 92.722L337.859 92.8327L337.688 92.8254L337.555 92.9361L337.235 93.3422L336.678 94.398L336.588 94.59L336.522 94.649L334.195 94.7376L331.869 94.8262L329.543 94.9148L327.217 95.0034V94.4644H325.099H322.98H320.862H318.744H316.626H314.508H312.776L313.23 94.206L313.973 93.6006L314.389 93.0616L314.79 92.3528L315.177 91.4742L315.965 90.1526L316.351 89.3552L316.723 88.3363L317.005 87.2731L317.191 86.1582L317.28 84.9991L317.273 83.7956L317.087 82.5848L316.723 81.3591L316.522 80.7315L316.448 80.5617L315.786 78.9891L315.036 76.7889L315.043 76.6043L315.742 75.2901L315.756 75.1129L315.682 74.0423L315.534 73.5033L315.177 72.7797L315.192 72.5952L315.92 71.6723L316.358 70.9709L316.752 70.1144L317.013 69.1177L317.131 67.9733V67.2128L317.005 66.8288L317.02 66.5335L317.176 66.3268L317.956 66.061L318.216 65.6106L318.276 64.8132L318.432 64.4145L318.692 64.4219L318.937 64.2595L319.16 63.9272L319.458 63.8312L319.829 63.9789L320.342 63.4842L321.004 62.3472L321.509 61.7122L321.866 61.5793L321.933 61.6827L321.71 62.0223L321.643 62.3989L321.732 62.805L321.658 63.1963L321.494 63.7352L321.598 63.9051L321.316 64.7689L321.301 65.1971L321.472 65.522L321.68 65.4113L321.918 64.8575L321.992 64.5622L321.895 64.5253L321.933 64.289L322.096 63.8534L322.245 63.6466L322.371 63.6688L322.408 63.9051L322.349 64.3555L321.97 65.426L321.895 65.7509L321.977 65.8395L322.43 65.175L322.809 64.1118L323.099 63.2923L323.151 62.8493L323.062 61.6975L323.077 61.2249L323.189 60.9001L323.582 60.5309L324.259 60.1174L324.928 59.896L325.589 59.8664L326.05 59.7557L326.31 59.5563L326.221 59.4013L325.775 59.2831L325.44 59.0247L325.21 58.626L325.136 58.1683L325.21 57.6514L325.492 57.142L325.983 56.6473L326.139 56.2782L325.961 56.0419L326.169 55.9607L326.771 56.0271L327.187 55.9607L327.425 55.7613H327.395ZM321.873 57.644L321.635 57.6957L321.449 57.5776L321.479 57.1124L321.724 56.3003L321.962 55.9311L322.282 56.0788L322.215 56.1748L322.282 57.0386L322.163 57.4226L321.873 57.644ZM318.9 62.5761L318.818 62.7164L318.625 62.7016L318.469 62.5687L318.321 62.1405L318.373 62.0445L318.752 62.1035L318.885 62.2881L318.9 62.5761Z",id:"MI"},{d:"M267.114 26.9518L267.954 26.8263L268.675 26.8632L269.395 26.9223L269.782 27.0109L270.897 27.4686L271.625 27.8452L272.673 28.5466L273.253 28.8567L273.528 29.5802L273.855 30.5105H274.315L274.665 29.9642L275.549 29.8682L276.716 30.2521L277.742 31.3375L279.221 32.3047L280.12 32.7846H281.034L282.201 32.3047L283.442 31.3818L284.334 31.2193L284.861 31.3079L285.159 32.0315L285.53 32.3047L286.489 32.2234L288.496 32.3637L290.094 32.1644L290.458 32.5778L290.785 33.2276L291.431 33.4343L292.308 33.2276L293.691 33.3679L293.497 33.4712L293.297 33.4491L293.029 33.6041L292.695 33.9364L291.929 34.4089L290.733 35.0291L289.35 35.5902L286.549 36.6091L284.802 37.6649L284.029 38.2999L281.027 41.4599L279.213 43.1359L276.278 45.4838L276.003 45.7791L275.98 46.0523L275.854 46.0449L275.371 46.6134L275.163 46.9752L274.687 47.0786V48.5331V49.9802V51.4273V52.8671L274.457 53.0147L274.167 53.3544L273.765 53.4356L271.878 54.6169L271.566 54.9565L271.224 55.7466L270.607 56.6325L270.451 57.1051L270.481 57.74L271.424 58.2495L271.774 58.7368L271.945 59.3348L271.922 59.8517L271.447 60.8632L271.365 61.2692L271.417 62.5022L271.179 62.8862L271.372 63.8829L271.387 64.2299L271.239 65.3227L271.135 65.6401L271.32 66.2086L271.343 66.2677L272.227 67.0503L272.97 67.486L273.639 67.6262L274.159 67.9585L274.538 68.4901L275.044 68.8371L275.683 68.9995L276.337 69.4425L277.333 70.5205L277.831 71.436L278.7 72.0857L280.112 72.7798L281.034 73.3926L281.472 73.9168L281.762 75.2532L281.993 78.0735L279.681 78.0809H277.407H275.133H272.859H270.585H268.31H266.036H263.762H261.488H259.214H256.939H254.665H252.391H250.117H247.843H245.568V75.9324V73.7765V71.6132V69.4425V67.2644V65.079V62.8788V60.6712L245.033 59.9403L243.866 59.3496L243.577 58.9952L243.034 58.1092L242.819 57.7327L242.781 57.4373L243.041 57.1051L244.097 56.1452L244.431 55.7023L244.595 55.274L244.84 54.2847L244.743 53.5242L244.81 52.3355L244.595 51.4421L244.55 50.9991L244.416 50.4454L243.621 48.9835L243.428 47.8022L243.227 47.2189L243.16 45.7127L243.183 45.2845L243.339 44.4649L243.004 43.9112L242.952 43.4534L242.796 39.8356L242.692 39.3188L242.722 37.6354L242.112 35.856L241.823 35.2506L241.674 34.5123L241.689 34.1579L241.191 32.9396L240.856 31.5885L240.886 30.4146L240.782 29.5286L240.819 28.8345L240.73 27.7935L240.834 27.2028L240.842 26.2799L240.158 22.9944H241.013H243.993H246.973H249.953H252.933L254.583 23.0091L254.613 20.772L254.635 19L256.144 19.2141L256.597 19.539L256.739 19.694L256.694 20.1813L256.82 21.658L257.095 22.891L257.727 24.3603V24.3677L257.779 24.9435L257.987 25.3053L258.366 25.6376L259.816 26.0436L262.328 26.5162L263.755 27.0552L264.089 27.668L264.758 27.9116L265.761 27.7935L266.467 27.5351L267.114 26.9518Z",id:"MN"},{d:"M280.662 107.142L280.254 108.537L280.246 109.696L280.484 111.099L280.774 112.147L281.101 112.841L282.283 114.163L284.319 116.097L285.59 117.928L286.11 119.664L286.712 120.358L287.403 120.018L288.273 120.173L289.209 120.461L289.7 120.801L289.811 120.919L289.863 121.044L289.826 121.17L289.692 121.502L288.533 124.367L288.132 125.674L288.191 126.161L288.659 126.87L289.536 127.792L290.302 128.391L290.963 128.671L291.989 129.417L293.386 130.613L294.085 131.514V132.112L294.226 132.725L294.516 133.352V133.943L294.226 134.511L294.337 135.272L294.85 136.232L295.281 136.815L295.638 137.014L295.72 137.007L295.742 136.926L295.697 136.793L295.675 136.675L295.705 136.512L295.779 136.446L295.839 136.431L296.173 136.667L296.664 137.191L296.886 137.885L296.842 138.757L296.649 139.584L296.322 140.359L295.95 140.625L295.787 140.58L295.43 140.44L295.289 140.484L294.962 140.684L294.597 141.437L294.583 141.459L294.449 141.533L294.352 141.459L294.337 141.415L294.27 141.193L294.114 140.964H293.995L293.899 140.979L293.862 141.09L293.824 141.326L293.847 141.429L293.966 142.072L293.862 142.53L293.52 142.714L293.468 142.973L293.661 143.268V143.401L293.587 143.504L293.349 143.541L293.17 143.607L293.029 143.844L293.312 144.294L293.252 144.833L292.866 145.468L292.814 145.719L291.535 145.734L290.383 145.756L289.232 145.771L288.08 145.793L288.63 144.877L288.979 144.553L289.239 144.206L289.707 143.881L290.22 143.187L290.279 142.862L290.227 142.544L289.923 142.109L289.618 141.429H287.663H285.716H283.769H281.822H279.875H277.92H275.973H274.026H272.078H270.131H268.184H266.229H264.282H262.335H260.388H258.441V140.359V139.273V138.196V137.11V135.981L258.433 134.851V133.714V132.577L258.426 131.44V130.303L258.418 129.158V128.014V126.87L258.411 125.718V124.573L258.403 123.414V122.262V121.103L258.396 119.944V118.785L258.411 118.445L257.326 117.825L256.835 117.242L256.59 116.489L256.1 115.743L255.364 115.005L255.245 114.207L255.735 113.366L256.152 112.93L256.479 112.915L256.516 112.553L256.256 111.83L255.877 111.564L255.379 111.749L254.955 111.734L253.342 110.567L253.231 110.486L252.733 109.711L252.525 108.788L252.123 108.183L251.521 107.902L251.142 107.297L250.979 106.351L250.592 105.399L250.414 105.118L252.161 105.111L253.929 105.096L255.691 105.082L257.46 105.067L259.221 105.052L260.99 105.045L262.751 105.03L264.52 105.015L266.281 105L268.043 104.986L269.812 104.978L271.573 104.963L273.342 104.949L275.103 104.934L276.872 104.927L278.633 104.912L278.983 105.576L279.362 105.768L279.436 105.982L279.934 106.322L280.046 106.662L280.662 107.142Z",id:"MO"},{d:"M303.531 154.239L304.148 154.793L304.125 154.993L304.118 155.125L304.073 155.524L303.902 157.082L303.731 158.633L303.56 160.183L303.39 161.726L303.219 163.269L303.048 164.805L302.877 166.341L302.706 167.869L302.535 169.397L302.364 170.926L302.193 172.447L302.022 173.968L301.851 175.481L301.68 176.995L301.509 178.501L301.338 180.007L301.413 181.535L301.487 183.064L301.561 184.585L301.636 186.106L301.71 187.619L301.784 189.133L301.859 190.639L301.948 192.293L299.904 192.418L299.012 192.012L298.64 191.931L298.417 191.938L297.377 192.315L296.188 192.603L295.905 192.514L295.504 192.5L294.642 193.482L294.099 193.725L293.929 193.659L293.735 193.592L293.602 193.482L293.341 192.898L293.26 192.477L292.948 191.562L292.591 191.052L292.189 190.713L292.004 190.373V190.144L291.877 189.738L291.9 189.413L292.39 188.166L292.598 187.235H290.919H289.239H287.559H285.88H284.2H282.52H280.841L279.169 187.228L279.198 187.006L279.488 186.718L279.592 186.357L279.354 185.485L279.444 185.006L279.86 184.917L280.068 184.452V183.61L280.231 183.042L280.558 182.746L280.87 182.06L281.168 180.974L281.77 180.074L282.676 179.365L283.122 178.752L283.152 178.279L283.249 178.058L283.435 177.94L283.739 177.615L284.141 177.172L284.207 176.869L284.185 176.655L284.155 176.426L283.836 176.013L283.353 175.666L283.041 175.119L283.063 174.699L282.959 174.329L282.721 174.012L282.773 173.717L283.108 173.443L283.122 173.185L282.818 172.941V172.506L283.115 171.878L283.093 171.442L282.758 171.199L282.721 170.793L282.699 170.586L283.018 169.124L282.944 168.932L282.624 168.489L282.587 167.95L282.781 167.293L282.684 166.784L282.416 166.599L282.349 166.392L282.268 166.09L282.558 165.809L282.572 165.551L282.312 165.314L282.476 164.982L283.063 164.554L283.226 164.31L283.397 164.052L283.501 163.439L283.42 163.07L283.278 162.826L283.345 162.701L283.464 162.59L284.163 162.368L284.364 162.213L284.408 162.021L284.185 161.549L284.401 161.047L285.047 160.515L285.389 160.05L285.426 159.644L285.738 159.349L286.318 159.164L286.675 158.411L286.816 157.089L286.987 156.528L287.284 156.447L287.44 156.262L287.492 155.879L287.857 155.487L288.525 155.089L288.793 154.697L288.711 154.49V154.225H290.495H292.353H294.211H296.069H297.927H299.785H301.643L303.531 154.239ZM300.84 193.533L300.751 193.622L300.134 193.452L299.755 193.297L299.688 193.142L300.729 193.422L300.84 193.533Z",id:"MS"},{d:"M192.727 54.2625L192.734 56.5735L192.749 58.8696L192.756 61.1659L192.771 63.4473V63.4768L192.764 63.5063V63.5359V63.5654H192.712H192.652H192.6H192.541H191.01H189.479H187.941H186.41H184.879H183.34H181.809H180.278H178.74H177.209H175.678H174.139H172.608H171.077H169.539H168.008H166.477H164.938H163.407H161.876H160.338H158.807H157.276H155.745H154.207H152.676H151.145H149.606H148.075H146.544H145.006H143.475V64.7984V66.024V67.2423L143.467 68.4679L143.007 68.2095L142.702 67.9142L142.449 67.5745L141.973 66.6295L141.706 66.2825L141.468 66.0757L141.223 66.061L140.926 66.1791L140.695 66.4006L140.621 66.7919L140.398 67.2497L140.413 67.6336L140.509 67.8256L140.48 67.9363L140.331 68.0175L139.216 67.8772L138.25 68.0692L137.589 67.9215L136.318 67.9954L135.218 67.8625L134.839 67.9289L134.593 68.1357L134.289 68.6525L134.207 68.7485L134.088 68.7632L132.297 68.4827L131.821 68.4753L131.323 68.8149L131.167 69.0512L131.13 69.3687L131.019 69.4573L130.863 69.4425L130.461 69.2358L130.045 68.8961L129.837 68.6451L129.792 68.0766L129.458 67.4342L129.398 66.851L129.183 66.3563L128.856 65.869L128.529 65.5441L128.202 65.4408L127.593 65.5072L127.466 65.4555L126.812 64.8058L126.611 64.5252L126.552 64.2668L126.775 63.6393L126.708 63.2922L126.545 62.864L126.314 62.5096L125.935 62.1995L125.593 61.5276L124.962 60.5826L124.791 59.8516L124.545 59.2388L124.478 58.6334L124.241 58.2642L124.263 57.7917L124.226 57.6588L124.151 57.5997L123.728 57.3339L123.245 56.8614L123 56.7507H122.895L122.836 56.8688L122.799 57.0903L122.026 57.8729L121.372 58.2421L121.052 58.6039L120.762 58.7811L120.606 58.8032L120.391 58.6851L119.707 58.1535L119.142 57.9098L119.083 57.7917L119.113 57.3413L119.373 56.8171L119.105 55.8647L119.187 55.5324L119.395 55.3035L120.004 54.9491L120.064 54.7793L119.93 53.8712L119.588 53.5316L119.492 53.3396L119.596 52.6013L119.447 52.114L119.715 51.7005L119.737 50.9917L119.952 50.2534L120.183 49.1606L120.131 48.6881L120.421 48.1787L120.517 47.6618L120.532 47.3001L120.487 47.0786L120.383 46.9974H120.175L119.217 47.1967L118.904 47.1672L118.629 47.0712L118.473 46.894L118.429 46.4805L118.213 46.2073L118.102 46.163L117.663 46.3255L117.567 46.3181L117.522 46.2442L117.344 45.8899L116.638 45.2032L116.296 44.4132L115.612 43.7192L114.958 42.7667L113.702 41.2753L113.397 40.9726L112.446 40.4558L111.695 39.7027L110.93 39.1637L110.856 39.0751L110.848 39.016L110.893 38.9717L111.108 38.8241L111.16 38.5509L110.87 37.9824L111.012 37.4286L110.818 36.6608L110.714 36.4024L110.172 35.6862L109.815 34.9995L109.258 34.3646L108.507 33.3235V30.7542V28.1774V25.5859V22.9869H109.8H112.78H115.768H118.748H121.729H122.405H124.716H127.697H130.677H133.664H136.645H139.632H142.613H145.593H148.581H150.832H151.561H154.548H157.529H160.509H163.497H166.477H169.457H172.445H175.425H178.405H181.393H184.373H187.361H190.341H192.563L192.578 24.9878L192.593 26.9887L192.6 28.9822L192.608 30.9756L192.615 32.9544L192.63 34.9257L192.638 36.8897L192.645 38.8462L192.66 40.8028L192.667 42.7446L192.675 44.679L192.69 46.6134L192.697 48.5331L192.704 50.4527L192.719 52.3576L192.727 54.2625Z",id:"MT"},{d:"M388.932 140.994L388.746 141.666L388.843 142.05L389.215 142.448L389.623 143.438L389.95 144.767L389.512 144.228L389.044 143.94L388.315 143.718L387.661 143.334L387.706 143.888L387.646 144.486L387.148 144.302L386.807 144.102L387.111 144.737L386.457 144.545L386.019 144.582L385.736 145.143L385.357 145.483L384.792 145.594L383.953 145.077L383.685 144.457L383.574 143.763L383.529 144.582L383.678 145.439L383.626 146.088L384.428 146.206L385.179 146.103L386.197 146.133L386.859 146.007L387.26 145.8L388.219 145.978L388.286 146.76L388.174 147.535L388.122 148.362L388.39 148.355L388.702 148.089L388.858 146.605L389.735 146.059L390.025 146.096L390.307 146.576L390.404 147.063L390.5 147.727L390.292 148.739L388.947 149.92L387.988 151.006L387.498 151.227L386.792 151.102L385.989 150.828L385.595 150.777L385.298 150.865L385.112 150.533L384.993 149.92L384.681 149.713L384.443 149.736L384.28 150.385L383.529 150.57L382.511 150.304L381.441 149.758L381.901 150.341L384.555 151.434L384.852 151.641L385.134 151.936L384.763 152.401L384.473 152.925L384.428 153.339L384.324 153.597L383.269 154.299L382.697 154.173L381.233 152.91L381.901 154.003L382.437 154.468L383.514 154.712L385.528 154.306L386.19 154.749L385.647 155.539L385.105 156.093L384.399 156.152L383.774 156.299L383.589 156.676L383.143 156.698L382.451 156.72L381.374 156.757L380.787 156.669L379.962 157.444L379.649 157.547L379.218 157.399L379.033 156.779L378.839 156.469L378.832 157.636L378.906 157.946L379.062 158.182L378.096 158.817L377.175 159.607L376.84 159.821L376.461 160.212L375.688 161.35L375.495 162.176L375.22 163.099L375.183 162.686L375.227 161.984L375.034 161.187L374.915 162.656L374.618 163.336L371.868 163.291L370.761 163.631L369.75 162.619L368.806 161.667L367.862 160.715L366.918 159.762L365.975 158.802L365.031 157.842L364.087 156.883L363.143 155.923L362.155 155.886L361.166 155.856L360.178 155.819L359.189 155.79L358.201 155.753L357.212 155.723L356.224 155.687L355.235 155.657L355.198 154.993L355.168 154.52L354.552 153.715L354.187 153.243L353.407 153.649L353.362 153.449L353.392 153.095L353.325 152.969L353.11 152.881L352.002 152.829L350.895 152.778L349.788 152.726L348.68 152.674L347.573 152.623L346.466 152.571L345.358 152.519L344.251 152.467L343.998 152.386L343.5 152.667L342.185 153.088L341.538 153.457L341.3 153.435L340.185 153.796L339.071 154.158H338.944L336.826 154.188L334.708 154.217L332.59 154.247L330.472 154.276L330.732 152.475L330.91 152.061L331.111 151.965L331.839 151.958L332.3 151.751L332.709 150.666L333.638 149.809L334.054 149.595L334.678 149.426L336.157 149.219L337.748 148.385L338.892 147.594L339.799 147.373L340.081 147.085L340.29 146.708L340.416 146.192L340.512 146.081L341.04 146.118L341.441 145.667L341.828 145.409L342.214 145.261L342.452 145.254L342.541 145.387L342.608 145.771L342.69 145.896L342.854 145.904L343.077 145.815L343.374 145.571L344.147 144.804L344.66 144.508L345.447 144.338L346.02 144.745L346.361 144.604L347.365 143.032L347.766 142.744L348.063 142.633L348.584 142.611L348.591 142.175L348.769 141.518L348.792 141.068L349.111 140.411L349.23 140.543L351.765 140.566L354.299 140.588L356.833 140.61L359.368 140.632L361.902 140.654L364.436 140.676L366.97 140.698L369.505 140.721L372.039 140.743L374.573 140.765L377.108 140.787L379.642 140.809L382.176 140.831L384.711 140.854L387.245 140.876L388.932 140.994ZM389.475 141.009H389.698L390.396 143.77L391.793 146.768L391.964 147.284L391.637 146.834L390.604 144.855L390.025 143.408L389.475 141.009ZM391.243 146.96L391.139 147.137L390.671 146.192L391.147 146.494L391.229 146.745L391.243 146.96ZM391.883 152.202L390.946 152.431L390.864 152.357L391.942 151.877L392.284 150.171L392.329 149.381L392.165 147.993L392.172 147.705L392.351 148.156L392.507 149.455L392.447 150.437L392.135 151.862L391.883 152.202ZM390.218 152.623L388.947 153.228L388.806 153.191L389.638 152.755L390.218 152.623ZM385.171 157.237L385.001 157.333L385.64 156.285L386.903 154.948L387.245 154.741L386.19 155.879L385.171 157.237ZM384.874 157.141L384.718 157.163L384.443 157.067L384.064 156.89L383.982 156.757L384.347 156.801L384.874 157.141Z",id:"NC"},{d:"M244.877 54.2625H243.25H241.622H239.987H238.359H236.732H235.104H233.469H231.841H230.214H228.579H226.951H225.324H223.696H222.061H220.433H218.806H217.171H215.543H213.915H212.28H210.653H209.025H207.398H205.763H204.135H202.507H200.872H199.245H197.617H195.982H194.354H192.727L192.719 52.3576L192.704 50.4527L192.697 48.5331L192.69 46.6134L192.675 44.679L192.667 42.7446L192.66 40.8028L192.645 38.8462L192.638 36.8897L192.63 34.9257L192.615 32.9544L192.608 30.9756L192.6 28.9822L192.593 26.9887L192.578 24.9878L192.563 22.9869H193.321H196.309H199.289H202.269H205.257H208.237H211.225H214.205H217.186H220.173H223.153H226.141H229.121H232.102H235.089H238.07H240.195L240.879 26.2725L240.871 27.1954L240.767 27.7861L240.857 28.8197L240.819 29.5138L240.923 30.3998L240.894 31.5737L241.228 32.9248L241.726 34.1431L241.711 34.4975L241.86 35.2284L242.15 35.8339L242.767 37.6206L242.737 39.304L242.841 39.8208L242.997 43.4386L243.049 43.889L243.383 44.4427L243.227 45.2623L243.205 45.6831L243.272 47.1893L243.465 47.7726L243.658 48.9613L244.454 50.4232L244.587 50.9769L244.632 51.4199L244.848 52.3133L244.781 53.502L244.877 54.2625Z",id:"ND"},{d:"M245.405 87.4503L245.62 87.4946L246.089 88.3215L246.282 89.7982L246.705 90.9943L247.367 91.895L247.694 92.5522V92.973L247.857 93.416L248.17 93.8959L248.289 94.7007L248.229 95.8451L248.363 96.4505L248.69 96.5244L248.839 96.6794L248.794 96.9304L248.898 97.115L249.165 97.2331L249.24 97.558L249.121 98.097L249.218 98.4292L249.53 98.5695L249.589 98.8353L249.396 99.2192L249.426 99.5294L249.678 99.7509L249.849 100.74L249.931 102.49L249.901 103.509L249.76 103.812L249.99 104.439L250.414 105.118L250.592 105.399L250.979 106.352L251.142 107.297L251.521 107.902L252.123 108.183L252.525 108.788L252.733 109.711L253.231 110.486L253.342 110.567H252.079H250.615H249.151H247.687H246.215H244.751H243.287H241.815H240.351H238.887H237.415H235.951H234.487H233.016H231.552H230.087H228.623H227.152H225.688H224.224H222.752H221.288H219.824H218.352H216.888H215.424H213.953H212.488H211.024H209.56H208.089H206.625V109.438V108.308V107.171V106.034V104.897V103.76V102.616L206.617 101.471H204.871H203.132H201.385H199.638H197.892H196.145H194.399H192.652L192.645 99.1676L192.637 96.864L192.63 94.5457V92.2199L192.623 89.8868L192.615 87.5389L192.608 85.191L192.6 82.8284H195.023H197.446H199.869H202.284H204.707H207.13H209.553H211.976H214.391H216.814H219.237H221.66H224.082H226.505H228.921H231.693L233.781 84.2386L235.022 84.6742L235.617 84.2607L236.895 84.0245L238.865 83.9654L240.106 84.1574L240.626 84.6004L241.637 85.1024L243.146 85.6562L244.045 86.2616L244.342 86.9113L244.87 87.3174L245.405 87.4503Z",id:"NE"},{d:"M425.542 82.1713L425.23 83.3969L425.03 84.0024L424.212 83.9581L423.855 84.054L423.142 84.4896L422.703 84.6521L421.982 85.3904L421.373 85.6488L420.377 85.6119L419.381 85.5824L418.385 85.5528L417.389 85.5159L416.401 85.4864L415.405 85.4495L414.409 85.4199L413.413 85.383L413.294 85.0508L412.908 84.4453L412.811 84.1943L412.834 83.9138L413.049 83.1533L413.205 82.917L413.369 82.474L413.614 80.7094L413.83 79.6832L413.986 77.8078L414.142 77.254L414.32 76.9144L414.602 76.0284L415.123 75.2975L415.465 74.4041L415.873 73.6215L415.94 73.1637L416.245 72.167L416.46 70.3876L416.669 70.107L417.605 69.8634L417.902 69.6788L418.898 68.9405L419.21 68.6304L419.411 68.3203L419.567 67.8182L419.678 67.6853L419.701 67.4121L419.351 66.2382L419.337 65.81L420.11 64.4736L419.946 63.6984L420.058 63.5064L420.741 61.6089L421.388 60.7303L422.265 61.0256L422.733 60.9961L423.082 60.6934L423.134 61.668L423.186 62.7533L423.246 63.8386L423.298 64.924L423.35 66.0093L423.402 67.0873L423.454 68.1652L423.513 69.2432L423.565 70.3138L423.617 71.3843L423.669 72.4549L423.721 73.5255L423.781 74.5887L423.833 75.6519L423.885 76.7151L423.937 77.7783L423.9 78.4797L423.989 79.1368L424.242 79.7201L424.873 80.5691L424.985 81.2853L425.542 82.1713Z",id:"NH"},{d:"M403.321 101.545L403.202 102.261L402.51 103.708L402.221 104.041L401.879 104.336L401.619 104.461L401.381 104.69L401.106 105.052L400.846 105.776L401.002 106.433L402.34 106.676L402.696 106.47L402.882 106.942L402.986 107.599L402.882 108.308L402.659 109.024L402.488 109.918L402.347 111.269L402.131 112.487L402.102 112.118L402.236 110.641L402.02 110.796L401.871 111.136L401.463 113.041L400.898 114.052L400.378 114.754L399.842 114.636L399.961 115.189L399.813 115.477L399.686 116.083L399.367 116.481L399.069 116.444L398.638 116.718L398.467 116.932L398.453 117.33L398.163 117.685L397.122 119.523L396.223 120.062L396.007 119.981L396.245 119.117L396.409 118.239L395.859 117.855L395.331 117.655L394.729 117.685L394.068 117.006L393.213 116.511L392.016 115.167L392.054 114.791L392.024 114.163L392.388 113.166L392.737 112.472L393.22 112.11L394.618 111.741L394.967 111.188L395.175 110.722L395.532 110.412L396.334 109.851L397.553 109.172L395.866 106.89L395.465 106.758L395.019 105.643L394.506 105.333L394.38 105.155L394.358 104.299L394.402 103.804L394.476 103.516L394.915 103.273L395.168 102.778L395.175 102.52L394.841 101.722V101.471L395.48 100.984L396.312 100.031L396.81 98.9904L397.011 98.6877L397.256 98.4735L397.806 98.1782L398.497 98.5991L399.188 99.0199L399.88 99.4407L400.571 99.8616L401.262 100.282L401.953 100.703L402.644 101.124L403.321 101.545ZM401.752 113.462L400.935 114.82L400.92 114.562L401.946 112.871L401.752 113.462Z",id:"NJ"},{d:"M199.795 141.429L199.505 141.437L199.497 143.851L199.482 146.258L199.475 148.658L199.46 151.042L199.453 153.427L199.445 155.797L199.43 158.167L199.423 160.523L199.416 162.87L199.401 165.211L199.393 167.544L199.378 169.87L199.371 172.188L199.364 174.499L199.349 176.803L199.341 179.099H197.766H196.197H194.622L193.046 179.106H191.478H189.903H188.334H186.759H185.183H183.615H182.039H180.471L178.896 179.114H177.32H175.752H174.176H174.139L174.853 180.59H174.845L175.692 181.011L175.64 180.996L174.102 180.982L172.564 180.974L171.025 180.967L169.487 180.96L167.948 180.945L166.41 180.937L164.871 180.93L163.333 180.923V181.838L163.326 182.746V183.662L163.318 184.57L160.843 184.577L158.376 184.585H157.491V181.705V178.818V175.917V173.008V170.084V167.153V164.207V161.246V158.278V155.295V152.298V149.285V146.266V143.231L157.499 140.182V137.11H160.137H162.783H165.429H168.067H170.713H173.359H176.005H178.643H181.289H183.935H186.573H189.219H191.865H194.503H197.149H199.795V138.196V139.274V140.351V141.429Z",id:"NM"},{d:"M122.561 137.088L122.554 140.47L122.539 144.176L122.405 144.228L122.004 145.077L121.558 145.468L121.216 145.461L120.874 145.217L120.525 144.737L119.997 144.457L119.306 144.39L118.696 144.464L118.161 144.686L117.834 145.003L117.656 145.616L117.715 145.867L118.035 146.435L118.057 147.321L118.102 148.037L118.295 148.429L118.325 148.887L118.206 149.61L118.302 150.201L118.704 151.242L118.57 154.247V154.306L116.667 152.512L114.891 150.836L113.115 149.152L111.339 147.462L109.562 145.771L107.786 144.073L106.01 142.367L104.234 140.662L102.955 139.473L101.67 138.284L100.384 137.095L99.1055 135.899L97.8198 134.703L96.5414 133.5L95.2557 132.296L93.97 131.093L92.3349 129.661L90.6924 128.228L89.0574 126.788L87.4224 125.349L85.7799 123.902L84.1448 122.454L82.5023 121.007L80.8673 119.553V117.877L80.8599 116.201V114.517V112.834V111.143V109.445V107.747V106.041V104.329V102.616V100.895V99.175V97.4473V95.7122V93.9698V92.2274H83.4685H86.0772H88.6858H91.2944H93.9105H96.5191H99.1278H101.736H104.338H106.939L109.54 92.22H112.141H114.742H117.344H119.945H122.546V93.6745V95.1216V96.5687V98.0084V99.4482V100.888V102.32V103.745V105.17V106.595V108.013V109.43L122.554 110.841V112.251V113.661V115.056V116.459V117.855V119.25V120.638V122.026V123.407V124.788V126.168V127.542V128.915L122.561 130.281V131.647V133.013V134.371V135.73V137.088Z",id:"NV"},{d:"M407.914 85.1763L407.691 85.9663L407.468 86.7563L407.245 87.5463L407.022 88.3363L406.799 89.1264L406.576 89.9164L406.353 90.699L406.13 91.4816L406.316 91.7105L406.256 92.5965L406.197 93.4825L406.137 94.3685L406.078 95.2471L406.018 96.1257L405.959 97.0043L405.899 97.8829L405.84 98.7615L406.056 99.1159L406.271 99.4703L406.011 99.6327L405.602 99.8912L405.171 100.164L404.606 100.519L404.889 100.977L405.253 101.552L404.963 101.789L404.212 102.586L403.707 103.014L403.291 103.155L403.038 103.516L402.756 103.753L403.023 102.955L403.313 102.283L403.558 100.977L403.484 99.9133L403.179 99.4777L402.867 99.1824L403.231 100.231L403.291 101.515L403.283 101.552L402.615 101.139L401.923 100.718L401.232 100.297L400.541 99.8764L399.85 99.4556L399.159 99.0347L398.467 98.6139L397.776 98.193L397.628 97.846L397.375 97.5802L396.126 97.1151L395.807 96.805L395.517 96.3841L395.316 95.8673L395.212 95.3283L395.205 94.9001L395.294 94.4202L395.004 94.1027L394.997 93.8L394.811 93.6006L393.993 93.2389L393.748 92.7294L393.206 92.2495H392.239H391.273H390.307H389.341H388.375H387.409H386.442H385.476H384.51H383.544H382.578H381.612H380.645H379.679H378.713H377.747H376.781H375.815H374.848H373.882H372.916H371.95H370.984H370.018H369.052H368.085H367.119H366.153H365.187H364.221H363.254H362.288V90.9943V89.7392V89.6875L362.697 89.4586L364.042 88.6095L364.711 87.9894L365.417 87.4725L366.16 87.0664L366.748 86.5422L367.186 85.8999L367.669 85.4199L368.197 85.1025L368.479 84.7702L368.516 84.4232L368.42 83.9507L368.189 83.36L368.16 82.8949L368.331 82.5552L368.368 82.3264L368.271 82.2082L367.164 81.8686L367.208 80.2369L367.193 80.1926L367.253 80.1705L369.795 79.4469L371.415 79.1959L373.392 79.1294L375.748 79.4838L376.662 79.8087L377.242 80.2221L377.91 80.3329L378.668 80.1409L379.716 80.0745L381.062 80.1409L381.783 80.2369L381.879 80.3698L381.968 80.3329L382.058 80.1262L382.414 79.8973L383.418 79.5502L383.551 79.6241L383.759 79.4469L384.042 79.0261L384.555 78.5609L385.305 78.0515L385.982 77.7857L386.584 77.7635L386.985 77.638L387.186 77.4091L387.245 77.2024L387.163 77.0252L387.2 76.8332L387.23 76.7372L387.2 76.656L387.126 76.4936L387.067 75.6519L386.948 75.2606L386.784 74.9726L386.68 74.7438L386.703 74.5444L387.067 74.3007L387.037 74.5296L387.134 74.5961L387.305 74.4927L387.691 73.9907L387.736 73.7987L388.003 73.5993L388.196 73.2966L387.981 73.2523L387.468 73.3409L387.349 73.2523L387.617 72.8463L387.565 72.6174L387.483 72.5214L387.312 72.4845L386.732 72.8389L386.554 72.8684L386.532 72.6838L386.234 72.263L387.037 71.5173L389.876 69.4426L390.166 69.1251L390.27 68.8445L390.196 68.6009L390.114 68.5418L390.158 68.4827L392.893 65.8026L394.447 64.5622L395.732 63.8682L396.706 63.5359L397.367 63.5802L397.739 63.5359H398.059H399.686L402.6 63.5285L405.513 63.5212H407.237L407.289 64.1709L407.141 64.9388L407.26 65.7731L407.096 67.5081L407.535 68.8445L407.43 69.7379L407.46 70.6977L407.386 70.934L407.044 71.4877L406.843 72.0267L406.732 72.5731L406.739 72.9275L407.037 74.4927L407.096 75.1794L407.089 75.5781L406.828 76.8628L406.814 77.2245L406.888 77.3279H406.985L407.282 76.9292L407.416 76.8701L407.587 76.9661L408.003 77.5715L407.98 78.6569L407.966 79.4395L407.951 80.3107L407.921 81.6176L407.899 82.57L407.884 83.4412L407.869 84.1057L407.772 84.593L407.914 85.1763ZM387.914 70.6165L387.691 70.6977L387.639 70.587L387.676 70.4762L387.862 70.3433H388.167L388.129 70.4467L387.914 70.6165ZM386.866 73.3852L386.762 73.4147L386.769 73.208L386.873 73.0751L387.082 73.0161L387.074 73.1194L386.866 73.3852ZM368.197 82.6217L367.981 82.9466L367.773 82.9171L367.625 82.8137L367.572 82.6069L367.61 82.3485L367.795 82.2378L368.293 82.3337L368.308 82.4371L368.197 82.6217ZM413.116 101.604L412.618 102.195L413.064 102.254L413.45 102.077L413.815 101.722L414.662 101.242L415.39 101.036L415.621 100.991L415.962 101.324L416.646 101.058L417.352 100.91L414.305 102.438L413.681 102.608L412.789 103.059L411.949 103.383L411.34 103.502L408.322 104.631L408.084 104.653L407.824 104.543L405.335 105.126L404.316 105.192L403.387 105.392L404.071 104.927L404.086 104.749L403.923 104.609L403.558 104.646L403.179 105.126L402.577 105.288L402.458 104.764L402.659 104.358L402.934 103.974L403.529 103.369L404.383 102.985L404.814 102.653L405.112 102.948L405.179 102.549L405.409 102.32L405.662 102.195H406.264L406.591 102.136L406.828 102.003L407.074 101.981L407.735 102.158L408.382 102.106L408.902 101.855L409.445 101.774L410.879 101.715L412.306 101.53L412.878 101.205L414.075 100.297L414.766 100.046L413.696 101.095L413.116 101.604ZM401.373 105.835L401.039 105.872L401.373 105L401.99 104.602L402.213 104.683L402.221 104.993L402.131 105.259L401.723 105.665L401.373 105.835Z",id:"NY"},{d:"M357.078 104.705L356.254 105.104L356.097 105.473L356.35 105.938L356.484 106.543L356.499 107.282L356.038 108.906L355.087 111.402L354.611 112.967L354.596 113.609L353.972 114.444L352.738 115.477L351.876 116.097L351.386 116.312L350.969 116.297L350.642 116.046L350.271 116.216L349.855 116.806L349.476 117.109L349.119 117.124L348.814 117.508L348.561 118.246L348.324 118.674L348.101 118.785L348.086 119.161L348.272 119.796L348.257 120.025L348.153 120.033L348.056 119.996L347.811 120.136L347.543 120.49L347.439 120.498L347.365 120.439L347.29 119.974L347.068 119.649L346.711 119.457L346.213 119.885L345.574 120.933L345.299 121.613L345.403 122.085L345.462 122.772L345.299 123.052L344.957 123.156L344.682 123.532L344.496 124.167L344.013 124.573L343.24 124.743L342.43 124.448L342.371 124.426L341.412 123.628L340.81 122.861L340.557 122.13L339.725 122.093L338.298 122.765L337.228 122.861L336.499 122.403L335.957 122.218L335.414 122.373L334.894 122.669L334.463 122.491L333.928 121.945L333.088 121.561L331.936 121.347L331.133 120.749L330.695 119.782L330.219 119.11L329.721 118.741L329.164 118.637L328.569 118.785L328.108 118.711L327.781 118.401L327.365 118.438L326.979 118.733L326.986 115.765L327.016 112.841L327.038 109.91L327.061 106.957L327.083 103.989L327.105 101.013L327.135 98.0158L327.157 95.0034L329.483 94.9148L331.817 94.8336L334.143 94.7376L336.477 94.6564L336.544 94.5973L336.529 94.6269L336.626 94.7893L337.257 94.8927L337.688 95.0846L338.023 95.3726L339.242 95.9411L339.613 96.2881L339.977 96.4801L340.349 96.517L340.594 96.4062L340.735 96.1552L340.906 96.133L341.114 96.3545L341.798 96.5982L341.821 96.672L339.925 97.0929L339.531 97.2922L340.007 97.4251L340.483 97.3956L340.966 97.1962L341.523 97.2036L342.006 97.2996L342.162 97.2184L342.222 97.1741L343.047 97.7279L343.359 97.8165L343.679 97.75L344.013 97.5433L344.741 97.2701L345.871 96.9378L346.956 96.7976L347.997 96.864L348.658 96.768L349.26 96.421L350.59 95.284L352.114 94.3684L354.633 93.224L357.071 92.3307V93.1059V94.0805V95.0551V96.0223V96.9969V97.9641V98.9313V99.8985V100.858V101.818V102.785V103.738L357.078 104.705Z",id:"OH"},{d:"M258.441 141.429L258.597 142.633L258.753 143.822L258.909 145.018L259.065 146.206L259.221 147.395L259.377 148.584L259.533 149.765L259.689 150.954L259.674 151.869L259.652 152.792L259.637 153.715L259.615 154.631L259.593 155.546L259.578 156.462L259.555 157.377L259.533 158.293L259.518 159.201L259.496 160.117L259.474 161.025L259.459 161.933L259.437 162.841L259.414 163.742L259.399 164.65L259.377 165.551L257.802 165.13L257.408 164.864L256.679 164.554L256.033 163.934L254.747 163.151L254.256 162.966L254.1 162.989L253.84 163.373L253.149 163.675L252.777 163.683L252.109 163.572L251.975 163.476L251.878 163.24L251.611 163.085L251.41 163.21L250.429 163.528L250.288 163.756L249.73 163.764L249.18 163.601L247.798 164.111L247.322 164.51L246.824 164.642L246.572 165.034L246.416 164.975L245.895 164.495L245.368 164.355L244.632 163.882L244.61 163.461L244.528 163.409L244.402 163.365L244.238 163.402L243.918 163.764L243.733 163.852L243.554 163.838L242.841 163.601L242.544 163.173L242.402 163.04L242.239 163.011L241.934 163.144L241.763 163.609L241.622 163.742L241.332 163.816L241.347 164.052L241.087 164.702L240.946 164.834L240.76 164.812L240.574 164.65L240.433 164.421L240.373 164.222L240.477 163.712L240.411 163.535L240.269 163.483L239.927 163.727L239.623 163.712L239.229 163.956L238.991 164.03L238.768 163.971L238.404 163.579L237.78 163.328L237.534 162.863L237.423 162.73L237.289 162.693L237.155 162.708L236.932 162.856L236.211 163.469L235.884 163.66L235.602 163.697L235.327 163.638L235.156 163.483L235.126 162.863L234.963 162.679L234.294 162.287L234.153 161.925L234.093 161.416L233.283 161.497L232.287 161.446L231.841 161.888L231.604 161.97L231.329 161.881L230.526 161.276L229.671 161.401L229.188 161.335L227.999 160.884L227.07 160.84L226.684 160.759L226.476 160.655L226.386 159.961L226.015 159.378L225.896 159.216L225.264 158.81L225.16 158.795L225.093 158.883L224.952 159.349L224.759 159.371L224.03 159.238L223.362 159.378L222.99 159.149L221.719 158.079L221.206 157.798L220.79 157.71V156.705V155.701V154.69V153.678L220.783 152.667V151.655V150.636V149.617V148.606V147.58L220.775 146.561V145.542V144.516V143.489V142.463L220.768 141.429H219.46H218.152H216.836H215.528H214.22H212.905H211.597H210.281H208.973H207.665H206.35H205.042H203.726H202.418H201.11H199.795V140.351V139.274V138.196V137.11H201.519H203.25H204.975H206.706H208.319H209.939H211.559H213.172H214.792H216.405H218.025H219.638H221.258H222.871H224.491H226.104H227.724H229.337H230.957H232.577H234.19H235.81H237.423H239.043H240.656H242.276H243.889H245.509H247.122H248.742H250.355H251.975H253.588H255.208H256.821H258.441V138.196V139.274V140.359V141.429Z",id:"OK"},{d:"M58.3334 52.1583L59.032 51.9073L59.582 52.0993L60.2806 52.5496L60.9718 53.9155L61.6481 56.1822L61.7967 56.9353L62.3244 57.4004L62.9487 57.4226L65.4533 57.7548L65.8249 57.7327L66.2783 57.6441L67.6978 56.7803L69.2362 56.4997L71.0571 56.5587L72.1719 56.8098L72.5806 57.238L73.5542 57.2823L75.8582 56.7803L78.4073 56.4258L79.7748 56.0641L81.3281 55.311L84.8583 54.3511L86.6197 54.2404L87.5116 53.8786L87.7196 53.6941L87.846 53.6867H89.704H91.5546L93.4126 53.6793H95.2706H97.1286L98.9866 53.6719H100.845H102.576L102.769 54.1075L103.498 54.964L104.531 55.6949L105.207 56.4628L105.512 57.2602L105.007 59.0838L103.691 61.919L102.978 63.7205L102.859 64.5031L102.212 65.8248L101.023 67.6927L100.443 69.0734L100.473 69.9668L100.874 70.491L101.647 70.6313L102.182 70.9266L102.465 71.3622L102.472 71.7757L102.205 72.1448L102.13 72.5288L102.242 72.9275L102.153 73.6363L101.707 75.0834L101.714 75.1351V77.4829L101.722 79.6093V81.7357V83.8473L101.729 85.9516V88.0484L101.736 90.1453V92.2273H99.1278H96.5192H93.9105H91.2944H88.6858H86.0772H83.4685H80.8599H79.0168H77.1662H75.323H73.4799H71.6367H69.7936H67.9505H66.0999H64.2567H62.4136H60.5705H58.7273H56.8767H55.0336H53.1905L51.2804 92.22L50.396 91.083L50.0096 89.3848L49.9352 88.6686L50.0393 86.7637L49.7717 85.9516L49.1028 84.6078L49.3927 83.4338L49.6974 82.7177L50.4555 79.5946L50.6338 79.3435L50.9534 79.3509L51.5034 78.8119L51.2507 78.6938L50.8642 78.9448L51.2061 77.7044L51.5926 76.6339L51.8378 76.2499L51.9642 72.7503L52.1871 70.0701L52.5513 69.1768L52.425 68.2612L52.5662 67.0135L52.4621 65.7509L53.2425 59.6376L53.1384 58.8919L53.3763 57.8951L53.1533 55.2593L53.2499 52.2912L53.0567 51.9147L52.9526 51.5012L53.1384 51.4421L53.4952 51.8777L55.1599 51.8704L56.2302 51.4717L56.6166 51.6046L57.0625 52.1436L57.6274 52.2543L58.3334 52.1583Z",id:"OR"},{d:"M397.799 98.1856L397.249 98.4883L397.003 98.7024L396.803 99.0051L396.305 100.054L395.472 100.999L394.833 101.486V101.737L395.168 102.534L395.16 102.793L394.908 103.287L394.469 103.531L394.395 103.819L394.35 104.314L394.372 105.17L394.499 105.347L395.012 105.65L395.45 106.772L395.859 106.905L397.546 109.187L396.327 109.859L395.524 110.427L395.175 110.73L394.484 111.535L393.451 111.8L392.886 112.103L392.745 112.243L392.121 111.992L391.251 112.029L390.954 112.14L390.731 112.361L390.203 113.085H388.59H386.97H385.357H383.745H382.132H380.512H378.899H377.286H375.673H374.053H372.441H370.828H369.208H367.595L365.982 113.078H364.369L363.455 113.085H362.541H361.634H360.72H359.813H358.899H357.985H357.078V112.044V110.996L357.071 109.955V108.906V107.858V106.802V105.753L357.078 104.705L357.071 103.738V102.785V101.818V100.858V99.8985V98.9313V97.9641V96.9969V96.0223V95.0551V94.0805V93.1059V92.3307L358.372 91.8508L358.951 91.5259L359.531 91.2158L359.836 91.0312L360.178 90.8688L362.37 89.6579V89.7096V90.9648V92.2199H363.336L364.295 92.2273H365.261H366.227H367.194H368.16H369.118H370.085H371.051H372.017H372.983L373.942 92.2347H374.908H375.874H376.84H377.799H378.765H379.731H380.697H381.656H382.622L383.589 92.242H384.555H385.521H386.48H387.446H388.412H389.378H390.337H391.303H392.269L393.235 92.2494L393.778 92.7294L394.023 93.2314L394.841 93.5932L395.026 93.7999V94.0953L395.316 94.4127L395.227 94.9V95.3283L395.331 95.8673L395.532 96.3841L395.822 96.7976L396.141 97.1076L397.397 97.5728L397.65 97.846L397.799 98.1856Z",id:"PA"},{d:"M422.042 94.9592L421.782 95.1954L421.507 94.8336L421.365 94.4423L421.165 94.2208L420.949 94.1396L421.135 94.9961L420.697 95.6384L420.578 97.2996L420.02 97.9863L418.296 98.4293L417.783 98.385L417.872 97.8534L418.051 97.6319L418.088 97.056L418.11 96.6794L418.103 96.0445L418.095 95.3135L418.088 94.5161L418.08 93.8147L418.073 93.3053L418.066 92.6039V92.1018L418.593 92.0944L419.314 92.0871L420.005 92.0723L420.436 92.0649L420.964 92.0575L420.986 92.4783L421.016 93.1207L421.306 93.2241L421.291 93.7483L421.284 94.0953L421.536 94.3094L421.796 94.5309L422.042 94.9592ZM421.99 96.9453L421.64 97.1963L421.254 97.152L421.447 96.8123L421.521 96.3103L421.715 95.7565L421.826 95.5867L422.057 95.439L421.99 96.9453ZM421.12 97.0043L420.927 97.1741L420.853 96.7237L420.986 96.2069L421.128 96.1922L421.194 96.4653L421.12 97.0043Z",id:"RI"},{d:"M370.753 163.653L370.664 163.683L368.814 164.923L368.264 165.469L366.74 167.566L366.354 168.903L366.042 168.341L366.116 167.921L366.123 167.574L365.737 168.312L366.101 169.39L365.774 169.803L364.771 170.571L364.221 170.697L363.596 170.911L363.403 171.671L362.563 172.365L362.073 172.675L361.181 172.484L361.456 173.155L361.129 173.657L360.557 174.049L359.851 174.3L359.449 174.27L359.107 174.403L358.832 174.728L358.171 175.031L357.487 174.861L356.707 174.758L356.276 174.935L357.004 175.237L357.391 175.666L357.316 176.249L357.116 176.47L356.655 176.773L356.454 176.729L356.335 176.456L356.187 175.887L355.971 176.005L355.934 176.271L355.748 176.367L355.094 175.459L355.131 176.153L355.354 176.685L355.577 176.958L355.8 177.113L355.852 177.364L355.406 177.962L355.176 178.095L354.767 178.191L354.537 178.56L354.611 178.885L353.192 178.228L352.768 177.637L352.783 176.877L352.515 176.013L351.683 174.566L351.081 174.152L350.68 173.163L350.286 171.45L349.669 170.357L348.822 169.877L348.257 169.309L347.967 168.659L347.67 168.231L347.357 168.031L347.186 167.699L347.164 167.219L346.681 166.592L345.262 165.425L344.927 164.716L344.258 163.978L342.593 162.479L340.996 159.563H340.988L340.788 158.972L340.446 158.728L339.896 158.64L339.353 158.352L338.565 157.614L338.558 157.606L337.235 156.691L337.51 155.871L338.528 154.793L338.87 154.225L338.922 154.217H339.048L340.163 153.855L341.278 153.501L341.516 153.516L342.162 153.147L343.47 152.726L343.976 152.445L344.229 152.527L345.336 152.571L346.451 152.623L347.558 152.667L348.665 152.718L349.773 152.77L350.888 152.814L351.995 152.866L353.102 152.91L353.318 152.999L353.385 153.125L353.355 153.479L353.4 153.678L354.18 153.272L354.544 153.737L355.161 154.542L355.191 155.015L355.228 155.679L356.216 155.709L357.205 155.746L358.193 155.775L359.182 155.812L360.17 155.842L361.159 155.879L362.147 155.908L363.136 155.945L364.08 156.905L365.023 157.865L365.967 158.824L366.911 159.777L367.855 160.737L368.806 161.689L369.75 162.642L370.753 163.653Z",id:"SC"},{d:"M244.877 54.2625L244.639 55.2519L244.476 55.6875L244.134 56.1231L243.079 57.0829L242.819 57.4152L242.856 57.7105L243.071 58.087L243.614 58.973L243.904 59.3348L245.063 59.9255L245.598 60.6564V62.864V65.0642V67.2497V69.4351V71.6058V73.7691V75.925V78.0735L244.587 78.1105L244.706 78.7085L244.981 79.2918L245.033 79.6314L244.974 79.9046L244.788 80.1483L244.833 80.5322L244.885 80.643L245.345 80.8866L245.494 81.2262L245.546 81.6102L245.539 81.8981L245.256 82.4297L245.182 83.1311L244.84 84.1721L244.461 84.8071L244.387 85.132L244.424 85.3904L245.004 86.0622L245.041 86.3281L245.226 86.6751L245.405 87.4503L244.87 87.3174L244.342 86.9113L244.045 86.2616L243.146 85.6562L241.637 85.1024L240.626 84.6004L240.106 84.1574L238.865 83.9654L236.895 84.0245L235.617 84.2607L235.022 84.6742L233.781 84.2386L231.693 82.8284H228.921H226.505H224.082H221.66H219.237H216.814H214.391H211.976H209.553H207.13H204.707H202.284H199.869H197.446H195.023H192.6L192.593 80.451L192.585 78.0735L192.578 75.6814L192.571 73.2744L192.563 70.8675L192.556 68.4458L192.548 66.0093L192.541 63.5654H192.6H192.652H192.712H192.764V63.5359V63.5064L192.771 63.4768V63.4473L192.756 61.1659L192.749 58.8697L192.734 56.5735L192.727 54.2625H194.354H195.982H197.617H199.245H200.872H202.507H204.135H205.762H207.398H209.025H210.653H212.28H213.915H215.543H217.171H218.806H220.433H222.061H223.696H225.324H226.951H228.579H230.214H231.841H233.469H235.104H236.732H238.359H239.987H241.622H243.25H244.877Z",id:"SD"},{d:"M335.05 140.536L336.64 140.543L340.029 140.558L342.437 140.573L344.414 140.58L345.581 140.588L347.053 140.595L347.38 140.418L348.115 140.447L349.104 140.484L348.784 141.149L348.762 141.592L348.584 142.249L348.576 142.685L348.063 142.707L347.759 142.817L347.357 143.105L346.362 144.678L346.012 144.818L345.44 144.412L344.652 144.582L344.139 144.877L343.374 145.645L343.077 145.889L342.846 145.978L342.683 145.97L342.601 145.845L342.534 145.461L342.445 145.328H342.207L341.821 145.475L341.434 145.734L341.033 146.177L340.505 146.14L340.408 146.251L340.282 146.768L340.074 147.144L339.792 147.432L338.877 147.654L337.733 148.444L336.15 149.278L334.664 149.485L334.047 149.654L333.63 149.869L332.701 150.725L332.293 151.81L331.824 152.017L331.104 152.024L330.903 152.12L330.717 152.534L330.457 154.328L328.183 154.306L325.909 154.276L323.642 154.247L321.368 154.225L320.245 154.21L319.123 154.195L318.001 154.18L316.879 154.173L315.756 154.158L314.634 154.143L313.512 154.136L312.39 154.121L311.268 154.107L310.145 154.092L309.023 154.084L307.901 154.07L306.779 154.055L305.656 154.047L304.534 154.033L303.412 154.018L303.323 154.025L303.404 154.129L303.531 154.239H301.628L299.77 154.232H297.912H296.054L294.196 154.225H292.338H290.48L288.696 154.217V154.195L288.957 153.841L289.752 153.265L290.101 152.504L289.997 151.567L290.287 150.725L290.978 149.965L291.26 149.211L291.142 148.466L291.483 147.86L292.294 147.388L292.405 147.196L292.375 147.056L292.36 146.893L292.368 146.827L292.405 146.679L292.583 146.598L292.821 146.524L292.925 146.406V146.214L292.784 145.874L292.814 145.719L292.866 145.468L293.252 144.833L293.312 144.294L293.029 143.844L293.171 143.607L293.349 143.541L293.587 143.504L293.661 143.401V143.268L293.468 142.973L293.52 142.714L293.862 142.53L293.966 142.072L293.847 141.429L294.337 141.415L294.352 141.459L294.449 141.533L294.583 141.459L294.597 141.437H295.987H297.191H298.403L299.607 141.444H300.818H302.022H303.233H304.326L304.348 141.429V140.662L304.066 139.776H304.103L305.047 139.872L305.664 139.931L305.864 140.196L308.198 140.152L310.524 140.108L312.85 140.064L315.184 140.019L317.614 140.1L320.037 140.189L322.468 140.27L324.898 140.359L327.328 140.44L329.758 140.521L332.181 140.61L334.611 140.691L334.671 140.669L334.723 140.654L334.775 140.632L334.834 140.61L334.886 140.595L334.946 140.573L334.998 140.558L335.05 140.536Z",id:"TN"},{d:"M259.377 165.551L259.741 165.957L260.031 166.075L260.12 166.237L260.262 166.282L260.44 166.245L260.707 166.06L261.101 166.112L261.428 166.045L262.075 166.141L262.432 166.333L262.439 167.456L262.447 168.578L262.454 169.7L262.461 170.822V171.863V172.904V173.945V174.986V176.027V177.061V178.095V179.128L263.428 180.125L263.844 180.812L263.978 181.159L264.022 182.348L264.119 182.636L264.602 183.078L264.609 183.374L265.115 184.23L265.1 184.629L265.583 185.545L265.858 185.781L265.902 186.394L266.051 186.859L265.828 187.191L265.925 187.656L265.791 188.084L265.717 188.653L265.397 189.531L265.115 189.96L264.728 190.787L264.765 191.466L264.542 192.212L264.513 192.5L264.721 192.994L264.795 194.353L264.684 194.641L264.215 195.438L263.881 195.416L263.145 196.73L263.561 197.468L263.532 197.734L262.067 197.882L258.745 199.359L257.452 200.156L257.519 199.89L259.087 198.857L258.537 198.701L257.645 198.96L257.326 198.864L257.705 198.007L257.579 197.254L256.947 197.232L256.546 197.838L256.263 197.808L255.899 197.55L255.617 197.631L255.825 198.997L256.226 199.558L256.56 200.274L255.654 201.153L254.806 201.876L254.717 202.578L253.87 203.493L253.075 204.01L251.194 205.221L250.659 205.479L249.812 206.04L248.645 206.461L247.523 207.133L247.144 207.237L247.857 206.668L248.705 206.107L247.976 206.181L246.854 205.922L246.17 205.908L246.163 206.114L245.643 206.402L245.1 205.981L244.862 205.693L244.751 205.45L244.52 205.391L244.298 205.509L245.108 207.244L245.449 207.318L245.828 207.488L245.353 207.894L244.84 208.196L244.037 208.403L243.354 207.768L243.205 208.558L243.116 209.348L242.885 209.548L242.521 209.835L242.321 209.621L242.224 209.319L241.994 209.592L241.652 209.799L241.087 209.835L240.663 209.946L240.671 210.271L240.79 210.596L241.54 210.338L241.265 211.179L240.574 212.014L240.017 212.213L239.162 212.087L238.946 212.169L238.761 212.338L239.757 213.638L239.117 215.594L238.709 216.303L238.426 216.392L238.114 216.414L237.007 215.786L236.405 215.299L236.94 216.628L238.389 217.012L238.463 217.514L238.456 217.942L238.174 218.444L237.906 219.109L238.107 219.574L238.337 220.718L238.53 221.243L238.746 222.837L238.976 223.524L240.292 226.057L240.738 226.079L240.812 226.352L240.767 226.876L239.816 227.031L239.415 227.267L239.34 227.467L239.281 227.577L239.162 227.57L238.709 227.422L237.683 226.706L236.182 226.263L234.212 226.093L232.867 225.732L232.146 225.185L231.396 224.86L230.608 224.757L229.954 224.462L229.441 223.967L228.683 223.65L227.687 223.509L227.04 223.14L226.587 222.232V222.217L226.186 220.704L225.68 219.751L224.692 218.57L224.603 218.415L224.595 218.223L224.722 217.536L224.618 217.042L224.305 216.635L224.231 216.207L224.402 215.757L224.417 215.218L224.268 214.59L223.636 213.911L222.522 213.173L221.578 212.102L220.797 210.685L220.025 209.703L219.259 209.156L218.739 208.492L218.456 207.702L218.375 207.244L218.486 207.118L218.018 206.24L216.963 204.608L216.353 203.412L216.197 202.652L215.528 201.751L214.339 200.702L213.692 200.023L213.536 199.551L211.686 198.17L211.151 197.306L210.727 197.033L210.244 197.062L209.999 196.981L209.984 196.789L209.828 196.782L209.531 196.959L208.549 196.996L206.877 196.893L205.673 196.656L204.93 196.287L204.41 196.339L204.113 196.804L203.481 197.107L202.507 197.24L201.675 198.103L200.976 199.691L200.672 200.71L200.761 201.168L200.575 201.5L200.122 201.706L199.661 202.164L199.193 202.88L198.643 203.227L198.018 203.205L196.859 202.652L195.172 201.574L193.849 200.909L192.89 200.658L192.043 200.156L191.307 199.41L190.631 198.916L190.014 198.665L189.293 197.838L188.468 196.427L188.052 195.342V194.19L186.967 191.68L186.395 190.587L185.971 190.085L185.139 189.487L183.897 188.786L182.233 187.39L180.144 185.286L178.665 184.016L177.796 183.588L177.045 182.827L176.406 181.735L175.782 181.041L175.715 181.011L174.868 180.598L174.154 179.121H174.199H175.774H177.35H178.925H180.501H182.077H183.652H185.228H186.803H188.379H189.955H191.53H193.106H194.681H196.257H197.833H199.408L199.416 176.825L199.423 174.521L199.43 172.21L199.438 169.892L199.445 167.566L199.453 165.233L199.46 162.893L199.468 160.545L199.475 158.189L199.482 155.827L199.49 153.457L199.497 151.072L199.505 148.68L199.512 146.28L199.52 143.873L199.527 141.459L199.817 141.452H201.125H202.433H203.741H205.049H206.357H207.665H208.973H210.281H211.589H212.897H214.205H215.513H216.821H218.129H219.437H220.745V142.478V143.504V144.53V145.557V146.583V147.602V148.621V149.64V150.659V151.677V152.689V153.7V154.712V155.723V156.728V157.732L221.154 157.82L221.667 158.101L222.938 159.171L223.309 159.4L223.978 159.267L224.707 159.4L224.9 159.378L225.041 158.92L225.108 158.824L225.212 158.839L225.844 159.245L225.963 159.408L226.334 159.991L226.431 160.685L226.632 160.788L227.018 160.87L227.954 160.914L229.144 161.364L229.627 161.431L230.481 161.305L231.284 161.911L231.566 161.999L231.797 161.918L232.25 161.475L233.239 161.527L234.049 161.446L234.108 161.955L234.249 162.324L234.918 162.715L235.082 162.9L235.112 163.52L235.282 163.675L235.55 163.734L235.832 163.697L236.159 163.505L236.88 162.893L237.103 162.745L237.237 162.73L237.371 162.76L237.482 162.893L237.728 163.358L238.352 163.609L238.709 164L238.932 164.059L239.177 163.985L239.563 163.742L239.868 163.756L240.217 163.513L240.359 163.565L240.418 163.734L240.314 164.251L240.373 164.443L240.515 164.672L240.708 164.834L240.894 164.857L241.035 164.724L241.295 164.074L241.28 163.838L241.577 163.756L241.711 163.631L241.882 163.158L242.187 163.033L242.35 163.055L242.499 163.188L242.796 163.616L243.502 163.86L243.688 163.875L243.874 163.786L244.193 163.432L244.357 163.387L244.491 163.439L244.565 163.491L244.595 163.912L245.323 164.384L245.858 164.524L246.378 165.004L246.527 165.056L246.78 164.672L247.278 164.532L247.753 164.133L249.136 163.624L249.686 163.786L250.243 163.779L250.392 163.557L251.373 163.232L251.573 163.107L251.848 163.269L251.945 163.505L252.071 163.601L252.748 163.72L253.119 163.705L253.803 163.402L254.071 163.018L254.227 162.996L254.717 163.181L256.003 163.956L256.657 164.583L257.385 164.886L257.779 165.152L259.377 165.551ZM255.49 202.054L255.141 202.127L256.664 200.909L256.984 200.503L257.393 200.518L256.709 201.204L255.49 202.054ZM243.428 209.88L243.168 209.909L243.487 209.488L244.008 209.274L245.145 208.462L245.606 208.403L245.851 208.123L245.955 208.078L245.888 208.425L244.974 208.913L243.428 209.88ZM241.674 211.844L241.525 211.866L241.867 211.224L241.927 210.965L242.484 210.153L242.774 210.035L242.9 210.382L242.328 210.95L241.674 211.844ZM239.303 216.539L239.088 216.99L239.147 216.325L239.712 214.804L240.864 212.804L241.347 212.471L240.017 214.664L239.303 216.539ZM240.581 225.37L240.485 225.724L239.905 224.056L238.961 220.261L238.924 218.09L239.073 217.344L239.318 220.408L240.359 224.285L240.581 225.37Z",id:"TX"},{d:"M143.475 92.22L143.482 93.3865V94.5457V95.7049V96.864V98.0158V99.1676V100.319V101.471H145.229H146.983H148.737H150.491H152.245H153.991H155.745H157.499V103.76V106.034V108.308V110.575V112.827V115.079V117.316V119.545V121.768V123.983V126.19V128.391V130.583V132.769V134.947V137.11H155.314H153.129H150.944L148.759 137.103H146.581H144.396H142.211H140.026L137.841 137.095H135.664H133.479H131.294L129.109 137.088H126.924H124.746H122.561V135.73V134.371V133.013V131.647V130.281L122.554 128.915V127.542V126.168V124.788V123.407V122.026V120.638V119.25V117.855V116.459V115.056V113.661V112.251V110.841L122.546 109.43V108.013V106.595V105.17V103.745V102.32V100.888V99.4482V98.0084V96.5687V95.1216V93.6745V92.22H123.854H125.162H126.47H127.778H129.086H130.394H131.702H133.01H134.318H135.627H136.935H138.243H139.551H140.859H142.167H143.475Z",id:"UT"},{d:"M376.617 116.459L377.019 116.791L377.962 117.183L378.349 117.581L378.178 117.988L378.156 118.283L378.334 118.549L379.59 119.08L380.363 119.833L380.839 120.062L380.98 120.129L381.322 120.313L381.478 120.542L381.374 121.554L381.047 122.056L380.534 122.44L379.865 123.119L379.702 123.747L379.493 124.92L379.776 125.319L380.066 125.422L380.92 125.157L381.359 125.275L382.34 126.685L384.168 127.239L384.837 127.586L385.38 128.317L386.197 128.738L386.829 129.35L386.844 129.749L386.621 130.222L386.532 130.857L386.264 131.255L385.617 131.3L385.224 131.196L383.12 128.952L382.868 128.745L382.087 127.571L381.173 126.936L380.891 126.951L382.191 128.117L382.719 128.93L383.655 130.067L384.324 130.546L384.815 131.3L385.276 131.654L386.524 132.156L386.093 132.518L386.784 132.828L386.881 133.389L386.814 134.031L385.855 133.78L385.825 134.253L385.915 134.533L385.491 134.762L384.904 134.452L383.373 132.747L383.388 132.976L383.514 133.241L384.406 134.341L385.201 134.999L385.878 135.294L386.398 135.848L386.584 136.18L386.703 136.682L386.316 137.022L385.878 137.214L385.446 136.874L385.134 136.512L384.465 135.899L384.265 135.213L383.759 135.25L381.634 134.378L379.924 134.275L380.088 134.452L380.304 134.57L381.664 134.785L382.199 135.183L383.313 135.538L383.967 135.634L384.235 136.719L385.142 137.465L385.261 138.018L385.878 138.077L386.963 137.531L387.661 137.723L388.672 137.878L388.902 138.314L389.073 139.148L389.43 140.086L389.66 141.001H389.437L388.895 140.994L387.156 140.979L384.622 140.957L382.087 140.935L379.553 140.913L377.019 140.89L374.484 140.868L371.95 140.846L369.416 140.824L366.881 140.802L364.347 140.78L361.813 140.758L359.278 140.735L356.744 140.713L354.21 140.691L351.675 140.669L349.141 140.647L349.022 140.514L348.026 140.477L347.298 140.447L346.971 140.625L345.507 140.617L344.34 140.61L342.363 140.602L339.955 140.588L336.559 140.573L334.976 140.566L335.682 140.152L336.73 139.908L338.595 139.207L339.338 138.491L340.386 137.967L340.825 137.339L341.523 136.741L341.783 136.062L341.88 135.958L343.032 135.346L344.243 134.578L346.889 132.459L346.941 132.739L346.845 133.042L347.068 133.396L347.253 133.95L347.513 134.29L347.84 134.563L348.383 134.807L349.022 135.235L349.528 135.353L349.698 135.338L350.256 134.925L350.717 134.703L351.2 134.253L352.062 134.866H352.404L353.251 134.6L354.046 134.526L354.247 134.445L354.544 134.194L354.552 133.684L354.618 133.551L354.752 133.492L354.908 133.478L355.265 133.662L355.614 133.67L357.101 133.079L357.212 133.123L357.398 133.396L358.052 133.049L358.438 132.725L358.609 132.237L358.929 131.757L358.862 131.543L358.654 131.263L358.929 130.613L359.33 129.971L360.846 128.021L361.33 126.84L361.961 126.08L362.169 125.474L362.645 124.876L362.972 123.636L363.173 123.385L363.463 123.34L363.76 123.495L363.975 123.724L364.117 124.094L364.882 124.418L365.521 124.455L365.967 124.219L366.227 123.783L366.577 122.964L366.911 122.477L367.127 121.864L367.349 121.443L367.691 121.177L368.553 121.192L368.999 120.815L369.341 120.387L369.549 120.247L369.795 120.269L370.575 119.582L371.601 118.143L371.824 117.234L372.091 116.577L372.195 115.905L372.396 115.536L373.303 116.267L373.823 116.688L375.012 117.648L375.8 118.283L376.112 117.552L376.617 116.459ZM393.926 128.066L394.112 128.044L393.362 129.38L393.042 129.52L393.926 128.066ZM391.08 128.804L391.355 128.405L392.41 128.265L393.064 128.176L391.518 131.624L391.585 132.259L391.273 132.466L390.805 132.629L390.329 133.005L390.017 133.419L389.727 134.541L389.163 135.796L388.813 135.272L388.724 134.821L388.88 133.647L389.49 131.72L390.158 130.517L390.671 129.948L391.08 128.804Z",id:"VA"},{d:"M413.413 85.383L412.73 85.3609L412.038 85.3313L411.355 85.3092L410.663 85.2796L409.972 85.2575L409.288 85.2279L408.597 85.2058L407.914 85.1763L407.728 84.6078L407.817 84.1204L407.832 83.4486L407.854 82.5847L407.869 81.6249L407.899 80.3181L407.914 79.4469L407.936 78.6568L407.958 77.5789L407.542 76.9734L407.371 76.8701L407.237 76.9365L406.947 77.3352L406.851 77.3279L406.776 77.2245L406.791 76.8627L407.051 75.578L407.059 75.1719L407.007 74.4853L406.71 72.92L406.702 72.5656L406.821 72.0267L407.022 71.4803L407.364 70.9266L407.438 70.6977L407.416 69.7378L407.52 68.8445L407.081 67.5081L407.245 65.773L407.126 64.9461L407.267 64.1782L407.222 63.5285L408.412 63.5211H411.325L414.231 63.5137L417.144 63.5063H420.057L419.946 63.6983L420.11 64.4736L419.337 65.8099L419.351 66.2382L419.701 67.4121L419.678 67.6853L419.567 67.8182L419.411 68.3203L419.21 68.6303L418.898 68.9404L417.902 69.6788L417.605 69.8634L416.668 70.107L416.46 70.3876L416.245 72.1669L415.94 73.1637L415.873 73.6214L415.464 74.4041L415.123 75.2975L414.602 76.0284L414.32 76.9144L414.142 77.254L413.986 77.8077L413.829 79.6831L413.614 80.7094L413.369 82.474L413.205 82.917L413.049 83.1532L412.834 83.9137L412.811 84.1943L412.908 84.4453L413.294 85.0507L413.413 85.383Z",id:"VT"},{d:"M102.576 53.6718H100.845H98.9866H97.1286H95.2706H93.4126H91.5546H89.6966H87.8386H87.7196L87.5116 53.8564L86.6197 54.2182L84.8583 54.3289L81.3207 55.2888L79.7674 56.0419L78.3999 56.411L75.8507 56.7654L73.5468 57.2675L72.5732 57.2232L72.1644 56.7949L71.0496 56.5513L69.2287 56.4922L67.6903 56.7802L66.2708 57.644L65.8175 57.7326L65.4459 57.7622L62.9413 57.4225L62.317 57.4004L61.7819 56.9426L61.6407 56.1895L60.9643 53.9155L60.2732 52.5496L59.5746 52.0992L59.0246 51.9146L58.326 52.1656L58.1105 52.0254L57.776 51.9885L57.0328 51.4864L56.6092 50.9843L55.3086 51.0212L55.041 50.6964L53.5918 51.0212L53.1459 50.689L52.3581 50.9031L52.5513 49.9654L52.5141 48.7841L52.5513 47.6323L52.7445 48.474L53.235 49.3674L53.4729 48.3559L53.6364 47.0786L53.1533 46.5839L52.3581 46.2221L52.0756 45.026L53.9634 44.0071L52.9601 43.793L52.5662 43.3353L52.0831 43.2762L52.0459 43.6306L51.8898 44.0957L51.7189 43.4829L51.6669 42.7594L51.4662 41.519L50.6933 39.5181L50.2251 36.9118L49.6379 35.6197L48.5083 34.3793L48.211 33.6558L47.9434 31.8173L48.0921 30.4219L47.884 29.4399L48.4265 29.499L49.8535 30.2742L51.6297 30.8797L52.1648 31.3227L53.0269 31.6475L57.7909 32.157L58.103 32.1053L58.7199 31.7878L58.98 31.8247L59.6786 32.5409L60.0279 32.6295L60.4813 32.5926L60.8157 32.4523L61.388 31.9576L61.4623 32.1422L61.4549 32.6L61.663 33.2497L62.0866 34.0914L62.2427 34.6156L61.388 36.0849L61.2245 36.1144L61.2022 35.6197L61.0907 35.5237L59.4854 38.0045L58.9205 39.1785L58.8611 39.7101L58.8834 40.0202L59.1063 40.094L59.6191 39.9759L60.3772 39.4886L60.4144 39.3852L59.7083 39.555L59.3665 39.5698L59.4111 39.016L59.4928 38.7502L59.9536 37.9307L60.4367 37.436L61.1279 36.9118L61.5292 36.4762L61.8042 35.8412L62.5697 35.0807L62.7109 34.8666L62.6811 34.2391L62.7332 34.1209L63.1048 34.2021L63.2609 35.2727L63.1717 35.7526L62.5102 36.3359L62.4285 36.5426L62.5474 37.34L62.4433 37.4139L62.1906 37.3179L62.1089 37.3696L62.7332 38.2334L62.9338 38.9053L62.9636 39.5033L62.7926 40.6477L62.6068 40.8397L62.2947 40.7733L61.8785 40.4189L61.7893 40.537L61.4623 41.423L61.3508 41.3418L61.1427 40.2933L61.0312 40.2121L60.3921 40.692L60.1394 41.1498L59.9164 41.8808L59.634 42.2204L60.4293 42.2942L61.1427 42.1465L61.715 42.4936L61.9082 42.5009L62.4359 42.1613L62.5994 41.9324L63.0305 40.8249L63.246 40.6256L63.573 40.6182L63.8851 40.4484L64.3459 39.843L64.3608 39.5993L64.1899 38.2334L64.2419 37.4582L64.1527 37.2145L63.9446 36.9561L63.9743 36.7051L64.1378 36.299L64.1527 35.9298L64.0115 35.5976L64.0709 35.221L64.5094 34.4163L64.5912 34.0618L65.1263 33.2571L64.9925 32.9322L64.5986 32.5335L64.3533 32.1865L64.1007 31.6401L63.9074 31.4556L63.848 31.5368L64.1155 32.4301L64.0561 32.4892L63.3649 32.0093L63.2014 31.7066L63.1196 31.2931L63.1791 30.983L63.5507 30.6803L63.9966 30.5696L63.9595 30.3112L63.4021 29.4768L63.0305 29.0929L62.7406 28.9083L62.3541 28.8566L62.1832 28.7164L62.1386 28.517L62.2204 28.2586L62.4285 28.1774L63.023 28.2808L63.3426 28.0962L63.3129 27.7639L63.2163 27.5793L63.2311 26.3832L63.0007 25.4087L62.8818 25.2462L62.7555 25.2315L62.6217 25.3644L62.2501 25.4013L62.0197 25.0838L61.767 24.4636L61.3062 22.9869H62.0197H64.9999H67.9802H70.9604H73.9407H76.9209H79.9011H82.8814H85.8616H88.8419H91.8221H94.8024H97.7826H100.763H101.491L101.506 24.6703L101.513 26.3537L101.521 28.0371L101.528 29.7131L101.536 31.3817L101.543 33.043L101.551 34.7042L101.558 36.3581L101.565 38.0045L101.573 39.651L101.58 41.2901L101.588 42.9218L101.595 44.5535L101.603 46.1778L101.61 47.7947L101.618 49.4117L101.565 49.5077L101.521 49.7439L101.722 50.4158L102.19 51.3904L102.338 52.077L102.16 52.4684L102.286 53.1476L102.576 53.6718ZM61.4029 26.3611L61.4995 26.59L61.217 26.8115L61.0164 26.8484L60.6968 26.494L60.5556 26.4497L60.6671 26.9961L60.6299 27.1807L59.9759 26.841L59.857 26.5752L60.0428 26.2947L60.4515 25.9993L60.5927 25.9624L61.4029 26.3611ZM59.7827 28.1626L59.9685 28.5022L59.2178 28.2808L58.8983 28.0814L58.8016 27.8894L58.6901 27.2545L58.7422 27.0477L59.0766 26.9739L59.7083 27.7565L59.7827 28.1626ZM61.1279 28.8862L61.0164 28.9895L60.6448 28.8493L60.4218 28.613L60.3475 28.3251L60.4887 27.7713L60.6745 27.631L60.7934 27.6606L60.8454 28.1479L61.1799 28.6647L61.1279 28.8862ZM62.8669 31.7509L63.2088 33.1094L63.3575 32.5409L64.3088 33.5229V34.0028L64.1899 34.1652L63.9892 34.2243L63.8034 34.084L63.6325 33.7444L63.4169 33.5672L62.9636 33.449L62.7257 33.0651L62.644 32.7993L62.6217 32.0388L62.5102 31.8026L62.2649 31.7509L62.0346 31.5663L61.6778 31.0347L61.6258 30.8944L61.7967 30.4588L62.1832 29.7279L62.4656 29.3809L62.644 29.4178L62.8595 29.6393L63.1196 30.038L63.0751 30.3185L62.0271 30.8723L61.99 30.9978L62.4953 31.1529L62.6811 31.2931L62.8669 31.7509ZM63.3946 37.5541L63.3575 37.7535L62.971 37.5172L62.8447 37.3031L62.8595 36.8158L62.9561 36.4983L63.0305 36.4319L63.2609 36.5722L63.3277 36.6534L63.3946 37.5541ZM64.1155 39.5993L64.0858 39.8356L63.8183 40.0202L63.677 39.9759L63.6696 39.7027L63.5953 39.6584L63.3054 39.9906L63.3277 39.3409L63.4689 38.6542L63.5953 38.6395L63.7811 39.0899L64.1155 39.5993ZM60.9049 41.5485L60.838 41.7478L60.7414 41.7405L60.5259 41.3344L60.4961 41.0464L60.6819 40.8397L60.9346 41.4378L60.9049 41.5485Z",id:"WA"},{d:"M287.767 43.3648L287.537 43.5272L287.448 43.4534L287.5 43.1433L287.619 42.9587L287.797 42.907L287.886 42.9809V43.1802L287.767 43.3648ZM285.798 44.3689L285.694 44.4428L285.426 44.273L285.389 44.1327L285.463 43.9924L285.59 44.0219L285.768 44.2287L285.798 44.3689ZM287.894 47.7505L287.857 47.8317L287.998 48.2009L288.355 48.1049L288.511 48.3264L288.726 48.4223L289.127 48.5995L289.321 49.0204L289.514 49.4412L289.707 49.8621L289.9 50.2829L290.777 50.5266L291.654 50.7702L292.531 51.0139L293.408 51.2575L294.285 51.5012L295.162 51.7448L296.039 51.9885L296.916 52.2321L297.407 52.5127L297.897 52.7933L298.388 53.0738L298.878 53.3544L299.651 53.4061L300.335 53.5759L301.294 53.5832L302.26 53.7974L303.679 54.2625L304.014 54.6612L304.073 54.927L303.932 55.5472L305.285 56.1009L305.864 56.5144L306.08 56.8319L306.043 57.1198L306.177 57.7253L306.035 58.0501V58.6186L305.731 59.2167L305.627 59.5416L305.619 59.8147L305.686 59.9919L305.85 60.0584L306.362 60.0215L306.868 59.8369L307.091 59.9476L307.135 60.0436L307.098 60.206L306.689 61.2176L306.704 61.6236L306.875 62.0223L307.158 62.4063L307.492 62.5392L307.477 62.7902L307.343 63.2849L306.949 63.6762L305.924 64.1709L305.76 64.5031L305.738 64.7763L305.077 65.9133L304.75 66.6074L304.534 67.3309L304.601 67.7887L304.95 67.9733L305.233 67.8994L305.448 67.5672L305.775 67.2718L306.221 67.0061L306.548 66.6147L307.001 65.6549L307.507 65.1012L307.774 65.0716L307.849 65.0864L308.376 64.8354L308.8 64.9166L309.053 65.2931L309.313 65.5516L309.372 65.7952L309.239 66.3342L309.001 66.9027L308.651 67.5007L308.332 68.3941L308.049 69.5902L307.99 70.491L308.153 71.0964L307.997 71.6354L307.522 72.1079L307.135 72.7429L306.845 73.5403L306.682 74.2047L306.645 74.7437L306.689 75.1498L306.868 75.6962L306.853 75.9693L306.333 77.1654L306.147 77.7487L306.117 78.2065L305.991 78.6569L305.597 79.5724L305.47 80.0818L305.448 80.547L305.537 81.3074L305.485 81.5659L305.508 81.7578L305.604 81.8907V82.127L305.5 82.474L305.537 82.7472L305.716 82.9391L305.835 83.3083L305.887 83.8547L306.02 84.305L306.243 84.6669L306.281 85.191L306.139 85.8777L306.065 87.1697V87.598L305.173 87.5906L302.022 87.5685L298.871 87.5463L295.72 87.5242L292.568 87.502L289.417 87.4799L286.199 87.4577L286.155 87.3839L285.939 86.5422L285.233 85.9146L284.037 85.5085L283.271 84.8662L282.937 83.9876L282.721 82.9982L282.632 81.8981L282.728 80.9752L283.011 80.2295L282.937 79.7274L282.506 79.4616L282.223 79.1146L282.089 78.6864L282.037 78.0957L281.807 75.2753L281.517 73.9389L281.079 73.4147L280.157 72.8019L278.745 72.1079L277.875 71.4582L277.377 70.5426L276.382 69.4647L275.728 69.0217L275.088 68.8592L274.583 68.5122L274.204 67.9806L273.684 67.6484L273.015 67.5081L272.272 67.0725L271.387 66.2899L271.365 66.2308L271.179 65.6623L271.283 65.3448L271.432 64.2521L271.417 63.9051L271.224 62.9083L271.462 62.5244L271.41 61.2914L271.491 60.8853L271.967 59.8738L271.989 59.357L271.818 58.7589L271.469 58.2716L270.525 57.7622L270.495 57.1272L270.651 56.6547L271.268 55.7687L271.61 54.9787L271.922 54.6391L273.81 53.4577L274.211 53.3765L274.501 53.0369L274.732 52.8892V51.4495V50.0024V48.5552V47.1007L275.207 46.9974L275.415 46.6356L275.898 46.0671L276.025 46.0745V46.0819L276.263 46.3403L276.857 46.7168L277.325 46.7611L277.92 46.6799L280.276 46.0302L281.272 45.5798L282.245 44.8193L282.342 44.7972L282.751 44.9374L282.877 45.0039L284.148 44.1327L284.564 44.0219L284.891 44.0441L285.3 44.3837L285.397 44.5904L285.263 44.9891L284.899 45.5798L284.72 46.0745L284.728 46.4805L284.572 46.9162L284.17 47.5068L284.312 47.6693L285.382 47.241L285.538 47.0786L285.553 46.9826L285.486 46.8645L285.612 46.8128L286.452 47.3961L287.017 47.7209L287.485 47.876L287.894 47.7505ZM286.928 44.4501L286.697 44.5092L286.192 44.4206L286.199 44.273L286.719 44.0662L286.95 44.0071L287.002 44.0958L286.928 44.4501ZM285.776 45.8234L285.374 45.9637L285.211 45.9342L285.278 45.7422L285.486 45.5133L286.415 44.9448L286.578 44.9522L286.63 45.0851L286.177 45.3657L286.006 45.5133L285.984 45.6684L285.776 45.8234ZM312.702 60.1175L312.494 60.2134L312.107 60.1765L311.966 59.955L312.167 59.3865L312.248 59.4899L312.583 59.4973L312.702 59.5563L312.739 59.6966L312.702 60.1175ZM311.795 61.2102L311.669 61.3357L311.453 61.2545L311.371 61.4391L311.416 61.8894L311.342 62.0962L311.149 62.0593L311.141 62.1405L311.312 62.3398L311.327 62.5613L311.193 62.7976L311.067 62.9083L310.94 62.8936L310.747 63.1667L310.487 63.7279L310.398 64.0527L310.48 64.1413L310.42 64.3259L309.774 65.175L309.528 65.2562L309.253 65.1381L309.06 64.887L308.949 64.5105L308.919 64.2152L308.964 64.0084L309.528 63.2553L309.781 62.7607L309.922 62.2069L310.182 61.8525L310.569 61.6975L310.881 61.3505L311.119 60.8115L311.394 60.5752L311.706 60.6417L311.84 60.8484L311.795 61.2102Z",id:"WI"},{d:"M364.369 113.078L364.347 114.23L364.332 115.381L364.31 116.526L364.295 117.67L365.187 117.006L365.655 116.769L367.179 115.3L367.379 115.293L367.907 115.499L368.999 114.451L369.133 114.074L369.26 113.949L369.401 113.964L369.483 114.06L369.43 114.281L369.512 114.385L369.966 114.636L370.59 114.776L370.679 114.791L371.236 114.783L371.482 114.577L371.608 114.17L371.861 113.934L372.426 113.831L373.436 113.417L374.016 113.484L374.514 113.905L375.012 114.104L375.517 114.089L375.718 114.185L375.599 114.399L375.733 114.65L376.112 114.931L376.246 115.189L376.119 115.426L376.164 115.603L376.365 115.721L376.491 115.979L376.528 116.385L376.617 116.459L376.164 117.53L375.852 118.261L375.064 117.626L373.875 116.666L373.355 116.245L372.448 115.514L372.247 115.883L372.143 116.555L371.876 117.212L371.66 118.121L370.634 119.56L369.854 120.247L369.616 120.232L369.408 120.372L369.066 120.801L368.628 121.17L367.766 121.155L367.416 121.421L367.193 121.849L366.978 122.462L366.643 122.942L366.287 123.761L366.027 124.197L365.581 124.433L364.934 124.396L364.176 124.064L364.035 123.695L363.819 123.466L363.522 123.311L363.232 123.348L363.032 123.599L362.705 124.839L362.229 125.437L362.021 126.05L361.389 126.811L360.906 127.992L359.397 129.941L358.988 130.583L358.714 131.226L358.922 131.506L358.988 131.72L358.669 132.2L358.498 132.688L358.112 133.013L357.465 133.36L357.272 133.086L357.16 133.042L355.674 133.64L355.325 133.633L354.968 133.441L354.812 133.456L354.678 133.522L354.611 133.648L354.604 134.164L354.306 134.415L354.106 134.497L353.31 134.57L352.471 134.836H352.129L351.267 134.223L350.784 134.674L350.315 134.888L349.765 135.301L349.594 135.316L349.089 135.198L348.45 134.77L347.915 134.526L347.588 134.26L347.328 133.913L347.142 133.36L346.919 133.013L347.016 132.71L346.963 132.429L345.997 132.156L344.756 131.137L343.961 129.904L343.708 129.328L343.418 128.937L343.344 128.546L342.601 127.519L342.4 127.076L342.385 126.796L342.623 126.264L342.675 126.006L342.593 124.692L342.43 124.448L343.24 124.743L344.013 124.573L344.496 124.167L344.682 123.532L344.957 123.156L345.299 123.053L345.462 122.772L345.403 122.085L345.299 121.613L345.574 120.934L346.213 119.885L346.711 119.457L347.068 119.649L347.29 119.974L347.365 120.439L347.439 120.498L347.543 120.491L347.811 120.136L348.056 119.996L348.153 120.033L348.257 120.025L348.272 119.796L348.086 119.162L348.101 118.785L348.324 118.674L348.561 118.246L348.814 117.508L349.119 117.124L349.476 117.109L349.855 116.806L350.271 116.216L350.642 116.046L350.969 116.297L351.386 116.312L351.876 116.097L352.738 115.477L353.972 114.444L354.596 113.609L354.611 112.967L355.087 111.402L356.038 108.906L356.499 107.282L356.484 106.544L356.35 105.938L356.097 105.473L356.254 105.104L357.078 104.705L357.071 105.754V106.802V107.858V108.906V109.955L357.078 110.996V112.044V113.085H357.985H358.899H359.813H360.72H361.634H362.541H363.455L364.369 113.078Z",id:"WV"},{d:"M192.6 82.8284L192.608 85.191L192.615 87.5389L192.623 89.8868L192.63 92.2199V94.5457L192.638 96.864L192.645 99.1675L192.652 101.471H190.453H188.26H186.06H183.86H181.668H179.468H177.276H175.076H172.876H170.683H168.483H166.284H164.091H161.891H159.691H157.499H155.745H153.991H152.245H150.491H148.737H146.983H145.229H143.482V100.319V99.1675V98.0158V96.864V95.7048V94.5457V93.3865L143.475 92.2199V90.7654V89.3035V87.8416V86.3724V84.9031V83.4264V81.9498V80.4658V78.9817V77.4903V75.9988V74.5001V72.9939V71.4877L143.467 69.9815V68.4679L143.475 67.2423V66.024V64.7984V63.5654H145.006H146.544H148.075H149.606H151.145H152.676H154.207H155.745H157.276H158.807H160.338H161.876H163.407H164.938H166.477H168.008H169.539H171.077H172.608H174.139H175.678H177.209H178.74H180.278H181.809H183.34H184.879H186.41H187.941H189.479H191.01H192.541L192.548 66.0093L192.556 68.4458L192.563 70.8675L192.571 73.2744L192.578 75.6814L192.586 78.0735L192.593 80.451L192.6 82.8284Z",id:"WY"}];function YA(e){let t,n;return{c(){t=Vc("title"),n=ui(e[2])},m(i,s){rn(i,t,s),Te(t,n)},p(i,s){s&4&&Pr(n,i[2])},d(i){i&&Qt(t)}}}function XEe(e){let t,n,i,s,l,c=e[2]&&YA(e);return{c(){t=Vc("path"),c&&c.c(),Be(t,"d",e[0]),Be(t,"stroke",n=e[7]?e[5]:e[3]),Be(t,"fill",e[1]),Be(t,"stroke-width",i=e[7]?e[6]:e[4])},m(d,f){rn(d,t,f),c&&c.m(t,null),s||(l=[Bn(t,"click",e[9]),Bn(t,"mouseenter",e[10]),Bn(t,"mouseleave",e[11])],s=!0)},p(d,[f]){d[2]?c?c.p(d,f):(c=YA(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null),f&1&&Be(t,"d",d[0]),f&168&&n!==(n=d[7]?d[5]:d[3])&&Be(t,"stroke",n),f&2&&Be(t,"fill",d[1]),f&208&&i!==(i=d[7]?d[6]:d[4])&&Be(t,"stroke-width",i)},i:Yi,o:Yi,d(d){d&&Qt(t),c&&c.d(),s=!1,Xa(l)}}}function KEe(e,t,n){let{d:i}=t,{fill:s}=t,{title:l=""}=t,{stroke:c="hsla(0, 0%, 0%, 0.075)"}=t,{strokeWidth:d=.75}=t,{hoveringStroke:f="black"}=t,{hoveringStrokeWidth:u=1}=t;const a=ch();let y=!1;function w(b){wn.call(this,e,b)}const m=()=>{n(7,y=!0),a("mouseenter")},o=()=>{n(7,y=!1),a("mouseleave")};return e.$$set=b=>{"d"in b&&n(0,i=b.d),"fill"in b&&n(1,s=b.fill),"title"in b&&n(2,l=b.title),"stroke"in b&&n(3,c=b.stroke),"strokeWidth"in b&&n(4,d=b.strokeWidth),"hoveringStroke"in b&&n(5,f=b.hoveringStroke),"hoveringStrokeWidth"in b&&n(6,u=b.hoveringStrokeWidth)},[i,s,l,c,d,f,u,y,a,w,m,o]}class ZEe extends fr{constructor(t){super(),dr(this,t,KEe,XEe,cr,{d:0,fill:1,title:2,stroke:3,strokeWidth:4,hoveringStroke:5,hoveringStrokeWidth:6})}}function XA(e,t,n){const i=e.slice();i[12]=t[n];const s=i[1].get(i[12].id)??i[3];return i[13]=s,i}function KA(e){let t,n;function i(){return e[11](e[12])}return t=new ZEe({props:{title:e[12].id,d:e[12].d,fill:e[13].fill??e[3].fill,stroke:e[13].stroke??e[3].stroke}}),t.$on("click",i),{c(){pi(t.$$.fragment)},m(s,l){ei(t,s,l),n=!0},p(s,l){e=s;const c={};l&10&&(c.fill=e[13].fill??e[3].fill),l&10&&(c.stroke=e[13].stroke??e[3].stroke),t.$set(c)},i(s){n||(ht(t.$$.fragment,s),n=!0)},o(s){Ut(t.$$.fragment,s),n=!1},d(s){ti(t,s)}}}function QEe(e){let t,n,i,s,l,c,d,f,u=Sa(Dy),a=[];for(let w=0;w<u.length;w+=1)a[w]=KA(XA(e,u,w));const y=w=>Ut(a[w],1,1,()=>{a[w]=null});return{c(){t=Vc("svg"),n=Vc("g");for(let w=0;w<a.length;w+=1)a[w].c();i=Vc("defs"),s=Vc("clipPath"),l=Vc("rect"),Be(n,"id","usa"),Be(n,"clip-path","url(#clip0_1_121)"),Be(l,"width","468"),Be(l,"height","280"),Be(l,"fill","white"),Be(s,"id","clip0_1_121"),Be(t,"width",e[2]),Be(t,"viewBox","0 0 468 280"),Be(t,"fill","none"),Be(t,"xmlns","http://www.w3.org/2000/svg")},m(w,m){rn(w,t,m),Te(t,n);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,null);Te(t,i),Te(i,s),Te(s,l),c=!0,d||(f=[Bn(window,"keyup",e[9]),Bn(window,"keydown",e[10]),Bn(t,"mouseenter",e[7]),Bn(t,"mouseleave",e[8])],d=!0)},p(w,[m]){if(m&59){u=Sa(Dy);let o;for(o=0;o<u.length;o+=1){const b=XA(w,u,o);a[o]?(a[o].p(b,m),ht(a[o],1)):(a[o]=KA(b),a[o].c(),ht(a[o],1),a[o].m(n,null))}for(Cc(),o=u.length;o<a.length;o+=1)y(o);Rc()}(!c||m&4)&&Be(t,"width",w[2])},i(w){if(!c){for(let m=0;m<u.length;m+=1)ht(a[m]);c=!0}},o(w){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)Ut(a[m]);c=!1},d(w){w&&Qt(t),mO(a,w),d=!1,Xa(f)}}}function JEe(e,t,n){const i=ch();let{stateToStyle:s=new Map([["CA",{fill:"red"}]])}=t,{width:l=500}=t,{defaultFill:c="hsla(0, 0%, 0%, 0.025)"}=t,{defaultStyle:d={stroke:"hsla(0, 0%, 0%, 0.075)",fill:c}}=t,{selected:f=[]}=t,u=!1;function a(b){wn.call(this,e,b)}function y(b){wn.call(this,e,b)}const w=b=>{b.key==="Shift"&&n(4,u=!1)},m=b=>{b.key==="Shift"&&n(4,u=!0)},o=b=>{const L=f.includes(b.id);u?L?n(0,f=f.filter(v=>v!==b.id)):(f.push(b.id),n(0,f)):L&&f.length===1?n(0,f=[]):n(0,f=[b.id]),i("select",f)};return e.$$set=b=>{"stateToStyle"in b&&n(1,s=b.stateToStyle),"width"in b&&n(2,l=b.width),"defaultFill"in b&&n(6,c=b.defaultFill),"defaultStyle"in b&&n(3,d=b.defaultStyle),"selected"in b&&n(0,f=b.selected)},[f,s,l,d,u,i,c,a,y,w,m,o]}class eve extends fr{constructor(t){super(),dr(this,t,JEe,QEe,cr,{stateToStyle:1,width:2,defaultFill:6,defaultStyle:3,selected:0})}}function tve(e){let t,n,i,s;return t=new Y7({props:{title:e[0],selection:e[4].length>0?e[4]:null}}),t.$on("reset",e[9]),i=new eve({props:{width:e[1],stateToStyle:e[2]}}),i.$on("mouseenter",e[10]),i.$on("mouseleave",e[11]),i.$on("select",e[12]),{c(){pi(t.$$.fragment),n=Lt(),pi(i.$$.fragment)},m(l,c){ei(t,l,c),rn(l,n,c),ei(i,l,c),s=!0},p(l,[c]){const d={};c&1&&(d.title=l[0]),c&16&&(d.selection=l[4].length>0?l[4]:null),t.$set(d);const f={};c&2&&(f.width=l[1]),c&4&&(f.stateToStyle=l[2]),i.$set(f)},i(l){s||(ht(t.$$.fragment,l),ht(i.$$.fragment,l),s=!0)},o(l){Ut(t.$$.fragment,l),Ut(i.$$.fragment,l),s=!1},d(l){l&&Qt(n),ti(t,l),ti(i,l)}}}function nve(e,t,n){const i=ch(),s=pR(["rgb(255,255,255)",bS]);let{state:l}=t,{title:c=""}=t,{numberToColor:d=x=>s(x)}=t,{width:f=600}=t,u=new Map(Dy.map(x=>[x.id,{fill:"white"}])),a=structuredClone(u);function y(x){n(2,u=w(x)),n(3,a=structuredClone(u))}function w(x){const F=x.bin,k=x.filter;let[A,M]=pQ(k);M<=0&&(M=1);for(let C=0;C<F.length;C++){const R=F[C],U=k[C]/M,X=d(U);u.set(R,{...u.get(R),fill:X})}return u}let m=[];async function o(x){x.length>0?(n(2,u=structuredClone(a)),x.forEach(F=>{u.set(F,{...u.get(F),stroke:"hsla(0, 0%, 0%, 0.5)"})}),n(2,u)):(Dy.forEach(F=>{u.set(F.id,{fill:u.get(F.id).fill})}),n(2,u))}const b=()=>{n(4,m=[]),o(m),i("select",null)};function L(x){wn.call(this,e,x)}function v(x){wn.call(this,e,x)}const S=async x=>{n(4,m=x.detail),x.detail.length>0?(o(m),i("select",m)):(n(2,u=structuredClone(a)),i("select",null))};return e.$$set=x=>{"state"in x&&n(7,l=x.state),"title"in x&&n(0,c=x.title),"numberToColor"in x&&n(8,d=x.numberToColor),"width"in x&&n(1,f=x.width)},e.$$.update=()=>{e.$$.dirty&128&&l&&y(l)},[c,f,u,a,m,i,o,l,d,b,L,v,S]}class ive extends fr{constructor(t){super(),dr(this,t,nve,tve,cr,{state:7,title:0,numberToColor:8,width:1})}}function ZA(e,t,n){const i=e.slice();return i[8]=t[n],i}function QA(e,t,n){const i=e.slice();return i[11]=t[n],i}function JA(e,t,n){const i=e.slice();return i[11]=t[n],i}function sve(e){let t,n,i,s=[],l=new Map,c,d,f=[],u=new Map,a,y,w=Sa(e[0]);const m=v=>v[11].key;for(let v=0;v<w.length;v+=1){let S=JA(e,w,v),x=m(S);l.set(x,s[v]=tO(x,S))}let o=Sa(e[4]);const b=v=>v[8].id||JSON.stringify(v[8]);for(let v=0;v<o.length;v+=1){let S=ZA(e,o,v),x=b(S);u.set(x,f[v]=iO(x,S))}let L=e[1].length>100&&sO(e);return{c(){t=je("table"),n=je("thead"),i=je("tr");for(let v=0;v<s.length;v+=1)s[v].c();c=Lt(),d=je("tbody");for(let v=0;v<f.length;v+=1)f[v].c();a=Lt(),L&&L.c(),y=wO(),Be(i,"class","svelte-14aq2wb"),Be(n,"class","svelte-14aq2wb"),Be(d,"class","svelte-14aq2wb"),Be(t,"class","svelte-14aq2wb")},m(v,S){rn(v,t,S),Te(t,n),Te(n,i);for(let x=0;x<s.length;x+=1)s[x]&&s[x].m(i,null);Te(t,c),Te(t,d);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(d,null);rn(v,a,S),L&&L.m(v,S),rn(v,y,S)},p(v,S){S&45&&(w=Sa(v[0]),s=aL(s,S,m,1,v,w,l,i,rL,tO,null,JA)),S&17&&(o=Sa(v[4]),f=aL(f,S,b,1,v,o,u,d,rL,iO,null,ZA)),v[1].length>100?L?L.p(v,S):(L=sO(v),L.c(),L.m(y.parentNode,y)):L&&(L.d(1),L=null)},d(v){v&&(Qt(t),Qt(a),Qt(y));for(let S=0;S<s.length;S+=1)s[S].d();for(let S=0;S<f.length;S+=1)f[S].d();L&&L.d(v)}}}function rve(e){let t;return{c(){t=je("p"),t.textContent="No data to display."},m(n,i){rn(n,t,i)},p:Yi,d(n){n&&Qt(t)}}}function eO(e){let t,n=e[3]==="asc"?"":"",i;return{c(){t=je("span"),i=ui(n),Be(t,"class","svelte-14aq2wb")},m(s,l){rn(s,t,l),Te(t,i)},p(s,l){l&8&&n!==(n=s[3]==="asc"?"":"")&&Pr(i,n)},d(s){s&&Qt(t)}}}function tO(e,t){let n,i=t[11].title+"",s,l,c,d,f,u=t[2]===t[11].key&&eO(t);function a(){return t[7](t[11])}return{key:e,first:null,c(){n=je("th"),s=ui(i),l=Lt(),u&&u.c(),c=Lt(),Be(n,"class","svelte-14aq2wb"),Hx(n,"sortable",t[11].sortable),this.first=n},m(y,w){rn(y,n,w),Te(n,s),Te(n,l),u&&u.m(n,null),Te(n,c),d||(f=Bn(n,"click",a),d=!0)},p(y,w){t=y,w&1&&i!==(i=t[11].title+"")&&Pr(s,i),t[2]===t[11].key?u?u.p(t,w):(u=eO(t),u.c(),u.m(n,c)):u&&(u.d(1),u=null),w&1&&Hx(n,"sortable",t[11].sortable)},d(y){y&&Qt(n),u&&u.d(),d=!1,f()}}}function nO(e,t){let n,i=t[11].value(t[8])+"",s,l;return{key:e,first:null,c(){n=je("td"),s=ui(i),Be(n,"data-label",l=t[11].title),Be(n,"class","svelte-14aq2wb"),this.first=n},m(c,d){rn(c,n,d),Te(n,s)},p(c,d){t=c,d&17&&i!==(i=t[11].value(t[8])+"")&&Pr(s,i),d&1&&l!==(l=t[11].title)&&Be(n,"data-label",l)},d(c){c&&Qt(n)}}}function iO(e,t){let n,i=[],s=new Map,l,c=Sa(t[0]);const d=f=>f[11].key;for(let f=0;f<c.length;f+=1){let u=QA(t,c,f),a=d(u);s.set(a,i[f]=nO(a,u))}return{key:e,first:null,c(){n=je("tr");for(let f=0;f<i.length;f+=1)i[f].c();l=Lt(),Be(n,"class","svelte-14aq2wb"),this.first=n},m(f,u){rn(f,n,u);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(n,null);Te(n,l)},p(f,u){t=f,u&17&&(c=Sa(t[0]),i=aL(i,u,d,1,t,c,s,n,rL,nO,l,QA))},d(f){f&&Qt(n);for(let u=0;u<i.length;u+=1)i[u].d()}}}function sO(e){let t,n,i=e[1].length+"",s,l;return{c(){t=je("p"),n=ui("Showing 100 of "),s=ui(i),l=ui(" entries. Apply more filters to narrow down results.")},m(c,d){rn(c,t,d),Te(t,n),Te(t,s),Te(t,l)},p(c,d){d&2&&i!==(i=c[1].length+"")&&Pr(s,i)},d(c){c&&Qt(t)}}}function ave(e){let t;function n(l,c){return l[1].length===0?rve:sve}let i=n(e),s=i(e);return{c(){s.c(),t=wO()},m(l,c){s.m(l,c),rn(l,t,c)},p(l,[c]){i===(i=n(l))&&s?s.p(l,c):(s.d(1),s=i(l),s&&(s.c(),s.m(t.parentNode,t)))},i:Yi,o:Yi,d(l){l&&Qt(t),s.d(l)}}}function ove(e,t,n){let i,s,{columns:l=[]}=t,{rows:c=[]}=t,d=null,f="asc";function u(y){d===y?n(3,f=f==="asc"?"desc":"asc"):(n(2,d=y),n(3,f="asc"))}const a=y=>y.sortable&&u(y.key);return e.$$set=y=>{"columns"in y&&n(0,l=y.columns),"rows"in y&&n(1,c=y.rows)},e.$$.update=()=>{e.$$.dirty&15&&n(6,i=[...c].sort((y,w)=>{if(!d)return 0;const m=l.find(k=>k.key===d);if(!m||!m.sortable)return 0;const o=m.value(y),b=m.value(w),L=k=>{if(typeof k=="string"){const A=k.replace(/[$,]/g,"");return isNaN(Number(A))?k:Number(A)}return k},v=L(o),S=L(b);return typeof v=="number"&&typeof S=="number"?f==="asc"?v-S:S-v:typeof o=="string"&&typeof b=="string"?f==="asc"?o.localeCompare(b):b.localeCompare(o):o<b?f==="asc"?-1:1:o>b?f==="asc"?1:-1:0})),e.$$.dirty&64&&n(4,s=i.slice(0,100))},[l,c,d,f,s,u,i,a]}class lve extends fr{constructor(t){super(),dr(this,t,ove,ave,cr,{columns:0,rows:1})}}function rO(e,t,n){const i=e.slice();return i[44]=t[n],i}function aO(e){let t,n;return t=new l6({props:{title:"Total BSL",dimLabel:"Count of broadband service locations",bins:e[14].bin,filteredCounts:e[14].filter,totalCounts:e[14].total}}),t.$on("mouseenter",e[27]),t.$on("select",e[28]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,s){const l={};s[0]&16384&&(l.bins=i[14].bin),s[0]&16384&&(l.filteredCounts=i[14].filter),s[0]&16384&&(l.totalCounts=i[14].total),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function oO(e){let t,n;return t=new l6({props:{title:"Expected Annual Loss",dimLabel:"The state level predicted annual loss ($)",bins:e[1].bin,filteredCounts:e[1].filter,totalCounts:e[1].total}}),t.$on("mouseenter",e[29]),t.$on("select",e[30]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,s){const l={};s[0]&2&&(l.bins=i[1].bin),s[0]&2&&(l.filteredCounts=i[1].filter),s[0]&2&&(l.totalCounts=i[1].total),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function lO(e){let t,n;return t=new l6({props:{title:"Total Served BSLs",dimLabel:"The reported number of locations served",bins:e[2].bin,filteredCounts:e[2].filter,totalCounts:e[2].total}}),t.$on("mouseenter",e[31]),t.$on("select",e[32]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,s){const l={};s[0]&4&&(l.bins=i[2].bin),s[0]&4&&(l.filteredCounts=i[2].filter),s[0]&4&&(l.totalCounts=i[2].total),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function cO(e){let t,n;return t=new l6({props:{timeUnit:"",type:"temporal",title:"Flight Date",dimLabel:"Time of flight",bins:e[21].bin,filteredCounts:e[21].filter,totalCounts:e[21].total}}),t.$on("mouseenter",e[33]),t.$on("select",e[34]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p:Yi,i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function dO(e){let t,n;return t=new ive({props:{width:700,title:"Select State/s",state:e[3]}}),t.$on("mouseenter",e[35]),t.$on("select",e[36]),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,s){const l={};s[0]&8&&(l.state=i[3]),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function fO(e){let t,n,i,s=Sa(e[6]),l=[];for(let c=0;c<s.length;c+=1)l[c]=uO(rO(e,s,c));return{c(){t=je("div"),n=je("label"),n.textContent="Applied Cities:",i=Lt();for(let c=0;c<l.length;c+=1)l[c].c();Be(t,"class","applied-city-filters svelte-khfyx4")},m(c,d){rn(c,t,d),Te(t,n),Te(t,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null)},p(c,d){if(d[0]&8388672){s=Sa(c[6]);let f;for(f=0;f<s.length;f+=1){const u=rO(c,s,f);l[f]?l[f].p(u,d):(l[f]=uO(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},d(c){c&&Qt(t),mO(l,c)}}}function uO(e){let t,n=e[44]+"",i,s,l,c,d,f;function u(){return e[41](e[44])}return{c(){t=je("span"),i=ui(n),s=Lt(),l=je("button"),l.textContent="x",c=Lt(),Be(l,"class","svelte-khfyx4"),Be(t,"class","city-tag svelte-khfyx4")},m(a,y){rn(a,t,y),Te(t,i),Te(t,s),Te(t,l),Te(t,c),d||(f=Bn(l,"click",u),d=!0)},p(a,y){e=a,y[0]&64&&n!==(n=e[44]+"")&&Pr(i,n)},d(a){a&&Qt(t),d=!1,f()}}}function hO(e){let t,n,i;return{c(){t=je("button"),t.textContent="Reset Filter",Be(t,"class","reset-button svelte-khfyx4")},m(s,l){rn(s,t,l),n||(i=Bn(t,"click",e[25]),n=!0)},p:Yi,d(s){s&&Qt(t),n=!1,i()}}}function _O(e){let t,n;return t=new lve({props:{columns:e[24],rows:e[8]}}),{c(){pi(t.$$.fragment)},m(i,s){ei(t,i,s),n=!0},p(i,s){const l={};s[0]&256&&(l.rows=i[8]),t.$set(l)},i(i){n||(ht(t.$$.fragment,i),n=!0)},o(i){Ut(t.$$.fragment,i),n=!1},d(i){ti(t,i)}}}function cve(e){var I,O;let t,n,i,s,l,c,d,f,u,a,y,w,m,o,b,L,v,S,x,F,k,A,M,C,R,D,U,X,j,G,V,W,Z,q,oe,fe,ne,xe,le,Se,Ae,Ze,gt,wt=e[17].toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})+"",_e,H,z,P,K,J=e[18].toLocaleString()+"",re,se,pe,Ee,We,Ht=e[19].toLocaleString()+"",ln,Ot,ai,Pi,Mn,ue,oi,Ft=e[0]&&e[14]&&aO(e),Yt=e[0]&&e[1]&&oO(e),Tt=e[0]&&e[2]&&lO(e),nn=e[0]&&e[21]&&cO(e),sn=e[0]&&e[3]&&dO(e);o=new YEe({props:{filteredCount:((I=e[13])==null?void 0:I.filter)??0,totalCount:((O=e[13])==null?void 0:O.total)??0,width:800,height:20}});let Zt=e[6].length>0&&fO(e),yn=e[16]&&hO(e),N=e[7]&&_O(e);return{c(){t=Lt(),n=je("header"),n.innerHTML="<div><h1>FCC meets NRI</h1></div>",i=Lt(),s=je("main"),l=je("div"),c=je("div"),d=je("div"),Ft&&Ft.c(),f=Lt(),Yt&&Yt.c(),u=Lt(),Tt&&Tt.c(),a=Lt(),nn&&nn.c(),y=Lt(),w=je("div"),sn&&sn.c(),m=Lt(),pi(o.$$.fragment),b=Lt(),L=je("div"),v=je("h2"),v.textContent="City Data Table",S=Lt(),x=je("div"),F=je("div"),k=je("label"),k.textContent="Add City Filter:",A=Lt(),M=je("input"),C=Lt(),R=je("button"),R.textContent="Add City",D=Lt(),U=je("div"),X=je("label"),X.textContent="Total BSL Is:",j=Lt(),G=je("select"),V=je("option"),V.textContent="<= (Less Than or Equal)",W=je("option"),W.textContent=">= (Greater Than or Equal)",Z=Lt(),q=je("label"),q.textContent="Value:",oe=Lt(),fe=je("input"),ne=Lt(),Zt&&Zt.c(),xe=Lt(),yn&&yn.c(),le=Lt(),Se=je("div"),Ae=je("div"),Ze=je("strong"),Ze.textContent="Total Expected Annual Loss:",gt=Lt(),_e=ui(wt),H=Lt(),z=je("div"),P=je("strong"),P.textContent="Total BSL:",K=Lt(),re=ui(J),se=Lt(),pe=je("div"),Ee=je("strong"),Ee.textContent="Total Served BSLs:",We=Lt(),ln=ui(Ht),Ot=Lt(),ai=je("div"),ai.innerHTML="",Pi=Lt(),N&&N.c(),document.title="FCC meets NRI",Be(n,"class","svelte-khfyx4"),Be(d,"id","hists"),Be(d,"class","svelte-khfyx4"),Be(w,"id","maps"),Be(w,"class","svelte-khfyx4"),Be(c,"id","charts"),Be(c,"class","svelte-khfyx4"),Be(l,"id","vis"),Be(l,"class","svelte-khfyx4"),Be(k,"for","cityInput"),Be(k,"class","svelte-khfyx4"),Be(M,"id","cityInput"),Be(M,"type","text"),Be(M,"placeholder","e.g., San Jose"),Be(M,"class","svelte-khfyx4"),Be(R,"class","svelte-khfyx4"),Be(F,"class","filter-input-container svelte-khfyx4"),Be(X,"for","totalBslFilterOperator"),Be(X,"class","svelte-khfyx4"),V.__value="<=",gf(V,V.__value),W.__value=">=",gf(W,W.__value),Be(G,"id","totalBslFilterOperator"),Be(G,"class","svelte-khfyx4"),e[5]===void 0&&Up(()=>e[39].call(G)),Be(q,"for","totalBslFilterInput"),Be(q,"class","svelte-khfyx4"),Be(fe,"id","totalBslFilterInput"),Be(fe,"type","number"),Be(fe,"placeholder","e.g., 50000"),Be(fe,"class","svelte-khfyx4"),Be(U,"class","filter-input-container svelte-khfyx4"),Be(x,"class","filter-controls svelte-khfyx4"),Be(Ae,"class","svelte-khfyx4"),Be(z,"class","svelte-khfyx4"),Be(pe,"class","svelte-khfyx4"),Be(Se,"class","totals-container svelte-khfyx4"),Be(L,"class","table-section svelte-khfyx4"),Be(s,"class","svelte-khfyx4")},m($,Y){rn($,t,Y),rn($,n,Y),rn($,i,Y),rn($,s,Y),Te(s,l),Te(l,c),Te(c,d),Ft&&Ft.m(d,null),Te(d,f),Yt&&Yt.m(d,null),Te(d,u),Tt&&Tt.m(d,null),Te(d,a),nn&&nn.m(d,null),Te(c,y),Te(c,w),sn&&sn.m(w,null),Te(s,m),ei(o,s,null),Te(s,b),Te(s,L),Te(L,v),Te(L,S),Te(L,x),Te(x,F),Te(F,k),Te(F,A),Te(F,M),gf(M,e[15]),Te(F,C),Te(F,R),Te(x,D),Te(x,U),Te(U,X),Te(U,j),Te(U,G),Te(G,V),Te(G,W),$x(G,e[5],!0),Te(U,Z),Te(U,q),Te(U,oe),Te(U,fe),gf(fe,e[4]),Te(x,ne),Zt&&Zt.m(x,null),Te(x,xe),yn&&yn.m(x,null),Te(L,le),Te(L,Se),Te(Se,Ae),Te(Ae,Ze),Te(Ae,gt),Te(Ae,_e),Te(Se,H),Te(Se,z),Te(z,P),Te(z,K),Te(z,re),Te(Se,se),Te(Se,pe),Te(pe,Ee),Te(pe,We),Te(pe,ln),Te(L,Ot),Te(L,ai),Te(L,Pi),N&&N.m(L,null),Mn=!0,ue||(oi=[Bn(M,"input",e[37]),Bn(M,"keydown",e[38]),Bn(R,"click",e[22]),Bn(G,"change",e[39]),Bn(fe,"input",e[40])],ue=!0)},p($,Y){var ie,Me;$[0]&&$[14]?Ft?(Ft.p($,Y),Y[0]&16385&&ht(Ft,1)):(Ft=aO($),Ft.c(),ht(Ft,1),Ft.m(d,f)):Ft&&(Cc(),Ut(Ft,1,1,()=>{Ft=null}),Rc()),$[0]&&$[1]?Yt?(Yt.p($,Y),Y[0]&3&&ht(Yt,1)):(Yt=oO($),Yt.c(),ht(Yt,1),Yt.m(d,u)):Yt&&(Cc(),Ut(Yt,1,1,()=>{Yt=null}),Rc()),$[0]&&$[2]?Tt?(Tt.p($,Y),Y[0]&5&&ht(Tt,1)):(Tt=lO($),Tt.c(),ht(Tt,1),Tt.m(d,a)):Tt&&(Cc(),Ut(Tt,1,1,()=>{Tt=null}),Rc()),$[0]&&$[21]?nn?(nn.p($,Y),Y[0]&1&&ht(nn,1)):(nn=cO($),nn.c(),ht(nn,1),nn.m(d,null)):nn&&(Cc(),Ut(nn,1,1,()=>{nn=null}),Rc()),$[0]&&$[3]?sn?(sn.p($,Y),Y[0]&9&&ht(sn,1)):(sn=dO($),sn.c(),ht(sn,1),sn.m(w,null)):sn&&(Cc(),Ut(sn,1,1,()=>{sn=null}),Rc());const te={};Y[0]&8192&&(te.filteredCount=((ie=$[13])==null?void 0:ie.filter)??0),Y[0]&8192&&(te.totalCount=((Me=$[13])==null?void 0:Me.total)??0),o.$set(te),Y[0]&32768&&M.value!==$[15]&&gf(M,$[15]),Y[0]&32&&$x(G,$[5]),Y[0]&16&&LO(fe.value)!==$[4]&&gf(fe,$[4]),$[6].length>0?Zt?Zt.p($,Y):(Zt=fO($),Zt.c(),Zt.m(x,xe)):Zt&&(Zt.d(1),Zt=null),$[16]?yn?yn.p($,Y):(yn=hO($),yn.c(),yn.m(x,null)):yn&&(yn.d(1),yn=null),(!Mn||Y[0]&131072)&&wt!==(wt=$[17].toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})+"")&&Pr(_e,wt),(!Mn||Y[0]&262144)&&J!==(J=$[18].toLocaleString()+"")&&Pr(re,J),(!Mn||Y[0]&524288)&&Ht!==(Ht=$[19].toLocaleString()+"")&&Pr(ln,Ht),$[7]?N?(N.p($,Y),Y[0]&128&&ht(N,1)):(N=_O($),N.c(),ht(N,1),N.m(L,null)):N&&(Cc(),Ut(N,1,1,()=>{N=null}),Rc())},i($){Mn||(ht(Ft),ht(Yt),ht(Tt),ht(nn),ht(sn),ht(o.$$.fragment,$),ht(N),Mn=!0)},o($){Ut(Ft),Ut(Yt),Ut(Tt),Ut(nn),Ut(sn),Ut(o.$$.fragment,$),Ut(N),Mn=!1},d($){$&&(Qt(t),Qt(n),Qt(i),Qt(s)),Ft&&Ft.d(),Yt&&Yt.d(),Tt&&Tt.d(),nn&&nn.d(),sn&&sn.d(),ti(o),Zt&&Zt.d(),yn&&yn.d(),N&&N.d(),ue=!1,Xa(oi)}}}function dve(e,t,n){let i,s,l,c,d,f,u,a,y,w,m,o,b="",L="<=",v="",S=[],x=!1,F=[],k=[],A=0,M=0,C=0,R={};function D(){const H=v.trim();H&&!S.includes(H)&&(n(6,S=[...S,H]),n(15,v=""))}function U(H){n(6,S=S.filter(z=>z!==H))}let X=[{key:"city",title:"City",value:H=>H.city,sortable:!0},{key:"state",title:"State",value:H=>H.state,sortable:!0},{key:"expected_annual_loss",title:"Expected Annual Loss ($)",value:H=>H.expected_annual_loss.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),sortable:!0},{key:"total_bsl",title:"Total BSL",value:H=>H.total_bsl.toLocaleString(),sortable:!0},{key:"served_bsl",title:"Served BSLs",value:H=>H.served_bsl.toLocaleString(),sortable:!0}];PW(async()=>{const H=await W7.fromParquetFile("city.parquet");n(0,i=new Qre(H)),await i.view0D(z=>{n(13,u=z)}),n(9,s=await i.view1D({type:"continuous",name:"total_bsl",resolution:100,bins:100})),s.onChange(z=>{n(14,a=z)}),n(10,l=await i.view1D({type:"continuous",name:"expected_annual_loss",resolution:400,range:[0,5e7],bins:20})),l.onChange(z=>{n(1,y=z)}),n(11,c=await i.view1D({type:"continuous",name:"served_bsl",resolution:400,range:[1e4,1e5],bins:20})),c.onChange(z=>{n(2,w=z)}),n(12,f=await i.view1D({type:"categorical",name:"state"})),f.onChange(z=>{n(3,o=z)}),await i.link(),n(7,F=Array.from(await i.entries()))});async function j(){if(i)try{n(7,F=Array.from(await i.entries()))}catch(H){console.error("Error fetching entries:",H),n(7,F=[])}}async function G(){n(4,b=""),n(5,L="<="),n(15,v=""),n(6,S=[]),await j()}const V=async()=>{await s.activate()},W=async H=>{const z=H.detail;z!==null?await s.select(z):await s.select()},Z=async()=>{await l.activate()},q=async H=>{const z=H.detail;z!==null?await l.select(z):await l.select()},oe=async()=>{await c.activate()},fe=async H=>{const z=H.detail;z!==null?await c.select(z):await c.select()},ne=async()=>{await d.activate()},xe=async H=>{const z=H.detail;z!==null?await d.select(z):await d.select()},le=async()=>{await f.activate()},Se=async H=>{const z=H.detail;z!==null?await f.select(z):await f.select()};function Ae(){v=this.value,n(15,v)}const Ze=H=>{H.key==="Enter"&&D()};function gt(){L=CW(this),n(5,L)}function wt(){b=LO(this.value),n(4,b)}const _e=H=>U(H);return e.$$.update=()=>{if(e.$$.dirty[0]&67108976){const H=Number(b);if(b===null||b===""||isNaN(H)){const{total_bsl:z,...P}=R;n(26,R={...P})}else n(26,R={...R,total_bsl:{[L==="<="?"max":"min"]:H}});n(16,x=Object.keys(R).length>0||S.length>0)}if(e.$$.dirty[0]&67108928){if(S.length===0){const{city:H,...z}=R;n(26,R={...z})}else n(26,R={...R,city:{in:S}});n(16,x=Object.keys(R).length>0||S.length>0)}if(e.$$.dirty[0]&67108865&&i&&typeof i.filter=="function"&&(Object.keys(R).length>0?i.filter(R):i.filter(null)),e.$$.dirty[0]&240){let H=Array.from(F);const z=Number(b);b!==null&&b!==""&&!isNaN(z)&&(H=H.filter(P=>L==="<="?P.total_bsl<=z:P.total_bsl>=z)),S.length>0&&(H=H.filter(P=>{const K=P.city.toLowerCase();return S.some(J=>K.includes(J.toLowerCase()))})),n(8,k=H)}e.$$.dirty[0]&256&&(n(17,A=k.reduce((H,z)=>H+(z.expected_annual_loss||0),0)),n(18,M=k.reduce((H,z)=>H+(z.total_bsl||0),0)),n(19,C=k.reduce((H,z)=>H+(z.served_bsl||0),0))),e.$$.dirty[0]&15&&i&&(o||y||w||m)&&j()},[i,y,w,o,b,L,S,F,k,s,l,c,f,u,a,v,x,A,M,C,d,m,D,U,X,G,R,V,W,Z,q,oe,fe,ne,xe,le,Se,Ae,Ze,gt,wt,_e]}class fve extends fr{constructor(t){super(),dr(this,t,dve,cve,cr,{},null,[-1,-1])}}new fve({target:document.getElementById("app")})});export default uve();
